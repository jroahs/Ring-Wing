# Backend Production Environment Configuration Template
# Copy this file to .env.production and fill in your actual values
# 
# ⚠️ SECURITY WARNING: Never commit .env.production with real credentials to Git!
# This template file is safe to commit as it only contains placeholders.

# ========================================
# DATABASE CONFIGURATION
# ========================================

# MongoDB Atlas Connection String (Required)
# Get from: https://cloud.mongodb.com → Clusters → Connect → Connect your application
# Format: mongodb+srv://username:password@cluster.mongodb.net/ring-and-wing?retryWrites=true&w=majority
MONGO_URI=mongodb+srv://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CLUSTER.mongodb.net/ring-and-wing?retryWrites=true&w=majority

# ========================================
# AUTHENTICATION & SECURITY
# ========================================

# JWT Secret Key (Required)
# Generate a secure random string (64+ characters recommended)
# Command: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Or online: https://www.grc.com/passwords.htm
JWT_SECRET=GENERATE_A_SECURE_RANDOM_STRING_HERE_64_CHARACTERS_OR_MORE

# ========================================
# PAYMONGO PAYMENT GATEWAY
# ========================================

# PayMongo API Keys (Required for payment processing)
# Get from: https://dashboard.paymongo.com/developers/api-keys
# For production: Use live keys (sk_live_*, pk_live_*, whsk_*)
# For testing: Use test keys (sk_test_*, pk_test_*, whsk_test_*)

# Secret Key - Used for backend API calls
PAYMONGO_SECRET_KEY=sk_live_YOUR_SECRET_KEY_HERE

# Public Key - Used for frontend checkout session creation
PAYMONGO_PUBLIC_KEY=pk_live_YOUR_PUBLIC_KEY_HERE

# Webhook Secret - Used to verify webhook authenticity
# Get from: https://dashboard.paymongo.com/developers/webhooks
PAYMONGO_WEBHOOK_SECRET=whsk_YOUR_WEBHOOK_SECRET_HERE

# ========================================
# AI SERVICE KEYS (Optional)
# ========================================

# OpenRouter API Key - For AI chatbot features
# Get from: https://openrouter.ai/keys
# Leave empty if not using AI features
OPENROUTER_API_KEY=your_openrouter_key_here_or_leave_empty

# Google Gemini API Key - For AI assistant features
# Get from: https://makersuite.google.com/app/apikey
# Leave empty if not using AI features
GEMINI_API_KEY=your_gemini_key_here_or_leave_empty

# ========================================
# RENDER DEPLOYMENT CONFIGURATION
# ========================================

# Node Environment (Required)
NODE_ENV=production

# Server Port (Required - Render uses 10000 by default)
PORT=10000

# Frontend URL (Required for CORS)
# This will be your Render Static Site URL
# Format: https://ring-wing-self-checkout.onrender.com
# Update after frontend deployment
FRONTEND_URL=https://YOUR_FRONTEND_URL.onrender.com

# Render Frontend URL (Same as FRONTEND_URL, for explicit reference)
RENDER_FRONTEND_URL=https://YOUR_FRONTEND_URL.onrender.com

# Render Backend URL (Your backend service URL, for CORS and image loading)
# Format: https://ring-wing-backend.onrender.com
# This will be auto-generated by Render
RENDER_BACKEND_URL=https://YOUR_BACKEND_URL.onrender.com

# ========================================
# OPTIONAL: BACKBLAZE B2 STORAGE
# ========================================

# Backblaze B2 Credentials (Optional - for cloud file storage)
# Get from: https://www.backblaze.com/b2/cloud-storage.html
# Leave empty if using local file storage
B2_ACCOUNT_ID=your_b2_account_id_or_leave_empty
B2_ACCOUNT_TOKEN=your_b2_account_token_or_leave_empty
B2_BUCKET_NAME=your_b2_bucket_name_or_leave_empty

# ========================================
# DEPLOYMENT CHECKLIST
# ========================================
#
# ✅ Before deploying to Render:
# 1. Create MongoDB Atlas cluster (Free M0 tier)
# 2. Whitelist all IPs (0.0.0.0/0) in MongoDB Atlas Network Access
# 3. Create database user with strong password
# 4. Get MongoDB connection string
# 5. Generate secure JWT_SECRET (64+ characters)
# 6. Get PayMongo API keys (test or live)
# 7. Set all environment variables in Render Dashboard
# 8. Deploy backend first, copy URL to frontend env vars
# 9. Deploy frontend, copy URL to backend FRONTEND_URL
# 10. Configure PayMongo webhook URL: https://YOUR_BACKEND_URL.onrender.com/api/paymongo/webhook
#
# ========================================
# COST ESTIMATE
# ========================================
#
# Render Backend (Free tier): $0/mo (750 hours, sleeps after 15min)
# Render Backend (Paid): $7/mo (always-on, recommended for webhooks)
# Render Frontend (Static): $0/mo (unlimited bandwidth)
# MongoDB Atlas (M0): $0/mo (512MB storage)
# PayMongo Transaction Fees: ~3.5% per transaction
#
# Total: $0-7/mo + transaction fees
#
# ========================================
# SUPPORT RESOURCES
# ========================================
#
# Render Documentation: https://render.com/docs
# MongoDB Atlas: https://www.mongodb.com/docs/atlas/
# PayMongo: https://developers.paymongo.com/docs
# Environment Variables: https://render.com/docs/environment-variables
