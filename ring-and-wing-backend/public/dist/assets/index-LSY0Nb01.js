var dY=Object.defineProperty;var fY=(e,t,r)=>t in e?dY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sa=(e,t,r)=>fY(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var bC={exports:{}},pg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RO;function hY(){if(RO)return pg;RO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:s}}return pg.Fragment=t,pg.jsx=r,pg.jsxs=r,pg}var QO;function mY(){return QO||(QO=1,bC.exports=hY()),bC.exports}var i=mY(),wC={exports:{}},vn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function pY(){if(HO)return vn;HO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(z){return z===null||typeof z!="object"?null:(z=h&&z[h]||z["@@iterator"],typeof z=="function"?z:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,x={};function b(z,W,L){this.props=z,this.context=W,this.refs=x,this.updater=L||g}b.prototype.isReactComponent={},b.prototype.setState=function(z,W){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,W,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function w(){}w.prototype=b.prototype;function B(z,W,L){this.props=z,this.context=W,this.refs=x,this.updater=L||g}var j=B.prototype=new w;j.constructor=B,v(j,b.prototype),j.isPureReactComponent=!0;var _=Array.isArray,N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function T(z,W,L,q,G,Z){return L=Z.ref,{$$typeof:e,type:z,key:W,ref:L!==void 0?L:null,props:Z}}function P(z,W){return T(z.type,W,void 0,void 0,void 0,z.props)}function U(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function D(z){var W={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(L){return W[L]})}var F=/\/+/g;function R(z,W){return typeof z=="object"&&z!==null&&z.key!=null?D(""+z.key):W.toString(36)}function Q(){}function H(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Q,Q):(z.status="pending",z.then(function(W){z.status==="pending"&&(z.status="fulfilled",z.value=W)},function(W){z.status==="pending"&&(z.status="rejected",z.reason=W)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function J(z,W,L,q,G){var Z=typeof z;(Z==="undefined"||Z==="boolean")&&(z=null);var te=!1;if(z===null)te=!0;else switch(Z){case"bigint":case"string":case"number":te=!0;break;case"object":switch(z.$$typeof){case e:case t:te=!0;break;case f:return te=z._init,J(te(z._payload),W,L,q,G)}}if(te)return G=G(z),te=q===""?"."+R(z,0):q,_(G)?(L="",te!=null&&(L=te.replace(F,"$&/")+"/"),J(G,W,L,"",function(he){return he})):G!=null&&(U(G)&&(G=P(G,L+(G.key==null||z&&z.key===G.key?"":(""+G.key).replace(F,"$&/")+"/")+te)),W.push(G)),1;te=0;var fe=q===""?".":q+":";if(_(z))for(var we=0;we<z.length;we++)q=z[we],Z=fe+R(q,we),te+=J(q,W,L,Z,G);else if(we=p(z),typeof we=="function")for(z=we.call(z),we=0;!(q=z.next()).done;)q=q.value,Z=fe+R(q,we++),te+=J(q,W,L,Z,G);else if(Z==="object"){if(typeof z.then=="function")return J(H(z),W,L,q,G);throw W=String(z),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return te}function V(z,W,L){if(z==null)return z;var q=[],G=0;return J(z,q,"","",function(Z){return W.call(L,Z,G++)}),q}function Y(z){if(z._status===-1){var W=z._result;W=W(),W.then(function(L){(z._status===0||z._status===-1)&&(z._status=1,z._result=L)},function(L){(z._status===0||z._status===-1)&&(z._status=2,z._result=L)}),z._status===-1&&(z._status=0,z._result=W)}if(z._status===1)return z._result.default;throw z._result}var ee=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ie(){}return vn.Children={map:V,forEach:function(z,W,L){V(z,function(){W.apply(this,arguments)},L)},count:function(z){var W=0;return V(z,function(){W++}),W},toArray:function(z){return V(z,function(W){return W})||[]},only:function(z){if(!U(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},vn.Component=b,vn.Fragment=r,vn.Profiler=a,vn.PureComponent=B,vn.StrictMode=n,vn.Suspense=u,vn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,vn.act=function(){throw Error("act(...) is not supported in production builds of React.")},vn.cache=function(z){return function(){return z.apply(null,arguments)}},vn.cloneElement=function(z,W,L){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var q=v({},z.props),G=z.key,Z=void 0;if(W!=null)for(te in W.ref!==void 0&&(Z=void 0),W.key!==void 0&&(G=""+W.key),W)!O.call(W,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&W.ref===void 0||(q[te]=W[te]);var te=arguments.length-2;if(te===1)q.children=L;else if(1<te){for(var fe=Array(te),we=0;we<te;we++)fe[we]=arguments[we+2];q.children=fe}return T(z.type,G,void 0,void 0,Z,q)},vn.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},vn.createElement=function(z,W,L){var q,G={},Z=null;if(W!=null)for(q in W.key!==void 0&&(Z=""+W.key),W)O.call(W,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(G[q]=W[q]);var te=arguments.length-2;if(te===1)G.children=L;else if(1<te){for(var fe=Array(te),we=0;we<te;we++)fe[we]=arguments[we+2];G.children=fe}if(z&&z.defaultProps)for(q in te=z.defaultProps,te)G[q]===void 0&&(G[q]=te[q]);return T(z,Z,void 0,void 0,null,G)},vn.createRef=function(){return{current:null}},vn.forwardRef=function(z){return{$$typeof:l,render:z}},vn.isValidElement=U,vn.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:Y}},vn.memo=function(z,W){return{$$typeof:A,type:z,compare:W===void 0?null:W}},vn.startTransition=function(z){var W=N.T,L={};N.T=L;try{var q=z(),G=N.S;G!==null&&G(L,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(ie,ee)}catch(Z){ee(Z)}finally{N.T=W}},vn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},vn.use=function(z){return N.H.use(z)},vn.useActionState=function(z,W,L){return N.H.useActionState(z,W,L)},vn.useCallback=function(z,W){return N.H.useCallback(z,W)},vn.useContext=function(z){return N.H.useContext(z)},vn.useDebugValue=function(){},vn.useDeferredValue=function(z,W){return N.H.useDeferredValue(z,W)},vn.useEffect=function(z,W){return N.H.useEffect(z,W)},vn.useId=function(){return N.H.useId()},vn.useImperativeHandle=function(z,W,L){return N.H.useImperativeHandle(z,W,L)},vn.useInsertionEffect=function(z,W){return N.H.useInsertionEffect(z,W)},vn.useLayoutEffect=function(z,W){return N.H.useLayoutEffect(z,W)},vn.useMemo=function(z,W){return N.H.useMemo(z,W)},vn.useOptimistic=function(z,W){return N.H.useOptimistic(z,W)},vn.useReducer=function(z,W,L){return N.H.useReducer(z,W,L)},vn.useRef=function(z){return N.H.useRef(z)},vn.useState=function(z){return N.H.useState(z)},vn.useSyncExternalStore=function(z,W,L){return N.H.useSyncExternalStore(z,W,L)},vn.useTransition=function(){return N.H.useTransition()},vn.version="19.0.0",vn}var $O;function B0(){return $O||($O=1,wC.exports=pY()),wC.exports}var k=B0();const Ce=ta(k);var CC={exports:{}},gg={},BC={exports:{}},jC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zO;function gY(){return zO||(zO=1,function(e){function t(V,Y){var ee=V.length;V.push(Y);e:for(;0<ee;){var ie=ee-1>>>1,z=V[ie];if(0<a(z,Y))V[ie]=Y,V[ee]=z,ee=ie;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var Y=V[0],ee=V.pop();if(ee!==Y){V[0]=ee;e:for(var ie=0,z=V.length,W=z>>>1;ie<W;){var L=2*(ie+1)-1,q=V[L],G=L+1,Z=V[G];if(0>a(q,ee))G<z&&0>a(Z,q)?(V[ie]=Z,V[G]=ee,ie=G):(V[ie]=q,V[L]=ee,ie=L);else if(G<z&&0>a(Z,ee))V[ie]=Z,V[G]=ee,ie=G;else break e}}return Y}function a(V,Y){var ee=V.sortIndex-Y.sortIndex;return ee!==0?ee:V.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],A=[],f=1,h=null,p=3,g=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function j(V){for(var Y=r(A);Y!==null;){if(Y.callback===null)n(A);else if(Y.startTime<=V)n(A),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=r(A)}}function _(V){if(x=!1,j(V),!v)if(r(u)!==null)v=!0,H();else{var Y=r(A);Y!==null&&J(_,Y.startTime-V)}}var N=!1,O=-1,T=5,P=-1;function U(){return!(e.unstable_now()-P<T)}function D(){if(N){var V=e.unstable_now();P=V;var Y=!0;try{e:{v=!1,x&&(x=!1,w(O),O=-1),g=!0;var ee=p;try{t:{for(j(V),h=r(u);h!==null&&!(h.expirationTime>V&&U());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,p=h.priorityLevel;var z=ie(h.expirationTime<=V);if(V=e.unstable_now(),typeof z=="function"){h.callback=z,j(V),Y=!0;break t}h===r(u)&&n(u),j(V)}else n(u);h=r(u)}if(h!==null)Y=!0;else{var W=r(A);W!==null&&J(_,W.startTime-V),Y=!1}}break e}finally{h=null,p=ee,g=!1}Y=void 0}}finally{Y?F():N=!1}}}var F;if(typeof B=="function")F=function(){B(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Q=R.port2;R.port1.onmessage=D,F=function(){Q.postMessage(null)}}else F=function(){b(D,0)};function H(){N||(N=!0,F())}function J(V,Y){O=b(function(){V(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,H())},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var ee=p;p=Y;try{return V()}finally{p=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ee=p;p=V;try{return Y()}finally{p=ee}},e.unstable_scheduleCallback=function(V,Y,ee){var ie=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ie+ee:ie):ee=ie,V){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ee+z,V={id:f++,callback:Y,priorityLevel:V,startTime:ee,expirationTime:z,sortIndex:-1},ee>ie?(V.sortIndex=ee,t(A,V),r(u)===null&&V===r(A)&&(x?(w(O),O=-1):x=!0,J(_,ee-ie))):(V.sortIndex=z,t(u,V),v||g||(v=!0,H())),V},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(V){var Y=p;return function(){var ee=p;p=Y;try{return V.apply(this,arguments)}finally{p=ee}}}}(jC)),jC}var qO;function yY(){return qO||(qO=1,BC.exports=gY()),BC.exports}var SC={exports:{}},Is={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VO;function vY(){if(VO)return Is;VO=1;var e=B0();function t(u){var A="https://react.dev/errors/"+u;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)A+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(u,A,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:u,containerInfo:A,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,A){if(u==="font")return"";if(typeof A=="string")return A==="use-credentials"?A:""}return Is.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Is.createPortal=function(u,A){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error(t(299));return s(u,A,null,f)},Is.flushSync=function(u){var A=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=A,n.p=f,n.d.f()}},Is.preconnect=function(u,A){typeof u=="string"&&(A?(A=A.crossOrigin,A=typeof A=="string"?A==="use-credentials"?A:"":void 0):A=null,n.d.C(u,A))},Is.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Is.preinit=function(u,A){if(typeof u=="string"&&A&&typeof A.as=="string"){var f=A.as,h=l(f,A.crossOrigin),p=typeof A.integrity=="string"?A.integrity:void 0,g=typeof A.fetchPriority=="string"?A.fetchPriority:void 0;f==="style"?n.d.S(u,typeof A.precedence=="string"?A.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:g}):f==="script"&&n.d.X(u,{crossOrigin:h,integrity:p,fetchPriority:g,nonce:typeof A.nonce=="string"?A.nonce:void 0})}},Is.preinitModule=function(u,A){if(typeof u=="string")if(typeof A=="object"&&A!==null){if(A.as==null||A.as==="script"){var f=l(A.as,A.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0})}}else A==null&&n.d.M(u)},Is.preload=function(u,A){if(typeof u=="string"&&typeof A=="object"&&A!==null&&typeof A.as=="string"){var f=A.as,h=l(f,A.crossOrigin);n.d.L(u,f,{crossOrigin:h,integrity:typeof A.integrity=="string"?A.integrity:void 0,nonce:typeof A.nonce=="string"?A.nonce:void 0,type:typeof A.type=="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority=="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy=="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet=="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes=="string"?A.imageSizes:void 0,media:typeof A.media=="string"?A.media:void 0})}},Is.preloadModule=function(u,A){if(typeof u=="string")if(A){var f=l(A.as,A.crossOrigin);n.d.m(u,{as:typeof A.as=="string"&&A.as!=="script"?A.as:void 0,crossOrigin:f,integrity:typeof A.integrity=="string"?A.integrity:void 0})}else n.d.m(u)},Is.requestFormReset=function(u){n.d.r(u)},Is.unstable_batchedUpdates=function(u,A){return u(A)},Is.useFormState=function(u,A,f){return o.H.useFormState(u,A,f)},Is.useFormStatus=function(){return o.H.useHostTransitionStatus()},Is.version="19.0.0",Is}var KO;function B7(){if(KO)return SC.exports;KO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),SC.exports=vY(),SC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function xY(){if(GO)return gg;GO=1;var e=yY(),t=B0(),r=B7();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),_=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function O(c){return c===null||typeof c!="object"?null:(c=N&&c[N]||c["@@iterator"],typeof c=="function"?c:null)}var T=Symbol.for("react.client.reference");function P(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===T?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case b:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case g:return(c.displayName||"Context")+".Provider";case p:return(c._context.displayName||"Context")+".Consumer";case v:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case w:return d=c.displayName||null,d!==null?d:P(c.type)||"Memo";case B:d=c._payload,c=c._init;try{return P(c(d))}catch{}}return null}var U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,F,R;function Q(c){if(F===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);F=d&&d[1]||"",R=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+c+R}var H=!1;function J(c,d){if(!c||H)return"";H=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var er=function(){throw Error()};if(Object.defineProperty(er.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(er,[])}catch(Ot){var mt=Ot}Reflect.construct(c,[],er)}else{try{er.call()}catch(Ot){mt=Ot}c.call(er.prototype)}}else{try{throw Error()}catch(Ot){mt=Ot}(er=c())&&typeof er.catch=="function"&&er.catch(function(){})}}catch(Ot){if(Ot&&mt&&typeof Ot.stack=="string")return[Ot.stack,mt.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=y.DetermineComponentFrameRoot(),X=I[0],me=I[1];if(X&&me){var Te=X.split(`
`),qe=me.split(`
`);for(S=y=0;y<Te.length&&!Te[y].includes("DetermineComponentFrameRoot");)y++;for(;S<qe.length&&!qe[S].includes("DetermineComponentFrameRoot");)S++;if(y===Te.length||S===qe.length)for(y=Te.length-1,S=qe.length-1;1<=y&&0<=S&&Te[y]!==qe[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Te[y]!==qe[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Te[y]!==qe[S]){var Ut=`
`+Te[y].replace(" at new "," at ");return c.displayName&&Ut.includes("<anonymous>")&&(Ut=Ut.replace("<anonymous>",c.displayName)),Ut}while(1<=y&&0<=S);break}}}finally{H=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?Q(m):""}function V(c){switch(c.tag){case 26:case 27:case 5:return Q(c.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return c=J(c.type,!1),c;case 11:return c=J(c.type.render,!1),c;case 1:return c=J(c.type,!0),c;default:return""}}function Y(c){try{var d="";do d+=V(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ee(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function ie(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function z(c){if(ee(c)!==c)throw Error(n(188))}function W(c){var d=c.alternate;if(!d){if(d=ee(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,y=d;;){var S=m.return;if(S===null)break;var I=S.alternate;if(I===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===m)return z(S),c;if(I===y)return z(S),d;I=I.sibling}throw Error(n(188))}if(m.return!==y.return)m=S,y=I;else{for(var X=!1,me=S.child;me;){if(me===m){X=!0,m=S,y=I;break}if(me===y){X=!0,y=S,m=I;break}me=me.sibling}if(!X){for(me=I.child;me;){if(me===m){X=!0,m=I,y=S;break}if(me===y){X=!0,y=I,m=S;break}me=me.sibling}if(!X)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function L(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=L(c),d!==null)return d;c=c.sibling}return null}var q=Array.isArray,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},te=[],fe=-1;function we(c){return{current:c}}function he(c){0>fe||(c.current=te[fe],te[fe]=null,fe--)}function ce(c,d){fe++,te[fe]=c.current,c.current=d}var xe=we(null),ge=we(null),Pe=we(null),ke=we(null);function se(c,d){switch(ce(Pe,d),ce(ge,c),ce(xe,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?mO(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=mO(c),d=pO(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}he(xe),ce(xe,d)}function Et(){he(xe),he(ge),he(Pe)}function Qt(c){c.memoizedState!==null&&ce(ke,c);var d=xe.current,m=pO(d,c.type);d!==m&&(ce(ge,c),ce(xe,m))}function It(c){ge.current===c&&(he(xe),he(ge)),ke.current===c&&(he(ke),Ag._currentValue=Z)}var nt=Object.prototype.hasOwnProperty,ye=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,_e=e.unstable_shouldYield,Oe=e.unstable_requestPaint,Ke=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,bt=e.unstable_ImmediatePriority,Jt=e.unstable_UserBlockingPriority,Vt=e.unstable_NormalPriority,Be=e.unstable_LowPriority,Re=e.unstable_IdlePriority,Ue=e.log,Qe=e.unstable_setDisableYieldValue,Ve=null,yt=null;function Ht(c){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Ve,c,void 0,(c.current.flags&128)===128)}catch{}}function ze(c){if(typeof Ue=="function"&&Qe(c),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(Ve,c)}catch{}}var Ge=Math.clz32?Math.clz32:sr,St=Math.log,Rt=Math.LN2;function sr(c){return c>>>=0,c===0?32:31-(St(c)/Rt|0)|0}var Ye=128,pt=4194304;function gt(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function et(c,d){var m=c.pendingLanes;if(m===0)return 0;var y=0,S=c.suspendedLanes,I=c.pingedLanes,X=c.warmLanes;c=c.finishedLanes!==0;var me=m&134217727;return me!==0?(m=me&~S,m!==0?y=gt(m):(I&=me,I!==0?y=gt(I):c||(X=me&~X,X!==0&&(y=gt(X))))):(me=m&~S,me!==0?y=gt(me):I!==0?y=gt(I):c||(X=m&~X,X!==0&&(y=gt(X)))),y===0?0:d!==0&&d!==y&&(d&S)===0&&(S=y&-y,X=d&-d,S>=X||S===32&&(X&4194176)!==0)?d:y}function ft(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function ut(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var c=Ye;return Ye<<=1,(Ye&4194176)===0&&(Ye=128),c}function Kt(){var c=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),c}function Ct(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function $r(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function qr(c,d,m,y,S,I){var X=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var me=c.entanglements,Te=c.expirationTimes,qe=c.hiddenUpdates;for(m=X&~m;0<m;){var Ut=31-Ge(m),er=1<<Ut;me[Ut]=0,Te[Ut]=-1;var mt=qe[Ut];if(mt!==null)for(qe[Ut]=null,Ut=0;Ut<mt.length;Ut++){var Ot=mt[Ut];Ot!==null&&(Ot.lane&=-536870913)}m&=~er}y!==0&&lr(c,y,0),I!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=I&~(X&~d))}function lr(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-Ge(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|m&4194218}function cr(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var y=31-Ge(m),S=1<<y;S&d|c[y]&d&&(c[y]|=d),m&=~S}}function Zt(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function mr(){var c=G.p;return c!==0?c:(c=window.event,c===void 0?32:PO(c.type))}function on(c,d){var m=G.p;try{return G.p=c,d()}finally{G.p=m}}var Ur=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ur,dn="__reactProps$"+Ur,Yn="__reactContainer$"+Ur,hn="__reactEvents$"+Ur,Mn="__reactListeners$"+Ur,Ha="__reactHandles$"+Ur,Rn="__reactResources$"+Ur,bn="__reactMarker$"+Ur;function Ja(c){delete c[Vr],delete c[dn],delete c[hn],delete c[Mn],delete c[Ha]}function qn(c){var d=c[Vr];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Yn]||m[Vr]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=vO(c);c!==null;){if(m=c[Vr])return m;c=vO(c)}return d}c=m,m=c.parentNode}return null}function Qn(c){if(c=c[Vr]||c[Yn]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function $a(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function de(c){var d=c[Rn];return d||(d=c[Rn]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function st(c){c[bn]=!0}var xt=new Set,Pt={};function Ar(c,d){Kr(c,d),Kr(c+"Capture",d)}function Kr(c,d){for(Pt[c]=d,c=0;c<d.length;c++)xt.add(d[c])}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},Na={};function za(c){return nt.call(Na,c)?!0:nt.call(la,c)?!1:Hn.test(c)?Na[c]=!0:(la[c]=!0,!1)}function Bi(c,d,m){if(za(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Za(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function wn(c,d,m,y){if(y===null)c.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+y)}}function ra(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function ue(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function He(c){var d=ue(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),y=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,I=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return S.call(this)},set:function(X){y=""+X,I.call(this,X)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return y},setValue:function(X){y=""+X},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function We(c){c._valueTracker||(c._valueTracker=He(c))}function it(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),y="";return c&&(y=ue(c)?c.checked?"true":"false":c.value),c=y,c!==m?(d.setValue(c),!0):!1}function wt(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var $t=/[\n"\\]/g;function Tt(c){return c.replace($t,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function ve(c,d,m,y,S,I,X,me){c.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?c.type=X:c.removeAttribute("type"),d!=null?X==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+ra(d)):c.value!==""+ra(d)&&(c.value=""+ra(d)):X!=="submit"&&X!=="reset"||c.removeAttribute("value"),d!=null?dt(c,X,ra(d)):m!=null?dt(c,X,ra(m)):y!=null&&c.removeAttribute("value"),S==null&&I!=null&&(c.defaultChecked=!!I),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?c.name=""+ra(me):c.removeAttribute("name")}function at(c,d,m,y,S,I,X,me){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(c.type=I),d!=null||m!=null){if(!(I!=="submit"&&I!=="reset"||d!=null))return;m=m!=null?""+ra(m):"",d=d!=null?""+ra(d):m,me||d===c.value||(c.value=d),c.defaultValue=d}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=me?c.checked:!!y,c.defaultChecked=!!y,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(c.name=X)}function dt(c,d,m){d==="number"&&wt(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function tt(c,d,m,y){if(c=c.options,d){d={};for(var S=0;S<m.length;S++)d["$"+m[S]]=!0;for(m=0;m<c.length;m++)S=d.hasOwnProperty("$"+c[m].value),c[m].selected!==S&&(c[m].selected=S),S&&y&&(c[m].defaultSelected=!0)}else{for(m=""+ra(m),d=null,S=0;S<c.length;S++){if(c[S].value===m){c[S].selected=!0,y&&(c[S].defaultSelected=!0);return}d!==null||c[S].disabled||(d=c[S])}d!==null&&(d.selected=!0)}}function ht(c,d,m){if(d!=null&&(d=""+ra(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+ra(m):""}function jt(c,d,m,y){if(d==null){if(y!=null){if(m!=null)throw Error(n(92));if(q(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),d=m}m=ra(d),c.defaultValue=m,y=c.textContent,y===m&&y!==""&&y!==null&&(c.value=y)}function kt(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var Bt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dt(c,d,m){var y=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,m):typeof m!="number"||m===0||Bt.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Wt(c,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var S in d)y=d[S],d.hasOwnProperty(S)&&m[S]!==y&&Dt(c,S,y)}else for(var I in d)d.hasOwnProperty(I)&&Dt(c,I,d[I])}function pr(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gr(c){return Vn.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var yn=null;function ei(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Di=null,Ir=null;function bu(c){var d=Qn(c);if(d&&(c=d.stateNode)){var m=c[dn]||null;e:switch(c=d.stateNode,d.type){case"input":if(ve(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Tt(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var y=m[d];if(y!==c&&y.form===c.form){var S=y[dn]||null;if(!S)throw Error(n(90));ve(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<m.length;d++)y=m[d],y.form===c.form&&it(y)}break e;case"textarea":ht(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&tt(c,!!m.multiple,d,!1)}}}var Oc=!1;function wu(c,d,m){if(Oc)return c(d,m);Oc=!0;try{var y=c(d);return y}finally{if(Oc=!1,(Di!==null||Ir!==null)&&(jv(),Di&&(d=Di,c=Ir,Ir=Di=null,bu(d),c)))for(d=0;d<c.length;d++)bu(c[d])}}function nl(c,d){var m=c.stateNode;if(m===null)return null;var y=m[dn]||null;if(y===null)return null;m=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var ks=!1;if(br)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){ks=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{ks=!1}var Ee=null,Mt=null,hr=null;function Yt(){if(hr)return hr;var c,d=Mt,m=d.length,y,S="value"in Ee?Ee.value:Ee.textContent,I=S.length;for(c=0;c<m&&d[c]===S[c];c++);var X=m-c;for(y=1;y<=X&&d[m-y]===S[I-y];y++);return hr=S.slice(c,1<y?1-y:void 0)}function jr(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function fr(){return!0}function mn(){return!1}function Wr(c){function d(m,y,S,I,X){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=I,this.target=X,this.currentTarget=null;for(var me in c)c.hasOwnProperty(me)&&(m=c[me],this[me]=m?m(I):I[me]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?fr:mn,this.isPropagationStopped=mn,this}return D(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),d}var _n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Wr(_n),ui=D({},_n,{view:0,detail:0}),Ws=Wr(ui),na,us,To,Ys=D({},ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fn,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==To&&(To&&c.type==="mousemove"?(na=c.screenX-To.screenX,us=c.screenY-To.screenY):us=na=0,To=c),na)},movementY:function(c){return"movementY"in c?c.movementY:us}}),As=Wr(Ys),va=D({},Ys,{dataTransfer:0}),Mi=Wr(va),Xs=D({},ui,{relatedTarget:0}),M=Wr(Xs),ae=D({},_n,{animationName:0,elapsedTime:0,pseudoElement:0}),Ne=Wr(ae),Fe=D({},_n,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Je=Wr(Fe),Lt=D({},_n,{data:0}),Gt=Wr(Lt),Nr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ln(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Zr[c])?!!d[c]:!1}function Fn(){return ln}var ka=D({},ui,{key:function(c){if(c.key){var d=Nr[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=jr(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Pr[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fn,charCode:function(c){return c.type==="keypress"?jr(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?jr(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),ti=Wr(ka),Xn=D({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=Wr(Xn),ni=D({},ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fn}),Ri=Wr(ni),Rl=D({},_n,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fc=Wr(Rl),Sp=D({},Ys,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=Wr(Sp),Cu=D({},_n,{newState:0,oldState:0}),Oo=Wr(Cu),Id=[9,13,27,32],Pc=br&&"CompositionEvent"in window,fo=null;br&&"documentMode"in document&&(fo=document.documentMode);var ji=br&&"TextEvent"in window&&!fo,al=br&&(!Pc||fo&&8<fo&&11>=fo),il=" ",Bu=!1;function bA(c,d){switch(c){case"keyup":return Id.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ji(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ql=!1;function wA(c,d){switch(c){case"compositionend":return Ji(d);case"keypress":return d.which!==32?null:(Bu=!0,il);case"textInput":return c=d.data,c===il&&Bu?null:c;default:return null}}function oh(c,d){if(Ql)return c==="compositionend"||!Pc&&bA(c,d)?(c=Yt(),hr=Mt=Ee=null,Ql=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return al&&d.locale!=="ko"?null:d.data;default:return null}}var Ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Js(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Ai[c.type]:d==="textarea"}function CA(c,d,m,y){Di?Ir?Ir.push(y):Ir=[y]:Di=y,d=_v(d,"onChange"),0<d.length&&(m=new Ea("onChange","change",null,m,y),c.push({event:m,listeners:d}))}var Hl=null,ho=null;function BA(c){uO(c,0)}function Qi(c){var d=$a(c);if(it(d))return c}function ds(c,d){if(c==="change")return d}var Lc=!1;if(br){var mo;if(br){var sl="oninput"in document;if(!sl){var jA=document.createElement("div");jA.setAttribute("oninput","return;"),sl=typeof jA.oninput=="function"}mo=sl}else mo=!1;Lc=mo&&(!document.documentMode||9<document.documentMode)}function $l(){Hl&&(Hl.detachEvent("onpropertychange",La),ho=Hl=null)}function La(c){if(c.propertyName==="value"&&Qi(ho)){var d=[];CA(d,ho,c,ei(c)),wu(BA,d)}}function Np(c,d,m){c==="focusin"?($l(),Hl=d,ho=m,Hl.attachEvent("onpropertychange",La)):c==="focusout"&&$l()}function ol(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Qi(ho)}function ll(c,d){if(c==="click")return Qi(d)}function SA(c,d){if(c==="input"||c==="change")return Qi(d)}function Dd(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var Si=typeof Object.is=="function"?Object.is:Dd;function cl(c,d){if(Si(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),y=Object.keys(d);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!nt.call(d,S)||!Si(c[S],d[S]))return!1}return!0}function Uc(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ic(c,d){var m=Uc(c);c=0;for(var y;m;){if(m.nodeType===3){if(y=c+m.textContent.length,c<=d&&y>=d)return{node:m,offset:d-c};c=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Uc(m)}}function ul(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?ul(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function NA(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=wt(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=wt(c.document)}return d}function fs(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function Al(c,d){var m=NA(d);d=c.focusedElem;var y=c.selectionRange;if(m!==d&&d&&d.ownerDocument&&ul(d.ownerDocument.documentElement,d)){if(y!==null&&fs(d)){if(c=y.start,m=y.end,m===void 0&&(m=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(m,d.value.length);else if(m=(c=d.ownerDocument||document)&&c.defaultView||window,m.getSelection){m=m.getSelection();var S=d.textContent.length,I=Math.min(y.start,S);y=y.end===void 0?I:Math.min(y.end,S),!m.extend&&I>y&&(S=y,y=I,I=S),S=Ic(d,I);var X=Ic(d,y);S&&X&&(m.rangeCount!==1||m.anchorNode!==S.node||m.anchorOffset!==S.offset||m.focusNode!==X.node||m.focusOffset!==X.offset)&&(c=c.createRange(),c.setStart(S.node,S.offset),m.removeAllRanges(),I>y?(m.addRange(c),m.extend(X.node,X.offset)):(c.setEnd(X.node,X.offset),m.addRange(c)))}}for(c=[],m=d;m=m.parentNode;)m.nodeType===1&&c.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)m=c[d],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var ca=br&&"documentMode"in document&&11>=document.documentMode,$n=null,_a=null,ha=null,Fo=!1;function ju(c,d,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Fo||$n==null||$n!==wt(y)||(y=$n,"selectionStart"in y&&fs(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ha&&cl(ha,y)||(ha=y,y=_v(_a,"onSelect"),0<y.length&&(d=new Ea("onSelect","select",null,d,m),c.push({event:d,listeners:y}),d.target=$n)))}function Zi(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var dl={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},lh={},Ep={};br&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function Dc(c){if(lh[c])return lh[c];if(!dl[c])return c;var d=dl[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in Ep)return lh[c]=d[m];return c}var kp=Dc("animationend"),_p=Dc("animationiteration"),Tp=Dc("animationstart"),J0=Dc("transitionrun"),Z0=Dc("transitionstart"),ev=Dc("transitioncancel"),Op=Dc("transitionend"),Fp=new Map,Pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function hs(c,d){Fp.set(c,d),Ar(d,[c])}var Zs=[],Su=0,ch=0;function Md(){for(var c=Su,d=ch=Su=0;d<c;){var m=Zs[d];Zs[d++]=null;var y=Zs[d];Zs[d++]=null;var S=Zs[d];Zs[d++]=null;var I=Zs[d];if(Zs[d++]=null,y!==null&&S!==null){var X=y.pending;X===null?S.next=S:(S.next=X.next,X.next=S),y.pending=S}I!==0&&Lp(m,S,I)}}function Rd(c,d,m,y){Zs[Su++]=c,Zs[Su++]=d,Zs[Su++]=m,Zs[Su++]=y,ch|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function uh(c,d,m,y){return Rd(c,d,m,y),EA(c)}function zl(c,d){return Rd(c,null,null,d),EA(c)}function Lp(c,d,m){c.lanes|=m;var y=c.alternate;y!==null&&(y.lanes|=m);for(var S=!1,I=c.return;I!==null;)I.childLanes|=m,y=I.alternate,y!==null&&(y.childLanes|=m),I.tag===22&&(c=I.stateNode,c===null||c._visibility&1||(S=!0)),c=I,I=I.return;S&&d!==null&&c.tag===3&&(I=c.stateNode,S=31-Ge(m),I=I.hiddenUpdates,c=I[S],c===null?I[S]=[d]:c.push(d),d.lane=m|536870912)}function EA(c){if(50<ag)throw ag=0,q2=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var ql={},_s=new WeakMap;function Ta(c,d){if(typeof c=="object"&&c!==null){var m=_s.get(c);return m!==void 0?m:(d={value:c,source:d,stack:Y(d)},_s.set(c,d),d)}return{value:c,source:d,stack:Y(d)}}var Vl=[],Kl=0,Qd=null,Nu=0,ms=[],Ts=0,Mc=null,Po=1,Lo="";function fl(c,d){Vl[Kl++]=Nu,Vl[Kl++]=Qd,Qd=c,Nu=d}function Ah(c,d,m){ms[Ts++]=Po,ms[Ts++]=Lo,ms[Ts++]=Mc,Mc=c;var y=Po;c=Lo;var S=32-Ge(y)-1;y&=~(1<<S),m+=1;var I=32-Ge(d)+S;if(30<I){var X=S-S%5;I=(y&(1<<X)-1).toString(32),y>>=X,S-=X,Po=1<<32-Ge(d)+S|m<<S|y,Lo=I+c}else Po=1<<I|m<<S|y,Lo=c}function Up(c){c.return!==null&&(fl(c,1),Ah(c,1,0))}function Ip(c){for(;c===Qd;)Qd=Vl[--Kl],Vl[Kl]=null,Nu=Vl[--Kl],Vl[Kl]=null;for(;c===Mc;)Mc=ms[--Ts],ms[Ts]=null,Lo=ms[--Ts],ms[Ts]=null,Po=ms[--Ts],ms[Ts]=null}var es=null,Hi=null,Un=!1,Uo=null,hl=!1,Dp=Error(n(519));function Gl(c){var d=Error(n(418,""));throw _A(Ta(d,c)),Dp}function dh(c){var d=c.stateNode,m=c.type,y=c.memoizedProps;switch(d[Vr]=c,d[dn]=y,m){case"dialog":Pn("cancel",d),Pn("close",d);break;case"iframe":case"object":case"embed":Pn("load",d);break;case"video":case"audio":for(m=0;m<sg.length;m++)Pn(sg[m],d);break;case"source":Pn("error",d);break;case"img":case"image":case"link":Pn("error",d),Pn("load",d);break;case"details":Pn("toggle",d);break;case"input":Pn("invalid",d),at(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),We(d);break;case"select":Pn("invalid",d);break;case"textarea":Pn("invalid",d),jt(d,y.value,y.defaultValue,y.children),We(d)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||y.suppressHydrationWarning===!0||hO(d.textContent,m)?(y.popover!=null&&(Pn("beforetoggle",d),Pn("toggle",d)),y.onScroll!=null&&Pn("scroll",d),y.onScrollEnd!=null&&Pn("scrollend",d),y.onClick!=null&&(d.onclick=Tv),d=!0):d=!1,d||Gl(c)}function kA(c){for(es=c.return;es;)switch(es.tag){case 3:case 27:hl=!0;return;case 5:case 13:hl=!1;return;default:es=es.return}}function Hd(c){if(c!==es)return!1;if(!Un)return kA(c),Un=!0,!1;var d=!1,m;if((m=c.tag!==3&&c.tag!==27)&&((m=c.tag===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||lC(c.type,c.memoizedProps)),m=!m),m&&(d=!0),d&&Hi&&Gl(c),kA(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){Hi=rc(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}Hi=null}}else Hi=es?rc(c.stateNode.nextSibling):null;return!0}function $d(){Hi=es=null,Un=!1}function _A(c){Uo===null?Uo=[c]:Uo.push(c)}var zd=Error(n(460)),tv=Error(n(474)),Mp={then:function(){}};function rv(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Io(){}function po(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(Io,Io),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===zd?Error(n(483)):c;default:if(typeof d.status=="string")d.then(Io,Io);else{if(c=ba,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=y}},function(y){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===zd?Error(n(483)):c}throw eo=d,zd}}var eo=null;function nv(){if(eo===null)throw Error(n(459));var c=eo;return eo=null,c}var Eu=null,go=0;function ps(c){var d=go;return go+=1,Eu===null&&(Eu=[]),po(Eu,c,d)}function qd(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function fh(c,d){throw d.$$typeof===s?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function Rp(c){var d=c._init;return d(c._payload)}function Qp(c){function d(rt,$e){if(c){var lt=rt.deletions;lt===null?(rt.deletions=[$e],rt.flags|=16):lt.push($e)}}function m(rt,$e){if(!c)return null;for(;$e!==null;)d(rt,$e),$e=$e.sibling;return null}function y(rt){for(var $e=new Map;rt!==null;)rt.key!==null?$e.set(rt.key,rt):$e.set(rt.index,rt),rt=rt.sibling;return $e}function S(rt,$e){return rt=$A(rt,$e),rt.index=0,rt.sibling=null,rt}function I(rt,$e,lt){return rt.index=lt,c?(lt=rt.alternate,lt!==null?(lt=lt.index,lt<$e?(rt.flags|=33554434,$e):lt):(rt.flags|=33554434,$e)):(rt.flags|=1048576,$e)}function X(rt){return c&&rt.alternate===null&&(rt.flags|=33554434),rt}function me(rt,$e,lt,zt){return $e===null||$e.tag!==6?($e=I2(lt,rt.mode,zt),$e.return=rt,$e):($e=S($e,lt),$e.return=rt,$e)}function Te(rt,$e,lt,zt){var _r=lt.type;return _r===u?Ut(rt,$e,lt.props.children,zt,lt.key):$e!==null&&($e.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===B&&Rp(_r)===$e.type)?($e=S($e,lt.props),qd($e,lt),$e.return=rt,$e):($e=xv(lt.type,lt.key,lt.props,null,rt.mode,zt),qd($e,lt),$e.return=rt,$e)}function qe(rt,$e,lt,zt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==lt.containerInfo||$e.stateNode.implementation!==lt.implementation?($e=D2(lt,rt.mode,zt),$e.return=rt,$e):($e=S($e,lt.children||[]),$e.return=rt,$e)}function Ut(rt,$e,lt,zt,_r){return $e===null||$e.tag!==7?($e=af(lt,rt.mode,zt,_r),$e.return=rt,$e):($e=S($e,lt),$e.return=rt,$e)}function er(rt,$e,lt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return $e=I2(""+$e,rt.mode,lt),$e.return=rt,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case o:return lt=xv($e.type,$e.key,$e.props,null,rt.mode,lt),qd(lt,$e),lt.return=rt,lt;case l:return $e=D2($e,rt.mode,lt),$e.return=rt,$e;case B:var zt=$e._init;return $e=zt($e._payload),er(rt,$e,lt)}if(q($e)||O($e))return $e=af($e,rt.mode,lt,null),$e.return=rt,$e;if(typeof $e.then=="function")return er(rt,ps($e),lt);if($e.$$typeof===g)return er(rt,gv(rt,$e),lt);fh(rt,$e)}return null}function mt(rt,$e,lt,zt){var _r=$e!==null?$e.key:null;if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return _r!==null?null:me(rt,$e,""+lt,zt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case o:return lt.key===_r?Te(rt,$e,lt,zt):null;case l:return lt.key===_r?qe(rt,$e,lt,zt):null;case B:return _r=lt._init,lt=_r(lt._payload),mt(rt,$e,lt,zt)}if(q(lt)||O(lt))return _r!==null?null:Ut(rt,$e,lt,zt,null);if(typeof lt.then=="function")return mt(rt,$e,ps(lt),zt);if(lt.$$typeof===g)return mt(rt,$e,gv(rt,lt),zt);fh(rt,lt)}return null}function Ot(rt,$e,lt,zt,_r){if(typeof zt=="string"&&zt!==""||typeof zt=="number"||typeof zt=="bigint")return rt=rt.get(lt)||null,me($e,rt,""+zt,_r);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case o:return rt=rt.get(zt.key===null?lt:zt.key)||null,Te($e,rt,zt,_r);case l:return rt=rt.get(zt.key===null?lt:zt.key)||null,qe($e,rt,zt,_r);case B:var Nn=zt._init;return zt=Nn(zt._payload),Ot(rt,$e,lt,zt,_r)}if(q(zt)||O(zt))return rt=rt.get(lt)||null,Ut($e,rt,zt,_r,null);if(typeof zt.then=="function")return Ot(rt,$e,lt,ps(zt),_r);if(zt.$$typeof===g)return Ot(rt,$e,lt,gv($e,zt),_r);fh($e,zt)}return null}function Dr(rt,$e,lt,zt){for(var _r=null,Nn=null,zr=$e,Yr=$e=0,ns=null;zr!==null&&Yr<lt.length;Yr++){zr.index>Yr?(ns=zr,zr=null):ns=zr.sibling;var Gn=mt(rt,zr,lt[Yr],zt);if(Gn===null){zr===null&&(zr=ns);break}c&&zr&&Gn.alternate===null&&d(rt,zr),$e=I(Gn,$e,Yr),Nn===null?_r=Gn:Nn.sibling=Gn,Nn=Gn,zr=ns}if(Yr===lt.length)return m(rt,zr),Un&&fl(rt,Yr),_r;if(zr===null){for(;Yr<lt.length;Yr++)zr=er(rt,lt[Yr],zt),zr!==null&&($e=I(zr,$e,Yr),Nn===null?_r=zr:Nn.sibling=zr,Nn=zr);return Un&&fl(rt,Yr),_r}for(zr=y(zr);Yr<lt.length;Yr++)ns=Ot(zr,rt,Yr,lt[Yr],zt),ns!==null&&(c&&ns.alternate!==null&&zr.delete(ns.key===null?Yr:ns.key),$e=I(ns,$e,Yr),Nn===null?_r=ns:Nn.sibling=ns,Nn=ns);return c&&zr.forEach(function(YA){return d(rt,YA)}),Un&&fl(rt,Yr),_r}function un(rt,$e,lt,zt){if(lt==null)throw Error(n(151));for(var _r=null,Nn=null,zr=$e,Yr=$e=0,ns=null,Gn=lt.next();zr!==null&&!Gn.done;Yr++,Gn=lt.next()){zr.index>Yr?(ns=zr,zr=null):ns=zr.sibling;var YA=mt(rt,zr,Gn.value,zt);if(YA===null){zr===null&&(zr=ns);break}c&&zr&&YA.alternate===null&&d(rt,zr),$e=I(YA,$e,Yr),Nn===null?_r=YA:Nn.sibling=YA,Nn=YA,zr=ns}if(Gn.done)return m(rt,zr),Un&&fl(rt,Yr),_r;if(zr===null){for(;!Gn.done;Yr++,Gn=lt.next())Gn=er(rt,Gn.value,zt),Gn!==null&&($e=I(Gn,$e,Yr),Nn===null?_r=Gn:Nn.sibling=Gn,Nn=Gn);return Un&&fl(rt,Yr),_r}for(zr=y(zr);!Gn.done;Yr++,Gn=lt.next())Gn=Ot(zr,rt,Yr,Gn.value,zt),Gn!==null&&(c&&Gn.alternate!==null&&zr.delete(Gn.key===null?Yr:Gn.key),$e=I(Gn,$e,Yr),Nn===null?_r=Gn:Nn.sibling=Gn,Nn=Gn);return c&&zr.forEach(function(AY){return d(rt,AY)}),Un&&fl(rt,Yr),_r}function si(rt,$e,lt,zt){if(typeof lt=="object"&&lt!==null&&lt.type===u&&lt.key===null&&(lt=lt.props.children),typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case o:e:{for(var _r=lt.key;$e!==null;){if($e.key===_r){if(_r=lt.type,_r===u){if($e.tag===7){m(rt,$e.sibling),zt=S($e,lt.props.children),zt.return=rt,rt=zt;break e}}else if($e.elementType===_r||typeof _r=="object"&&_r!==null&&_r.$$typeof===B&&Rp(_r)===$e.type){m(rt,$e.sibling),zt=S($e,lt.props),qd(zt,lt),zt.return=rt,rt=zt;break e}m(rt,$e);break}else d(rt,$e);$e=$e.sibling}lt.type===u?(zt=af(lt.props.children,rt.mode,zt,lt.key),zt.return=rt,rt=zt):(zt=xv(lt.type,lt.key,lt.props,null,rt.mode,zt),qd(zt,lt),zt.return=rt,rt=zt)}return X(rt);case l:e:{for(_r=lt.key;$e!==null;){if($e.key===_r)if($e.tag===4&&$e.stateNode.containerInfo===lt.containerInfo&&$e.stateNode.implementation===lt.implementation){m(rt,$e.sibling),zt=S($e,lt.children||[]),zt.return=rt,rt=zt;break e}else{m(rt,$e);break}else d(rt,$e);$e=$e.sibling}zt=D2(lt,rt.mode,zt),zt.return=rt,rt=zt}return X(rt);case B:return _r=lt._init,lt=_r(lt._payload),si(rt,$e,lt,zt)}if(q(lt))return Dr(rt,$e,lt,zt);if(O(lt)){if(_r=O(lt),typeof _r!="function")throw Error(n(150));return lt=_r.call(lt),un(rt,$e,lt,zt)}if(typeof lt.then=="function")return si(rt,$e,ps(lt),zt);if(lt.$$typeof===g)return si(rt,$e,gv(rt,lt),zt);fh(rt,lt)}return typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint"?(lt=""+lt,$e!==null&&$e.tag===6?(m(rt,$e.sibling),zt=S($e,lt),zt.return=rt,rt=zt):(m(rt,$e),zt=I2(lt,rt.mode,zt),zt.return=rt,rt=zt),X(rt)):m(rt,$e)}return function(rt,$e,lt,zt){try{go=0;var _r=si(rt,$e,lt,zt);return Eu=null,_r}catch(zr){if(zr===zd)throw zr;var Nn=vl(29,zr,null,rt.mode);return Nn.lanes=zt,Nn.return=rt,Nn}finally{}}}var Rc=Qp(!0),Hp=Qp(!1),TA=we(null),ku=we(0);function Vd(c,d){c=Ru,ce(ku,c),ce(TA,d),Ru=c|d.baseLanes}function _u(){ce(ku,Ru),ce(TA,TA.current)}function Kd(){Ru=ku.current,he(TA),he(ku)}var yo=we(null),Do=null;function Qc(c){var d=c.alternate;ce(di,di.current&1),ce(yo,c),Do===null&&(d===null||TA.current!==null||d.memoizedState!==null)&&(Do=c)}function av(c){if(c.tag===22){if(ce(di,di.current),ce(yo,c),Do===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Do=c)}}else Hc()}function Hc(){ce(di,di.current),ce(yo,yo.current)}function Wl(c){he(yo),Do===c&&(Do=null),he(di)}var di=we(0);function hh(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var iv=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},mh=e.unstable_scheduleCallback,d2=e.unstable_NormalPriority,fi={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new iv,data:new Map,refCount:0}}function C(c){c.refCount--,c.refCount===0&&mh(d2,function(){c.controller.abort()})}var E=null,$=0,K=0,ne=null;function oe(c,d){if(E===null){var m=E=[];$=0,K=Z2(),ne={status:"pending",value:void 0,then:function(y){m.push(y)}}}return $++,d.then(Ae,Ae),d}function Ae(){if(--$===0&&E!==null){ne!==null&&(ne.status="fulfilled");var c=E;E=null,K=0,ne=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function pe(c,d){var m=[],y={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var S=0;S<m.length;S++)(0,m[S])(d)},function(S){for(y.status="rejected",y.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),y}var be=U.S;U.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&oe(c,d),be!==null&&be(c,d)};var je=we(null);function Ie(){var c=je.current;return c!==null?c:ba.pooledCache}function ot(c,d){d===null?ce(je,je.current):ce(je,d.pool)}function Se(){var c=Ie();return c===null?null:{parent:fi._currentValue,pool:c}}var De=0,Le=null,ct=null,Xe=null,Nt=!1,_t=!1,Xt=!1,qt=0,Er=0,gr=null,fn=0;function ur(){throw Error(n(321))}function Cn(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!Si(c[m],d[m]))return!1;return!0}function qa(c,d,m,y,S,I){return De=I,Le=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,U.H=c===null||c.memoizedState===null?Tu:bo,Xt=!1,I=m(y,S),Xt=!1,_t&&(I=kr(d,m,y,S)),cn(c),I}function cn(c){U.H=Mo;var d=ct!==null&&ct.next!==null;if(De=0,Xe=ct=Le=null,Nt=!1,Er=0,gr=null,d)throw Error(n(300));c===null||ts||(c=c.dependencies,c!==null&&pv(c)&&(ts=!0))}function kr(c,d,m,y){Le=c;var S=0;do{if(_t&&(gr=null),Er=0,_t=!1,25<=S)throw Error(n(301));if(S+=1,Xe=ct=null,c.updateQueue!=null){var I=c.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}U.H=Jl,I=d(m,y)}while(_t);return I}function dr(){var c=U.H,d=c.useState()[0];return d=typeof d.then=="function"?ua(d):d,c=c.useState()[0],(ct!==null?ct.memoizedState:null)!==c&&(Le.flags|=1024),d}function Oa(){var c=qt!==0;return qt=0,c}function rn(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function Bn(c){if(Nt){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Nt=!1}De=0,Xe=ct=Le=null,_t=!1,Er=qt=0,gr=null}function xn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Le.memoizedState=Xe=c:Xe=Xe.next=c,Xe}function jn(){if(ct===null){var c=Le.alternate;c=c!==null?c.memoizedState:null}else c=ct.next;var d=Xe===null?Le.memoizedState:Xe.next;if(d!==null)Xe=d,ct=c;else{if(c===null)throw Le.alternate===null?Error(n(467)):Error(n(310));ct=c,c={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Xe===null?Le.memoizedState=Xe=c:Xe=Xe.next=c}return Xe}var Ni;Ni=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ua(c){var d=Er;return Er+=1,gr===null&&(gr=[]),c=po(gr,c,d),d=Le,(Xe===null?d.memoizedState:Xe.next)===null&&(d=d.alternate,U.H=d===null||d.memoizedState===null?Tu:bo),c}function hi(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ua(c);if(c.$$typeof===g)return Us(c)}throw Error(n(438,String(c)))}function $i(c){var d=null,m=Le.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var y=Le.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=Ni(),Le.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),y=0;y<c;y++)m[y]=_;return d.index++,m}function aa(c,d){return typeof d=="function"?d(c):d}function Sn(c){var d=jn();return zn(d,ct,c)}function zn(c,d,m){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var S=c.baseQueue,I=y.pending;if(I!==null){if(S!==null){var X=S.next;S.next=I.next,I.next=X}d.baseQueue=S=I,y.pending=null}if(I=c.baseState,S===null)c.memoizedState=I;else{d=S.next;var me=X=null,Te=null,qe=d,Ut=!1;do{var er=qe.lane&-536870913;if(er!==qe.lane?(In&er)===er:(De&er)===er){var mt=qe.revertLane;if(mt===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),er===K&&(Ut=!0);else if((De&mt)===mt){qe=qe.next,mt===K&&(Ut=!0);continue}else er={lane:0,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Te===null?(me=Te=er,X=I):Te=Te.next=er,Le.lanes|=mt,zA|=mt;er=qe.action,Xt&&m(I,er),I=qe.hasEagerState?qe.eagerState:m(I,er)}else mt={lane:er,revertLane:qe.revertLane,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Te===null?(me=Te=mt,X=I):Te=Te.next=mt,Le.lanes|=er,zA|=er;qe=qe.next}while(qe!==null&&qe!==d);if(Te===null?X=I:Te.next=me,!Si(I,c.memoizedState)&&(ts=!0,Ut&&(m=ne,m!==null)))throw m;c.memoizedState=I,c.baseState=X,c.baseQueue=Te,y.lastRenderedState=I}return S===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function xa(c){var d=jn(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var y=m.dispatch,S=m.pending,I=d.memoizedState;if(S!==null){m.pending=null;var X=S=S.next;do I=c(I,X.action),X=X.next;while(X!==S);Si(I,d.memoizedState)||(ts=!0),d.memoizedState=I,d.baseQueue===null&&(d.baseState=I),m.lastRenderedState=I}return[I,y]}function Kn(c,d,m){var y=Le,S=jn(),I=Un;if(I){if(m===void 0)throw Error(n(407));m=m()}else m=d();var X=!Si((ct||S).memoizedState,m);if(X&&(S.memoizedState=m,ts=!0),S=S.queue,Yd(Ua.bind(null,y,S,c),[c]),S.getSnapshot!==d||X||Xe!==null&&Xe.memoizedState.tag&1){if(y.flags|=2048,zc(9,vo.bind(null,y,S,m,d),{destroy:void 0},null),ba===null)throw Error(n(349));I||(De&60)!==0||Ei(y,d,m)}return m}function Ei(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Le.updateQueue,d===null?(d=Ni(),Le.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function vo(c,d,m,y){d.value=m,d.getSnapshot=y,gs(d)&&Jn(c)}function Ua(c,d,m){return m(function(){gs(d)&&Jn(c)})}function gs(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!Si(c,m)}catch{return!0}}function Jn(c){var d=zl(c,2);d!==null&&to(d,c,2)}function Va(c){var d=xn();if(typeof c=="function"){var m=c;if(c=m(),Xt){ze(!0);try{m()}finally{ze(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:c},d}function Os(c,d,m,y){return c.baseState=m,zn(c,ct,typeof y=="function"?y:aa)}function ys(c,d,m,y,S){if(Bh(c))throw Error(n(485));if(c=d.action,c!==null){var I={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){I.listeners.push(X)}};U.T!==null?m(!0):I.isTransition=!1,y(I),m=d.pending,m===null?(I.next=d.pending=I,Fs(d,I)):(I.next=m.next,d.pending=m.next=I)}}function Fs(c,d){var m=d.action,y=d.payload,S=c.state;if(d.isTransition){var I=U.T,X={};U.T=X;try{var me=m(S,y),Te=U.S;Te!==null&&Te(X,me),Ps(c,d,me)}catch(qe){xs(c,d,qe)}finally{U.T=I}}else try{I=m(S,y),Ps(c,d,I)}catch(qe){xs(c,d,qe)}}function Ps(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){vs(c,d,y)},function(y){return xs(c,d,y)}):vs(c,d,m)}function vs(c,d,m){d.status="fulfilled",d.value=m,ia(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,Fs(c,m)))}function xs(c,d,m){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=m,ia(d),d=d.next;while(d!==y)}c.action=null}function ia(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function Ls(c,d){return d}function xo(c,d){if(Un){var m=ba.formState;if(m!==null){e:{var y=Le;if(Un){if(Hi){t:{for(var S=Hi,I=hl;S.nodeType!==8;){if(!I){S=null;break t}if(S=rc(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){Hi=rc(S.nextSibling),y=S.data==="F!";break e}}Gl(y)}y=!1}y&&(d=m[0])}}return m=xn(),m.memoizedState=m.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:d},m.queue=y,m=fv.bind(null,Le,y),y.dispatch=m,y=Va(!1),I=Vc.bind(null,Le,!1,y.queue),y=xn(),S={state:d,dispatch:null,action:c,pending:null},y.queue=S,m=ys.bind(null,Le,S,I,m),S.dispatch=m,y.memoizedState=c,[d,m,!1]}function $c(c){var d=jn();return ml(d,ct,c)}function ml(c,d,m){d=zn(c,d,Ls)[0],c=Sn(aa)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?ua(d):d;var y=jn(),S=y.queue,I=S.dispatch;return m!==y.memoizedState&&(Le.flags|=2048,zc(9,zi.bind(null,S,m),{destroy:void 0},null)),[d,I,c]}function zi(c,d){c.action=d}function Gd(c){var d=jn(),m=ct;if(m!==null)return ml(d,m,c);jn(),d=d.memoizedState,m=jn();var y=m.queue.dispatch;return m.memoizedState=c,[d,y,!1]}function zc(c,d,m,y){return c={tag:c,create:d,inst:m,deps:y,next:null},d=Le.updateQueue,d===null&&(d=Ni(),Le.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(y=m.next,m.next=c,c.next=y,d.lastEffect=c),c}function Wd(){return jn().memoizedState}function qc(c,d,m,y){var S=xn();Le.flags|=c,S.memoizedState=zc(1|d,m,{destroy:void 0},y===void 0?null:y)}function gh(c,d,m,y){var S=jn();y=y===void 0?null:y;var I=S.memoizedState.inst;ct!==null&&y!==null&&Cn(y,ct.memoizedState.deps)?S.memoizedState=zc(d,m,I,y):(Le.flags|=c,S.memoizedState=zc(1|d,m,I,y))}function sv(c,d){qc(8390656,8,c,d)}function Yd(c,d){gh(2048,8,c,d)}function Yl(c,d){return gh(4,2,c,d)}function ov(c,d){return gh(4,4,c,d)}function lv(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function cv(c,d,m){m=m!=null?m.concat([c]):null,gh(4,4,lv.bind(null,d,c),m)}function yh(){}function Xd(c,d){var m=jn();d=d===void 0?null:d;var y=m.memoizedState;return d!==null&&Cn(d,y[1])?y[0]:(m.memoizedState=[c,d],c)}function $p(c,d){var m=jn();d=d===void 0?null:d;var y=m.memoizedState;if(d!==null&&Cn(d,y[1]))return y[0];if(y=c(),Xt){ze(!0);try{c()}finally{ze(!1)}}return m.memoizedState=[y,d],y}function vh(c,d,m){return m===void 0||(De&1073741824)!==0?c.memoizedState=d:(c.memoizedState=m,c=VT(),Le.lanes|=c,zA|=c,m)}function Jd(c,d,m,y){return Si(m,d)?m:TA.current!==null?(c=vh(c,m,y),Si(c,d)||(ts=!0),c):(De&42)===0?(ts=!0,c.memoizedState=m):(c=VT(),Le.lanes|=c,zA|=c,d)}function xh(c,d,m,y,S){var I=G.p;G.p=I!==0&&8>I?I:8;var X=U.T,me={};U.T=me,Vc(c,!1,d,m);try{var Te=S(),qe=U.S;if(qe!==null&&qe(me,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ut=pe(Te,y);OA(c,d,Ut,zo(c))}else OA(c,d,y,zo(c))}catch(er){OA(c,d,{then:function(){},status:"rejected",reason:er},zo())}finally{G.p=I,U.T=X}}function Zd(){}function bh(c,d,m,y){if(c.tag!==5)throw Error(n(476));var S=uv(c).queue;xh(c,S,d,Z,m===null?Zd:function(){return ef(c),m(y)})}function uv(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Z},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function ef(c){var d=uv(c).next.queue;OA(c,d,{},zo())}function wh(){return Us(Ag)}function Ch(){return jn().memoizedState}function Xl(){return jn().memoizedState}function Av(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=zo();c=DA(m);var y=MA(d,c,m);y!==null&&(to(y,d,m),Gp(y,d,m)),d={cache:ph()},c.payload=d;return}d=d.return}}function dv(c,d,m){var y=zo();m={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Bh(c)?zp(d,m):(m=uh(c,d,m,y),m!==null&&(to(m,c,y),hv(m,d,y)))}function fv(c,d,m){var y=zo();OA(c,d,m,y)}function OA(c,d,m,y){var S={lane:y,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Bh(c))zp(d,S);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=d.lastRenderedReducer,I!==null))try{var X=d.lastRenderedState,me=I(X,m);if(S.hasEagerState=!0,S.eagerState=me,Si(me,X))return Rd(c,d,S,0),ba===null&&Md(),!1}catch{}finally{}if(m=uh(c,d,S,y),m!==null)return to(m,c,y),hv(m,d,y),!0}return!1}function Vc(c,d,m,y){if(y={lane:2,revertLane:Z2(),action:y,hasEagerState:!1,eagerState:null,next:null},Bh(c)){if(d)throw Error(n(479))}else d=uh(c,m,y,2),d!==null&&to(d,c,2)}function Bh(c){var d=c.alternate;return c===Le||d!==null&&d===Le}function zp(c,d){_t=Nt=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function hv(c,d,m){if((m&4194176)!==0){var y=d.lanes;y&=c.pendingLanes,m|=y,d.lanes=m,cr(c,m)}}var Mo={readContext:Us,use:hi,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur};Mo.useCacheRefresh=ur,Mo.useMemoCache=ur,Mo.useHostTransitionStatus=ur,Mo.useFormState=ur,Mo.useActionState=ur,Mo.useOptimistic=ur;var Tu={readContext:Us,use:hi,useCallback:function(c,d){return xn().memoizedState=[c,d===void 0?null:d],c},useContext:Us,useEffect:sv,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,qc(4194308,4,lv.bind(null,d,c),m)},useLayoutEffect:function(c,d){return qc(4194308,4,c,d)},useInsertionEffect:function(c,d){qc(4,2,c,d)},useMemo:function(c,d){var m=xn();d=d===void 0?null:d;var y=c();if(Xt){ze(!0);try{c()}finally{ze(!1)}}return m.memoizedState=[y,d],y},useReducer:function(c,d,m){var y=xn();if(m!==void 0){var S=m(d);if(Xt){ze(!0);try{m(d)}finally{ze(!1)}}}else S=d;return y.memoizedState=y.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},y.queue=c,c=c.dispatch=dv.bind(null,Le,c),[y.memoizedState,c]},useRef:function(c){var d=xn();return c={current:c},d.memoizedState=c},useState:function(c){c=Va(c);var d=c.queue,m=fv.bind(null,Le,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:yh,useDeferredValue:function(c,d){var m=xn();return vh(m,c,d)},useTransition:function(){var c=Va(!1);return c=xh.bind(null,Le,c.queue,!0,!1),xn().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var y=Le,S=xn();if(Un){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),ba===null)throw Error(n(349));(In&60)!==0||Ei(y,d,m)}S.memoizedState=m;var I={value:m,getSnapshot:d};return S.queue=I,sv(Ua.bind(null,y,I,c),[c]),y.flags|=2048,zc(9,vo.bind(null,y,I,m,d),{destroy:void 0},null),m},useId:function(){var c=xn(),d=ba.identifierPrefix;if(Un){var m=Lo,y=Po;m=(y&~(1<<32-Ge(y)-1)).toString(32)+m,d=":"+d+"R"+m,m=qt++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=fn++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return xn().memoizedState=Av.bind(null,Le)}};Tu.useMemoCache=$i,Tu.useHostTransitionStatus=wh,Tu.useFormState=xo,Tu.useActionState=xo,Tu.useOptimistic=function(c){var d=xn();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=Vc.bind(null,Le,!0,m),m.dispatch=d,[c,d]};var bo={readContext:Us,use:hi,useCallback:Xd,useContext:Us,useEffect:Yd,useImperativeHandle:cv,useInsertionEffect:Yl,useLayoutEffect:ov,useMemo:$p,useReducer:Sn,useRef:Wd,useState:function(){return Sn(aa)},useDebugValue:yh,useDeferredValue:function(c,d){var m=jn();return Jd(m,ct.memoizedState,c,d)},useTransition:function(){var c=Sn(aa)[0],d=jn().memoizedState;return[typeof c=="boolean"?c:ua(c),d]},useSyncExternalStore:Kn,useId:Ch};bo.useCacheRefresh=Xl,bo.useMemoCache=$i,bo.useHostTransitionStatus=wh,bo.useFormState=$c,bo.useActionState=$c,bo.useOptimistic=function(c,d){var m=jn();return Os(m,ct,c,d)};var Jl={readContext:Us,use:hi,useCallback:Xd,useContext:Us,useEffect:Yd,useImperativeHandle:cv,useInsertionEffect:Yl,useLayoutEffect:ov,useMemo:$p,useReducer:xa,useRef:Wd,useState:function(){return xa(aa)},useDebugValue:yh,useDeferredValue:function(c,d){var m=jn();return ct===null?vh(m,c,d):Jd(m,ct.memoizedState,c,d)},useTransition:function(){var c=xa(aa)[0],d=jn().memoizedState;return[typeof c=="boolean"?c:ua(c),d]},useSyncExternalStore:Kn,useId:Ch};Jl.useCacheRefresh=Xl,Jl.useMemoCache=$i,Jl.useHostTransitionStatus=wh,Jl.useFormState=Gd,Jl.useActionState=Gd,Jl.useOptimistic=function(c,d){var m=jn();return ct!==null?Os(m,ct,c,d):(m.baseState=c,[c,m.queue.dispatch])};function FA(c,d,m,y){d=c.memoizedState,m=m(y,d),m=m==null?d:D({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Ro={isMounted:function(c){return(c=c._reactInternals)?ee(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var y=zo(),S=DA(y);S.payload=d,m!=null&&(S.callback=m),d=MA(c,S,y),d!==null&&(to(d,c,y),Gp(d,c,y))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var y=zo(),S=DA(y);S.tag=1,S.payload=d,m!=null&&(S.callback=m),d=MA(c,S,y),d!==null&&(to(d,c,y),Gp(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=zo(),y=DA(m);y.tag=2,d!=null&&(y.callback=d),d=MA(c,y,m),d!==null&&(to(d,c,m),Gp(d,c,m))}};function Zl(c,d,m,y,S,I,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,I,X):d.prototype&&d.prototype.isPureReactComponent?!cl(m,y)||!cl(S,I):!0}function ec(c,d,m,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,y),d.state!==c&&Ro.enqueueReplaceState(d,d.state,null)}function pl(c,d){var m=d;if("ref"in d){m={};for(var y in d)y!=="ref"&&(m[y]=d[y])}if(c=c.defaultProps){m===d&&(m=D({},m));for(var S in c)m[S]===void 0&&(m[S]=c[S])}return m}var PA=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function qp(c){PA(c)}function mv(c){console.error(c)}function jh(c){PA(c)}function LA(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function iT(c,d,m){try{var y=c.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function f2(c,d,m){return m=DA(m),m.tag=3,m.payload={element:null},m.callback=function(){LA(c,d)},m}function sT(c){return c=DA(c),c.tag=3,c}function oT(c,d,m,y){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var I=y.value;c.payload=function(){return S(I)},c.callback=function(){iT(d,m,y)}}var X=m.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(c.callback=function(){iT(d,m,y),typeof S!="function"&&(qA===null?qA=new Set([this]):qA.add(this));var me=y.stack;this.componentDidCatch(y.value,{componentStack:me!==null?me:""})})}function uW(c,d,m,y,S){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=m.alternate,d!==null&&Kp(d,m,S,!0),m=yo.current,m!==null){switch(m.tag){case 13:return Do===null?G2():m.alternate===null&&ii===0&&(ii=3),m.flags&=-257,m.flags|=65536,m.lanes=S,y===Mp?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([y]):d.add(y),Y2(c,y,S)),!1;case 22:return m.flags|=65536,y===Mp?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([y]):m.add(y)),Y2(c,y,S)),!1}throw Error(n(435,m.tag))}return Y2(c,y,S),G2(),!1}if(Un)return d=yo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,y!==Dp&&(c=Error(n(422),{cause:y}),_A(Ta(c,m)))):(y!==Dp&&(d=Error(n(423),{cause:y}),_A(Ta(d,m))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,y=Ta(y,m),S=f2(c.stateNode,y,S),E2(c,S),ii!==4&&(ii=2)),!1;var I=Error(n(520),{cause:y});if(I=Ta(I,m),rg===null?rg=[I]:rg.push(I),ii!==4&&(ii=2),d===null)return!0;y=Ta(y,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=S&-S,m.lanes|=c,c=f2(m.stateNode,y,c),E2(m,c),!1;case 1:if(d=m.type,I=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(qA===null||!qA.has(I))))return m.flags|=65536,S&=-S,m.lanes|=S,S=sT(S),oT(S,c,m,y),E2(m,S),!1}m=m.return}while(m!==null);return!1}var lT=Error(n(461)),ts=!1;function bs(c,d,m,y){d.child=c===null?Hp(d,null,m,y):Rc(d,c.child,m,y)}function cT(c,d,m,y,S){m=m.render;var I=d.ref;if("ref"in y){var X={};for(var me in y)me!=="ref"&&(X[me]=y[me])}else X=y;return rf(d),y=qa(c,d,m,X,I,S),me=Oa(),c!==null&&!ts?(rn(c,d,S),Ou(c,d,S)):(Un&&me&&Up(d),d.flags|=1,bs(c,d,y,S),d.child)}function uT(c,d,m,y,S){if(c===null){var I=m.type;return typeof I=="function"&&!U2(I)&&I.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=I,AT(c,d,I,y,S)):(c=xv(m.type,null,y,d,d.mode,S),c.ref=d.ref,c.return=d,d.child=c)}if(I=c.child,!w2(c,S)){var X=I.memoizedProps;if(m=m.compare,m=m!==null?m:cl,m(X,y)&&c.ref===d.ref)return Ou(c,d,S)}return d.flags|=1,c=$A(I,y),c.ref=d.ref,c.return=d,d.child=c}function AT(c,d,m,y,S){if(c!==null){var I=c.memoizedProps;if(cl(I,y)&&c.ref===d.ref)if(ts=!1,d.pendingProps=y=I,w2(c,S))(c.flags&131072)!==0&&(ts=!0);else return d.lanes=c.lanes,Ou(c,d,S)}return h2(c,d,m,y,S)}function dT(c,d,m){var y=d.pendingProps,S=y.children,I=(d.stateNode._pendingVisibility&2)!==0,X=c!==null?c.memoizedState:null;if(Vp(c,d),y.mode==="hidden"||I){if((d.flags&128)!==0){if(y=X!==null?X.baseLanes|m:m,c!==null){for(S=d.child=c.child,I=0;S!==null;)I=I|S.lanes|S.childLanes,S=S.sibling;d.childLanes=I&~y}else d.childLanes=0,d.child=null;return fT(c,d,y,m)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&ot(d,X!==null?X.cachePool:null),X!==null?Vd(d,X):_u(),av(d);else return d.lanes=d.childLanes=536870912,fT(c,d,X!==null?X.baseLanes|m:m,m)}else X!==null?(ot(d,X.cachePool),Vd(d,X),Hc(),d.memoizedState=null):(c!==null&&ot(d,null),_u(),Hc());return bs(c,d,S,m),d.child}function fT(c,d,m,y){var S=Ie();return S=S===null?null:{parent:fi._currentValue,pool:S},d.memoizedState={baseLanes:m,cachePool:S},c!==null&&ot(d,null),_u(),av(d),c!==null&&Kp(c,d,y,!0),null}function Vp(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(d.flags|=2097664)}}function h2(c,d,m,y,S){return rf(d),m=qa(c,d,m,y,void 0,S),y=Oa(),c!==null&&!ts?(rn(c,d,S),Ou(c,d,S)):(Un&&y&&Up(d),d.flags|=1,bs(c,d,m,S),d.child)}function hT(c,d,m,y,S,I){return rf(d),d.updateQueue=null,m=kr(d,y,m,S),cn(c),y=Oa(),c!==null&&!ts?(rn(c,d,I),Ou(c,d,I)):(Un&&y&&Up(d),d.flags|=1,bs(c,d,m,I),d.child)}function mT(c,d,m,y,S){if(rf(d),d.stateNode===null){var I=ql,X=m.contextType;typeof X=="object"&&X!==null&&(I=Us(X)),I=new m(y,I),d.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Ro,d.stateNode=I,I._reactInternals=d,I=d.stateNode,I.props=y,I.state=d.memoizedState,I.refs={},S2(d),X=m.contextType,I.context=typeof X=="object"&&X!==null?Us(X):ql,I.state=d.memoizedState,X=m.getDerivedStateFromProps,typeof X=="function"&&(FA(d,m,X,y),I.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(X=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),X!==I.state&&Ro.enqueueReplaceState(I,I.state,null),Yp(d,y,I,S),Wp(),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){I=d.stateNode;var me=d.memoizedProps,Te=pl(m,me);I.props=Te;var qe=I.context,Ut=m.contextType;X=ql,typeof Ut=="object"&&Ut!==null&&(X=Us(Ut));var er=m.getDerivedStateFromProps;Ut=typeof er=="function"||typeof I.getSnapshotBeforeUpdate=="function",me=d.pendingProps!==me,Ut||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(me||qe!==X)&&ec(d,I,y,X),IA=!1;var mt=d.memoizedState;I.state=mt,Yp(d,y,I,S),Wp(),qe=d.memoizedState,me||mt!==qe||IA?(typeof er=="function"&&(FA(d,m,er,y),qe=d.memoizedState),(Te=IA||Zl(d,m,Te,y,mt,qe,X))?(Ut||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(d.flags|=4194308)):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=qe),I.props=y,I.state=qe,I.context=X,y=Te):(typeof I.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{I=d.stateNode,N2(c,d),X=d.memoizedProps,Ut=pl(m,X),I.props=Ut,er=d.pendingProps,mt=I.context,qe=m.contextType,Te=ql,typeof qe=="object"&&qe!==null&&(Te=Us(qe)),me=m.getDerivedStateFromProps,(qe=typeof me=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(X!==er||mt!==Te)&&ec(d,I,y,Te),IA=!1,mt=d.memoizedState,I.state=mt,Yp(d,y,I,S),Wp();var Ot=d.memoizedState;X!==er||mt!==Ot||IA||c!==null&&c.dependencies!==null&&pv(c.dependencies)?(typeof me=="function"&&(FA(d,m,me,y),Ot=d.memoizedState),(Ut=IA||Zl(d,m,Ut,y,mt,Ot,Te)||c!==null&&c.dependencies!==null&&pv(c.dependencies))?(qe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(y,Ot,Te),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(y,Ot,Te)),typeof I.componentDidUpdate=="function"&&(d.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof I.componentDidUpdate!="function"||X===c.memoizedProps&&mt===c.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&mt===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Ot),I.props=y,I.state=Ot,I.context=Te,y=Ut):(typeof I.componentDidUpdate!="function"||X===c.memoizedProps&&mt===c.memoizedState||(d.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&mt===c.memoizedState||(d.flags|=1024),y=!1)}return I=y,Vp(c,d),y=(d.flags&128)!==0,I||y?(I=d.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:I.render(),d.flags|=1,c!==null&&y?(d.child=Rc(d,c.child,null,S),d.child=Rc(d,null,m,S)):bs(c,d,m,S),d.memoizedState=I.state,c=d.child):c=Ou(c,d,S),c}function pT(c,d,m,y){return $d(),d.flags|=256,bs(c,d,m,y),d.child}var m2={dehydrated:null,treeContext:null,retryLane:0};function p2(c){return{baseLanes:c,cachePool:Se()}}function g2(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=xl),c}function gT(c,d,m){var y=d.pendingProps,S=!1,I=(d.flags&128)!==0,X;if((X=I)||(X=c!==null&&c.memoizedState===null?!1:(di.current&2)!==0),X&&(S=!0,d.flags&=-129),X=(d.flags&32)!==0,d.flags&=-33,c===null){if(Un){if(S?Qc(d):Hc(),Un){var me=Hi,Te;if(Te=me){e:{for(Te=me,me=hl;Te.nodeType!==8;){if(!me){me=null;break e}if(Te=rc(Te.nextSibling),Te===null){me=null;break e}}me=Te}me!==null?(d.memoizedState={dehydrated:me,treeContext:Mc!==null?{id:Po,overflow:Lo}:null,retryLane:536870912},Te=vl(18,null,null,0),Te.stateNode=me,Te.return=d,d.child=Te,es=d,Hi=null,Te=!0):Te=!1}Te||Gl(d)}if(me=d.memoizedState,me!==null&&(me=me.dehydrated,me!==null))return me.data==="$!"?d.lanes=16:d.lanes=536870912,null;Wl(d)}return me=y.children,y=y.fallback,S?(Hc(),S=d.mode,me=v2({mode:"hidden",children:me},S),y=af(y,S,m,null),me.return=d,y.return=d,me.sibling=y,d.child=me,S=d.child,S.memoizedState=p2(m),S.childLanes=g2(c,X,m),d.memoizedState=m2,y):(Qc(d),y2(d,me))}if(Te=c.memoizedState,Te!==null&&(me=Te.dehydrated,me!==null)){if(I)d.flags&256?(Qc(d),d.flags&=-257,d=x2(c,d,m)):d.memoizedState!==null?(Hc(),d.child=c.child,d.flags|=128,d=null):(Hc(),S=y.fallback,me=d.mode,y=v2({mode:"visible",children:y.children},me),S=af(S,me,m,null),S.flags|=2,y.return=d,S.return=d,y.sibling=S,d.child=y,Rc(d,c.child,null,m),y=d.child,y.memoizedState=p2(m),y.childLanes=g2(c,X,m),d.memoizedState=m2,d=S);else if(Qc(d),me.data==="$!"){if(X=me.nextSibling&&me.nextSibling.dataset,X)var qe=X.dgst;X=qe,y=Error(n(419)),y.stack="",y.digest=X,_A({value:y,source:null,stack:null}),d=x2(c,d,m)}else if(ts||Kp(c,d,m,!1),X=(m&c.childLanes)!==0,ts||X){if(X=ba,X!==null){if(y=m&-m,(y&42)!==0)y=1;else switch(y){case 2:y=1;break;case 8:y=4;break;case 32:y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:y=64;break;case 268435456:y=134217728;break;default:y=0}if(y=(y&(X.suspendedLanes|m))!==0?0:y,y!==0&&y!==Te.retryLane)throw Te.retryLane=y,zl(c,y),to(X,c,y),lT}me.data==="$?"||G2(),d=x2(c,d,m)}else me.data==="$?"?(d.flags|=128,d.child=c.child,d=jW.bind(null,c),me._reactRetry=d,d=null):(c=Te.treeContext,Hi=rc(me.nextSibling),es=d,Un=!0,Uo=null,hl=!1,c!==null&&(ms[Ts++]=Po,ms[Ts++]=Lo,ms[Ts++]=Mc,Po=c.id,Lo=c.overflow,Mc=d),d=y2(d,y.children),d.flags|=4096);return d}return S?(Hc(),S=y.fallback,me=d.mode,Te=c.child,qe=Te.sibling,y=$A(Te,{mode:"hidden",children:y.children}),y.subtreeFlags=Te.subtreeFlags&31457280,qe!==null?S=$A(qe,S):(S=af(S,me,m,null),S.flags|=2),S.return=d,y.return=d,y.sibling=S,d.child=y,y=S,S=d.child,me=c.child.memoizedState,me===null?me=p2(m):(Te=me.cachePool,Te!==null?(qe=fi._currentValue,Te=Te.parent!==qe?{parent:qe,pool:qe}:Te):Te=Se(),me={baseLanes:me.baseLanes|m,cachePool:Te}),S.memoizedState=me,S.childLanes=g2(c,X,m),d.memoizedState=m2,y):(Qc(d),m=c.child,c=m.sibling,m=$A(m,{mode:"visible",children:y.children}),m.return=d,m.sibling=null,c!==null&&(X=d.deletions,X===null?(d.deletions=[c],d.flags|=16):X.push(c)),d.child=m,d.memoizedState=null,m)}function y2(c,d){return d=v2({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function v2(c,d){return $T(c,d,0,null)}function x2(c,d,m){return Rc(d,c.child,null,m),c=y2(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function yT(c,d,m){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),B2(c.return,d,m)}function b2(c,d,m,y,S){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S}:(I.isBackwards=d,I.rendering=null,I.renderingStartTime=0,I.last=y,I.tail=m,I.tailMode=S)}function vT(c,d,m){var y=d.pendingProps,S=y.revealOrder,I=y.tail;if(bs(c,d,y.children,m),y=di.current,(y&2)!==0)y=y&1|2,d.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&yT(c,m,d);else if(c.tag===19)yT(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}y&=1}switch(ce(di,y),S){case"forwards":for(m=d.child,S=null;m!==null;)c=m.alternate,c!==null&&hh(c)===null&&(S=m),m=m.sibling;m=S,m===null?(S=d.child,d.child=null):(S=m.sibling,m.sibling=null),b2(d,!1,S,m,I);break;case"backwards":for(m=null,S=d.child,d.child=null;S!==null;){if(c=S.alternate,c!==null&&hh(c)===null){d.child=S;break}c=S.sibling,S.sibling=m,m=S,S=c}b2(d,!0,m,null,I);break;case"together":b2(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Ou(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),zA|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(Kp(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=$A(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=$A(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function w2(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&pv(c)))}function AW(c,d,m){switch(d.tag){case 3:se(d,d.stateNode.containerInfo),UA(d,fi,c.memoizedState.cache),$d();break;case 27:case 5:Qt(d);break;case 4:se(d,d.stateNode.containerInfo);break;case 10:UA(d,d.type,d.memoizedProps.value);break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Qc(d),d.flags|=128,null):(m&d.child.childLanes)!==0?gT(c,d,m):(Qc(d),c=Ou(c,d,m),c!==null?c.sibling:null);Qc(d);break;case 19:var S=(c.flags&128)!==0;if(y=(m&d.childLanes)!==0,y||(Kp(c,d,m,!1),y=(m&d.childLanes)!==0),S){if(y)return vT(c,d,m);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),ce(di,di.current),y)break;return null;case 22:case 23:return d.lanes=0,dT(c,d,m);case 24:UA(d,fi,c.memoizedState.cache)}return Ou(c,d,m)}function xT(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)ts=!0;else{if(!w2(c,m)&&(d.flags&128)===0)return ts=!1,AW(c,d,m);ts=(c.flags&131072)!==0}else ts=!1,Un&&(d.flags&1048576)!==0&&Ah(d,Nu,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var y=d.elementType,S=y._init;if(y=S(y._payload),d.type=y,typeof y=="function")U2(y)?(c=pl(y,c),d.tag=1,d=mT(null,d,y,c,m)):(d.tag=0,d=h2(null,d,y,c,m));else{if(y!=null){if(S=y.$$typeof,S===v){d.tag=11,d=cT(null,d,y,c,m);break e}else if(S===w){d.tag=14,d=uT(null,d,y,c,m);break e}}throw d=P(y)||y,Error(n(306,d,""))}}return d;case 0:return h2(c,d,d.type,d.pendingProps,m);case 1:return y=d.type,S=pl(y,d.pendingProps),mT(c,d,y,S,m);case 3:e:{if(se(d,d.stateNode.containerInfo),c===null)throw Error(n(387));var I=d.pendingProps;S=d.memoizedState,y=S.element,N2(c,d),Yp(d,I,null,m);var X=d.memoizedState;if(I=X.cache,UA(d,fi,I),I!==S.cache&&j2(d,[fi],m,!0),Wp(),I=X.element,S.isDehydrated)if(S={element:I,isDehydrated:!1,cache:X.cache},d.updateQueue.baseState=S,d.memoizedState=S,d.flags&256){d=pT(c,d,I,m);break e}else if(I!==y){y=Ta(Error(n(424)),d),_A(y),d=pT(c,d,I,m);break e}else for(Hi=rc(d.stateNode.containerInfo.firstChild),es=d,Un=!0,Uo=null,hl=!0,m=Hp(d,null,I,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if($d(),I===y){d=Ou(c,d,m);break e}bs(c,d,I,m)}d=d.child}return d;case 26:return Vp(c,d),c===null?(m=CO(d.type,null,d.pendingProps,null))?d.memoizedState=m:Un||(m=d.type,c=d.pendingProps,y=Ov(Pe.current).createElement(m),y[Vr]=d,y[dn]=c,ws(y,m,c),st(y),d.stateNode=y):d.memoizedState=CO(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return Qt(d),c===null&&Un&&(y=d.stateNode=xO(d.type,d.pendingProps,Pe.current),es=d,hl=!0,Hi=rc(y.firstChild)),y=d.pendingProps.children,c!==null||Un?bs(c,d,y,m):d.child=Rc(d,null,y,m),Vp(c,d),d.child;case 5:return c===null&&Un&&((S=y=Hi)&&(y=QW(y,d.type,d.pendingProps,hl),y!==null?(d.stateNode=y,es=d,Hi=rc(y.firstChild),hl=!1,S=!0):S=!1),S||Gl(d)),Qt(d),S=d.type,I=d.pendingProps,X=c!==null?c.memoizedProps:null,y=I.children,lC(S,I)?y=null:X!==null&&lC(S,X)&&(d.flags|=32),d.memoizedState!==null&&(S=qa(c,d,dr,null,null,m),Ag._currentValue=S),Vp(c,d),bs(c,d,y,m),d.child;case 6:return c===null&&Un&&((c=m=Hi)&&(m=HW(m,d.pendingProps,hl),m!==null?(d.stateNode=m,es=d,Hi=null,c=!0):c=!1),c||Gl(d)),null;case 13:return gT(c,d,m);case 4:return se(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=Rc(d,null,y,m):bs(c,d,y,m),d.child;case 11:return cT(c,d,d.type,d.pendingProps,m);case 7:return bs(c,d,d.pendingProps,m),d.child;case 8:return bs(c,d,d.pendingProps.children,m),d.child;case 12:return bs(c,d,d.pendingProps.children,m),d.child;case 10:return y=d.pendingProps,UA(d,d.type,y.value),bs(c,d,y.children,m),d.child;case 9:return S=d.type._context,y=d.pendingProps.children,rf(d),S=Us(S),y=y(S),d.flags|=1,bs(c,d,y,m),d.child;case 14:return uT(c,d,d.type,d.pendingProps,m);case 15:return AT(c,d,d.type,d.pendingProps,m);case 19:return vT(c,d,m);case 22:return dT(c,d,m);case 24:return rf(d),y=Us(fi),c===null?(S=Ie(),S===null&&(S=ba,I=ph(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=m),S=I),d.memoizedState={parent:y,cache:S},S2(d),UA(d,fi,S)):((c.lanes&m)!==0&&(N2(c,d),Yp(d,null,null,m),Wp()),S=c.memoizedState,I=d.memoizedState,S.parent!==y?(S={parent:y,cache:y},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),UA(d,fi,y)):(y=I.cache,UA(d,fi,y),y!==S.cache&&j2(d,[fi],m,!0))),bs(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}var C2=we(null),tf=null,Fu=null;function UA(c,d,m){ce(C2,d._currentValue),d._currentValue=m}function Pu(c){c._currentValue=C2.current,he(C2)}function B2(c,d,m){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===m)break;c=c.return}}function j2(c,d,m,y){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var I=S.dependencies;if(I!==null){var X=S.child;I=I.firstContext;e:for(;I!==null;){var me=I;I=S;for(var Te=0;Te<d.length;Te++)if(me.context===d[Te]){I.lanes|=m,me=I.alternate,me!==null&&(me.lanes|=m),B2(I.return,m,c),y||(X=null);break e}I=me.next}}else if(S.tag===18){if(X=S.return,X===null)throw Error(n(341));X.lanes|=m,I=X.alternate,I!==null&&(I.lanes|=m),B2(X,m,c),X=null}else X=S.child;if(X!==null)X.return=S;else for(X=S;X!==null;){if(X===c){X=null;break}if(S=X.sibling,S!==null){S.return=X.return,X=S;break}X=X.return}S=X}}function Kp(c,d,m,y){c=null;for(var S=d,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var X=S.alternate;if(X===null)throw Error(n(387));if(X=X.memoizedProps,X!==null){var me=S.type;Si(S.pendingProps.value,X.value)||(c!==null?c.push(me):c=[me])}}else if(S===ke.current){if(X=S.alternate,X===null)throw Error(n(387));X.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(Ag):c=[Ag])}S=S.return}c!==null&&j2(d,c,m,y),d.flags|=262144}function pv(c){for(c=c.firstContext;c!==null;){if(!Si(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function rf(c){tf=c,Fu=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Us(c){return bT(tf,c)}function gv(c,d){return tf===null&&rf(c),bT(c,d)}function bT(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},Fu===null){if(c===null)throw Error(n(308));Fu=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Fu=Fu.next=d;return m}var IA=!1;function S2(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N2(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function DA(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function MA(c,d,m){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Ga&2)!==0){var S=y.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),y.pending=d,d=EA(c),Lp(c,null,m),d}return Rd(c,y,d,m),EA(c)}function Gp(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194176)!==0)){var y=d.lanes;y&=c.pendingLanes,m|=y,d.lanes=m,cr(c,m)}}function E2(c,d){var m=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,I=null;if(m=m.firstBaseUpdate,m!==null){do{var X={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};I===null?S=I=X:I=I.next=X,m=m.next}while(m!==null);I===null?S=I=d:I=I.next=d}else S=I=d;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:y.shared,callbacks:y.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var k2=!1;function Wp(){if(k2){var c=ne;if(c!==null)throw c}}function Yp(c,d,m,y){k2=!1;var S=c.updateQueue;IA=!1;var I=S.firstBaseUpdate,X=S.lastBaseUpdate,me=S.shared.pending;if(me!==null){S.shared.pending=null;var Te=me,qe=Te.next;Te.next=null,X===null?I=qe:X.next=qe,X=Te;var Ut=c.alternate;Ut!==null&&(Ut=Ut.updateQueue,me=Ut.lastBaseUpdate,me!==X&&(me===null?Ut.firstBaseUpdate=qe:me.next=qe,Ut.lastBaseUpdate=Te))}if(I!==null){var er=S.baseState;X=0,Ut=qe=Te=null,me=I;do{var mt=me.lane&-536870913,Ot=mt!==me.lane;if(Ot?(In&mt)===mt:(y&mt)===mt){mt!==0&&mt===K&&(k2=!0),Ut!==null&&(Ut=Ut.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var Dr=c,un=me;mt=d;var si=m;switch(un.tag){case 1:if(Dr=un.payload,typeof Dr=="function"){er=Dr.call(si,er,mt);break e}er=Dr;break e;case 3:Dr.flags=Dr.flags&-65537|128;case 0:if(Dr=un.payload,mt=typeof Dr=="function"?Dr.call(si,er,mt):Dr,mt==null)break e;er=D({},er,mt);break e;case 2:IA=!0}}mt=me.callback,mt!==null&&(c.flags|=64,Ot&&(c.flags|=8192),Ot=S.callbacks,Ot===null?S.callbacks=[mt]:Ot.push(mt))}else Ot={lane:mt,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ut===null?(qe=Ut=Ot,Te=er):Ut=Ut.next=Ot,X|=mt;if(me=me.next,me===null){if(me=S.shared.pending,me===null)break;Ot=me,me=Ot.next,Ot.next=null,S.lastBaseUpdate=Ot,S.shared.pending=null}}while(!0);Ut===null&&(Te=er),S.baseState=Te,S.firstBaseUpdate=qe,S.lastBaseUpdate=Ut,I===null&&(S.shared.lanes=0),zA|=X,c.lanes=X,c.memoizedState=er}}function wT(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function CT(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)wT(m[c],d)}function Xp(c,d){try{var m=d.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&c)===c){y=void 0;var I=m.create,X=m.inst;y=I(),X.destroy=y}m=m.next}while(m!==S)}}catch(me){ma(d,d.return,me)}}function RA(c,d,m){try{var y=d.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var I=S.next;y=I;do{if((y.tag&c)===c){var X=y.inst,me=X.destroy;if(me!==void 0){X.destroy=void 0,S=d;var Te=m;try{me()}catch(qe){ma(S,Te,qe)}}}y=y.next}while(y!==I)}}catch(qe){ma(d,d.return,qe)}}function BT(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{CT(d,m)}catch(y){ma(c,c.return,y)}}}function jT(c,d,m){m.props=pl(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(y){ma(c,d,y)}}function nf(c,d){try{var m=c.ref;if(m!==null){var y=c.stateNode;switch(c.tag){case 26:case 27:case 5:var S=y;break;default:S=y}typeof m=="function"?c.refCleanup=m(S):m.current=S}}catch(I){ma(c,d,I)}}function Qo(c,d){var m=c.ref,y=c.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(S){ma(c,d,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){ma(c,d,S)}else m.current=null}function ST(c){var d=c.type,m=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(S){ma(c,c.return,S)}}function NT(c,d,m){try{var y=c.stateNode;UW(y,c.type,m,d),y[dn]=d}catch(S){ma(c,c.return,S)}}function ET(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function _2(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ET(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function T2(c,d,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Tv));else if(y!==4&&y!==27&&(c=c.child,c!==null))for(T2(c,d,m),c=c.sibling;c!==null;)T2(c,d,m),c=c.sibling}function yv(c,d,m){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(y!==4&&y!==27&&(c=c.child,c!==null))for(yv(c,d,m),c=c.sibling;c!==null;)yv(c,d,m),c=c.sibling}var Lu=!1,ai=!1,O2=!1,kT=typeof WeakSet=="function"?WeakSet:Set,rs=null,_T=!1;function dW(c,d){if(c=c.containerInfo,sC=Dv,c=NA(c),fs(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,I=y.focusNode;y=y.focusOffset;try{m.nodeType,I.nodeType}catch{m=null;break e}var X=0,me=-1,Te=-1,qe=0,Ut=0,er=c,mt=null;t:for(;;){for(var Ot;er!==m||S!==0&&er.nodeType!==3||(me=X+S),er!==I||y!==0&&er.nodeType!==3||(Te=X+y),er.nodeType===3&&(X+=er.nodeValue.length),(Ot=er.firstChild)!==null;)mt=er,er=Ot;for(;;){if(er===c)break t;if(mt===m&&++qe===S&&(me=X),mt===I&&++Ut===y&&(Te=X),(Ot=er.nextSibling)!==null)break;er=mt,mt=er.parentNode}er=Ot}m=me===-1||Te===-1?null:{start:me,end:Te}}else m=null}m=m||{start:0,end:0}}else m=null;for(oC={focusedElem:c,selectionRange:m},Dv=!1,rs=d;rs!==null;)if(d=rs,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,rs=c;else for(;rs!==null;){switch(d=rs,I=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&I!==null){c=void 0,m=d,S=I.memoizedProps,I=I.memoizedState,y=m.stateNode;try{var Dr=pl(m.type,S,m.elementType===m.type);c=y.getSnapshotBeforeUpdate(Dr,I),y.__reactInternalSnapshotBeforeUpdate=c}catch(un){ma(m,m.return,un)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)AC(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":AC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,rs=c;break}rs=d.return}return Dr=_T,_T=!1,Dr}function TT(c,d,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Iu(c,m),y&4&&Xp(5,m);break;case 1:if(Iu(c,m),y&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(me){ma(m,m.return,me)}else{var S=pl(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(S,d,c.__reactInternalSnapshotBeforeUpdate)}catch(me){ma(m,m.return,me)}}y&64&&BT(m),y&512&&nf(m,m.return);break;case 3:if(Iu(c,m),y&64&&(y=m.updateQueue,y!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{CT(y,c)}catch(me){ma(m,m.return,me)}}break;case 26:Iu(c,m),y&512&&nf(m,m.return);break;case 27:case 5:Iu(c,m),d===null&&y&4&&ST(m),y&512&&nf(m,m.return);break;case 12:Iu(c,m);break;case 13:Iu(c,m),y&4&&PT(c,m);break;case 22:if(S=m.memoizedState!==null||Lu,!S){d=d!==null&&d.memoizedState!==null||ai;var I=Lu,X=ai;Lu=S,(ai=d)&&!X?QA(c,m,(m.subtreeFlags&8772)!==0):Iu(c,m),Lu=I,ai=X}y&512&&(m.memoizedProps.mode==="manual"?nf(m,m.return):Qo(m,m.return));break;default:Iu(c,m)}}function OT(c){var d=c.alternate;d!==null&&(c.alternate=null,OT(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Ja(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var ki=null,Ho=!1;function Uu(c,d,m){for(m=m.child;m!==null;)FT(c,d,m),m=m.sibling}function FT(c,d,m){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Ve,m)}catch{}switch(m.tag){case 26:ai||Qo(m,d),Uu(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ai||Qo(m,d);var y=ki,S=Ho;for(ki=m.stateNode,Uu(c,d,m),m=m.stateNode,d=m.attributes;d.length;)m.removeAttributeNode(d[0]);Ja(m),ki=y,Ho=S;break;case 5:ai||Qo(m,d);case 6:S=ki;var I=Ho;if(ki=null,Uu(c,d,m),ki=S,Ho=I,ki!==null)if(Ho)try{c=ki,y=m.stateNode,c.nodeType===8?c.parentNode.removeChild(y):c.removeChild(y)}catch(X){ma(m,d,X)}else try{ki.removeChild(m.stateNode)}catch(X){ma(m,d,X)}break;case 18:ki!==null&&(Ho?(d=ki,m=m.stateNode,d.nodeType===8?uC(d.parentNode,m):d.nodeType===1&&uC(d,m),mg(d)):uC(ki,m.stateNode));break;case 4:y=ki,S=Ho,ki=m.stateNode.containerInfo,Ho=!0,Uu(c,d,m),ki=y,Ho=S;break;case 0:case 11:case 14:case 15:ai||RA(2,m,d),ai||RA(4,m,d),Uu(c,d,m);break;case 1:ai||(Qo(m,d),y=m.stateNode,typeof y.componentWillUnmount=="function"&&jT(m,d,y)),Uu(c,d,m);break;case 21:Uu(c,d,m);break;case 22:ai||Qo(m,d),ai=(y=ai)||m.memoizedState!==null,Uu(c,d,m),ai=y;break;default:Uu(c,d,m)}}function PT(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{mg(c)}catch(m){ma(d,d.return,m)}}function fW(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new kT),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new kT),d;default:throw Error(n(435,c.tag))}}function F2(c,d){var m=fW(c);d.forEach(function(y){var S=SW.bind(null,c,y);m.has(y)||(m.add(y),y.then(S,S))})}function gl(c,d){var m=d.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y],I=c,X=d,me=X;e:for(;me!==null;){switch(me.tag){case 27:case 5:ki=me.stateNode,Ho=!1;break e;case 3:ki=me.stateNode.containerInfo,Ho=!0;break e;case 4:ki=me.stateNode.containerInfo,Ho=!0;break e}me=me.return}if(ki===null)throw Error(n(160));FT(I,X,S),ki=null,Ho=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)LT(d,c),d=d.sibling}var tc=null;function LT(c,d){var m=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:gl(d,c),yl(c),y&4&&(RA(3,c,c.return),Xp(3,c),RA(5,c,c.return));break;case 1:gl(d,c),yl(c),y&512&&(ai||m===null||Qo(m,m.return)),y&64&&Lu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var S=tc;if(gl(d,c),yl(c),y&512&&(ai||m===null||Qo(m,m.return)),y&4){var I=m!==null?m.memoizedState:null;if(y=c.memoizedState,m===null)if(y===null)if(c.stateNode===null){e:{y=c.type,m=c.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":I=S.getElementsByTagName("title")[0],(!I||I[bn]||I[Vr]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(y),S.head.insertBefore(I,S.querySelector("head > title"))),ws(I,y,m),I[Vr]=c,st(I),y=I;break e;case"link":var X=SO("link","href",S).get(y+(m.href||""));if(X){for(var me=0;me<X.length;me++)if(I=X[me],I.getAttribute("href")===(m.href==null?null:m.href)&&I.getAttribute("rel")===(m.rel==null?null:m.rel)&&I.getAttribute("title")===(m.title==null?null:m.title)&&I.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){X.splice(me,1);break t}}I=S.createElement(y),ws(I,y,m),S.head.appendChild(I);break;case"meta":if(X=SO("meta","content",S).get(y+(m.content||""))){for(me=0;me<X.length;me++)if(I=X[me],I.getAttribute("content")===(m.content==null?null:""+m.content)&&I.getAttribute("name")===(m.name==null?null:m.name)&&I.getAttribute("property")===(m.property==null?null:m.property)&&I.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&I.getAttribute("charset")===(m.charSet==null?null:m.charSet)){X.splice(me,1);break t}}I=S.createElement(y),ws(I,y,m),S.head.appendChild(I);break;default:throw Error(n(468,y))}I[Vr]=c,st(I),y=I}c.stateNode=y}else NO(S,c.type,c.stateNode);else c.stateNode=jO(S,y,c.memoizedProps);else I!==y?(I===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):I.count--,y===null?NO(S,c.type,c.stateNode):jO(S,y,c.memoizedProps)):y===null&&c.stateNode!==null&&NT(c,c.memoizedProps,m.memoizedProps)}break;case 27:if(y&4&&c.alternate===null){S=c.stateNode,I=c.memoizedProps;try{for(var Te=S.firstChild;Te;){var qe=Te.nextSibling,Ut=Te.nodeName;Te[bn]||Ut==="HEAD"||Ut==="BODY"||Ut==="SCRIPT"||Ut==="STYLE"||Ut==="LINK"&&Te.rel.toLowerCase()==="stylesheet"||S.removeChild(Te),Te=qe}for(var er=c.type,mt=S.attributes;mt.length;)S.removeAttributeNode(mt[0]);ws(S,er,I),S[Vr]=c,S[dn]=I}catch(Dr){ma(c,c.return,Dr)}}case 5:if(gl(d,c),yl(c),y&512&&(ai||m===null||Qo(m,m.return)),c.flags&32){S=c.stateNode;try{kt(S,"")}catch(Dr){ma(c,c.return,Dr)}}y&4&&c.stateNode!=null&&(S=c.memoizedProps,NT(c,S,m!==null?m.memoizedProps:S)),y&1024&&(O2=!0);break;case 6:if(gl(d,c),yl(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,m=c.stateNode;try{m.nodeValue=y}catch(Dr){ma(c,c.return,Dr)}}break;case 3:if(Lv=null,S=tc,tc=Fv(d.containerInfo),gl(d,c),tc=S,yl(c),y&4&&m!==null&&m.memoizedState.isDehydrated)try{mg(d.containerInfo)}catch(Dr){ma(c,c.return,Dr)}O2&&(O2=!1,UT(c));break;case 4:y=tc,tc=Fv(c.stateNode.containerInfo),gl(d,c),yl(c),tc=y;break;case 12:gl(d,c),yl(c);break;case 13:gl(d,c),yl(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(H2=Ke()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,F2(c,y)));break;case 22:if(y&512&&(ai||m===null||Qo(m,m.return)),Te=c.memoizedState!==null,qe=m!==null&&m.memoizedState!==null,Ut=Lu,er=ai,Lu=Ut||Te,ai=er||qe,gl(d,c),ai=er,Lu=Ut,yl(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,y&8192&&(d._visibility=Te?d._visibility&-2:d._visibility|1,Te&&(d=Lu||ai,m===null||qe||d||Sh(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(m=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(m===null){qe=m=d;try{if(S=qe.stateNode,Te)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{X=qe.stateNode,me=qe.memoizedProps.style;var Ot=me!=null&&me.hasOwnProperty("display")?me.display:null;X.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(Dr){ma(qe,qe.return,Dr)}}}else if(d.tag===6){if(m===null){qe=d;try{qe.stateNode.nodeValue=Te?"":qe.memoizedProps}catch(Dr){ma(qe,qe.return,Dr)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,F2(c,m))));break;case 19:gl(d,c),yl(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,F2(c,y)));break;case 21:break;default:gl(d,c),yl(c)}}function yl(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var m=c.return;m!==null;){if(ET(m)){var y=m;break e}m=m.return}throw Error(n(160))}switch(y.tag){case 27:var S=y.stateNode,I=_2(c);yv(c,I,S);break;case 5:var X=y.stateNode;y.flags&32&&(kt(X,""),y.flags&=-33);var me=_2(c);yv(c,me,X);break;case 3:case 4:var Te=y.stateNode.containerInfo,qe=_2(c);T2(c,qe,Te);break;default:throw Error(n(161))}}}catch(Ut){ma(c,c.return,Ut)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function UT(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;UT(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Iu(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)TT(c,d.alternate,d),d=d.sibling}function Sh(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:RA(4,d,d.return),Sh(d);break;case 1:Qo(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&jT(d,d.return,m),Sh(d);break;case 26:case 27:case 5:Qo(d,d.return),Sh(d);break;case 22:Qo(d,d.return),d.memoizedState===null&&Sh(d);break;default:Sh(d)}c=c.sibling}}function QA(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,S=c,I=d,X=I.flags;switch(I.tag){case 0:case 11:case 15:QA(S,I,m),Xp(4,I);break;case 1:if(QA(S,I,m),y=I,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(qe){ma(y,y.return,qe)}if(y=I,S=y.updateQueue,S!==null){var me=y.stateNode;try{var Te=S.shared.hiddenCallbacks;if(Te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Te.length;S++)wT(Te[S],me)}catch(qe){ma(y,y.return,qe)}}m&&X&64&&BT(I),nf(I,I.return);break;case 26:case 27:case 5:QA(S,I,m),m&&y===null&&X&4&&ST(I),nf(I,I.return);break;case 12:QA(S,I,m);break;case 13:QA(S,I,m),m&&X&4&&PT(S,I);break;case 22:I.memoizedState===null&&QA(S,I,m),nf(I,I.return);break;default:QA(S,I,m)}d=d.sibling}}function P2(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&C(m))}function L2(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&C(c))}function HA(c,d,m,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)IT(c,d,m,y),d=d.sibling}function IT(c,d,m,y){var S=d.flags;switch(d.tag){case 0:case 11:case 15:HA(c,d,m,y),S&2048&&Xp(9,d);break;case 3:HA(c,d,m,y),S&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&C(c)));break;case 12:if(S&2048){HA(c,d,m,y),c=d.stateNode;try{var I=d.memoizedProps,X=I.id,me=I.onPostCommit;typeof me=="function"&&me(X,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Te){ma(d,d.return,Te)}}else HA(c,d,m,y);break;case 23:break;case 22:I=d.stateNode,d.memoizedState!==null?I._visibility&4?HA(c,d,m,y):Jp(c,d):I._visibility&4?HA(c,d,m,y):(I._visibility|=4,Nh(c,d,m,y,(d.subtreeFlags&10256)!==0)),S&2048&&P2(d.alternate,d);break;case 24:HA(c,d,m,y),S&2048&&L2(d.alternate,d);break;default:HA(c,d,m,y)}}function Nh(c,d,m,y,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var I=c,X=d,me=m,Te=y,qe=X.flags;switch(X.tag){case 0:case 11:case 15:Nh(I,X,me,Te,S),Xp(8,X);break;case 23:break;case 22:var Ut=X.stateNode;X.memoizedState!==null?Ut._visibility&4?Nh(I,X,me,Te,S):Jp(I,X):(Ut._visibility|=4,Nh(I,X,me,Te,S)),S&&qe&2048&&P2(X.alternate,X);break;case 24:Nh(I,X,me,Te,S),S&&qe&2048&&L2(X.alternate,X);break;default:Nh(I,X,me,Te,S)}d=d.sibling}}function Jp(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,y=d,S=y.flags;switch(y.tag){case 22:Jp(m,y),S&2048&&P2(y.alternate,y);break;case 24:Jp(m,y),S&2048&&L2(y.alternate,y);break;default:Jp(m,y)}d=d.sibling}}var Zp=8192;function Eh(c){if(c.subtreeFlags&Zp)for(c=c.child;c!==null;)DT(c),c=c.sibling}function DT(c){switch(c.tag){case 26:Eh(c),c.flags&Zp&&c.memoizedState!==null&&tY(tc,c.memoizedState,c.memoizedProps);break;case 5:Eh(c);break;case 3:case 4:var d=tc;tc=Fv(c.stateNode.containerInfo),Eh(c),tc=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Zp,Zp=16777216,Eh(c),Zp=d):Eh(c));break;default:Eh(c)}}function MT(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function eg(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];rs=y,QT(y,c)}MT(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)RT(c),c=c.sibling}function RT(c){switch(c.tag){case 0:case 11:case 15:eg(c),c.flags&2048&&RA(9,c,c.return);break;case 3:eg(c);break;case 12:eg(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,vv(c)):eg(c);break;default:eg(c)}}function vv(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var y=d[m];rs=y,QT(y,c)}MT(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:RA(8,d,d.return),vv(d);break;case 22:m=d.stateNode,m._visibility&4&&(m._visibility&=-5,vv(d));break;default:vv(d)}c=c.sibling}}function QT(c,d){for(;rs!==null;){var m=rs;switch(m.tag){case 0:case 11:case 15:RA(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:C(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,rs=y;else e:for(m=c;rs!==null;){y=rs;var S=y.sibling,I=y.return;if(OT(y),y===m){rs=null;break e}if(S!==null){S.return=I,rs=S;break e}rs=I}}}function hW(c,d,m,y){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vl(c,d,m,y){return new hW(c,d,m,y)}function U2(c){return c=c.prototype,!(!c||!c.isReactComponent)}function $A(c,d){var m=c.alternate;return m===null?(m=vl(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&31457280,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function HT(c,d){c.flags&=31457282;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function xv(c,d,m,y,S,I){var X=0;if(y=c,typeof c=="function")U2(c)&&(X=1);else if(typeof c=="string")X=ZW(c,m,xe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case u:return af(m.children,S,I,d);case A:X=8,S|=24;break;case f:return c=vl(12,m,d,S|2),c.elementType=f,c.lanes=I,c;case x:return c=vl(13,m,d,S),c.elementType=x,c.lanes=I,c;case b:return c=vl(19,m,d,S),c.elementType=b,c.lanes=I,c;case j:return $T(m,S,I,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case h:case g:X=10;break e;case p:X=9;break e;case v:X=11;break e;case w:X=14;break e;case B:X=16,y=null;break e}X=29,m=Error(n(130,c===null?"null":typeof c,"")),y=null}return d=vl(X,m,d,S),d.elementType=c,d.type=y,d.lanes=I,d}function af(c,d,m,y){return c=vl(7,c,y,d),c.lanes=m,c}function $T(c,d,m,y){c=vl(22,c,y,d),c.elementType=j,c.lanes=m;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var I=S._current;if(I===null)throw Error(n(456));if((S._pendingVisibility&2)===0){var X=zl(I,2);X!==null&&(S._pendingVisibility|=2,to(X,I,2))}},attach:function(){var I=S._current;if(I===null)throw Error(n(456));if((S._pendingVisibility&2)!==0){var X=zl(I,2);X!==null&&(S._pendingVisibility&=-3,to(X,I,2))}}};return c.stateNode=S,c}function I2(c,d,m){return c=vl(6,c,null,d),c.lanes=m,c}function D2(c,d,m){return d=vl(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Du(c){c.flags|=4}function zT(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!EO(d)){if(d=yo.current,d!==null&&((In&4194176)===In?Do!==null:(In&62914560)!==In&&(In&536870912)===0||d!==Do))throw eo=Mp,tv;c.flags|=8192}}function bv(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Kt():536870912,c.lanes|=d,_h|=d)}function tg(c,d){if(!Un)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Ka(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,y=0;if(d)for(var S=c.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&31457280,y|=S.flags&31457280,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=y,c.childLanes=m,d}function mW(c,d,m){var y=d.pendingProps;switch(Ip(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(d),null;case 1:return Ka(d),null;case 3:return m=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),Pu(fi),Et(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(Hd(d)?Du(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Uo!==null&&(V2(Uo),Uo=null))),Ka(d),null;case 26:return m=d.memoizedState,c===null?(Du(d),m!==null?(Ka(d),zT(d,m)):(Ka(d),d.flags&=-16777217)):m?m!==c.memoizedState?(Du(d),Ka(d),zT(d,m)):(Ka(d),d.flags&=-16777217):(c.memoizedProps!==y&&Du(d),Ka(d),d.flags&=-16777217),null;case 27:It(d),m=Pe.current;var S=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Du(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Ka(d),null}c=xe.current,Hd(d)?dh(d):(c=xO(S,y,m),d.stateNode=c,Du(d))}return Ka(d),null;case 5:if(It(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Du(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Ka(d),null}if(c=xe.current,Hd(d))dh(d);else{switch(S=Ov(Pe.current),c){case 1:c=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=S.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof y.is=="string"?S.createElement("select",{is:y.is}):S.createElement("select"),y.multiple?c.multiple=!0:y.size&&(c.size=y.size);break;default:c=typeof y.is=="string"?S.createElement(m,{is:y.is}):S.createElement(m)}}c[Vr]=d,c[dn]=y;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)c.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=c;e:switch(ws(c,m,y),m){case"button":case"input":case"select":case"textarea":c=!!y.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Du(d)}}return Ka(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Du(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(c=Pe.current,Hd(d)){if(c=d.stateNode,m=d.memoizedProps,y=null,S=es,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}c[Vr]=d,c=!!(c.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||hO(c.nodeValue,m)),c||Gl(d)}else c=Ov(c).createTextNode(y),c[Vr]=d,d.stateNode=c}return Ka(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=Hd(d),y!==null&&y.dehydrated!==null){if(c===null){if(!S)throw Error(n(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Vr]=d}else $d(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ka(d),S=!1}else Uo!==null&&(V2(Uo),Uo=null),S=!0;if(!S)return d.flags&256?(Wl(d),d):(Wl(d),null)}if(Wl(d),(d.flags&128)!==0)return d.lanes=m,d;if(m=y!==null,c=c!==null&&c.memoizedState!==null,m){y=d.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool);var I=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(I=y.memoizedState.cachePool.pool),I!==S&&(y.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),bv(d,d.updateQueue),Ka(d),null;case 4:return Et(),c===null&&nC(d.stateNode.containerInfo),Ka(d),null;case 10:return Pu(d.type),Ka(d),null;case 19:if(he(di),S=d.memoizedState,S===null)return Ka(d),null;if(y=(d.flags&128)!==0,I=S.rendering,I===null)if(y)tg(S,!1);else{if(ii!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(I=hh(c),I!==null){for(d.flags|=128,tg(S,!1),c=I.updateQueue,d.updateQueue=c,bv(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)HT(m,c),m=m.sibling;return ce(di,di.current&1|2),d.child}c=c.sibling}S.tail!==null&&Ke()>wv&&(d.flags|=128,y=!0,tg(S,!1),d.lanes=4194304)}else{if(!y)if(c=hh(I),c!==null){if(d.flags|=128,y=!0,c=c.updateQueue,d.updateQueue=c,bv(d,c),tg(S,!0),S.tail===null&&S.tailMode==="hidden"&&!I.alternate&&!Un)return Ka(d),null}else 2*Ke()-S.renderingStartTime>wv&&m!==536870912&&(d.flags|=128,y=!0,tg(S,!1),d.lanes=4194304);S.isBackwards?(I.sibling=d.child,d.child=I):(c=S.last,c!==null?c.sibling=I:d.child=I,S.last=I)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=Ke(),d.sibling=null,c=di.current,ce(di,y?c&1|2:c&1),d):(Ka(d),null);case 22:case 23:return Wl(d),Kd(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(m&536870912)!==0&&(d.flags&128)===0&&(Ka(d),d.subtreeFlags&6&&(d.flags|=8192)):Ka(d),m=d.updateQueue,m!==null&&bv(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==m&&(d.flags|=2048),c!==null&&he(je),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Pu(fi),Ka(d),null;case 25:return null}throw Error(n(156,d.tag))}function pW(c,d){switch(Ip(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Pu(fi),Et(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return It(d),null;case 13:if(Wl(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));$d()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return he(di),null;case 4:return Et(),null;case 10:return Pu(d.type),null;case 22:case 23:return Wl(d),Kd(),c!==null&&he(je),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Pu(fi),null;case 25:return null;default:return null}}function qT(c,d){switch(Ip(d),d.tag){case 3:Pu(fi),Et();break;case 26:case 27:case 5:It(d);break;case 4:Et();break;case 13:Wl(d);break;case 19:he(di);break;case 10:Pu(d.type);break;case 22:case 23:Wl(d),Kd(),c!==null&&he(je);break;case 24:Pu(fi)}}var gW={getCacheForType:function(c){var d=Us(fi),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},yW=typeof WeakMap=="function"?WeakMap:Map,Ga=0,ba=null,En=null,In=0,wa=0,$o=null,Mu=!1,kh=!1,M2=!1,Ru=0,ii=0,zA=0,sf=0,R2=0,xl=0,_h=0,rg=null,Kc=null,Q2=!1,H2=0,wv=1/0,Cv=null,qA=null,Bv=!1,of=null,ng=0,$2=0,z2=null,ag=0,q2=null;function zo(){if((Ga&2)!==0&&In!==0)return In&-In;if(U.T!==null){var c=K;return c!==0?c:Z2()}return mr()}function VT(){xl===0&&(xl=(In&536870912)===0||Un?tr():536870912);var c=yo.current;return c!==null&&(c.flags|=32),xl}function to(c,d,m){(c===ba&&wa===2||c.cancelPendingCommit!==null)&&(Th(c,0),Qu(c,In,xl,!1)),$r(c,m),((Ga&2)===0||c!==ba)&&(c===ba&&((Ga&2)===0&&(sf|=m),ii===4&&Qu(c,In,xl,!1)),Gc(c))}function KT(c,d,m){if((Ga&6)!==0)throw Error(n(327));var y=!m&&(d&60)===0&&(d&c.expiredLanes)===0||ft(c,d),S=y?bW(c,d):W2(c,d,!0),I=y;do{if(S===0){kh&&!y&&Qu(c,d,0,!1);break}else if(S===6)Qu(c,d,0,!Mu);else{if(m=c.current.alternate,I&&!vW(m)){S=W2(c,d,!1),I=!1;continue}if(S===2){if(I=d,c.errorRecoveryDisabledLanes&I)var X=0;else X=c.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){d=X;e:{var me=c;S=rg;var Te=me.current.memoizedState.isDehydrated;if(Te&&(Th(me,X).flags|=256),X=W2(me,X,!1),X!==2){if(M2&&!Te){me.errorRecoveryDisabledLanes|=I,sf|=I,S=4;break e}I=Kc,Kc=S,I!==null&&V2(I)}S=X}if(I=!1,S!==2)continue}}if(S===1){Th(c,0),Qu(c,d,0,!0);break}e:{switch(y=c,S){case 0:case 1:throw Error(n(345));case 4:if((d&4194176)===d){Qu(y,d,xl,!Mu);break e}break;case 2:Kc=null;break;case 3:case 5:break;default:throw Error(n(329))}if(y.finishedWork=m,y.finishedLanes=d,(d&62914560)===d&&(I=H2+300-Ke(),10<I)){if(Qu(y,d,xl,!Mu),et(y,0)!==0)break e;y.timeoutHandle=gO(GT.bind(null,y,m,Kc,Cv,Q2,d,xl,sf,_h,Mu,2,-0,0),I);break e}GT(y,m,Kc,Cv,Q2,d,xl,sf,_h,Mu,0,-0,0)}}break}while(!0);Gc(c)}function V2(c){Kc===null?Kc=c:Kc.push.apply(Kc,c)}function GT(c,d,m,y,S,I,X,me,Te,qe,Ut,er,mt){var Ot=d.subtreeFlags;if((Ot&8192||(Ot&16785408)===16785408)&&(ug={stylesheets:null,count:0,unsuspend:eY},DT(d),d=rY(),d!==null)){c.cancelPendingCommit=d(tO.bind(null,c,m,y,S,X,me,Te,1,er,mt)),Qu(c,I,X,!qe);return}tO(c,m,y,S,X,me,Te,Ut,er,mt)}function vW(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var S=m[y],I=S.getSnapshot;S=S.value;try{if(!Si(I(),S))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Qu(c,d,m,y){d&=~R2,d&=~sf,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var S=d;0<S;){var I=31-Ge(S),X=1<<I;y[I]=-1,S&=~X}m!==0&&lr(c,m,d)}function jv(){return(Ga&6)===0?(ig(0),!1):!0}function K2(){if(En!==null){if(wa===0)var c=En.return;else c=En,Fu=tf=null,Bn(c),Eu=null,go=0,c=En;for(;c!==null;)qT(c.alternate,c),c=c.return;En=null}}function Th(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,DW(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),K2(),ba=c,En=m=$A(c.current,null),In=d,wa=0,$o=null,Mu=!1,kh=ft(c,d),M2=!1,_h=xl=R2=sf=zA=ii=0,Kc=rg=null,Q2=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var S=31-Ge(y),I=1<<S;d|=c[S],y&=~I}return Ru=d,Md(),m}function WT(c,d){Le=null,U.H=Mo,d===zd?(d=nv(),wa=3):d===tv?(d=nv(),wa=4):wa=d===lT?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,$o=d,En===null&&(ii=1,LA(c,Ta(d,c.current)))}function YT(){var c=U.H;return U.H=Mo,c===null?Mo:c}function XT(){var c=U.A;return U.A=gW,c}function G2(){ii=4,Mu||(In&4194176)!==In&&yo.current!==null||(kh=!0),(zA&134217727)===0&&(sf&134217727)===0||ba===null||Qu(ba,In,xl,!1)}function W2(c,d,m){var y=Ga;Ga|=2;var S=YT(),I=XT();(ba!==c||In!==d)&&(Cv=null,Th(c,d)),d=!1;var X=ii;e:do try{if(wa!==0&&En!==null){var me=En,Te=$o;switch(wa){case 8:K2(),X=6;break e;case 3:case 2:case 6:yo.current===null&&(d=!0);var qe=wa;if(wa=0,$o=null,Oh(c,me,Te,qe),m&&kh){X=0;break e}break;default:qe=wa,wa=0,$o=null,Oh(c,me,Te,qe)}}xW(),X=ii;break}catch(Ut){WT(c,Ut)}while(!0);return d&&c.shellSuspendCounter++,Fu=tf=null,Ga=y,U.H=S,U.A=I,En===null&&(ba=null,In=0,Md()),X}function xW(){for(;En!==null;)JT(En)}function bW(c,d){var m=Ga;Ga|=2;var y=YT(),S=XT();ba!==c||In!==d?(Cv=null,wv=Ke()+500,Th(c,d)):kh=ft(c,d);e:do try{if(wa!==0&&En!==null){d=En;var I=$o;t:switch(wa){case 1:wa=0,$o=null,Oh(c,d,I,1);break;case 2:if(rv(I)){wa=0,$o=null,ZT(d);break}d=function(){wa===2&&ba===c&&(wa=7),Gc(c)},I.then(d,d);break e;case 3:wa=7;break e;case 4:wa=5;break e;case 7:rv(I)?(wa=0,$o=null,ZT(d)):(wa=0,$o=null,Oh(c,d,I,7));break;case 5:var X=null;switch(En.tag){case 26:X=En.memoizedState;case 5:case 27:var me=En;if(!X||EO(X)){wa=0,$o=null;var Te=me.sibling;if(Te!==null)En=Te;else{var qe=me.return;qe!==null?(En=qe,Sv(qe)):En=null}break t}}wa=0,$o=null,Oh(c,d,I,5);break;case 6:wa=0,$o=null,Oh(c,d,I,6);break;case 8:K2(),ii=6;break e;default:throw Error(n(462))}}wW();break}catch(Ut){WT(c,Ut)}while(!0);return Fu=tf=null,U.H=y,U.A=S,Ga=m,En!==null?0:(ba=null,In=0,Md(),ii)}function wW(){for(;En!==null&&!_e();)JT(En)}function JT(c){var d=xT(c.alternate,c,Ru);c.memoizedProps=c.pendingProps,d===null?Sv(c):En=d}function ZT(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=hT(m,d,d.pendingProps,d.type,void 0,In);break;case 11:d=hT(m,d,d.pendingProps,d.type.render,d.ref,In);break;case 5:Bn(d);default:qT(m,d),d=En=HT(d,Ru),d=xT(m,d,Ru)}c.memoizedProps=c.pendingProps,d===null?Sv(c):En=d}function Oh(c,d,m,y){Fu=tf=null,Bn(d),Eu=null,go=0;var S=d.return;try{if(uW(c,S,d,m,In)){ii=1,LA(c,Ta(m,c.current)),En=null;return}}catch(I){if(S!==null)throw En=S,I;ii=1,LA(c,Ta(m,c.current)),En=null;return}d.flags&32768?(Un||y===1?c=!0:kh||(In&536870912)!==0?c=!1:(Mu=c=!0,(y===2||y===3||y===6)&&(y=yo.current,y!==null&&y.tag===13&&(y.flags|=16384))),eO(d,c)):Sv(d)}function Sv(c){var d=c;do{if((d.flags&32768)!==0){eO(d,Mu);return}c=d.return;var m=mW(d.alternate,d,Ru);if(m!==null){En=m;return}if(d=d.sibling,d!==null){En=d;return}En=d=c}while(d!==null);ii===0&&(ii=5)}function eO(c,d){do{var m=pW(c.alternate,c);if(m!==null){m.flags&=32767,En=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){En=c;return}En=c=m}while(c!==null);ii=6,En=null}function tO(c,d,m,y,S,I,X,me,Te,qe){var Ut=U.T,er=G.p;try{G.p=2,U.T=null,CW(c,d,m,y,er,S,I,X,me,Te,qe)}finally{U.T=Ut,G.p=er}}function CW(c,d,m,y,S,I,X,me){do Fh();while(of!==null);if((Ga&6)!==0)throw Error(n(327));var Te=c.finishedWork;if(y=c.finishedLanes,Te===null)return null;if(c.finishedWork=null,c.finishedLanes=0,Te===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var qe=Te.lanes|Te.childLanes;if(qe|=ch,qr(c,y,qe,I,X,me),c===ba&&(En=ba=null,In=0),(Te.subtreeFlags&10256)===0&&(Te.flags&10256)===0||Bv||(Bv=!0,$2=qe,z2=m,NW(Vt,function(){return Fh(),null})),m=(Te.flags&15990)!==0,(Te.subtreeFlags&15990)!==0||m?(m=U.T,U.T=null,I=G.p,G.p=2,X=Ga,Ga|=4,dW(c,Te),LT(Te,c),Al(oC,c.containerInfo),Dv=!!sC,oC=sC=null,c.current=Te,TT(c,Te.alternate,Te),Oe(),Ga=X,G.p=I,U.T=m):c.current=Te,Bv?(Bv=!1,of=c,ng=y):rO(c,qe),qe=c.pendingLanes,qe===0&&(qA=null),Ht(Te.stateNode),Gc(c),d!==null)for(S=c.onRecoverableError,Te=0;Te<d.length;Te++)qe=d[Te],S(qe.value,{componentStack:qe.stack});return(ng&3)!==0&&Fh(),qe=c.pendingLanes,(y&4194218)!==0&&(qe&42)!==0?c===q2?ag++:(ag=0,q2=c):ag=0,ig(0),null}function rO(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,C(d)))}function Fh(){if(of!==null){var c=of,d=$2;$2=0;var m=Zt(ng),y=U.T,S=G.p;try{if(G.p=32>m?32:m,U.T=null,of===null)var I=!1;else{m=z2,z2=null;var X=of,me=ng;if(of=null,ng=0,(Ga&6)!==0)throw Error(n(331));var Te=Ga;if(Ga|=4,RT(X.current),IT(X,X.current,me,m),Ga=Te,ig(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Ve,X)}catch{}I=!0}return I}finally{G.p=S,U.T=y,rO(c,d)}}return!1}function nO(c,d,m){d=Ta(m,d),d=f2(c.stateNode,d,2),c=MA(c,d,2),c!==null&&($r(c,2),Gc(c))}function ma(c,d,m){if(c.tag===3)nO(c,c,m);else for(;d!==null;){if(d.tag===3){nO(d,c,m);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(qA===null||!qA.has(y))){c=Ta(m,c),m=sT(2),y=MA(d,m,2),y!==null&&(oT(m,y,d,c),$r(y,2),Gc(y));break}}d=d.return}}function Y2(c,d,m){var y=c.pingCache;if(y===null){y=c.pingCache=new yW;var S=new Set;y.set(d,S)}else S=y.get(d),S===void 0&&(S=new Set,y.set(d,S));S.has(m)||(M2=!0,S.add(m),c=BW.bind(null,c,d,m),d.then(c,c))}function BW(c,d,m){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,ba===c&&(In&m)===m&&(ii===4||ii===3&&(In&62914560)===In&&300>Ke()-H2?(Ga&2)===0&&Th(c,0):R2|=m,_h===In&&(_h=0)),Gc(c)}function aO(c,d){d===0&&(d=Kt()),c=zl(c,d),c!==null&&($r(c,d),Gc(c))}function jW(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),aO(c,m)}function SW(c,d){var m=0;switch(c.tag){case 13:var y=c.stateNode,S=c.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),aO(c,m)}function NW(c,d){return ye(c,d)}var Nv=null,Ph=null,X2=!1,Ev=!1,J2=!1,lf=0;function Gc(c){c!==Ph&&c.next===null&&(Ph===null?Nv=Ph=c:Ph=Ph.next=c),Ev=!0,X2||(X2=!0,kW(EW))}function ig(c,d){if(!J2&&Ev){J2=!0;do for(var m=!1,y=Nv;y!==null;){if(c!==0){var S=y.pendingLanes;if(S===0)var I=0;else{var X=y.suspendedLanes,me=y.pingedLanes;I=(1<<31-Ge(42|c)+1)-1,I&=S&~(X&~me),I=I&201326677?I&201326677|1:I?I|2:0}I!==0&&(m=!0,oO(y,I))}else I=In,I=et(y,y===ba?I:0),(I&3)===0||ft(y,I)||(m=!0,oO(y,I));y=y.next}while(m);J2=!1}}function EW(){Ev=X2=!1;var c=0;lf!==0&&(IW()&&(c=lf),lf=0);for(var d=Ke(),m=null,y=Nv;y!==null;){var S=y.next,I=iO(y,d);I===0?(y.next=null,m===null?Nv=S:m.next=S,S===null&&(Ph=m)):(m=y,(c!==0||(I&3)!==0)&&(Ev=!0)),y=S}ig(c)}function iO(c,d){for(var m=c.suspendedLanes,y=c.pingedLanes,S=c.expirationTimes,I=c.pendingLanes&-62914561;0<I;){var X=31-Ge(I),me=1<<X,Te=S[X];Te===-1?((me&m)===0||(me&y)!==0)&&(S[X]=ut(me,d)):Te<=d&&(c.expiredLanes|=me),I&=~me}if(d=ba,m=In,m=et(c,c===d?m:0),y=c.callbackNode,m===0||c===d&&wa===2||c.cancelPendingCommit!==null)return y!==null&&y!==null&&re(y),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||ft(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(y!==null&&re(y),Zt(m)){case 2:case 8:m=Jt;break;case 32:m=Vt;break;case 268435456:m=Re;break;default:m=Vt}return y=sO.bind(null,c),m=ye(m,y),c.callbackPriority=d,c.callbackNode=m,d}return y!==null&&y!==null&&re(y),c.callbackPriority=2,c.callbackNode=null,2}function sO(c,d){var m=c.callbackNode;if(Fh()&&c.callbackNode!==m)return null;var y=In;return y=et(c,c===ba?y:0),y===0?null:(KT(c,y,d),iO(c,Ke()),c.callbackNode!=null&&c.callbackNode===m?sO.bind(null,c):null)}function oO(c,d){if(Fh())return null;KT(c,d,!0)}function kW(c){MW(function(){(Ga&6)!==0?ye(bt,c):c()})}function Z2(){return lf===0&&(lf=tr()),lf}function lO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Gr(""+c)}function cO(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function _W(c,d,m,y,S){if(d==="submit"&&m&&m.stateNode===S){var I=lO((S[dn]||null).action),X=y.submitter;X&&(d=(d=X[dn]||null)?lO(d.formAction):X.getAttribute("formAction"),d!==null&&(I=d,X=null));var me=new Ea("action","action",null,y,S);c.push({event:me,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(lf!==0){var Te=X?cO(S,X):new FormData(S);bh(m,{pending:!0,data:Te,method:S.method,action:I},null,Te)}}else typeof I=="function"&&(me.preventDefault(),Te=X?cO(S,X):new FormData(S),bh(m,{pending:!0,data:Te,method:S.method,action:I},I,Te))},currentTarget:S}]})}}for(var eC=0;eC<Pp.length;eC++){var tC=Pp[eC],TW=tC.toLowerCase(),OW=tC[0].toUpperCase()+tC.slice(1);hs(TW,"on"+OW)}hs(kp,"onAnimationEnd"),hs(_p,"onAnimationIteration"),hs(Tp,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(J0,"onTransitionRun"),hs(Z0,"onTransitionStart"),hs(ev,"onTransitionCancel"),hs(Op,"onTransitionEnd"),Kr("onMouseEnter",["mouseout","mouseover"]),Kr("onMouseLeave",["mouseout","mouseover"]),Kr("onPointerEnter",["pointerout","pointerover"]),Kr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sg));function uO(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var y=c[m],S=y.event;y=y.listeners;e:{var I=void 0;if(d)for(var X=y.length-1;0<=X;X--){var me=y[X],Te=me.instance,qe=me.currentTarget;if(me=me.listener,Te!==I&&S.isPropagationStopped())break e;I=me,S.currentTarget=qe;try{I(S)}catch(Ut){PA(Ut)}S.currentTarget=null,I=Te}else for(X=0;X<y.length;X++){if(me=y[X],Te=me.instance,qe=me.currentTarget,me=me.listener,Te!==I&&S.isPropagationStopped())break e;I=me,S.currentTarget=qe;try{I(S)}catch(Ut){PA(Ut)}S.currentTarget=null,I=Te}}}}function Pn(c,d){var m=d[hn];m===void 0&&(m=d[hn]=new Set);var y=c+"__bubble";m.has(y)||(AO(d,c,2,!1),m.add(y))}function rC(c,d,m){var y=0;d&&(y|=4),AO(m,c,y,d)}var kv="_reactListening"+Math.random().toString(36).slice(2);function nC(c){if(!c[kv]){c[kv]=!0,xt.forEach(function(m){m!=="selectionchange"&&(FW.has(m)||rC(m,!1,c),rC(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[kv]||(d[kv]=!0,rC("selectionchange",!1,d))}}function AO(c,d,m,y){switch(PO(d)){case 2:var S=iY;break;case 8:S=sY;break;default:S=pC}m=S.bind(null,d,m,c),S=void 0,!ks||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),y?S!==void 0?c.addEventListener(d,m,{capture:!0,passive:S}):c.addEventListener(d,m,!0):S!==void 0?c.addEventListener(d,m,{passive:S}):c.addEventListener(d,m,!1)}function aC(c,d,m,y,S){var I=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var X=y.tag;if(X===3||X===4){var me=y.stateNode.containerInfo;if(me===S||me.nodeType===8&&me.parentNode===S)break;if(X===4)for(X=y.return;X!==null;){var Te=X.tag;if((Te===3||Te===4)&&(Te=X.stateNode.containerInfo,Te===S||Te.nodeType===8&&Te.parentNode===S))return;X=X.return}for(;me!==null;){if(X=qn(me),X===null)return;if(Te=X.tag,Te===5||Te===6||Te===26||Te===27){y=I=X;continue e}me=me.parentNode}}y=y.return}wu(function(){var qe=I,Ut=ei(m),er=[];e:{var mt=Fp.get(c);if(mt!==void 0){var Ot=Ea,Dr=c;switch(c){case"keypress":if(jr(m)===0)break e;case"keydown":case"keyup":Ot=ti;break;case"focusin":Dr="focus",Ot=M;break;case"focusout":Dr="blur",Ot=M;break;case"beforeblur":case"afterblur":Ot=M;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ot=As;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ot=Mi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ot=Ri;break;case kp:case _p:case Tp:Ot=Ne;break;case Op:Ot=Fc;break;case"scroll":case"scrollend":Ot=Ws;break;case"wheel":Ot=sh;break;case"copy":case"cut":case"paste":Ot=Je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ot=ri;break;case"toggle":case"beforetoggle":Ot=Oo}var un=(d&4)!==0,si=!un&&(c==="scroll"||c==="scrollend"),rt=un?mt!==null?mt+"Capture":null:mt;un=[];for(var $e=qe,lt;$e!==null;){var zt=$e;if(lt=zt.stateNode,zt=zt.tag,zt!==5&&zt!==26&&zt!==27||lt===null||rt===null||(zt=nl($e,rt),zt!=null&&un.push(og($e,zt,lt))),si)break;$e=$e.return}0<un.length&&(mt=new Ot(mt,Dr,null,m,Ut),er.push({event:mt,listeners:un}))}}if((d&7)===0){e:{if(mt=c==="mouseover"||c==="pointerover",Ot=c==="mouseout"||c==="pointerout",mt&&m!==yn&&(Dr=m.relatedTarget||m.fromElement)&&(qn(Dr)||Dr[Yn]))break e;if((Ot||mt)&&(mt=Ut.window===Ut?Ut:(mt=Ut.ownerDocument)?mt.defaultView||mt.parentWindow:window,Ot?(Dr=m.relatedTarget||m.toElement,Ot=qe,Dr=Dr?qn(Dr):null,Dr!==null&&(si=ee(Dr),un=Dr.tag,Dr!==si||un!==5&&un!==27&&un!==6)&&(Dr=null)):(Ot=null,Dr=qe),Ot!==Dr)){if(un=As,zt="onMouseLeave",rt="onMouseEnter",$e="mouse",(c==="pointerout"||c==="pointerover")&&(un=ri,zt="onPointerLeave",rt="onPointerEnter",$e="pointer"),si=Ot==null?mt:$a(Ot),lt=Dr==null?mt:$a(Dr),mt=new un(zt,$e+"leave",Ot,m,Ut),mt.target=si,mt.relatedTarget=lt,zt=null,qn(Ut)===qe&&(un=new un(rt,$e+"enter",Dr,m,Ut),un.target=lt,un.relatedTarget=si,zt=un),si=zt,Ot&&Dr)t:{for(un=Ot,rt=Dr,$e=0,lt=un;lt;lt=Lh(lt))$e++;for(lt=0,zt=rt;zt;zt=Lh(zt))lt++;for(;0<$e-lt;)un=Lh(un),$e--;for(;0<lt-$e;)rt=Lh(rt),lt--;for(;$e--;){if(un===rt||rt!==null&&un===rt.alternate)break t;un=Lh(un),rt=Lh(rt)}un=null}else un=null;Ot!==null&&dO(er,mt,Ot,un,!1),Dr!==null&&si!==null&&dO(er,si,Dr,un,!0)}}e:{if(mt=qe?$a(qe):window,Ot=mt.nodeName&&mt.nodeName.toLowerCase(),Ot==="select"||Ot==="input"&&mt.type==="file")var _r=ds;else if(Js(mt))if(Lc)_r=SA;else{_r=ol;var Nn=Np}else Ot=mt.nodeName,!Ot||Ot.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?qe&&pr(qe.elementType)&&(_r=ds):_r=ll;if(_r&&(_r=_r(c,qe))){CA(er,_r,m,Ut);break e}Nn&&Nn(c,mt,qe),c==="focusout"&&qe&&mt.type==="number"&&qe.memoizedProps.value!=null&&dt(mt,"number",mt.value)}switch(Nn=qe?$a(qe):window,c){case"focusin":(Js(Nn)||Nn.contentEditable==="true")&&($n=Nn,_a=qe,ha=null);break;case"focusout":ha=_a=$n=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,ju(er,m,Ut);break;case"selectionchange":if(ca)break;case"keydown":case"keyup":ju(er,m,Ut)}var zr;if(Pc)e:{switch(c){case"compositionstart":var Yr="onCompositionStart";break e;case"compositionend":Yr="onCompositionEnd";break e;case"compositionupdate":Yr="onCompositionUpdate";break e}Yr=void 0}else Ql?bA(c,m)&&(Yr="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Yr="onCompositionStart");Yr&&(al&&m.locale!=="ko"&&(Ql||Yr!=="onCompositionStart"?Yr==="onCompositionEnd"&&Ql&&(zr=Yt()):(Ee=Ut,Mt="value"in Ee?Ee.value:Ee.textContent,Ql=!0)),Nn=_v(qe,Yr),0<Nn.length&&(Yr=new Gt(Yr,c,null,m,Ut),er.push({event:Yr,listeners:Nn}),zr?Yr.data=zr:(zr=Ji(m),zr!==null&&(Yr.data=zr)))),(zr=ji?wA(c,m):oh(c,m))&&(Yr=_v(qe,"onBeforeInput"),0<Yr.length&&(Nn=new Gt("onBeforeInput","beforeinput",null,m,Ut),er.push({event:Nn,listeners:Yr}),Nn.data=zr)),_W(er,c,qe,m,Ut)}uO(er,d)})}function og(c,d,m){return{instance:c,listener:d,currentTarget:m}}function _v(c,d){for(var m=d+"Capture",y=[];c!==null;){var S=c,I=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=nl(c,m),S!=null&&y.unshift(og(c,S,I)),S=nl(c,d),S!=null&&y.push(og(c,S,I))),c=c.return}return y}function Lh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function dO(c,d,m,y,S){for(var I=d._reactName,X=[];m!==null&&m!==y;){var me=m,Te=me.alternate,qe=me.stateNode;if(me=me.tag,Te!==null&&Te===y)break;me!==5&&me!==26&&me!==27||qe===null||(Te=qe,S?(qe=nl(m,I),qe!=null&&X.unshift(og(m,qe,Te))):S||(qe=nl(m,I),qe!=null&&X.push(og(m,qe,Te)))),m=m.return}X.length!==0&&c.push({event:d,listeners:X})}var PW=/\r\n?/g,LW=/\u0000|\uFFFD/g;function fO(c){return(typeof c=="string"?c:""+c).replace(PW,`
`).replace(LW,"")}function hO(c,d){return d=fO(d),fO(c)===d}function Tv(){}function Aa(c,d,m,y,S,I){switch(m){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||kt(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&kt(c,""+y);break;case"className":Za(c,"class",y);break;case"tabIndex":Za(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Za(c,m,y);break;case"style":Wt(c,y,I);break;case"data":if(d!=="object"){Za(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=Gr(""+y),c.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(m==="formAction"?(d!=="input"&&Aa(c,d,"name",S.name,S,null),Aa(c,d,"formEncType",S.formEncType,S,null),Aa(c,d,"formMethod",S.formMethod,S,null),Aa(c,d,"formTarget",S.formTarget,S,null)):(Aa(c,d,"encType",S.encType,S,null),Aa(c,d,"method",S.method,S,null),Aa(c,d,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(m);break}y=Gr(""+y),c.setAttribute(m,y);break;case"onClick":y!=null&&(c.onclick=Tv);break;case"onScroll":y!=null&&Pn("scroll",c);break;case"onScrollEnd":y!=null&&Pn("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}m=Gr(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""+y):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":y===!0?c.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(m,y):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(m,y):c.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(m):c.setAttribute(m,y);break;case"popover":Pn("beforetoggle",c),Pn("toggle",c),Bi(c,"popover",y);break;case"xlinkActuate":wn(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":wn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":wn(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":wn(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":wn(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":wn(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":wn(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":wn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":wn(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Bi(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Qr.get(m)||m,Bi(c,m,y))}}function iC(c,d,m,y,S,I){switch(m){case"style":Wt(c,y,I);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof y=="string"?kt(c,y):(typeof y=="number"||typeof y=="bigint")&&kt(c,""+y);break;case"onScroll":y!=null&&Pn("scroll",c);break;case"onScrollEnd":y!=null&&Pn("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Tv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pt.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),d=m.slice(2,S?m.length-7:void 0),I=c[dn]||null,I=I!=null?I[m]:null,typeof I=="function"&&c.removeEventListener(d,I,S),typeof y=="function")){typeof I!="function"&&I!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,y,S);break e}m in c?c[m]=y:y===!0?c.setAttribute(m,""):Bi(c,m,y)}}}function ws(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",c),Pn("load",c);var y=!1,S=!1,I;for(I in m)if(m.hasOwnProperty(I)){var X=m[I];if(X!=null)switch(I){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Aa(c,d,I,X,m,null)}}S&&Aa(c,d,"srcSet",m.srcSet,m,null),y&&Aa(c,d,"src",m.src,m,null);return;case"input":Pn("invalid",c);var me=I=X=S=null,Te=null,qe=null;for(y in m)if(m.hasOwnProperty(y)){var Ut=m[y];if(Ut!=null)switch(y){case"name":S=Ut;break;case"type":X=Ut;break;case"checked":Te=Ut;break;case"defaultChecked":qe=Ut;break;case"value":I=Ut;break;case"defaultValue":me=Ut;break;case"children":case"dangerouslySetInnerHTML":if(Ut!=null)throw Error(n(137,d));break;default:Aa(c,d,y,Ut,m,null)}}at(c,I,me,Te,qe,X,S,!1),We(c);return;case"select":Pn("invalid",c),y=X=I=null;for(S in m)if(m.hasOwnProperty(S)&&(me=m[S],me!=null))switch(S){case"value":I=me;break;case"defaultValue":X=me;break;case"multiple":y=me;default:Aa(c,d,S,me,m,null)}d=I,m=X,c.multiple=!!y,d!=null?tt(c,!!y,d,!1):m!=null&&tt(c,!!y,m,!0);return;case"textarea":Pn("invalid",c),I=S=y=null;for(X in m)if(m.hasOwnProperty(X)&&(me=m[X],me!=null))switch(X){case"value":y=me;break;case"defaultValue":S=me;break;case"children":I=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(91));break;default:Aa(c,d,X,me,m,null)}jt(c,y,S,I),We(c);return;case"option":for(Te in m)if(m.hasOwnProperty(Te)&&(y=m[Te],y!=null))switch(Te){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Aa(c,d,Te,y,m,null)}return;case"dialog":Pn("cancel",c),Pn("close",c);break;case"iframe":case"object":Pn("load",c);break;case"video":case"audio":for(y=0;y<sg.length;y++)Pn(sg[y],c);break;case"image":Pn("error",c),Pn("load",c);break;case"details":Pn("toggle",c);break;case"embed":case"source":case"link":Pn("error",c),Pn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in m)if(m.hasOwnProperty(qe)&&(y=m[qe],y!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Aa(c,d,qe,y,m,null)}return;default:if(pr(d)){for(Ut in m)m.hasOwnProperty(Ut)&&(y=m[Ut],y!==void 0&&iC(c,d,Ut,y,m,void 0));return}}for(me in m)m.hasOwnProperty(me)&&(y=m[me],y!=null&&Aa(c,d,me,y,m,null))}function UW(c,d,m,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,X=null,me=null,Te=null,qe=null,Ut=null;for(Ot in m){var er=m[Ot];if(m.hasOwnProperty(Ot)&&er!=null)switch(Ot){case"checked":break;case"value":break;case"defaultValue":Te=er;default:y.hasOwnProperty(Ot)||Aa(c,d,Ot,null,y,er)}}for(var mt in y){var Ot=y[mt];if(er=m[mt],y.hasOwnProperty(mt)&&(Ot!=null||er!=null))switch(mt){case"type":I=Ot;break;case"name":S=Ot;break;case"checked":qe=Ot;break;case"defaultChecked":Ut=Ot;break;case"value":X=Ot;break;case"defaultValue":me=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,d));break;default:Ot!==er&&Aa(c,d,mt,Ot,y,er)}}ve(c,X,me,Te,qe,Ut,I,S);return;case"select":Ot=X=me=mt=null;for(I in m)if(Te=m[I],m.hasOwnProperty(I)&&Te!=null)switch(I){case"value":break;case"multiple":Ot=Te;default:y.hasOwnProperty(I)||Aa(c,d,I,null,y,Te)}for(S in y)if(I=y[S],Te=m[S],y.hasOwnProperty(S)&&(I!=null||Te!=null))switch(S){case"value":mt=I;break;case"defaultValue":me=I;break;case"multiple":X=I;default:I!==Te&&Aa(c,d,S,I,y,Te)}d=me,m=X,y=Ot,mt!=null?tt(c,!!m,mt,!1):!!y!=!!m&&(d!=null?tt(c,!!m,d,!0):tt(c,!!m,m?[]:"",!1));return;case"textarea":Ot=mt=null;for(me in m)if(S=m[me],m.hasOwnProperty(me)&&S!=null&&!y.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:Aa(c,d,me,null,y,S)}for(X in y)if(S=y[X],I=m[X],y.hasOwnProperty(X)&&(S!=null||I!=null))switch(X){case"value":mt=S;break;case"defaultValue":Ot=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==I&&Aa(c,d,X,S,y,I)}ht(c,mt,Ot);return;case"option":for(var Dr in m)if(mt=m[Dr],m.hasOwnProperty(Dr)&&mt!=null&&!y.hasOwnProperty(Dr))switch(Dr){case"selected":c.selected=!1;break;default:Aa(c,d,Dr,null,y,mt)}for(Te in y)if(mt=y[Te],Ot=m[Te],y.hasOwnProperty(Te)&&mt!==Ot&&(mt!=null||Ot!=null))switch(Te){case"selected":c.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:Aa(c,d,Te,mt,y,Ot)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var un in m)mt=m[un],m.hasOwnProperty(un)&&mt!=null&&!y.hasOwnProperty(un)&&Aa(c,d,un,null,y,mt);for(qe in y)if(mt=y[qe],Ot=m[qe],y.hasOwnProperty(qe)&&mt!==Ot&&(mt!=null||Ot!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,d));break;default:Aa(c,d,qe,mt,y,Ot)}return;default:if(pr(d)){for(var si in m)mt=m[si],m.hasOwnProperty(si)&&mt!==void 0&&!y.hasOwnProperty(si)&&iC(c,d,si,void 0,y,mt);for(Ut in y)mt=y[Ut],Ot=m[Ut],!y.hasOwnProperty(Ut)||mt===Ot||mt===void 0&&Ot===void 0||iC(c,d,Ut,mt,y,Ot);return}}for(var rt in m)mt=m[rt],m.hasOwnProperty(rt)&&mt!=null&&!y.hasOwnProperty(rt)&&Aa(c,d,rt,null,y,mt);for(er in y)mt=y[er],Ot=m[er],!y.hasOwnProperty(er)||mt===Ot||mt==null&&Ot==null||Aa(c,d,er,mt,y,Ot)}var sC=null,oC=null;function Ov(c){return c.nodeType===9?c:c.ownerDocument}function mO(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pO(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function lC(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var cC=null;function IW(){var c=window.event;return c&&c.type==="popstate"?c===cC?!1:(cC=c,!0):(cC=null,!1)}var gO=typeof setTimeout=="function"?setTimeout:void 0,DW=typeof clearTimeout=="function"?clearTimeout:void 0,yO=typeof Promise=="function"?Promise:void 0,MW=typeof queueMicrotask=="function"?queueMicrotask:typeof yO<"u"?function(c){return yO.resolve(null).then(c).catch(RW)}:gO;function RW(c){setTimeout(function(){throw c})}function uC(c,d){var m=d,y=0;do{var S=m.nextSibling;if(c.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(y===0){c.removeChild(S),mg(d);return}y--}else m!=="$"&&m!=="$?"&&m!=="$!"||y++;m=S}while(m);mg(d)}function AC(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":AC(m),Ja(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function QW(c,d,m,y){for(;c.nodeType===1;){var S=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[bn])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(I=c.getAttribute("rel"),I==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(I!==S.rel||c.getAttribute("href")!==(S.href==null?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(I=c.getAttribute("src"),(I!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===I)return c}else return c;if(c=rc(c.nextSibling),c===null)break}return null}function HW(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=rc(c.nextSibling),c===null))return null;return c}function rc(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function vO(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function xO(c,d,m){switch(d=Ov(m),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}var bl=new Map,bO=new Set;function Fv(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Hu=G.d;G.d={f:$W,r:zW,D:qW,C:VW,L:KW,m:GW,X:YW,S:WW,M:XW};function $W(){var c=Hu.f(),d=jv();return c||d}function zW(c){var d=Qn(c);d!==null&&d.tag===5&&d.type==="form"?ef(d):Hu.r(c)}var Uh=typeof document>"u"?null:document;function wO(c,d,m){var y=Uh;if(y&&typeof d=="string"&&d){var S=Tt(d);S='link[rel="'+c+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),bO.has(S)||(bO.add(S),c={rel:c,crossOrigin:m,href:d},y.querySelector(S)===null&&(d=y.createElement("link"),ws(d,"link",c),st(d),y.head.appendChild(d)))}}function qW(c){Hu.D(c),wO("dns-prefetch",c,null)}function VW(c,d){Hu.C(c,d),wO("preconnect",c,d)}function KW(c,d,m){Hu.L(c,d,m);var y=Uh;if(y&&c&&d){var S='link[rel="preload"][as="'+Tt(d)+'"]';d==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+Tt(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+Tt(m.imageSizes)+'"]')):S+='[href="'+Tt(c)+'"]';var I=S;switch(d){case"style":I=Ih(c);break;case"script":I=Dh(c)}bl.has(I)||(c=D({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),bl.set(I,c),y.querySelector(S)!==null||d==="style"&&y.querySelector(lg(I))||d==="script"&&y.querySelector(cg(I))||(d=y.createElement("link"),ws(d,"link",c),st(d),y.head.appendChild(d)))}}function GW(c,d){Hu.m(c,d);var m=Uh;if(m&&c){var y=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+Tt(y)+'"][href="'+Tt(c)+'"]',I=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Dh(c)}if(!bl.has(I)&&(c=D({rel:"modulepreload",href:c},d),bl.set(I,c),m.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(cg(I)))return}y=m.createElement("link"),ws(y,"link",c),st(y),m.head.appendChild(y)}}}function WW(c,d,m){Hu.S(c,d,m);var y=Uh;if(y&&c){var S=de(y).hoistableStyles,I=Ih(c);d=d||"default";var X=S.get(I);if(!X){var me={loading:0,preload:null};if(X=y.querySelector(lg(I)))me.loading=5;else{c=D({rel:"stylesheet",href:c,"data-precedence":d},m),(m=bl.get(I))&&dC(c,m);var Te=X=y.createElement("link");st(Te),ws(Te,"link",c),Te._p=new Promise(function(qe,Ut){Te.onload=qe,Te.onerror=Ut}),Te.addEventListener("load",function(){me.loading|=1}),Te.addEventListener("error",function(){me.loading|=2}),me.loading|=4,Pv(X,d,y)}X={type:"stylesheet",instance:X,count:1,state:me},S.set(I,X)}}}function YW(c,d){Hu.X(c,d);var m=Uh;if(m&&c){var y=de(m).hoistableScripts,S=Dh(c),I=y.get(S);I||(I=m.querySelector(cg(S)),I||(c=D({src:c,async:!0},d),(d=bl.get(S))&&fC(c,d),I=m.createElement("script"),st(I),ws(I,"link",c),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},y.set(S,I))}}function XW(c,d){Hu.M(c,d);var m=Uh;if(m&&c){var y=de(m).hoistableScripts,S=Dh(c),I=y.get(S);I||(I=m.querySelector(cg(S)),I||(c=D({src:c,async:!0,type:"module"},d),(d=bl.get(S))&&fC(c,d),I=m.createElement("script"),st(I),ws(I,"link",c),m.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},y.set(S,I))}}function CO(c,d,m,y){var S=(S=Pe.current)?Fv(S):null;if(!S)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=Ih(m.href),m=de(S).hoistableStyles,y=m.get(d),y||(y={type:"style",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=Ih(m.href);var I=de(S).hoistableStyles,X=I.get(c);if(X||(S=S.ownerDocument||S,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(c,X),(I=S.querySelector(lg(c)))&&!I._p&&(X.instance=I,X.state.loading=5),bl.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},bl.set(c,m),I||JW(S,c,m,X.state))),d&&y===null)throw Error(n(528,""));return X}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Dh(m),m=de(S).hoistableScripts,y=m.get(d),y||(y={type:"script",instance:null,count:0,state:null},m.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function Ih(c){return'href="'+Tt(c)+'"'}function lg(c){return'link[rel="stylesheet"]['+c+"]"}function BO(c){return D({},c,{"data-precedence":c.precedence,precedence:null})}function JW(c,d,m,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),ws(d,"link",m),st(d),c.head.appendChild(d))}function Dh(c){return'[src="'+Tt(c)+'"]'}function cg(c){return"script[async]"+c}function jO(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+Tt(m.href)+'"]');if(y)return d.instance=y,st(y),y;var S=D({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),st(y),ws(y,"style",S),Pv(y,m.precedence,c),d.instance=y;case"stylesheet":S=Ih(m.href);var I=c.querySelector(lg(S));if(I)return d.state.loading|=4,d.instance=I,st(I),I;y=BO(m),(S=bl.get(S))&&dC(y,S),I=(c.ownerDocument||c).createElement("link"),st(I);var X=I;return X._p=new Promise(function(me,Te){X.onload=me,X.onerror=Te}),ws(I,"link",y),d.state.loading|=4,Pv(I,m.precedence,c),d.instance=I;case"script":return I=Dh(m.src),(S=c.querySelector(cg(I)))?(d.instance=S,st(S),S):(y=m,(S=bl.get(I))&&(y=D({},m),fC(y,S)),c=c.ownerDocument||c,S=c.createElement("script"),st(S),ws(S,"link",y),c.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Pv(y,m.precedence,c));return d.instance}function Pv(c,d,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,I=S,X=0;X<y.length;X++){var me=y[X];if(me.dataset.precedence===d)I=me;else if(I!==S)break}I?I.parentNode.insertBefore(c,I.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function dC(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function fC(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Lv=null;function SO(c,d,m){if(Lv===null){var y=new Map,S=Lv=new Map;S.set(m,y)}else S=Lv,y=S.get(m),y||(y=new Map,S.set(m,y));if(y.has(c))return y;for(y.set(c,null),m=m.getElementsByTagName(c),S=0;S<m.length;S++){var I=m[S];if(!(I[bn]||I[Vr]||c==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var X=I.getAttribute(d)||"";X=c+X;var me=y.get(X);me?me.push(I):y.set(X,[I])}}return y}function NO(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function ZW(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function EO(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var ug=null;function eY(){}function tY(c,d,m){if(ug===null)throw Error(n(475));var y=ug;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=Ih(m.href),I=c.querySelector(lg(S));if(I){c=I._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(y.count++,y=Uv.bind(y),c.then(y,y)),d.state.loading|=4,d.instance=I,st(I);return}I=c.ownerDocument||c,m=BO(m),(S=bl.get(S))&&dC(m,S),I=I.createElement("link"),st(I);var X=I;X._p=new Promise(function(me,Te){X.onload=me,X.onerror=Te}),ws(I,"link",m),d.instance=I}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(y.count++,d=Uv.bind(y),c.addEventListener("load",d),c.addEventListener("error",d))}}function rY(){if(ug===null)throw Error(n(475));var c=ug;return c.stylesheets&&c.count===0&&hC(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&hC(c,c.stylesheets),c.unsuspend){var y=c.unsuspend;c.unsuspend=null,y()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Uv(){if(this.count--,this.count===0){if(this.stylesheets)hC(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Iv=null;function hC(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Iv=new Map,d.forEach(nY,c),Iv=null,Uv.call(c))}function nY(c,d){if(!(d.state.loading&4)){var m=Iv.get(c);if(m)var y=m.get(null);else{m=new Map,Iv.set(c,m);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var X=S[I];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(m.set(X.dataset.precedence,X),y=X)}y&&m.set(null,y)}S=d.instance,X=S.getAttribute("data-precedence"),I=m.get(X)||y,I===y&&m.set(null,S),m.set(X,S),this.count++,y=Uv.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),I?I.parentNode.insertBefore(S,I.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),d.state.loading|=4}}var Ag={$$typeof:g,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function aY(c,d,m,y,S,I,X,me){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function kO(c,d,m,y,S,I,X,me,Te,qe,Ut,er){return c=new aY(c,d,m,X,me,Te,qe,er),d=1,I===!0&&(d|=24),I=vl(3,null,null,d),c.current=I,I.stateNode=c,d=ph(),d.refCount++,c.pooledCache=d,d.refCount++,I.memoizedState={element:y,isDehydrated:m,cache:d},S2(I),c}function _O(c){return c?(c=ql,c):ql}function TO(c,d,m,y,S,I){S=_O(S),y.context===null?y.context=S:y.pendingContext=S,y=DA(d),y.payload={element:m},I=I===void 0?null:I,I!==null&&(y.callback=I),m=MA(c,y,d),m!==null&&(to(m,c,d),Gp(m,c,d))}function OO(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function mC(c,d){OO(c,d),(c=c.alternate)&&OO(c,d)}function FO(c){if(c.tag===13){var d=zl(c,67108864);d!==null&&to(d,c,67108864),mC(c,67108864)}}var Dv=!0;function iY(c,d,m,y){var S=U.T;U.T=null;var I=G.p;try{G.p=2,pC(c,d,m,y)}finally{G.p=I,U.T=S}}function sY(c,d,m,y){var S=U.T;U.T=null;var I=G.p;try{G.p=8,pC(c,d,m,y)}finally{G.p=I,U.T=S}}function pC(c,d,m,y){if(Dv){var S=gC(y);if(S===null)aC(c,d,y,Mv,m),LO(c,y);else if(lY(S,c,d,m,y))y.stopPropagation();else if(LO(c,y),d&4&&-1<oY.indexOf(c)){for(;S!==null;){var I=Qn(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var X=gt(I.pendingLanes);if(X!==0){var me=I;for(me.pendingLanes|=2,me.entangledLanes|=2;X;){var Te=1<<31-Ge(X);me.entanglements[1]|=Te,X&=~Te}Gc(I),(Ga&6)===0&&(wv=Ke()+500,ig(0))}}break;case 13:me=zl(I,2),me!==null&&to(me,I,2),jv(),mC(I,2)}if(I=gC(y),I===null&&aC(c,d,y,Mv,m),I===S)break;S=I}S!==null&&y.stopPropagation()}else aC(c,d,y,null,m)}}function gC(c){return c=ei(c),yC(c)}var Mv=null;function yC(c){if(Mv=null,c=qn(c),c!==null){var d=ee(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=ie(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Mv=c,null}function PO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case bt:return 2;case Jt:return 8;case Vt:case Be:return 32;case Re:return 268435456;default:return 32}default:return 32}}var vC=!1,VA=null,KA=null,GA=null,dg=new Map,fg=new Map,WA=[],oY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LO(c,d){switch(c){case"focusin":case"focusout":VA=null;break;case"dragenter":case"dragleave":KA=null;break;case"mouseover":case"mouseout":GA=null;break;case"pointerover":case"pointerout":dg.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":fg.delete(d.pointerId)}}function hg(c,d,m,y,S,I){return c===null||c.nativeEvent!==I?(c={blockedOn:d,domEventName:m,eventSystemFlags:y,nativeEvent:I,targetContainers:[S]},d!==null&&(d=Qn(d),d!==null&&FO(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),c)}function lY(c,d,m,y,S){switch(d){case"focusin":return VA=hg(VA,c,d,m,y,S),!0;case"dragenter":return KA=hg(KA,c,d,m,y,S),!0;case"mouseover":return GA=hg(GA,c,d,m,y,S),!0;case"pointerover":var I=S.pointerId;return dg.set(I,hg(dg.get(I)||null,c,d,m,y,S)),!0;case"gotpointercapture":return I=S.pointerId,fg.set(I,hg(fg.get(I)||null,c,d,m,y,S)),!0}return!1}function UO(c){var d=qn(c.target);if(d!==null){var m=ee(d);if(m!==null){if(d=m.tag,d===13){if(d=ie(m),d!==null){c.blockedOn=d,on(c.priority,function(){if(m.tag===13){var y=zo(),S=zl(m,y);S!==null&&to(S,m,y),mC(m,y)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Rv(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=gC(c.nativeEvent);if(m===null){m=c.nativeEvent;var y=new m.constructor(m.type,m);yn=y,m.target.dispatchEvent(y),yn=null}else return d=Qn(m),d!==null&&FO(d),c.blockedOn=m,!1;d.shift()}return!0}function IO(c,d,m){Rv(c)&&m.delete(d)}function cY(){vC=!1,VA!==null&&Rv(VA)&&(VA=null),KA!==null&&Rv(KA)&&(KA=null),GA!==null&&Rv(GA)&&(GA=null),dg.forEach(IO),fg.forEach(IO)}function Qv(c,d){c.blockedOn===d&&(c.blockedOn=null,vC||(vC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cY)))}var Hv=null;function DO(c){Hv!==c&&(Hv=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hv===c&&(Hv=null);for(var d=0;d<c.length;d+=3){var m=c[d],y=c[d+1],S=c[d+2];if(typeof y!="function"){if(yC(y||m)===null)continue;break}var I=Qn(m);I!==null&&(c.splice(d,3),d-=3,bh(I,{pending:!0,data:S,method:m.method,action:y},y,S))}}))}function mg(c){function d(Te){return Qv(Te,c)}VA!==null&&Qv(VA,c),KA!==null&&Qv(KA,c),GA!==null&&Qv(GA,c),dg.forEach(d),fg.forEach(d);for(var m=0;m<WA.length;m++){var y=WA[m];y.blockedOn===c&&(y.blockedOn=null)}for(;0<WA.length&&(m=WA[0],m.blockedOn===null);)UO(m),m.blockedOn===null&&WA.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var S=m[y],I=m[y+1],X=S[dn]||null;if(typeof I=="function")X||DO(m);else if(X){var me=null;if(I&&I.hasAttribute("formAction")){if(S=I,X=I[dn]||null)me=X.formAction;else if(yC(S)!==null)continue}else me=X.action;typeof me=="function"?m[y+1]=me:(m.splice(y,3),y-=3),DO(m)}}}function xC(c){this._internalRoot=c}$v.prototype.render=xC.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,y=zo();TO(m,y,c,d,null,null)},$v.prototype.unmount=xC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&Fh(),TO(c.current,2,null,c,null,null),jv(),d[Yn]=null}};function $v(c){this._internalRoot=c}$v.prototype.unstable_scheduleHydration=function(c){if(c){var d=mr();c={blockedOn:null,target:c,priority:d};for(var m=0;m<WA.length&&d!==0&&d<WA[m].priority;m++);WA.splice(m,0,c),m===0&&UO(c)}};var MO=t.version;if(MO!=="19.0.0")throw Error(n(527,MO,"19.0.0"));G.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=W(d),c=c!==null?L(c):null,c=c===null?null:c.stateNode,c};var uY={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{Ve=zv.inject(uY),yt=zv}catch{}}return gg.createRoot=function(c,d){if(!a(c))throw Error(n(299));var m=!1,y="",S=qp,I=mv,X=jh,me=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(I=d.onCaughtError),d.onRecoverableError!==void 0&&(X=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(me=d.unstable_transitionCallbacks)),d=kO(c,1,!1,null,null,m,y,S,I,X,me,null),c[Yn]=d.current,nC(c.nodeType===8?c.parentNode:c),new xC(d)},gg.hydrateRoot=function(c,d,m){if(!a(c))throw Error(n(299));var y=!1,S="",I=qp,X=mv,me=jh,Te=null,qe=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(I=m.onUncaughtError),m.onCaughtError!==void 0&&(X=m.onCaughtError),m.onRecoverableError!==void 0&&(me=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Te=m.unstable_transitionCallbacks),m.formState!==void 0&&(qe=m.formState)),d=kO(c,1,!0,d,m??null,y,S,I,X,me,Te,qe),d.context=_O(null),m=d.current,y=zo(),S=DA(y),S.callback=null,MA(m,S,y),d.current.lanes=y,$r(d,y),Gc(d),c[Yn]=d.current,nC(c),new $v(d)},gg.version="19.0.0",gg}var WO;function bY(){if(WO)return CC.exports;WO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),CC.exports=xY(),CC.exports}var wY=bY(),yg={},YO;function CY(){if(YO)return yg;YO=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.parse=o,yg.serialize=A;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function o(p,g){const v=new s,x=p.length;if(x<2)return v;const b=(g==null?void 0:g.decode)||f;let w=0;do{const B=p.indexOf("=",w);if(B===-1)break;const j=p.indexOf(";",w),_=j===-1?x:j;if(B>_){w=p.lastIndexOf(";",B-1)+1;continue}const N=l(p,w,B),O=u(p,B,N),T=p.slice(N,O);if(v[T]===void 0){let P=l(p,B+1,_),U=u(p,_,P);const D=b(p.slice(P,U));v[T]=D}w=_+1}while(w<x);return v}function l(p,g,v){do{const x=p.charCodeAt(g);if(x!==32&&x!==9)return g}while(++g<v);return v}function u(p,g,v){for(;g>v;){const x=p.charCodeAt(--g);if(x!==32&&x!==9)return g+1}return v}function A(p,g,v){const x=(v==null?void 0:v.encode)||encodeURIComponent;if(!e.test(p))throw new TypeError(`argument name is invalid: ${p}`);const b=x(g);if(!t.test(b))throw new TypeError(`argument val is invalid: ${g}`);let w=p+"="+b;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!r.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function f(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function h(p){return a.call(p)==="[object Date]"}return yg}CY();var XO="popstate";function BY(e={}){function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return RN("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:by(a)}return SY(t,r,null,e)}function Qa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jY(){return Math.random().toString(36).substring(2,10)}function JO(e,t){return{usr:e.state,key:e.key,idx:t}}function RN(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ip(t):t,state:r,key:t&&t.key||n||jY()}}function by({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ip(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function SY(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",u=null,A=f();A==null&&(A=0,o.replaceState({...o.state,idx:A},""));function f(){return(o.state||{idx:null}).idx}function h(){l="POP";let b=f(),w=b==null?null:b-A;A=b,u&&u({action:l,location:x.location,delta:w})}function p(b,w){l="PUSH";let B=RN(x.location,b,w);A=f()+1;let j=JO(B,A),_=x.createHref(B);try{o.pushState(j,"",_)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(_)}s&&u&&u({action:l,location:x.location,delta:1})}function g(b,w){l="REPLACE";let B=RN(x.location,b,w);A=f();let j=JO(B,A),_=x.createHref(B);o.replaceState(j,"",_),s&&u&&u({action:l,location:x.location,delta:0})}function v(b){let w=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof b=="string"?b:by(b);return B=B.replace(/ $/,"%20"),Qa(w,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,w)}let x={get action(){return l},get location(){return e(a,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(XO,h),u=b,()=>{a.removeEventListener(XO,h),u=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let w=v(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go(b){return o.go(b)}};return x}function j7(e,t,r="/"){return NY(e,t,r,!1)}function NY(e,t,r,n){let a=typeof t=="string"?ip(t):t,s=lA(a.pathname||"/",r);if(s==null)return null;let o=S7(e);EY(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let A=MY(s);l=IY(o[u],A,n)}return l}function S7(e,t=[],r=[],n=""){let a=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Qa(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let A=aA([n,u.relativePath]),f=r.concat(u);s.children&&s.children.length>0&&(Qa(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),S7(s.children,t,f,A)),!(s.path==null&&!s.index)&&t.push({path:A,score:LY(A,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let u of N7(s.path))a(s,o,u)}),t}function N7(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=N7(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),a&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function EY(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UY(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var kY=/^:[\w-]+$/,_Y=3,TY=2,OY=1,FY=10,PY=-2,ZO=e=>e==="*";function LY(e,t){let r=e.split("/"),n=r.length;return r.some(ZO)&&(n+=PY),t&&(n+=TY),r.filter(a=>!ZO(a)).reduce((a,s)=>a+(kY.test(s)?_Y:s===""?OY:FY),n)}function UY(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function IY(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],A=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",h=Cb({path:u.relativePath,caseSensitive:u.caseSensitive,end:A},f),p=u.route;if(!h&&A&&r&&!n[n.length-1].route.index&&(h=Cb({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:aA([s,h.pathname]),pathnameBase:$Y(aA([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=aA([s,h.pathnameBase]))}return o}function Cb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=DY(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((A,{paramName:f,isOptional:h},p)=>{if(f==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[p];return h&&!g?A[f]=void 0:A[f]=(g||"").replace(/%2F/g,"/"),A},{}),pathname:s,pathnameBase:o,pattern:e}}function DY(e,t=!1,r=!0){bc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function MY(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bc(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function lA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function RY(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ip(e):e;return{pathname:r?r.startsWith("/")?r:QY(r,t):t,search:zY(n),hash:qY(a)}}function QY(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function NC(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HY(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kk(e){let t=HY(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function _k(e,t,r,n=!1){let a;typeof e=="string"?a=ip(e):(a={...e},Qa(!a.pathname||!a.pathname.includes("?"),NC("?","pathname","search",a)),Qa(!a.pathname||!a.pathname.includes("#"),NC("#","pathname","hash",a)),Qa(!a.search||!a.search.includes("#"),NC("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;a.pathname=p.join("/")}l=h>=0?t[h]:"/"}let u=RY(a,l),A=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(A||f)&&(u.pathname+="/"),u}var aA=e=>e.join("/").replace(/\/\/+/g,"/"),$Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),zY=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qY=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function VY(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var E7=["POST","PUT","PATCH","DELETE"];new Set(E7);var KY=["GET",...E7];new Set(KY);var sp=k.createContext(null);sp.displayName="DataRouter";var Z1=k.createContext(null);Z1.displayName="DataRouterState";var k7=k.createContext({isTransitioning:!1});k7.displayName="ViewTransition";var GY=k.createContext(new Map);GY.displayName="Fetchers";var WY=k.createContext(null);WY.displayName="Await";var jc=k.createContext(null);jc.displayName="Navigation";var j0=k.createContext(null);j0.displayName="Location";var Sc=k.createContext({outlet:null,matches:[],isDataRoute:!1});Sc.displayName="Route";var Tk=k.createContext(null);Tk.displayName="RouteError";function YY(e,{relative:t}={}){Qa(op(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=k.useContext(jc),{hash:a,pathname:s,search:o}=S0(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:aA([r,s])),n.createHref({pathname:l,search:o,hash:a})}function op(){return k.useContext(j0)!=null}function gA(){return Qa(op(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(j0).location}var _7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T7(e){k.useContext(jc).static||k.useLayoutEffect(e)}function Jf(){let{isDataRoute:e}=k.useContext(Sc);return e?AX():XY()}function XY(){Qa(op(),"useNavigate() may be used only in the context of a <Router> component.");let e=k.useContext(sp),{basename:t,navigator:r}=k.useContext(jc),{matches:n}=k.useContext(Sc),{pathname:a}=gA(),s=JSON.stringify(kk(n)),o=k.useRef(!1);return T7(()=>{o.current=!0}),k.useCallback((u,A={})=>{if(bc(o.current,_7),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=_k(u,JSON.parse(s),a,A.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:aA([t,f.pathname])),(A.replace?r.replace:r.push)(f,A.state,A)},[t,r,s,a,e])}var JY=k.createContext(null);function ZY(e){let t=k.useContext(Sc).outlet;return t&&k.createElement(JY.Provider,{value:e},t)}function S0(e,{relative:t}={}){let{matches:r}=k.useContext(Sc),{pathname:n}=gA(),a=JSON.stringify(kk(r));return k.useMemo(()=>_k(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function eX(e,t){return O7(e,t)}function O7(e,t,r,n){var B;Qa(op(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:s}=k.useContext(jc),{matches:o}=k.useContext(Sc),l=o[o.length-1],u=l?l.params:{},A=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let j=h&&h.path||"";F7(A,!h||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${A}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let p=gA(),g;if(t){let j=typeof t=="string"?ip(t):t;Qa(f==="/"||((B=j.pathname)==null?void 0:B.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${j.pathname}" was given in the \`location\` prop.`),g=j}else g=p;let v=g.pathname||"/",x=v;if(f!=="/"){let j=f.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=!s&&r&&r.matches&&r.matches.length>0?r.matches:j7(e,{pathname:x});bc(h||b!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),bc(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=iX(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:aA([f,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:aA([f,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n);return t&&w?k.createElement(j0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},w):w}function tX(){let e=uX(),t=VY(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,o)}var rX=k.createElement(tX,null),nX=class extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?k.createElement(Sc.Provider,{value:this.props.routeContext},k.createElement(Tk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aX({routeContext:e,match:t,children:r}){let n=k.useContext(sp);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Sc.Provider,{value:e},r)}function iX(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let u=a.findIndex(A=>A.route.id&&(s==null?void 0:s[A.route.id])!==void 0);Qa(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<a.length;u++){let A=a[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(l=u),A.route.id){let{loaderData:f,errors:h}=r,p=A.route.loader&&!f.hasOwnProperty(A.route.id)&&(!h||h[A.route.id]===void 0);if(A.route.lazy||p){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,A,f)=>{let h,p=!1,g=null,v=null;r&&(h=s&&A.route.id?s[A.route.id]:void 0,g=A.route.errorElement||rX,o&&(l<0&&f===0?(F7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,v=null):l===f&&(p=!0,v=A.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,f+1)),b=()=>{let w;return h?w=g:p?w=v:A.route.Component?w=k.createElement(A.route.Component,null):A.route.element?w=A.route.element:w=u,k.createElement(aX,{match:A,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:w})};return r&&(A.route.ErrorBoundary||A.route.errorElement||f===0)?k.createElement(nX,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):b()},null)}function Ok(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sX(e){let t=k.useContext(sp);return Qa(t,Ok(e)),t}function oX(e){let t=k.useContext(Z1);return Qa(t,Ok(e)),t}function lX(e){let t=k.useContext(Sc);return Qa(t,Ok(e)),t}function Fk(e){let t=lX(e),r=t.matches[t.matches.length-1];return Qa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function cX(){return Fk("useRouteId")}function uX(){var n;let e=k.useContext(Tk),t=oX("useRouteError"),r=Fk("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function AX(){let{router:e}=sX("useNavigate"),t=Fk("useNavigate"),r=k.useRef(!1);return T7(()=>{r.current=!0}),k.useCallback(async(a,s={})=>{bc(r.current,_7),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var eF={};function F7(e,t,r){!t&&!eF[e]&&(eF[e]=!0,bc(!1,r))}k.memo(dX);function dX({routes:e,future:t,state:r}){return O7(e,void 0,r,t)}function am({to:e,replace:t,state:r,relative:n}){Qa(op(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=k.useContext(jc);bc(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=k.useContext(Sc),{pathname:o}=gA(),l=Jf(),u=_k(e,kk(s),o,n==="path"),A=JSON.stringify(u);return k.useEffect(()=>{l(JSON.parse(A),{replace:t,state:r,relative:n})},[l,A,n,t,r]),null}function fX(e){return ZY(e.context)}function _i(e){Qa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hX({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){Qa(!op(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=ip(r));let{pathname:u="/",search:A="",hash:f="",state:h=null,key:p="default"}=r,g=k.useMemo(()=>{let v=lA(u,o);return v==null?null:{location:{pathname:v,search:A,hash:f,state:h,key:p},navigationType:n}},[o,u,A,f,h,p,n]);return bc(g!=null,`<Router basename="${o}"> is not able to match the URL "${u}${A}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:k.createElement(jc.Provider,{value:l},k.createElement(j0.Provider,{children:t,value:g}))}function mX({children:e,location:t}){return eX(QN(e),t)}function QN(e,t=[]){let r=[];return k.Children.forEach(e,(n,a)=>{if(!k.isValidElement(n))return;let s=[...t,a];if(n.type===k.Fragment){r.push.apply(r,QN(n.props.children,s));return}Qa(n.type===_i,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=QN(n.props.children,s)),r.push(o)}),r}var Vx="get",Kx="application/x-www-form-urlencoded";function ew(e){return e!=null&&typeof e.tagName=="string"}function pX(e){return ew(e)&&e.tagName.toLowerCase()==="button"}function gX(e){return ew(e)&&e.tagName.toLowerCase()==="form"}function yX(e){return ew(e)&&e.tagName.toLowerCase()==="input"}function vX(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xX(e,t){return e.button===0&&(!t||t==="_self")&&!vX(e)}var qv=null;function bX(){if(qv===null)try{new FormData(document.createElement("form"),0),qv=!1}catch{qv=!0}return qv}var wX=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function EC(e){return e!=null&&!wX.has(e)?(bc(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kx}"`),null):e}function CX(e,t){let r,n,a,s,o;if(gX(e)){let l=e.getAttribute("action");n=l?lA(l,t):null,r=e.getAttribute("method")||Vx,a=EC(e.getAttribute("enctype"))||Kx,s=new FormData(e)}else if(pX(e)||yX(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(n=u?lA(u,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||Vx,a=EC(e.getAttribute("formenctype"))||EC(l.getAttribute("enctype"))||Kx,s=new FormData(l,e),!bX()){let{name:A,type:f,value:h}=e;if(f==="image"){let p=A?`${A}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else A&&s.append(A,h)}}else{if(ew(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Vx,n=null,a=Kx,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function Pk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function BX(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jX(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SX(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await BX(s,r);return o.links?o.links():[]}return[]}));return _X(n.flat(1).filter(jX).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tF(e,t,r,n,a,s){let o=(u,A)=>r[A]?u.route.id!==r[A].route.id:!0,l=(u,A)=>{var f;return r[A].pathname!==u.pathname||((f=r[A].route.path)==null?void 0:f.endsWith("*"))&&r[A].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,A)=>o(u,A)||l(u,A)):s==="data"?t.filter((u,A)=>{var h;let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,A)||l(u,A))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function NX(e,t,{includeHydrateFallback:r}={}){return EX(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function EX(e){return[...new Set(e)]}function kX(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function _X(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(kX(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}var TX=new Set([100,101,204,205]);function OX(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&lA(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function P7(){let e=k.useContext(sp);return Pk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FX(){let e=k.useContext(Z1);return Pk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Lk=k.createContext(void 0);Lk.displayName="FrameworkContext";function L7(){let e=k.useContext(Lk);return Pk(e,"You must render this element inside a <HydratedRouter> element"),e}function PX(e,t){let r=k.useContext(Lk),[n,a]=k.useState(!1),[s,o]=k.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:A,onMouseLeave:f,onTouchStart:h}=t,p=k.useRef(null);k.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let x=w=>{w.forEach(B=>{o(B.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),k.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let g=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,p,{}]:[s,p,{onFocus:vg(l,g),onBlur:vg(u,v),onMouseEnter:vg(A,g),onMouseLeave:vg(f,v),onTouchStart:vg(h,g)}]:[!1,p,{}]}function vg(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function LX({page:e,...t}){let{router:r}=P7(),n=k.useMemo(()=>j7(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?k.createElement(IX,{page:e,matches:n,...t}):null}function UX(e){let{manifest:t,routeModules:r}=L7(),[n,a]=k.useState([]);return k.useEffect(()=>{let s=!1;return SX(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function IX({page:e,matches:t,...r}){let n=gA(),{manifest:a,routeModules:s}=L7(),{basename:o}=P7(),{loaderData:l,matches:u}=FX(),A=k.useMemo(()=>tF(e,t,u,a,n,"data"),[e,t,u,a,n]),f=k.useMemo(()=>tF(e,t,u,a,n,"assets"),[e,t,u,a,n]),h=k.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,x=!1;if(t.forEach(w=>{var j;let B=a.routes[w.route.id];!B||!B.hasLoader||(!A.some(_=>_.route.id===w.route.id)&&w.route.id in l&&((j=s[w.route.id])!=null&&j.shouldRevalidate)||B.hasClientLoader?x=!0:v.add(w.route.id))}),v.size===0)return[];let b=OX(e,o);return x&&v.size>0&&b.searchParams.set("_routes",t.filter(w=>v.has(w.route.id)).map(w=>w.route.id).join(",")),[b.pathname+b.search]},[o,l,n,a,A,t,e,s]),p=k.useMemo(()=>NX(f,a),[f,a]),g=UX(f);return k.createElement(k.Fragment,null,h.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),g.map(({key:v,link:x})=>k.createElement("link",{key:v,...x})))}function DX(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var U7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U7&&(window.__reactRouterVersion="7.5.3")}catch{}function MX({basename:e,children:t,window:r}){let n=k.useRef();n.current==null&&(n.current=BY({window:r,v5Compat:!0}));let a=n.current,[s,o]=k.useState({action:a.action,location:a.location}),l=k.useCallback(u=>{k.startTransition(()=>o(u))},[o]);return k.useLayoutEffect(()=>a.listen(l),[a,l]),k.createElement(hX,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var I7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eA=k.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:u,to:A,preventScrollReset:f,viewTransition:h,...p},g){let{basename:v}=k.useContext(jc),x=typeof A=="string"&&I7.test(A),b,w=!1;if(typeof A=="string"&&x&&(b=A,U7))try{let U=new URL(window.location.href),D=A.startsWith("//")?new URL(U.protocol+A):new URL(A),F=lA(D.pathname,v);D.origin===U.origin&&F!=null?A=F+D.search+D.hash:w=!0}catch{bc(!1,`<Link to="${A}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=YY(A,{relative:a}),[j,_,N]=PX(n,p),O=$X(A,{replace:o,state:l,target:u,preventScrollReset:f,relative:a,viewTransition:h});function T(U){t&&t(U),U.defaultPrevented||O(U)}let P=k.createElement("a",{...p,...N,href:b||B,onClick:w||s?t:T,ref:DX(g,_),target:u,"data-discover":!x&&r==="render"?"true":void 0});return j&&!x?k.createElement(k.Fragment,null,P,k.createElement(LX,{page:B})):P});eA.displayName="Link";var RX=k.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:u,...A},f){let h=S0(o,{relative:A.relative}),p=gA(),g=k.useContext(Z1),{navigator:v,basename:x}=k.useContext(jc),b=g!=null&&GX(h)&&l===!0,w=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,B=p.pathname,j=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(B=B.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&x&&(j=lA(j,x)||j);const _=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let N=B===w||!a&&B.startsWith(w)&&B.charAt(_)==="/",O=j!=null&&(j===w||!a&&j.startsWith(w)&&j.charAt(w.length)==="/"),T={isActive:N,isPending:O,isTransitioning:b},P=N?t:void 0,U;typeof n=="function"?U=n(T):U=[n,N?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(T):s;return k.createElement(eA,{...A,"aria-current":P,className:U,ref:f,style:D,to:o,viewTransition:l},typeof u=="function"?u(T):u)});RX.displayName="NavLink";var QX=k.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=Vx,action:l,onSubmit:u,relative:A,preventScrollReset:f,viewTransition:h,...p},g)=>{let v=VX(),x=KX(l,{relative:A}),b=o.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&I7.test(l),B=j=>{if(u&&u(j),j.defaultPrevented)return;j.preventDefault();let _=j.nativeEvent.submitter,N=(_==null?void 0:_.getAttribute("formmethod"))||o;v(_||j.currentTarget,{fetcherKey:t,method:N,navigate:r,replace:a,state:s,relative:A,preventScrollReset:f,viewTransition:h})};return k.createElement("form",{ref:g,method:b,action:x,onSubmit:n?u:B,...p,"data-discover":!w&&e==="render"?"true":void 0})});QX.displayName="Form";function HX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D7(e){let t=k.useContext(sp);return Qa(t,HX(e)),t}function $X(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=Jf(),u=gA(),A=S0(e,{relative:s});return k.useCallback(f=>{if(xX(f,t)){f.preventDefault();let h=r!==void 0?r:by(u)===by(A);l(e,{replace:h,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,A,r,n,t,e,a,s,o])}var zX=0,qX=()=>`__${String(++zX)}__`;function VX(){let{router:e}=D7("useSubmit"),{basename:t}=k.useContext(jc),r=cX();return k.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:u,body:A}=CX(n,t);if(a.navigate===!1){let f=a.fetcherKey||qX();await e.fetch(f,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:A,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:u,body:A,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function KX(e,{relative:t}={}){let{basename:r}=k.useContext(jc),n=k.useContext(Sc);Qa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...S0(e||".",{relative:t})},o=gA();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(h=>h).forEach(h=>l.append("index",h));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:aA([r,s.pathname])),by(s)}function GX(e,t={}){let r=k.useContext(k7);Qa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=D7("useViewTransitionState"),a=S0(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=lA(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=lA(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cb(a.pathname,o)!=null||Cb(a.pathname,s)!=null}new TextEncoder;[...TX];var Gx=B7();function M7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=M7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function en(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=M7(e))&&(n&&(n+=" "),n+=t);return n}function WX(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}WX(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var N0=e=>typeof e=="number"&&!isNaN(e),Hf=e=>typeof e=="string",cA=e=>typeof e=="function",YX=e=>Hf(e)||N0(e),HN=e=>Hf(e)||cA(e)?e:null,XX=(e,t)=>e===!1||N0(e)&&e>0?e:t,$N=e=>k.isValidElement(e)||Hf(e)||cA(e)||N0(e);function JX(e,t,r=300){let{scrollHeight:n,style:a}=e;requestAnimationFrame(()=>{a.minHeight="initial",a.height=n+"px",a.transition=`all ${r}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(t,r)})})}function ZX({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:a=300}){return function({children:s,position:o,preventExitTransition:l,done:u,nodeRef:A,isIn:f,playToast:h}){let p=r?`${e}--${o}`:e,g=r?`${t}--${o}`:t,v=k.useRef(0);return k.useLayoutEffect(()=>{let x=A.current,b=p.split(" "),w=B=>{B.target===A.current&&(h(),x.removeEventListener("animationend",w),x.removeEventListener("animationcancel",w),v.current===0&&B.type!=="animationcancel"&&x.classList.remove(...b))};x.classList.add(...b),x.addEventListener("animationend",w),x.addEventListener("animationcancel",w)},[]),k.useEffect(()=>{let x=A.current,b=()=>{x.removeEventListener("animationend",b),n?JX(x,u,a):u()};f||(l?b():(v.current=1,x.className+=` ${g}`,x.addEventListener("animationend",b)))},[f]),Ce.createElement(Ce.Fragment,null,s)}}function rF(e,t){return{content:R7(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function R7(e,t,r=!1){return k.isValidElement(e)&&!Hf(e.type)?k.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):cA(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function eJ({closeToast:e,theme:t,ariaLabel:r="close"}){return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tJ({delay:e,isRunning:t,closeToast:r,type:n="default",hide:a,className:s,controlledProgress:o,progress:l,rtl:u,isIn:A,theme:f}){let h=a||o&&l===0,p={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(p.transform=`scaleX(${l})`);let g=en("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":u}),v=cA(s)?s({rtl:u,type:n,defaultClassName:g}):en(g,s),x={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{A&&r()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${n}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:v,style:p,...x}))}var rJ=1,Q7=()=>`${rJ++}`;function nJ(e,t,r){let n=1,a=0,s=[],o=[],l=t,u=new Map,A=new Set,f=B=>(A.add(B),()=>A.delete(B)),h=()=>{o=Array.from(u.values()),A.forEach(B=>B())},p=({containerId:B,toastId:j,updateId:_})=>{let N=B?B!==e:e!==1,O=u.has(j)&&_==null;return N||O},g=(B,j)=>{u.forEach(_=>{var N;(j==null||j===_.props.toastId)&&((N=_.toggle)==null||N.call(_,B))})},v=B=>{var j,_;(_=(j=B.props)==null?void 0:j.onClose)==null||_.call(j,B.removalReason),B.isActive=!1},x=B=>{if(B==null)u.forEach(v);else{let j=u.get(B);j&&v(j)}h()},b=()=>{a-=s.length,s=[]},w=B=>{var j,_;let{toastId:N,updateId:O}=B.props,T=O==null;B.staleId&&u.delete(B.staleId),B.isActive=!0,u.set(N,B),h(),r(rF(B,T?"added":"updated")),T&&((_=(j=B.props).onOpen)==null||_.call(j))};return{id:e,props:l,observe:f,toggle:g,removeToast:x,toasts:u,clearQueue:b,buildToast:(B,j)=>{if(p(j))return;let{toastId:_,updateId:N,data:O,staleId:T,delay:P}=j,U=N==null;U&&a++;let D={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(j).filter(([R,Q])=>Q!=null)),toastId:_,updateId:N,data:O,isIn:!1,className:HN(j.className||l.toastClassName),progressClassName:HN(j.progressClassName||l.progressClassName),autoClose:j.isLoading?!1:XX(j.autoClose,l.autoClose),closeToast(R){u.get(_).removalReason=R,x(_)},deleteToast(){let R=u.get(_);if(R!=null){if(r(rF(R,"removed")),u.delete(_),a--,a<0&&(a=0),s.length>0){w(s.shift());return}h()}}};D.closeButton=l.closeButton,j.closeButton===!1||$N(j.closeButton)?D.closeButton=j.closeButton:j.closeButton===!0&&(D.closeButton=$N(l.closeButton)?l.closeButton:!0);let F={content:B,props:D,staleId:T};l.limit&&l.limit>0&&a>l.limit&&U?s.push(F):N0(P)?setTimeout(()=>{w(F)},P):w(F)},setProps(B){l=B},setToggle:(B,j)=>{let _=u.get(B);_&&(_.toggle=j)},isToastActive:B=>{var j;return(j=u.get(B))==null?void 0:j.isActive},getSnapshot:()=>o}}var so=new Map,wy=[],zN=new Set,aJ=e=>zN.forEach(t=>t(e)),H7=()=>so.size>0;function iJ(){wy.forEach(e=>z7(e.content,e.options)),wy=[]}var sJ=(e,{containerId:t})=>{var r;return(r=so.get(t||1))==null?void 0:r.toasts.get(e)};function $7(e,t){var r;if(t)return!!((r=so.get(t))!=null&&r.isToastActive(e));let n=!1;return so.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function oJ(e){if(!H7()){wy=wy.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||YX(e))so.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=so.get(e.containerId);t?t.removeToast(e.id):so.forEach(r=>{r.removeToast(e.id)})}}var lJ=(e={})=>{so.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function z7(e,t){$N(e)&&(H7()||wy.push({content:e,options:t}),so.forEach(r=>{r.buildToast(e,t)}))}function cJ(e){var t;(t=so.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function q7(e,t){so.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function uJ(e){let t=e.containerId||1;return{subscribe(r){let n=nJ(t,e,aJ);so.set(t,n);let a=n.observe(r);return iJ(),()=>{a(),so.delete(t)}},setProps(r){var n;(n=so.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=so.get(t))==null?void 0:r.getSnapshot()}}}function AJ(e){return zN.add(e),()=>{zN.delete(e)}}function dJ(e){return e&&(Hf(e.toastId)||N0(e.toastId))?e.toastId:Q7()}function E0(e,t){return z7(e,t),t.toastId}function tw(e,t){return{...t,type:t&&t.type||e,toastId:dJ(t)}}function rw(e){return(t,r)=>E0(t,tw(e,r))}function rr(e,t){return E0(e,tw("default",t))}rr.loading=(e,t)=>E0(e,tw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function fJ(e,{pending:t,error:r,success:n},a){let s;t&&(s=Hf(t)?rr.loading(t,a):rr.loading(t.render,{...a,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(A,f,h)=>{if(f==null){rr.dismiss(s);return}let p={type:A,...o,...a,data:h},g=Hf(f)?{render:f}:f;return s?rr.update(s,{...p,...g}):rr(g.render,{...p,...g}),h},u=cA(e)?e():e;return u.then(A=>l("success",n,A)).catch(A=>l("error",r,A)),u}rr.promise=fJ;rr.success=rw("success");rr.info=rw("info");rr.error=rw("error");rr.warning=rw("warning");rr.warn=rr.warning;rr.dark=(e,t)=>E0(e,tw("default",{theme:"dark",...t}));function hJ(e){oJ(e)}rr.dismiss=hJ;rr.clearWaitingQueue=lJ;rr.isActive=$7;rr.update=(e,t={})=>{let r=sJ(e,t);if(r){let{props:n,content:a}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:Q7()};s.toastId!==e&&(s.staleId=e);let o=s.render||a;delete s.render,E0(o,s)}};rr.done=e=>{rr.update(e,{progress:1})};rr.onChange=AJ;rr.play=e=>q7(!0,e);rr.pause=e=>q7(!1,e);function mJ(e){var t;let{subscribe:r,getSnapshot:n,setProps:a}=k.useRef(uJ(e)).current;a(e);let s=(t=k.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!s)return[];let u=new Map;return e.newestOnTop&&s.reverse(),s.forEach(A=>{let{position:f}=A.props;u.has(f)||u.set(f,[]),u.get(f).push(A)}),Array.from(u,A=>l(A[0],A[1]))}return{getToastToRender:o,isToastActive:$7,count:s==null?void 0:s.length}}function pJ(e){let[t,r]=k.useState(!1),[n,a]=k.useState(!1),s=k.useRef(null),o=k.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:A,onClick:f,closeOnClick:h}=e;cJ({id:e.toastId,containerId:e.containerId,fn:r}),k.useEffect(()=>{if(e.pauseOnFocusLoss)return p(),()=>{g()}},[e.pauseOnFocusLoss]);function p(){document.hasFocus()||w(),window.addEventListener("focus",b),window.addEventListener("blur",w)}function g(){window.removeEventListener("focus",b),window.removeEventListener("blur",w)}function v(T){if(e.draggable===!0||e.draggable===T.pointerType){B();let P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=T.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=T.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(T){let{top:P,bottom:U,left:D,right:F}=s.current.getBoundingClientRect();T.nativeEvent.type!=="touchend"&&e.pauseOnHover&&T.clientX>=D&&T.clientX<=F&&T.clientY>=P&&T.clientY<=U?w():b()}function b(){r(!0)}function w(){r(!1)}function B(){o.didMove=!1,document.addEventListener("pointermove",_),document.addEventListener("pointerup",N)}function j(){document.removeEventListener("pointermove",_),document.removeEventListener("pointerup",N)}function _(T){let P=s.current;if(o.canDrag&&P){o.didMove=!0,t&&w(),e.draggableDirection==="x"?o.delta=T.clientX-o.start:o.delta=T.clientY-o.start,o.start!==T.clientX&&(o.canCloseOnClick=!1);let U=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;P.style.transform=`translate3d(${U},0)`,P.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function N(){j();let T=s.current;if(o.canDrag&&o.didMove&&T){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){a(!0),e.closeToast(!0),e.collapseAll();return}T.style.transition="transform 0.2s, opacity 0.2s",T.style.removeProperty("transform"),T.style.removeProperty("opacity")}}let O={onPointerDown:v,onPointerUp:x};return l&&u&&(O.onMouseEnter=w,e.stacked||(O.onMouseLeave=b)),h&&(O.onClick=T=>{f&&f(T),o.canCloseOnClick&&A(!0)}),{playToast:b,pauseToast:w,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:O}}var gJ=typeof window<"u"?k.useLayoutEffect:k.useEffect,nw=({theme:e,type:t,isLoading:r,...n})=>Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function yJ(e){return Ce.createElement(nw,{...e},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vJ(e){return Ce.createElement(nw,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xJ(e){return Ce.createElement(nw,{...e},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bJ(e){return Ce.createElement(nw,{...e},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function wJ(){return Ce.createElement("div",{className:"Toastify__spinner"})}var qN={info:vJ,warning:yJ,success:xJ,error:bJ,spinner:wJ},CJ=e=>e in qN;function BJ({theme:e,type:t,isLoading:r,icon:n}){let a=null,s={theme:e,type:t};return n===!1||(cA(n)?a=n({...s,isLoading:r}):k.isValidElement(n)?a=k.cloneElement(n,s):r?a=qN.spinner():CJ(t)&&(a=qN[t](s))),a}var jJ=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:a,playToast:s}=pJ(e),{closeButton:o,children:l,autoClose:u,onClick:A,type:f,hideProgressBar:h,closeToast:p,transition:g,position:v,className:x,style:b,progressClassName:w,updateId:B,role:j,progress:_,rtl:N,toastId:O,deleteToast:T,isIn:P,isLoading:U,closeOnClick:D,theme:F,ariaLabel:R}=e,Q=en("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":D}),H=cA(x)?x({rtl:N,position:v,type:f,defaultClassName:Q}):en(Q,x),J=BJ(e),V=!!_||!u,Y={closeToast:p,type:f,theme:F},ee=null;return o===!1||(cA(o)?ee=o(Y):k.isValidElement(o)?ee=k.cloneElement(o,Y):ee=eJ(Y)),Ce.createElement(g,{isIn:P,done:T,position:v,preventExitTransition:r,nodeRef:n,playToast:s},Ce.createElement("div",{id:O,tabIndex:0,onClick:A,"data-in":P,className:H,...a,style:b,ref:n,...P&&{role:j,"aria-label":R}},J!=null&&Ce.createElement("div",{className:en("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},J),R7(l,e,!t),ee,!e.customProgressBar&&Ce.createElement(tJ,{...B&&!V?{key:`p-${B}`}:{},rtl:N,theme:F,delay:u,isRunning:t,isIn:P,closeToast:p,hide:h,type:f,className:w,controlledProgress:V,progress:_||0})))},SJ=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),NJ=ZX(SJ("bounce",!0)),EJ={position:"top-right",transition:NJ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Uk(e){let t={...EJ,...e},r=e.stacked,[n,a]=k.useState(!0),s=k.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=mJ(t),{className:A,style:f,rtl:h,containerId:p,hotKeys:g}=t;function v(b){let w=en("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":h});return cA(A)?A({position:b,rtl:h,defaultClassName:w}):en(w,HN(A))}function x(){r&&(a(!0),rr.play())}return gJ(()=>{var b;if(r){let w=s.current.querySelectorAll('[data-in="true"]'),B=12,j=(b=t.position)==null?void 0:b.includes("top"),_=0,N=0;Array.from(w).reverse().forEach((O,T)=>{let P=O;P.classList.add("Toastify__toast--stacked"),T>0&&(P.dataset.collapsed=`${n}`),P.dataset.pos||(P.dataset.pos=j?"top":"bot");let U=_*(n?.2:1)+(n?0:B*T);P.style.setProperty("--y",`${j?U:U*-1}px`),P.style.setProperty("--g",`${B}`),P.style.setProperty("--s",`${1-(n?N:0)}`),_+=P.offsetHeight,N+=.025})}},[n,u,r]),k.useEffect(()=>{function b(w){var B;let j=s.current;g(w)&&((B=j.querySelector('[tabIndex="0"]'))==null||B.focus(),a(!1),rr.pause()),w.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(a(!0),rr.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[g]),Ce.createElement("section",{ref:s,className:"Toastify",id:p,onMouseEnter:()=>{r&&(a(!1),rr.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((b,w)=>{let B=w.length?{...f}:{...f,pointerEvents:"none"};return Ce.createElement("div",{tabIndex:-1,className:v(b),"data-stacked":r,style:B,key:`c-${b}`},w.map(({content:j,props:_})=>Ce.createElement(jJ,{..._,stacked:r,collapseAll:x,isIn:l(_.toastId,_.containerId),key:`t-${_.key}`},j)))}))}function V7(e,t){return function(){return e.apply(t,arguments)}}const{toString:kJ}=Object.prototype,{getPrototypeOf:Ik}=Object,{iterator:aw,toStringTag:K7}=Symbol,iw=(e=>t=>{const r=kJ.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nc=e=>(e=e.toLowerCase(),t=>iw(t)===e),sw=e=>t=>typeof t===e,{isArray:lp}=Array,Sm=sw("undefined");function k0(e){return e!==null&&!Sm(e)&&e.constructor!==null&&!Sm(e.constructor)&&No(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const G7=Nc("ArrayBuffer");function _J(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&G7(e.buffer),t}const TJ=sw("string"),No=sw("function"),W7=sw("number"),_0=e=>e!==null&&typeof e=="object",OJ=e=>e===!0||e===!1,Wx=e=>{if(iw(e)!=="object")return!1;const t=Ik(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(K7 in e)&&!(aw in e)},FJ=e=>{if(!_0(e)||k0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},PJ=Nc("Date"),LJ=Nc("File"),UJ=Nc("Blob"),IJ=Nc("FileList"),DJ=e=>_0(e)&&No(e.pipe),MJ=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||No(e.append)&&((t=iw(e))==="formdata"||t==="object"&&No(e.toString)&&e.toString()==="[object FormData]"))},RJ=Nc("URLSearchParams"),[QJ,HJ,$J,zJ]=["ReadableStream","Request","Response","Headers"].map(Nc),qJ=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function T0(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),lp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(k0(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function Y7(e,t){if(k0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const bf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,X7=e=>!Sm(e)&&e!==bf;function VN(){const{caseless:e,skipUndefined:t}=X7(this)&&this||{},r={},n=(a,s)=>{const o=e&&Y7(r,s)||s;Wx(r[o])&&Wx(a)?r[o]=VN(r[o],a):Wx(a)?r[o]=VN({},a):lp(a)?r[o]=a.slice():(!t||!Sm(a))&&(r[o]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&T0(arguments[a],n);return r}const VJ=(e,t,r,{allOwnKeys:n}={})=>(T0(t,(a,s)=>{r&&No(a)?e[s]=V7(a,r):e[s]=a},{allOwnKeys:n}),e),KJ=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),GJ=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},WJ=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&Ik(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},YJ=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},XJ=e=>{if(!e)return null;if(lp(e))return e;let t=e.length;if(!W7(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},JJ=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ik(Uint8Array)),ZJ=(e,t)=>{const n=(e&&e[aw]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},eZ=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},tZ=Nc("HTMLFormElement"),rZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),nF=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),nZ=Nc("RegExp"),J7=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};T0(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},aZ=e=>{J7(e,(t,r)=>{if(No(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(No(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},iZ=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return lp(e)?n(e):n(String(e).split(t)),r},sZ=()=>{},oZ=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lZ(e){return!!(e&&No(e.append)&&e[K7]==="FormData"&&e[aw])}const cZ=e=>{const t=new Array(10),r=(n,a)=>{if(_0(n)){if(t.indexOf(n)>=0)return;if(k0(n))return n;if(!("toJSON"in n)){t[a]=n;const s=lp(n)?[]:{};return T0(n,(o,l)=>{const u=r(o,a+1);!Sm(u)&&(s[l]=u)}),t[a]=void 0,s}}return n};return r(e,0)},uZ=Nc("AsyncFunction"),AZ=e=>e&&(_0(e)||No(e))&&No(e.then)&&No(e.catch),Z7=((e,t)=>e?setImmediate:t?((r,n)=>(bf.addEventListener("message",({source:a,data:s})=>{a===bf&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),bf.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",No(bf.postMessage)),dZ=typeof queueMicrotask<"u"?queueMicrotask.bind(bf):typeof process<"u"&&process.nextTick||Z7,fZ=e=>e!=null&&No(e[aw]),vt={isArray:lp,isArrayBuffer:G7,isBuffer:k0,isFormData:MJ,isArrayBufferView:_J,isString:TJ,isNumber:W7,isBoolean:OJ,isObject:_0,isPlainObject:Wx,isEmptyObject:FJ,isReadableStream:QJ,isRequest:HJ,isResponse:$J,isHeaders:zJ,isUndefined:Sm,isDate:PJ,isFile:LJ,isBlob:UJ,isRegExp:nZ,isFunction:No,isStream:DJ,isURLSearchParams:RJ,isTypedArray:JJ,isFileList:IJ,forEach:T0,merge:VN,extend:VJ,trim:qJ,stripBOM:KJ,inherits:GJ,toFlatObject:WJ,kindOf:iw,kindOfTest:Nc,endsWith:YJ,toArray:XJ,forEachEntry:ZJ,matchAll:eZ,isHTMLForm:tZ,hasOwnProperty:nF,hasOwnProp:nF,reduceDescriptors:J7,freezeMethods:aZ,toObjectSet:iZ,toCamelCase:rZ,noop:sZ,toFiniteNumber:oZ,findKey:Y7,global:bf,isContextDefined:X7,isSpecCompliantForm:lZ,toJSONObject:cZ,isAsyncFn:uZ,isThenable:AZ,setImmediate:Z7,asap:dZ,isIterable:fZ};function gn(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}vt.inherits(gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const eH=gn.prototype,tH={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tH[e]={value:e}});Object.defineProperties(gn,tH);Object.defineProperty(eH,"isAxiosError",{value:!0});gn.from=(e,t,r,n,a,s)=>{const o=Object.create(eH);vt.toFlatObject(e,o,function(f){return f!==Error.prototype},A=>A!=="isAxiosError");const l=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return gn.call(o,l,u,r,n,a),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const hZ=null;function KN(e){return vt.isPlainObject(e)||vt.isArray(e)}function rH(e){return vt.endsWith(e,"[]")?e.slice(0,-2):e}function aF(e,t,r){return e?e.concat(t).map(function(a,s){return a=rH(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function mZ(e){return vt.isArray(e)&&!e.some(KN)}const pZ=vt.toFlatObject(vt,{},null,function(t){return/^is[A-Z]/.test(t)});function ow(e,t,r){if(!vt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=vt.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!vt.isUndefined(b[x])});const n=r.metaTokens,a=r.visitor||f,s=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&vt.isSpecCompliantForm(t);if(!vt.isFunction(a))throw new TypeError("visitor must be a function");function A(v){if(v===null)return"";if(vt.isDate(v))return v.toISOString();if(vt.isBoolean(v))return v.toString();if(!u&&vt.isBlob(v))throw new gn("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(v)||vt.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function f(v,x,b){let w=v;if(v&&!b&&typeof v=="object"){if(vt.endsWith(x,"{}"))x=n?x:x.slice(0,-2),v=JSON.stringify(v);else if(vt.isArray(v)&&mZ(v)||(vt.isFileList(v)||vt.endsWith(x,"[]"))&&(w=vt.toArray(v)))return x=rH(x),w.forEach(function(j,_){!(vt.isUndefined(j)||j===null)&&t.append(o===!0?aF([x],_,s):o===null?x:x+"[]",A(j))}),!1}return KN(v)?!0:(t.append(aF(b,x,s),A(v)),!1)}const h=[],p=Object.assign(pZ,{defaultVisitor:f,convertValue:A,isVisitable:KN});function g(v,x){if(!vt.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(v),vt.forEach(v,function(w,B){(!(vt.isUndefined(w)||w===null)&&a.call(t,w,vt.isString(B)?B.trim():B,x,p))===!0&&g(w,x?x.concat(B):[B])}),h.pop()}}if(!vt.isObject(e))throw new TypeError("data must be an object");return g(e),t}function iF(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Dk(e,t){this._pairs=[],e&&ow(e,this,t)}const nH=Dk.prototype;nH.append=function(t,r){this._pairs.push([t,r])};nH.toString=function(t){const r=t?function(n){return t.call(this,n,iF)}:iF;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function gZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aH(e,t,r){if(!t)return e;const n=r&&r.encode||gZ;vt.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=vt.isURLSearchParams(t)?t.toString():new Dk(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class sF{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){vt.forEach(this.handlers,function(n){n!==null&&t(n)})}}const iH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yZ=typeof URLSearchParams<"u"?URLSearchParams:Dk,vZ=typeof FormData<"u"?FormData:null,xZ=typeof Blob<"u"?Blob:null,bZ={isBrowser:!0,classes:{URLSearchParams:yZ,FormData:vZ,Blob:xZ},protocols:["http","https","file","blob","url","data"]},Mk=typeof window<"u"&&typeof document<"u",GN=typeof navigator=="object"&&navigator||void 0,wZ=Mk&&(!GN||["ReactNative","NativeScript","NS"].indexOf(GN.product)<0),CZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BZ=Mk&&window.location.href||"http://localhost",jZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mk,hasStandardBrowserEnv:wZ,hasStandardBrowserWebWorkerEnv:CZ,navigator:GN,origin:BZ},Symbol.toStringTag,{value:"Module"})),Ks={...jZ,...bZ};function SZ(e,t){return ow(e,new Ks.classes.URLSearchParams,{visitor:function(r,n,a,s){return Ks.isNode&&vt.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function NZ(e){return vt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function EZ(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function sH(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=r.length;return o=!o&&vt.isArray(a)?a.length:o,u?(vt.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!vt.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&vt.isArray(a[o])&&(a[o]=EZ(a[o])),!l)}if(vt.isFormData(e)&&vt.isFunction(e.entries)){const r={};return vt.forEachEntry(e,(n,a)=>{t(NZ(n),a,r,0)}),r}return null}function kZ(e,t,r){if(vt.isString(e))try{return(t||JSON.parse)(e),vt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const O0={transitional:iH,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=vt.isObject(t);if(s&&vt.isHTMLForm(t)&&(t=new FormData(t)),vt.isFormData(t))return a?JSON.stringify(sH(t)):t;if(vt.isArrayBuffer(t)||vt.isBuffer(t)||vt.isStream(t)||vt.isFile(t)||vt.isBlob(t)||vt.isReadableStream(t))return t;if(vt.isArrayBufferView(t))return t.buffer;if(vt.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return SZ(t,this.formSerializer).toString();if((l=vt.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ow(l?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),kZ(t)):t}],transformResponse:[function(t){const r=this.transitional||O0.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(vt.isResponse(t)||vt.isReadableStream(t))return t;if(t&&vt.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?gn.from(l,gn.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],e=>{O0.headers[e]={}});const _Z=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TZ=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&_Z[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},oF=Symbol("internals");function xg(e){return e&&String(e).trim().toLowerCase()}function Yx(e){return e===!1||e==null?e:vt.isArray(e)?e.map(Yx):String(e)}function OZ(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const FZ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function kC(e,t,r,n,a){if(vt.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!vt.isString(t)){if(vt.isString(n))return t.indexOf(n)!==-1;if(vt.isRegExp(n))return n.test(t)}}function PZ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function LZ(e,t){const r=vt.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}let Eo=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,u,A){const f=xg(u);if(!f)throw new Error("header name must be a non-empty string");const h=vt.findKey(a,f);(!h||a[h]===void 0||A===!0||A===void 0&&a[h]!==!1)&&(a[h||u]=Yx(l))}const o=(l,u)=>vt.forEach(l,(A,f)=>s(A,f,u));if(vt.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(vt.isString(t)&&(t=t.trim())&&!FZ(t))o(TZ(t),r);else if(vt.isObject(t)&&vt.isIterable(t)){let l={},u,A;for(const f of t){if(!vt.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[A=f[0]]=(u=l[A])?vt.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=xg(t),t){const n=vt.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return OZ(a);if(vt.isFunction(r))return r.call(this,a,n);if(vt.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=xg(t),t){const n=vt.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||kC(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=xg(o),o){const l=vt.findKey(n,o);l&&(!r||kC(n,n[l],l,r))&&(delete n[l],a=!0)}}return vt.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||kC(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return vt.forEach(this,(a,s)=>{const o=vt.findKey(n,s);if(o){r[o]=Yx(a),delete r[s];return}const l=t?PZ(s):String(s).trim();l!==s&&delete r[s],r[l]=Yx(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return vt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&vt.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[oF]=this[oF]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=xg(o);n[l]||(LZ(a,o),n[l]=!0)}return vt.isArray(t)?t.forEach(s):s(t),this}};Eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);vt.reduceDescriptors(Eo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});vt.freezeMethods(Eo);function _C(e,t){const r=this||O0,n=t||r,a=Eo.from(n.headers);let s=n.data;return vt.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function oH(e){return!!(e&&e.__CANCEL__)}function cp(e,t,r){gn.call(this,e??"canceled",gn.ERR_CANCELED,t,r),this.name="CanceledError"}vt.inherits(cp,gn,{__CANCEL__:!0});function lH(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new gn("Request failed with status code "+r.status,[gn.ERR_BAD_REQUEST,gn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function UZ(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function IZ(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(u){const A=Date.now(),f=n[s];o||(o=A),r[a]=u,n[a]=A;let h=s,p=0;for(;h!==a;)p+=r[h++],h=h%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),A-o<t)return;const g=f&&A-f;return g?Math.round(p*1e3/g):void 0}}function DZ(e,t){let r=0,n=1e3/t,a,s;const o=(A,f=Date.now())=>{r=f,a=null,s&&(clearTimeout(s),s=null),e(...A)};return[(...A)=>{const f=Date.now(),h=f-r;h>=n?o(A,f):(a=A,s||(s=setTimeout(()=>{s=null,o(a)},n-h)))},()=>a&&o(a)]}const Bb=(e,t,r=3)=>{let n=0;const a=IZ(50,250);return DZ(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-n,A=a(u),f=o<=l;n=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:A||void 0,estimated:A&&l&&f?(l-o)/A:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(h)},r)},lF=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},cF=e=>(...t)=>vt.asap(()=>e(...t)),MZ=Ks.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ks.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ks.origin),Ks.navigator&&/(msie|trident)/i.test(Ks.navigator.userAgent)):()=>!0,RZ=Ks.hasStandardBrowserEnv?{write(e,t,r,n,a,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];vt.isNumber(r)&&l.push(`expires=${new Date(r).toUTCString()}`),vt.isString(n)&&l.push(`path=${n}`),vt.isString(a)&&l.push(`domain=${a}`),s===!0&&l.push("secure"),vt.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function QZ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function HZ(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cH(e,t,r){let n=!QZ(t);return e&&(n||r==!1)?HZ(e,t):t}const uF=e=>e instanceof Eo?{...e}:e;function $f(e,t){t=t||{};const r={};function n(A,f,h,p){return vt.isPlainObject(A)&&vt.isPlainObject(f)?vt.merge.call({caseless:p},A,f):vt.isPlainObject(f)?vt.merge({},f):vt.isArray(f)?f.slice():f}function a(A,f,h,p){if(vt.isUndefined(f)){if(!vt.isUndefined(A))return n(void 0,A,h,p)}else return n(A,f,h,p)}function s(A,f){if(!vt.isUndefined(f))return n(void 0,f)}function o(A,f){if(vt.isUndefined(f)){if(!vt.isUndefined(A))return n(void 0,A)}else return n(void 0,f)}function l(A,f,h){if(h in t)return n(A,f);if(h in e)return n(void 0,A)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(A,f,h)=>a(uF(A),uF(f),h,!0)};return vt.forEach(Object.keys({...e,...t}),function(f){const h=u[f]||a,p=h(e[f],t[f],f);vt.isUndefined(p)&&h!==l||(r[f]=p)}),r}const uH=e=>{const t=$f({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Eo.from(o),t.url=aH(cH(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),vt.isFormData(r)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(vt.isFunction(r.getHeaders)){const u=r.getHeaders(),A=["content-type","content-length"];Object.entries(u).forEach(([f,h])=>{A.includes(f.toLowerCase())&&o.set(f,h)})}}if(Ks.hasStandardBrowserEnv&&(n&&vt.isFunction(n)&&(n=n(t)),n||n!==!1&&MZ(t.url))){const u=a&&s&&RZ.read(s);u&&o.set(a,u)}return t},$Z=typeof XMLHttpRequest<"u",zZ=$Z&&function(e){return new Promise(function(r,n){const a=uH(e);let s=a.data;const o=Eo.from(a.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:A}=a,f,h,p,g,v;function x(){g&&g(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function w(){if(!b)return;const j=Eo.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:j,config:e,request:b};lH(function(T){r(T),x()},function(T){n(T),x()},N),b=null}"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(w)},b.onabort=function(){b&&(n(new gn("Request aborted",gn.ECONNABORTED,e,b)),b=null)},b.onerror=function(_){const N=_&&_.message?_.message:"Network Error",O=new gn(N,gn.ERR_NETWORK,e,b);O.event=_||null,n(O),b=null},b.ontimeout=function(){let _=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||iH;a.timeoutErrorMessage&&(_=a.timeoutErrorMessage),n(new gn(_,N.clarifyTimeoutError?gn.ETIMEDOUT:gn.ECONNABORTED,e,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&vt.forEach(o.toJSON(),function(_,N){b.setRequestHeader(N,_)}),vt.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),l&&l!=="json"&&(b.responseType=a.responseType),A&&([p,v]=Bb(A,!0),b.addEventListener("progress",p)),u&&b.upload&&([h,g]=Bb(u),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",g)),(a.cancelToken||a.signal)&&(f=j=>{b&&(n(!j||j.type?new cp(null,e,b):j),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const B=UZ(a.url);if(B&&Ks.protocols.indexOf(B)===-1){n(new gn("Unsupported protocol "+B+":",gn.ERR_BAD_REQUEST,e));return}b.send(s||null)})},qZ=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(A){if(!a){a=!0,l();const f=A instanceof Error?A:this.reason;n.abort(f instanceof gn?f:new cp(f instanceof Error?f.message:f))}};let o=t&&setTimeout(()=>{o=null,s(new gn(`timeout ${t} of ms exceeded`,gn.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(A=>{A.unsubscribe?A.unsubscribe(s):A.removeEventListener("abort",s)}),e=null)};e.forEach(A=>A.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>vt.asap(l),u}},VZ=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},KZ=async function*(e,t){for await(const r of GZ(e))yield*VZ(r,t)},GZ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},AF=(e,t,r,n)=>{const a=KZ(e,t);let s=0,o,l=u=>{o||(o=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:A,value:f}=await a.next();if(A){l(),u.close();return}let h=f.byteLength;if(r){let p=s+=h;r(p)}u.enqueue(new Uint8Array(f))}catch(A){throw l(A),A}},cancel(u){return l(u),a.return()}},{highWaterMark:2})},dF=64*1024,{isFunction:Vv}=vt,WZ=(({Request:e,Response:t})=>({Request:e,Response:t}))(vt.global),{ReadableStream:fF,TextEncoder:hF}=vt.global,mF=(e,...t)=>{try{return!!e(...t)}catch{return!1}},YZ=e=>{e=vt.merge.call({skipUndefined:!0},WZ,e);const{fetch:t,Request:r,Response:n}=e,a=t?Vv(t):typeof fetch=="function",s=Vv(r),o=Vv(n);if(!a)return!1;const l=a&&Vv(fF),u=a&&(typeof hF=="function"?(v=>x=>v.encode(x))(new hF):async v=>new Uint8Array(await new r(v).arrayBuffer())),A=s&&l&&mF(()=>{let v=!1;const x=new r(Ks.origin,{body:new fF,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!x}),f=o&&l&&mF(()=>vt.isReadableStream(new n("").body)),h={stream:f&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(x,b)=>{let w=x&&x[v];if(w)return w.call(x);throw new gn(`Response type '${v}' is not supported`,gn.ERR_NOT_SUPPORT,b)})});const p=async v=>{if(v==null)return 0;if(vt.isBlob(v))return v.size;if(vt.isSpecCompliantForm(v))return(await new r(Ks.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(vt.isArrayBufferView(v)||vt.isArrayBuffer(v))return v.byteLength;if(vt.isURLSearchParams(v)&&(v=v+""),vt.isString(v))return(await u(v)).byteLength},g=async(v,x)=>{const b=vt.toFiniteNumber(v.getContentLength());return b??p(x)};return async v=>{let{url:x,method:b,data:w,signal:B,cancelToken:j,timeout:_,onDownloadProgress:N,onUploadProgress:O,responseType:T,headers:P,withCredentials:U="same-origin",fetchOptions:D}=uH(v),F=t||fetch;T=T?(T+"").toLowerCase():"text";let R=qZ([B,j&&j.toAbortSignal()],_),Q=null;const H=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let J;try{if(O&&A&&b!=="get"&&b!=="head"&&(J=await g(P,w))!==0){let W=new r(x,{method:"POST",body:w,duplex:"half"}),L;if(vt.isFormData(w)&&(L=W.headers.get("content-type"))&&P.setContentType(L),W.body){const[q,G]=lF(J,Bb(cF(O)));w=AF(W.body,dF,q,G)}}vt.isString(U)||(U=U?"include":"omit");const V=s&&"credentials"in r.prototype,Y={...D,signal:R,method:b.toUpperCase(),headers:P.normalize().toJSON(),body:w,duplex:"half",credentials:V?U:void 0};Q=s&&new r(x,Y);let ee=await(s?F(Q,D):F(x,Y));const ie=f&&(T==="stream"||T==="response");if(f&&(N||ie&&H)){const W={};["status","statusText","headers"].forEach(Z=>{W[Z]=ee[Z]});const L=vt.toFiniteNumber(ee.headers.get("content-length")),[q,G]=N&&lF(L,Bb(cF(N),!0))||[];ee=new n(AF(ee.body,dF,q,()=>{G&&G(),H&&H()}),W)}T=T||"text";let z=await h[vt.findKey(h,T)||"text"](ee,v);return!ie&&H&&H(),await new Promise((W,L)=>{lH(W,L,{data:z,headers:Eo.from(ee.headers),status:ee.status,statusText:ee.statusText,config:v,request:Q})})}catch(V){throw H&&H(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new gn("Network Error",gn.ERR_NETWORK,v,Q),{cause:V.cause||V}):gn.from(V,V&&V.code,v,Q)}}},XZ=new Map,AH=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let o=s.length,l=o,u,A,f=XZ;for(;l--;)u=s[l],A=f.get(u),A===void 0&&f.set(u,A=l?new Map:YZ(t)),f=A;return A};AH();const Rk={http:hZ,xhr:zZ,fetch:{get:AH}};vt.forEach(Rk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const pF=e=>`- ${e}`,JZ=e=>vt.isFunction(e)||e===null||e===!1;function ZZ(e,t){e=vt.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let o=0;o<r;o++){n=e[o];let l;if(a=n,!JZ(n)&&(a=Rk[(l=String(n)).toLowerCase()],a===void 0))throw new gn(`Unknown adapter '${l}'`);if(a&&(vt.isFunction(a)||(a=a.get(t))))break;s[l||"#"+o]=a}if(!a){const o=Object.entries(s).map(([u,A])=>`adapter ${u} `+(A===!1?"is not supported by the environment":"is not available in the build"));let l=r?o.length>1?`since :
`+o.map(pF).join(`
`):" "+pF(o[0]):"as no adapter specified";throw new gn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return a}const dH={getAdapter:ZZ,adapters:Rk};function TC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new cp(null,e)}function gF(e){return TC(e),e.headers=Eo.from(e.headers),e.data=_C.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dH.getAdapter(e.adapter||O0.adapter,e)(e).then(function(n){return TC(e),n.data=_C.call(e,e.transformResponse,n),n.headers=Eo.from(n.headers),n},function(n){return oH(n)||(TC(e),n&&n.response&&(n.response.data=_C.call(e,e.transformResponse,n.response),n.response.headers=Eo.from(n.response.headers))),Promise.reject(n)})}const fH="1.13.2",lw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yF={};lw.transitional=function(t,r,n){function a(s,o){return"[Axios v"+fH+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new gn(a(o," has been removed"+(r?" in "+r:"")),gn.ERR_DEPRECATED);return r&&!yF[o]&&(yF[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};lw.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function eee(e,t,r){if(typeof e!="object")throw new gn("options must be an object",gn.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],u=l===void 0||o(l,s,e);if(u!==!0)throw new gn("option "+s+" must be "+u,gn.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gn("Unknown option "+s,gn.ERR_BAD_OPTION)}}const Xx={assertOptions:eee,validators:lw},Wc=Xx.validators;let Tf=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sF,response:new sF}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$f(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Xx.assertOptions(n,{silentJSONParsing:Wc.transitional(Wc.boolean),forcedJSONParsing:Wc.transitional(Wc.boolean),clarifyTimeoutError:Wc.transitional(Wc.boolean)},!1),a!=null&&(vt.isFunction(a)?r.paramsSerializer={serialize:a}:Xx.assertOptions(a,{encode:Wc.function,serialize:Wc.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Xx.assertOptions(r,{baseUrl:Wc.spelling("baseURL"),withXsrfToken:Wc.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&vt.merge(s.common,s[r.method]);s&&vt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=Eo.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(u=u&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const A=[];this.interceptors.response.forEach(function(x){A.push(x.fulfilled,x.rejected)});let f,h=0,p;if(!u){const v=[gF.bind(this),void 0];for(v.unshift(...l),v.push(...A),p=v.length,f=Promise.resolve(r);h<p;)f=f.then(v[h++],v[h++]);return f}p=l.length;let g=r;for(;h<p;){const v=l[h++],x=l[h++];try{g=v(g)}catch(b){x.call(this,b);break}}try{f=gF.call(this,g)}catch(v){return Promise.reject(v)}for(h=0,p=A.length;h<p;)f=f.then(A[h++],A[h++]);return f}getUri(t){t=$f(this.defaults,t);const r=cH(t.baseURL,t.url,t.allowAbsoluteUrls);return aH(r,t.params,t.paramsSerializer)}};vt.forEach(["delete","get","head","options"],function(t){Tf.prototype[t]=function(r,n){return this.request($f(n||{},{method:t,url:r,data:(n||{}).data}))}});vt.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request($f(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Tf.prototype[t]=r(),Tf.prototype[t+"Form"]=r(!0)});let tee=class hH{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new cp(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new hH(function(a){t=a}),cancel:t}}};function ree(e){return function(r){return e.apply(null,r)}}function nee(e){return vt.isObject(e)&&e.isAxiosError===!0}const WN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(WN).forEach(([e,t])=>{WN[t]=e});function mH(e){const t=new Tf(e),r=V7(Tf.prototype.request,t);return vt.extend(r,Tf.prototype,t,{allOwnKeys:!0}),vt.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return mH($f(e,a))},r}const vr=mH(O0);vr.Axios=Tf;vr.CanceledError=cp;vr.CancelToken=tee;vr.isCancel=oH;vr.VERSION=fH;vr.toFormData=ow;vr.AxiosError=gn;vr.Cancel=vr.CanceledError;vr.all=function(t){return Promise.all(t)};vr.spread=ree;vr.isAxiosError=nee;vr.mergeConfig=$f;vr.AxiosHeaders=Eo;vr.formToJSON=e=>sH(vt.isHTMLForm(e)?new FormData(e):e);vr.getAdapter=dH.getAdapter;vr.HttpStatusCode=WN;vr.default=vr;const{Axios:Oke,AxiosError:Fke,CanceledError:Pke,isCancel:Lke,CancelToken:Uke,VERSION:Ike,all:Dke,Cancel:Mke,isAxiosError:Rke,spread:Qke,toFormData:Hke,AxiosHeaders:$ke,HttpStatusCode:zke,formToJSON:qke,getAdapter:Vke,mergeConfig:Kke}=vr,Qk=k.createContext({});function Hk(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const $k=typeof window<"u",pH=$k?k.useLayoutEffect:k.useEffect,cw=k.createContext(null);function zk(e,t){e.indexOf(t)===-1&&e.push(t)}function qk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const uA=(e,t,r)=>r>t?t:r<e?e:r;let Vk=()=>{};const AA={},gH=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function yH(e){return typeof e=="object"&&e!==null}const vH=e=>/^0[^.\s]+$/u.test(e);function Kk(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ll=e=>e,aee=(e,t)=>r=>t(e(r)),F0=(...e)=>e.reduce(aee),Cy=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Gk{constructor(){this.subscriptions=[]}add(t){return zk(this.subscriptions,t),()=>qk(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const iu=e=>e*1e3,su=e=>e/1e3;function xH(e,t){return t?e*(1e3/t):0}const bH=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,iee=1e-7,see=12;function oee(e,t,r,n,a){let s,o,l=0;do o=t+(r-t)/2,s=bH(o,n,a)-e,s>0?r=o:t=o;while(Math.abs(s)>iee&&++l<see);return o}function P0(e,t,r,n){if(e===t&&r===n)return Ll;const a=s=>oee(s,0,1,e,r);return s=>s===0||s===1?s:bH(a(s),t,n)}const wH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,CH=e=>t=>1-e(1-t),BH=P0(.33,1.53,.69,.99),Wk=CH(BH),jH=wH(Wk),SH=e=>(e*=2)<1?.5*Wk(e):.5*(2-Math.pow(2,-10*(e-1))),Yk=e=>1-Math.sin(Math.acos(e)),NH=CH(Yk),EH=wH(Yk),lee=P0(.42,0,1,1),cee=P0(0,0,.58,1),kH=P0(.42,0,.58,1),uee=e=>Array.isArray(e)&&typeof e[0]!="number",_H=e=>Array.isArray(e)&&typeof e[0]=="number",Aee={linear:Ll,easeIn:lee,easeInOut:kH,easeOut:cee,circIn:Yk,circInOut:EH,circOut:NH,backIn:Wk,backInOut:jH,backOut:BH,anticipate:SH},dee=e=>typeof e=="string",vF=e=>{if(_H(e)){Vk(e.length===4);const[t,r,n,a]=e;return P0(t,r,n,a)}else if(dee(e))return Aee[e];return e},Kv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],xF={value:null};function fee(e,t){let r=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},u=0;function A(h){o.has(h)&&(f.schedule(h),e()),u++,h(l)}const f={schedule:(h,p=!1,g=!1)=>{const x=g&&a?r:n;return p&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(A),t&&xF.value&&xF.value.frameloop[t].push(u),u=0,r.clear(),a=!1,s&&(s=!1,f.process(h))}};return f}const hee=40;function TH(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=Kv.reduce((j,_)=>(j[_]=fee(s,t?_:void 0),j),{}),{setup:l,read:u,resolveKeyframes:A,preUpdate:f,update:h,preRender:p,render:g,postRender:v}=o,x=()=>{const j=AA.useManualTiming?a.timestamp:performance.now();r=!1,AA.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(j-a.timestamp,hee),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),u.process(a),A.process(a),f.process(a),h.process(a),p.process(a),g.process(a),v.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(x))},b=()=>{r=!0,n=!0,a.isProcessing||e(x)};return{schedule:Kv.reduce((j,_)=>{const N=o[_];return j[_]=(O,T=!1,P=!1)=>(r||b(),N.schedule(O,T,P)),j},{}),cancel:j=>{for(let _=0;_<Kv.length;_++)o[Kv[_]].cancel(j)},state:a,steps:o}}const{schedule:Xa,cancel:Cd,state:Bs,steps:OC}=TH(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ll,!0);let Jx;function mee(){Jx=void 0}const jo={now:()=>(Jx===void 0&&jo.set(Bs.isProcessing||AA.useManualTiming?Bs.timestamp:performance.now()),Jx),set:e=>{Jx=e,queueMicrotask(mee)}},OH=e=>t=>typeof t=="string"&&t.startsWith(e),Xk=OH("--"),pee=OH("var(--"),Jk=e=>pee(e)?gee.test(e.split("/*")[0].trim()):!1,gee=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,up={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},By={...up,transform:e=>uA(0,1,e)},Gv={...up,default:1},ey=e=>Math.round(e*1e5)/1e5,Zk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yee(e){return e==null}const vee=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e3=(e,t)=>r=>!!(typeof r=="string"&&vee.test(r)&&r.startsWith(e)||t&&!yee(r)&&Object.prototype.hasOwnProperty.call(r,t)),FH=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(Zk);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xee=e=>uA(0,255,e),FC={...up,transform:e=>Math.round(xee(e))},wf={test:e3("rgb","red"),parse:FH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+FC.transform(e)+", "+FC.transform(t)+", "+FC.transform(r)+", "+ey(By.transform(n))+")"};function bee(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const YN={test:e3("#"),parse:bee,transform:wf.transform},L0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ed=L0("deg"),ou=L0("%"),tn=L0("px"),wee=L0("vh"),Cee=L0("vw"),bF={...ou,parse:e=>ou.parse(e)/100,transform:e=>ou.transform(e*100)},im={test:e3("hsl","hue"),parse:FH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ou.transform(ey(t))+", "+ou.transform(ey(r))+", "+ey(By.transform(n))+")"},$s={test:e=>wf.test(e)||YN.test(e)||im.test(e),parse:e=>wf.test(e)?wf.parse(e):im.test(e)?im.parse(e):YN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wf.transform(e):im.transform(e)},Bee=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jee(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zk))==null?void 0:t.length)||0)+(((r=e.match(Bee))==null?void 0:r.length)||0)>0}const PH="number",LH="color",See="var",Nee="var(",wF="${}",Eee=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=t.replace(Eee,u=>($s.test(u)?(n.color.push(s),a.push(LH),r.push($s.parse(u))):u.startsWith(Nee)?(n.var.push(s),a.push(See),r.push(u)):(n.number.push(s),a.push(PH),r.push(parseFloat(u))),++s,wF)).split(wF);return{values:r,split:l,indexes:n,types:a}}function UH(e){return jy(e).values}function IH(e){const{split:t,types:r}=jy(e),n=t.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],a[o]!==void 0){const l=r[o];l===PH?s+=ey(a[o]):l===LH?s+=$s.transform(a[o]):s+=a[o]}return s}}const kee=e=>typeof e=="number"?0:e;function _ee(e){const t=UH(e);return IH(e)(t.map(kee))}const Bd={test:jee,parse:UH,createTransformer:IH,getAnimatableNone:_ee};function PC(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Tee({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,o=0;if(!t)a=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;a=PC(u,l,e+1/3),s=PC(u,l,e),o=PC(u,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function jb(e,t){return r=>r>0?t:e}const Ya=(e,t,r)=>e+(t-e)*r,LC=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Oee=[YN,wf,im],Fee=e=>Oee.find(t=>t.test(e));function CF(e){const t=Fee(e);if(!t)return!1;let r=t.parse(e);return t===im&&(r=Tee(r)),r}const BF=(e,t)=>{const r=CF(e),n=CF(t);if(!r||!n)return jb(e,t);const a={...r};return s=>(a.red=LC(r.red,n.red,s),a.green=LC(r.green,n.green,s),a.blue=LC(r.blue,n.blue,s),a.alpha=Ya(r.alpha,n.alpha,s),wf.transform(a))},XN=new Set(["none","hidden"]);function Pee(e,t){return XN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Lee(e,t){return r=>Ya(e,t,r)}function t3(e){return typeof e=="number"?Lee:typeof e=="string"?Jk(e)?jb:$s.test(e)?BF:Dee:Array.isArray(e)?DH:typeof e=="object"?$s.test(e)?BF:Uee:jb}function DH(e,t){const r=[...e],n=r.length,a=e.map((s,o)=>t3(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function Uee(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=t3(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function Iee(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],o=e.indexes[s][n[s]],l=e.values[o]??0;r[a]=l,n[s]++}return r}const Dee=(e,t)=>{const r=Bd.createTransformer(t),n=jy(e),a=jy(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?XN.has(e)&&!a.values.length||XN.has(t)&&!n.values.length?Pee(e,t):F0(DH(Iee(n,a),a.values),r):jb(e,t)};function MH(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ya(e,t,r):t3(e)(e,t)}const Mee=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Xa.update(t,r),stop:()=>Cd(t),now:()=>Bs.isProcessing?Bs.timestamp:jo.now()}},RH=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=e(s/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Sb=2e4;function r3(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Sb;)t+=r,n=e.next(t);return t>=Sb?1/0:t}function Ree(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(r3(n),Sb);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:su(a)}}const Qee=5;function QH(e,t,r){const n=Math.max(t-Qee,0);return xH(r-e(n),t-n)}const li={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jF=.001;function Hee({duration:e=li.duration,bounce:t=li.bounce,velocity:r=li.velocity,mass:n=li.mass}){let a,s,o=1-t;o=uA(li.minDamping,li.maxDamping,o),e=uA(li.minDuration,li.maxDuration,su(e)),o<1?(a=A=>{const f=A*o,h=f*e,p=f-r,g=JN(A,o),v=Math.exp(-h);return jF-p/g*v},s=A=>{const h=A*o*e,p=h*r+r,g=Math.pow(o,2)*Math.pow(A,2)*e,v=Math.exp(-h),x=JN(Math.pow(A,2),o);return(-a(A)+jF>0?-1:1)*((p-g)*v)/x}):(a=A=>{const f=Math.exp(-A*e),h=(A-r)*e+1;return-.001+f*h},s=A=>{const f=Math.exp(-A*e),h=(r-A)*(e*e);return f*h});const l=5/e,u=zee(a,s,l);if(e=iu(e),isNaN(u))return{stiffness:li.stiffness,damping:li.damping,duration:e};{const A=Math.pow(u,2)*n;return{stiffness:A,damping:o*2*Math.sqrt(n*A),duration:e}}}const $ee=12;function zee(e,t,r){let n=r;for(let a=1;a<$ee;a++)n=n-e(n)/t(n);return n}function JN(e,t){return e*Math.sqrt(1-t*t)}const qee=["duration","bounce"],Vee=["stiffness","damping","mass"];function SF(e,t){return t.some(r=>e[r]!==void 0)}function Kee(e){let t={velocity:li.velocity,stiffness:li.stiffness,damping:li.damping,mass:li.mass,isResolvedFromDuration:!1,...e};if(!SF(e,Vee)&&SF(e,qee))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*uA(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:li.mass,stiffness:a,damping:s}}else{const r=Hee(e);t={...t,...r,mass:li.mass},t.isResolvedFromDuration=!0}return t}function Nb(e=li.visualDuration,t=li.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:A,mass:f,duration:h,velocity:p,isResolvedFromDuration:g}=Kee({...r,velocity:-su(r.velocity||0)}),v=p||0,x=A/(2*Math.sqrt(u*f)),b=o-s,w=su(Math.sqrt(u/f)),B=Math.abs(b)<5;n||(n=B?li.restSpeed.granular:li.restSpeed.default),a||(a=B?li.restDelta.granular:li.restDelta.default);let j;if(x<1){const N=JN(w,x);j=O=>{const T=Math.exp(-x*w*O);return o-T*((v+x*w*b)/N*Math.sin(N*O)+b*Math.cos(N*O))}}else if(x===1)j=N=>o-Math.exp(-w*N)*(b+(v+w*b)*N);else{const N=w*Math.sqrt(x*x-1);j=O=>{const T=Math.exp(-x*w*O),P=Math.min(N*O,300);return o-T*((v+x*w*b)*Math.sinh(P)+N*b*Math.cosh(P))/N}}const _={calculatedDuration:g&&h||null,next:N=>{const O=j(N);if(g)l.done=N>=h;else{let T=N===0?v:0;x<1&&(T=N===0?iu(v):QH(j,N,O));const P=Math.abs(T)<=n,U=Math.abs(o-O)<=a;l.done=P&&U}return l.value=l.done?o:O,l},toString:()=>{const N=Math.min(r3(_),Sb),O=RH(T=>_.next(N*T).value,N,30);return N+"ms "+O},toTransition:()=>{}};return _}Nb.applyToOptions=e=>{const t=Ree(e,100,Nb);return e.ease=t.ease,e.duration=iu(t.duration),e.type="keyframes",e};function ZN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:A=.5,restSpeed:f}){const h=e[0],p={done:!1,value:h},g=P=>l!==void 0&&P<l||u!==void 0&&P>u,v=P=>l===void 0?u:u===void 0||Math.abs(l-P)<Math.abs(u-P)?l:u;let x=r*t;const b=h+x,w=o===void 0?b:o(b);w!==b&&(x=w-h);const B=P=>-x*Math.exp(-P/n),j=P=>w+B(P),_=P=>{const U=B(P),D=j(P);p.done=Math.abs(U)<=A,p.value=p.done?w:D};let N,O;const T=P=>{g(p.value)&&(N=P,O=Nb({keyframes:[p.value,v(p.value)],velocity:QH(j,P,p.value),damping:a,stiffness:s,restDelta:A,restSpeed:f}))};return T(0),{calculatedDuration:null,next:P=>{let U=!1;return!O&&N===void 0&&(U=!0,_(P),T(P)),N!==void 0&&P>=N?O.next(P-N):(!U&&_(P),p)}}}function Gee(e,t,r){const n=[],a=r||AA.mix||MH,s=e.length-1;for(let o=0;o<s;o++){let l=a(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Ll:t;l=F0(u,l)}n.push(l)}return n}function Wee(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(Vk(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Gee(t,n,a),u=l.length,A=f=>{if(o&&f<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const p=Cy(e[h],e[h+1],f);return l[h](p)};return r?f=>A(uA(e[0],e[s-1],f)):A}function Yee(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Cy(0,t,n);e.push(Ya(r,1,a))}}function Xee(e){const t=[0];return Yee(t,e.length-1),t}function Jee(e,t){return e.map(r=>r*t)}function Zee(e,t){return e.map(()=>t||kH).splice(0,e.length-1)}function ty({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=uee(n)?n.map(vF):vF(n),s={done:!1,value:t[0]},o=Jee(r&&r.length===t.length?r:Xee(t),e),l=Wee(o,t,{ease:Array.isArray(a)?a:Zee(t,a)});return{calculatedDuration:e,next:u=>(s.value=l(u),s.done=u>=e,s)}}const ete=e=>e!==null;function n3(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(ete),l=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const tte={decay:ZN,inertia:ZN,tween:ty,keyframes:ty,spring:Nb};function HH(e){typeof e.type=="string"&&(e.type=tte[e.type])}class a3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const rte=e=>e/100;class i3 extends a3{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==jo.now()&&this.tick(jo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;HH(t);const{type:r=ty,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=t;let{keyframes:l}=t;const u=r||ty;u!==ty&&typeof l[0]!="number"&&(this.mixKeyframes=F0(rte,MH(l[0],l[1])),l=[0,100]);const A=u({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),A.calculatedDuration===null&&(A.calculatedDuration=r3(A));const{calculatedDuration:f}=A;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=A}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:A=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:g,type:v,onUpdate:x,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-A*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,_=n;if(h){const P=Math.min(this.currentTime,a)/l;let U=Math.floor(P),D=P%1;!D&&P>=1&&(D=1),D===1&&U--,U=Math.min(U,h+1),!!(U%2)&&(p==="reverse"?(D=1-D,g&&(D-=g/l)):p==="mirror"&&(_=o)),j=uA(0,1,D)*l}const N=B?{done:!1,value:f[0]}:_.next(j);s&&(N.value=s(N.value));let{done:O}=N;!B&&u!==null&&(O=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return T&&v!==ZN&&(N.value=n3(f,this.options,b,this.speed)),x&&x(N.value),T&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return su(this.calculatedDuration)}get time(){return su(this.currentTime)}set time(t){var r;t=iu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(jo.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=su(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=Mee,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(jo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function nte(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Cf=e=>e*180/Math.PI,e4=e=>{const t=Cf(Math.atan2(e[1],e[0]));return t4(t)},ate={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:e4,rotateZ:e4,skewX:e=>Cf(Math.atan(e[1])),skewY:e=>Cf(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},t4=e=>(e=e%360,e<0&&(e+=360),e),NF=e4,EF=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kF=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ite={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EF,scaleY:kF,scale:e=>(EF(e)+kF(e))/2,rotateX:e=>t4(Cf(Math.atan2(e[6],e[5]))),rotateY:e=>t4(Cf(Math.atan2(-e[2],e[0]))),rotateZ:NF,rotate:NF,skewX:e=>Cf(Math.atan(e[4])),skewY:e=>Cf(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function r4(e){return e.includes("scale")?1:0}function n4(e,t){if(!e||e==="none")return r4(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=ite,a=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ate,a=l}if(!a)return r4(t);const s=n[t],o=a[1].split(",").map(ote);return typeof s=="function"?s(o):o[s]}const ste=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return n4(r,t)};function ote(e){return parseFloat(e.trim())}const Ap=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dp=new Set(Ap),_F=e=>e===up||e===tn,lte=new Set(["x","y","z"]),cte=Ap.filter(e=>!lte.has(e));function ute(e){const t=[];return cte.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Of={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>n4(t,"x"),y:(e,{transform:t})=>n4(t,"y")};Of.translateX=Of.x;Of.translateY=Of.y;const Ff=new Set;let a4=!1,i4=!1,s4=!1;function $H(){if(i4){const e=Array.from(Ff).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=ute(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}i4=!1,a4=!1,Ff.forEach(e=>e.complete(s4)),Ff.clear()}function zH(){Ff.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(i4=!0)})}function Ate(){s4=!0,zH(),$H(),s4=!1}class s3{constructor(t,r,n,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ff.add(this),a4||(a4=!0,Xa.read(zH),Xa.resolveKeyframes($H))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}nte(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ff.delete(this)}cancel(){this.state==="scheduled"&&(Ff.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dte=e=>e.startsWith("--");function fte(e,t,r){dte(t)?e.style.setProperty(t,r):e.style[t]=r}const hte=Kk(()=>window.ScrollTimeline!==void 0),mte={};function pte(e,t){const r=Kk(e);return()=>mte[t]??r()}const qH=pte(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,TF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rg([0,.65,.55,1]),circOut:Rg([.55,0,1,.45]),backIn:Rg([.31,.01,.66,-.59]),backOut:Rg([.33,1.53,.69,.99])};function VH(e,t){if(e)return typeof e=="function"?qH()?RH(e,t):"ease-out":_H(e)?Rg(e):Array.isArray(e)?e.map(r=>VH(r,t)||TF.easeOut):TF[e]}function gte(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},A=void 0){const f={[t]:r};u&&(f.offset=u);const h=VH(l,a);Array.isArray(h)&&(f.easing=h);const p={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return A&&(p.pseudoElement=A),e.animate(f,p)}function KH(e){return typeof e=="function"&&"applyToOptions"in e}function yte({type:e,...t}){return KH(e)&&qH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class vte extends a3{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,Vk(typeof t.type!="string");const A=yte(t);this.animation=gte(r,n,a,A,s),A.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=n3(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):fte(r,n,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return su(Number(t))}get time(){return su(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=iu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&hte()?(this.animation.timeline=t,Ll):r(this)}}const GH={anticipate:SH,backInOut:jH,circInOut:EH};function xte(e){return e in GH}function bte(e){typeof e.ease=="string"&&xte(e.ease)&&(e.ease=GH[e.ease])}const OF=10;class wte extends vte{constructor(t){bte(t),HH(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...o}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new i3({...o,autoplay:!1}),u=iu(this.finishedTime??this.time);r.setWithVelocity(l.sample(u-OF).value,l.sample(u).value,OF),l.stop()}}const FF=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bd.test(e)||e==="0")&&!e.startsWith("url("));function Cte(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Bte(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=FF(a,t),l=FF(s,t);return!o||!l?!1:Cte(e)||(r==="spring"||KH(r))&&n}function o3(e){return yH(e)&&"offsetHeight"in e}const jte=new Set(["opacity","clipPath","filter","transform"]),Ste=Kk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Nte(e){var A;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:o}=e;if(!o3((A=t==null?void 0:t.owner)==null?void 0:A.current))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return Ste()&&r&&jte.has(r)&&(r!=="transform"||!u)&&!l&&!n&&a!=="mirror"&&s!==0&&o!=="inertia"}const Ete=40;class kte extends a3{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:A,element:f,...h}){var v;super(),this.stop=()=>{var x,b;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=jo.now();const p={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,name:u,motionValue:A,element:f,...h},g=(f==null?void 0:f.KeyframeResolver)||s3;this.keyframeResolver=new g(l,(x,b,w)=>this.onKeyframesResolved(x,b,p,!w),u,A,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:A,onUpdate:f}=n;this.resolvedAt=jo.now(),Bte(t,s,o,l)||((AA.instantAnimations||!u)&&(f==null||f(n3(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const p={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Ete?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!A&&Nte(p)?new wte({...p,element:p.motionValue.owner.current}):new i3(p);g.finished.then(()=>this.notifyFinished()).catch(Ll),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Ate()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _te=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Tte(e){const t=_te.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function WH(e,t,r=1){const[n,a]=Tte(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return gH(o)?parseFloat(o):o}return Jk(a)?WH(a,t,r+1):a}function l3(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YH=new Set(["width","height","top","left","right","bottom",...Ap]),Ote={test:e=>e==="auto",parse:e=>e},XH=e=>t=>t.test(e),JH=[up,tn,ou,ed,Cee,wee,Ote],PF=e=>JH.find(XH(e));function Fte(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vH(e):!0}const Pte=new Set(["brightness","contrast","saturate","opacity"]);function Lte(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Zk)||[];if(!n)return e;const a=r.replace(n,"");let s=Pte.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const Ute=/\b([a-z-]*)\(.*?\)/gu,o4={...Bd,getAnimatableNone:e=>{const t=e.match(Ute);return t?t.map(Lte).join(" "):e}},LF={...up,transform:Math.round},Ite={rotate:ed,rotateX:ed,rotateY:ed,rotateZ:ed,scale:Gv,scaleX:Gv,scaleY:Gv,scaleZ:Gv,skew:ed,skewX:ed,skewY:ed,distance:tn,translateX:tn,translateY:tn,translateZ:tn,x:tn,y:tn,z:tn,perspective:tn,transformPerspective:tn,opacity:By,originX:bF,originY:bF,originZ:tn},c3={borderWidth:tn,borderTopWidth:tn,borderRightWidth:tn,borderBottomWidth:tn,borderLeftWidth:tn,borderRadius:tn,radius:tn,borderTopLeftRadius:tn,borderTopRightRadius:tn,borderBottomRightRadius:tn,borderBottomLeftRadius:tn,width:tn,maxWidth:tn,height:tn,maxHeight:tn,top:tn,right:tn,bottom:tn,left:tn,padding:tn,paddingTop:tn,paddingRight:tn,paddingBottom:tn,paddingLeft:tn,margin:tn,marginTop:tn,marginRight:tn,marginBottom:tn,marginLeft:tn,backgroundPositionX:tn,backgroundPositionY:tn,...Ite,zIndex:LF,fillOpacity:By,strokeOpacity:By,numOctaves:LF},Dte={...c3,color:$s,backgroundColor:$s,outlineColor:$s,fill:$s,stroke:$s,borderColor:$s,borderTopColor:$s,borderRightColor:$s,borderBottomColor:$s,borderLeftColor:$s,filter:o4,WebkitFilter:o4},ZH=e=>Dte[e];function e9(e,t){let r=ZH(e);return r!==o4&&(r=Bd),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Mte=new Set(["auto","none","0"]);function Rte(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!Mte.has(s)&&jy(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=e9(r,a)}class Qte extends s3{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let A=t[u];if(typeof A=="string"&&(A=A.trim(),Jk(A))){const f=WH(A,r.current);f!==void 0&&(t[u]=f),u===t.length-1&&(this.finalKeyframe=A)}}if(this.resolveNoneKeyframes(),!YH.has(n)||t.length!==2)return;const[a,s]=t,o=PF(a),l=PF(s);if(o!==l)if(_F(o)&&_F(l))for(let u=0;u<t.length;u++){const A=t[u];typeof A=="string"&&(t[u]=parseFloat(A))}else Of[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Fte(t[a]))&&n.push(a);n.length&&Rte(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Of[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=Of[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,A])=>{t.getValue(u).set(A)}),this.resolveNoneKeyframes()}}function Hte(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const t9=(e,t)=>t&&typeof e=="number"?t.transform(e):e,UF=30,$te=e=>!isNaN(parseFloat(e));class zte{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var o,l;const s=jo.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();a&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=jo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$te(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Gk);const n=this.events[t].add(r);return t==="change"?()=>{n(),Xa.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=jo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,UF);return xH(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Nm(e,t){return new zte(e,t)}const{schedule:u3}=TH(queueMicrotask,!1),Ac={x:!1,y:!1};function r9(){return Ac.x||Ac.y}function qte(e){return e==="x"||e==="y"?Ac[e]?null:(Ac[e]=!0,()=>{Ac[e]=!1}):Ac.x||Ac.y?null:(Ac.x=Ac.y=!0,()=>{Ac.x=Ac.y=!1})}function n9(e,t){const r=Hte(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function IF(e){return!(e.pointerType==="touch"||r9())}function Vte(e,t,r={}){const[n,a,s]=n9(e,r),o=l=>{if(!IF(l))return;const{target:u}=l,A=t(u,l);if(typeof A!="function"||!u)return;const f=h=>{IF(h)&&(A(h),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const a9=(e,t)=>t?e===t?!0:a9(e,t.parentElement):!1,A3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Kte=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Gte(e){return Kte.has(e.tagName)||e.tabIndex!==-1}const Zx=new WeakSet;function DF(e){return t=>{t.key==="Enter"&&e(t)}}function UC(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Wte=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=DF(()=>{if(Zx.has(r))return;UC(r,"down");const a=DF(()=>{UC(r,"up")}),s=()=>UC(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function MF(e){return A3(e)&&!r9()}function Yte(e,t,r={}){const[n,a,s]=n9(e,r),o=l=>{const u=l.currentTarget;if(!MF(l))return;Zx.add(u);const A=t(u,l),f=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),Zx.has(u)&&Zx.delete(u),MF(g)&&typeof A=="function"&&A(g,{success:v})},h=g=>{f(g,u===window||u===document||r.useGlobalTarget||a9(u,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",p,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),o3(l)&&(l.addEventListener("focus",A=>Wte(A,a)),!Gte(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function i9(e){return yH(e)&&"ownerSVGElement"in e}function Xte(e){return i9(e)&&e.tagName==="svg"}const Gs=e=>!!(e&&e.getVelocity),Jte=[...JH,$s,Bd],Zte=e=>Jte.find(XH(e)),d3=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ere extends k.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=o3(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tre({children:e,isPresent:t,anchorX:r}){const n=k.useId(),a=k.useRef(null),s=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(d3);return k.useInsertionEffect(()=>{const{width:l,height:u,top:A,left:f,right:h}=s.current;if(t||!a.current||!l||!u)return;const p=r==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=n;const g=document.createElement("style");return o&&(g.nonce=o),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${p}px !important;
            top: ${A}px !important;
          }
        `),()=>{document.head.contains(g)&&document.head.removeChild(g)}},[t]),i.jsx(ere,{isPresent:t,childRef:a,sizeRef:s,children:k.cloneElement(e,{ref:a})})}const rre=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l})=>{const u=Hk(nre),A=k.useId();let f=!0,h=k.useMemo(()=>(f=!1,{id:A,initial:t,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const g of u.values())if(!g)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return s&&f&&(h={...h}),k.useMemo(()=>{u.forEach((p,g)=>u.set(g,!1))},[r]),k.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(tre,{isPresent:r,anchorX:l,children:e})),i.jsx(cw.Provider,{value:h,children:e})};function nre(){return new Map}function s9(e=!0){const t=k.useContext(cw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=k.useId();k.useEffect(()=>{if(e)return a(s)},[e]);const o=k.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const Wv=e=>e.key||"";function RF(e){const t=[];return k.Children.forEach(e,r=>{k.isValidElement(r)&&t.push(r)}),t}const Ss=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left"})=>{const[u,A]=s9(o),f=k.useMemo(()=>RF(e),[e]),h=o&&!u?[]:f.map(Wv),p=k.useRef(!0),g=k.useRef(f),v=Hk(()=>new Map),[x,b]=k.useState(f),[w,B]=k.useState(f);pH(()=>{p.current=!1,g.current=f;for(let N=0;N<w.length;N++){const O=Wv(w[N]);h.includes(O)?v.delete(O):v.get(O)!==!0&&v.set(O,!1)}},[w,h.length,h.join("-")]);const j=[];if(f!==x){let N=[...f];for(let O=0;O<w.length;O++){const T=w[O],P=Wv(T);h.includes(P)||(N.splice(O,0,T),j.push(T))}return s==="wait"&&j.length&&(N=j),B(RF(N)),b(f),null}const{forceRender:_}=k.useContext(Qk);return i.jsx(i.Fragment,{children:w.map(N=>{const O=Wv(N),T=o&&!u?!1:f===w||h.includes(O),P=()=>{if(v.has(O))v.set(O,!0);else return;let U=!0;v.forEach(D=>{D||(U=!1)}),U&&(_==null||_(),B(g.current),o&&(A==null||A()),n&&n())};return i.jsx(rre,{isPresent:T,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,onExitComplete:T?void 0:P,anchorX:l,children:N},O)})})},o9=k.createContext({strict:!1}),QF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Em={};for(const e in QF)Em[e]={isEnabled:t=>QF[e].some(r=>!!t[r])};function are(e){for(const t in e)Em[t]={...Em[t],...e[t]}}const ire=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ire.has(e)}let l9=e=>!Eb(e);function sre(e){e&&(l9=t=>t.startsWith("on")?!Eb(t):e(t))}try{sre(require("@emotion/is-prop-valid").default)}catch{}function ore(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(l9(a)||r===!0&&Eb(a)||!t&&!Eb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function lre(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const uw=k.createContext({});function Aw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Sy(e){return typeof e=="string"||Array.isArray(e)}const f3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h3=["initial",...f3];function dw(e){return Aw(e.animate)||h3.some(t=>Sy(e[t]))}function c9(e){return!!(dw(e)||e.variants)}function cre(e,t){if(dw(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Sy(r)?r:void 0,animate:Sy(n)?n:void 0}}return e.inherit!==!1?t:{}}function ure(e){const{initial:t,animate:r}=cre(e,k.useContext(uw));return k.useMemo(()=>({initial:t,animate:r}),[HF(t),HF(r)])}function HF(e){return Array.isArray(e)?e.join(" "):e}const Are=Symbol.for("motionComponentSymbol");function sm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dre(e,t,r){return k.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):sm(r)&&(r.current=n))},[t])}const m3=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fre="framerAppearId",u9="data-"+m3(fre),A9=k.createContext({});function hre(e,t,r,n,a){var x,b;const{visualElement:s}=k.useContext(uw),o=k.useContext(o9),l=k.useContext(cw),u=k.useContext(d3).reducedMotion,A=k.useRef(null);n=n||o.renderer,!A.current&&n&&(A.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=A.current,h=k.useContext(A9);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&mre(A.current,r,a,h);const p=k.useRef(!1);k.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const g=r[u9],v=k.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,g)));return pH(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),u3.render(f.render),v.current&&f.animationState&&f.animationState.animateChanges())}),k.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),v.current=!1))}),f}function mre(e,t,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:A,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:d9(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&sm(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:u,layoutRoot:A})}function d9(e){if(e)return e.options.allowProjection!==!1?e.projection:d9(e.parent)}function pre({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&are(e);function s(l,u){let A;const f={...k.useContext(d3),...l,layoutId:gre(l)},{isStatic:h}=f,p=ure(l),g=n(l,h);if(!h&&$k){yre();const v=vre(f);A=v.MeasureLayout,p.visualElement=hre(a,g,f,t,v.ProjectionNode)}return i.jsxs(uw.Provider,{value:p,children:[A&&p.visualElement?i.jsx(A,{visualElement:p.visualElement,...f}):null,r(a,l,dre(g,p.visualElement,u),g,h,p.visualElement)]})}s.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=k.forwardRef(s);return o[Are]=a,o}function gre({layoutId:e}){const t=k.useContext(Qk).id;return t&&e!==void 0?t+"-"+e:e}function yre(e,t){k.useContext(o9).strict}function vre(e){const{drag:t,layout:r}=Em;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Ny={};function xre(e){for(const t in e)Ny[t]=e[t],Xk(t)&&(Ny[t].isCSSVariable=!0)}function f9(e,{layout:t,layoutId:r}){return dp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ny[e]||e==="opacity")}const bre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wre=Ap.length;function Cre(e,t,r){let n="",a=!0;for(let s=0;s<wre;s++){const o=Ap[s],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const A=t9(l,c3[o]);if(!u){a=!1;const f=bre[o]||o;n+=`${f}(${A}) `}r&&(t[o]=A)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function p3(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let o=!1,l=!1;for(const u in t){const A=t[u];if(dp.has(u)){o=!0;continue}else if(Xk(u)){a[u]=A;continue}else{const f=t9(A,c3[u]);u.startsWith("origin")?(l=!0,s[u]=f):n[u]=f}}if(t.transform||(o||r?n.transform=Cre(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:A="50%",originZ:f=0}=s;n.transformOrigin=`${u} ${A} ${f}`}}const g3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function h9(e,t,r){for(const n in t)!Gs(t[n])&&!f9(n,r)&&(e[n]=t[n])}function Bre({transformTemplate:e},t){return k.useMemo(()=>{const r=g3();return p3(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jre(e,t){const r=e.style||{},n={};return h9(n,r,e),Object.assign(n,Bre(e,t)),n}function Sre(e,t){const r={},n=jre(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Nre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ere={offset:"strokeDashoffset",array:"strokeDasharray"};function kre(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?Nre:Ere;e[s.offset]=tn.transform(-n);const o=tn.transform(t),l=tn.transform(r);e[s.array]=`${o} ${l}`}function m9(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},u,A,f){if(p3(e,l,A),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&kre(h,a,s,o,!1)}const p9=()=>({...g3(),attrs:{}}),g9=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _re(e,t,r,n){const a=k.useMemo(()=>{const s=p9();return m9(s,t,g9(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};h9(s,e.style,e),a.style={...s,...a.style}}return a}const Tre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function y3(e){return typeof e!="string"||e.includes("-")?!1:!!(Tre.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ore(e=!1){return(r,n,a,{latestValues:s},o)=>{const u=(y3(r)?_re:Sre)(n,s,o,r),A=ore(n,typeof r=="string",e),f=r!==k.Fragment?{...A,...u,ref:a}:{},{children:h}=n,p=k.useMemo(()=>Gs(h)?h.get():h,[h]);return k.createElement(r,{...f,children:p})}}function $F(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function v3(e,t,r,n){if(typeof t=="function"){const[a,s]=$F(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=$F(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function eb(e){return Gs(e)?e.get():e}function Fre({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Pre(r,n,a,e),renderState:t()}}const y9=e=>(t,r)=>{const n=k.useContext(uw),a=k.useContext(cw),s=()=>Fre(e,t,n,a);return r?s():Hk(s)};function Pre(e,t,r,n){const a={},s=n(e,{});for(const p in s)a[p]=eb(s[p]);let{initial:o,animate:l}=e;const u=dw(e),A=c9(e);t&&A&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const h=f?l:o;if(h&&typeof h!="boolean"&&!Aw(h)){const p=Array.isArray(h)?h:[h];for(let g=0;g<p.length;g++){const v=v3(e,p[g]);if(v){const{transitionEnd:x,transition:b,...w}=v;for(const B in w){let j=w[B];if(Array.isArray(j)){const _=f?j.length-1:0;j=j[_]}j!==null&&(a[B]=j)}for(const B in x)a[B]=x[B]}}}return a}function x3(e,t,r){var s;const{style:n}=e,a={};for(const o in n)(Gs(n[o])||t.style&&Gs(t.style[o])||f9(o,e)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const Lre={useVisualState:y9({scrapeMotionValuesFromProps:x3,createRenderState:g3})};function v9(e,t,r){const n=x3(e,t,r);for(const a in e)if(Gs(e[a])||Gs(t[a])){const s=Ap.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}const Ure={useVisualState:y9({scrapeMotionValuesFromProps:v9,createRenderState:p9})};function Ire(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...y3(n)?Ure:Lre,preloadedFeatures:e,useRender:Ore(a),createVisualElement:t,Component:n};return pre(o)}}function Ey(e,t,r){const n=e.getProps();return v3(n,t,r!==void 0?r:n.custom,e)}const l4=e=>Array.isArray(e);function Dre(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Nm(r))}function Mre(e){return l4(e)?e[e.length-1]||0:e}function Rre(e,t){const r=Ey(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=Mre(s[o]);Dre(e,o,l)}}function Qre(e){return!!(Gs(e)&&e.add)}function c4(e,t){const r=e.getValue("willChange");if(Qre(r))return r.add(t);if(!r&&AA.WillChange){const n=new AA.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function x9(e){return e.props[u9]}const Hre=e=>e!==null;function $re(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Hre),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}const zre={type:"spring",stiffness:500,damping:25,restSpeed:10},qre=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Vre={type:"keyframes",duration:.8},Kre={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gre=(e,{keyframes:t})=>t.length>2?Vre:dp.has(e)?e.startsWith("scale")?qre(t[1]):zre:Kre;function Wre({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:A,...f}){return!!Object.keys(f).length}const b3=(e,t,r,n={},a,s)=>o=>{const l=l3(n,e)||{},u=l.delay||n.delay||0;let{elapsed:A=0}=n;A=A-iu(u);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-A,onUpdate:p=>{t.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:a};Wre(l)||Object.assign(f,Gre(e,f)),f.duration&&(f.duration=iu(f.duration)),f.repeatDelay&&(f.repeatDelay=iu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),(AA.instantAnimations||AA.skipAnimations)&&(h=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,h&&!s&&t.get()!==void 0){const p=$re(f.keyframes,l);if(p!==void 0){Xa.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new i3(f):new kte(f)};function Yre({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function b9(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(s=n);const u=[],A=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const h=e.getValue(f,e.latestValues[f]??null),p=l[f];if(p===void 0||A&&Yre(A,f))continue;const g={delay:r,...l3(s||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=x9(e);if(w){const B=window.MotionHandoffAnimation(w,f,Xa);B!==null&&(g.startTime=B,x=!0)}}c4(e,f),h.start(b3(f,h,p,e.shouldReduceMotion&&YH.has(f)?{type:!1}:g,e,x));const b=h.animation;b&&u.push(b)}return o&&Promise.all(u).then(()=>{Xa.update(()=>{o&&Rre(e,o)})}),u}function u4(e,t,r={}){var u;const n=Ey(e,t,r.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(b9(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(A=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=a;return Xre(e,t,f+A,h,p,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[A,f]=l==="beforeChildren"?[s,o]:[o,s];return A().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function Xre(e,t,r=0,n=0,a=1,s){const o=[],l=(e.variantChildren.size-1)*n,u=a===1?(A=0)=>A*n:(A=0)=>l-A*n;return Array.from(e.variantChildren).sort(Jre).forEach((A,f)=>{A.notify("AnimationStart",t),o.push(u4(A,t,{...s,delay:r+u(f)}).then(()=>A.notify("AnimationComplete",t)))}),Promise.all(o)}function Jre(e,t){return e.sortNodePosition(t)}function Zre(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>u4(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=u4(e,t,r);else{const a=typeof t=="function"?Ey(e,t,r.custom):t;n=Promise.all(b9(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function w9(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const ene=h3.length;function C9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?C9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<ene;r++){const n=h3[r],a=e.props[n];(Sy(a)||a===!1)&&(t[n]=a)}return t}const tne=[...f3].reverse(),rne=f3.length;function nne(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Zre(e,r,n)))}function ane(e){let t=nne(e),r=zF(),n=!0;const a=u=>(A,f)=>{var p;const h=Ey(e,f,u==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:g,transitionEnd:v,...x}=h;A={...A,...x,...v}}return A};function s(u){t=u(e)}function o(u){const{props:A}=e,f=C9(e.parent)||{},h=[],p=new Set;let g={},v=1/0;for(let b=0;b<rne;b++){const w=tne[b],B=r[w],j=A[w]!==void 0?A[w]:f[w],_=Sy(j),N=w===u?B.isActive:null;N===!1&&(v=b);let O=j===f[w]&&j!==A[w]&&_;if(O&&n&&e.manuallyAnimateOnMount&&(O=!1),B.protectedKeys={...g},!B.isActive&&N===null||!j&&!B.prevProp||Aw(j)||typeof j=="boolean")continue;const T=ine(B.prevProp,j);let P=T||w===u&&B.isActive&&!O&&_||b>v&&_,U=!1;const D=Array.isArray(j)?j:[j];let F=D.reduce(a(w),{});N===!1&&(F={});const{prevResolvedValues:R={}}=B,Q={...R,...F},H=Y=>{P=!0,p.has(Y)&&(U=!0,p.delete(Y)),B.needsAnimating[Y]=!0;const ee=e.getValue(Y);ee&&(ee.liveStyle=!1)};for(const Y in Q){const ee=F[Y],ie=R[Y];if(g.hasOwnProperty(Y))continue;let z=!1;l4(ee)&&l4(ie)?z=!w9(ee,ie):z=ee!==ie,z?ee!=null?H(Y):p.add(Y):ee!==void 0&&p.has(Y)?H(Y):B.protectedKeys[Y]=!0}B.prevProp=j,B.prevResolvedValues=F,B.isActive&&(g={...g,...F}),n&&e.blockInitialAnimation&&(P=!1),P&&(!(O&&T)||U)&&h.push(...D.map(Y=>({animation:Y,options:{type:w}})))}if(p.size){const b={};if(typeof A.initial!="boolean"){const w=Ey(e,Array.isArray(A.initial)?A.initial[0]:A.initial);w&&w.transition&&(b.transition=w.transition)}p.forEach(w=>{const B=e.getBaseTarget(w),j=e.getValue(w);j&&(j.liveStyle=!0),b[w]=B??null}),h.push({animation:b})}let x=!!h.length;return n&&(A.initial===!1||A.initial===A.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(h):Promise.resolve()}function l(u,A){var h;if(r[u].isActive===A)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(u,A)}),r[u].isActive=A;const f=o(u);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=zF(),n=!0}}}function ine(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!w9(t,e):!1}function cf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function zF(){return{animate:cf(!0),whileInView:cf(),whileHover:cf(),whileTap:cf(),whileDrag:cf(),whileFocus:cf(),exit:cf()}}class kd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sne extends kd{constructor(t){super(t),t.animationState||(t.animationState=ane(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Aw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let one=0;class lne extends kd{constructor(){super(...arguments),this.id=one++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const cne={animation:{Feature:sne},exit:{Feature:lne}};function ky(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function U0(e){return{point:{x:e.pageX,y:e.pageY}}}const une=e=>t=>A3(t)&&e(t,U0(t));function ry(e,t,r,n){return ky(e,t,une(r),n)}function B9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Ane({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dne(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const j9=1e-4,fne=1-j9,hne=1+j9,S9=.01,mne=0-S9,pne=0+S9;function oo(e){return e.max-e.min}function gne(e,t,r){return Math.abs(e-t)<=r}function qF(e,t,r,n=.5){e.origin=n,e.originPoint=Ya(t.min,t.max,e.origin),e.scale=oo(r)/oo(t),e.translate=Ya(r.min,r.max,e.origin)-e.originPoint,(e.scale>=fne&&e.scale<=hne||isNaN(e.scale))&&(e.scale=1),(e.translate>=mne&&e.translate<=pne||isNaN(e.translate))&&(e.translate=0)}function ny(e,t,r,n){qF(e.x,t.x,r.x,n?n.originX:void 0),qF(e.y,t.y,r.y,n?n.originY:void 0)}function VF(e,t,r){e.min=r.min+t.min,e.max=e.min+oo(t)}function yne(e,t,r){VF(e.x,t.x,r.x),VF(e.y,t.y,r.y)}function KF(e,t,r){e.min=t.min-r.min,e.max=e.min+oo(t)}function ay(e,t,r){KF(e.x,t.x,r.x),KF(e.y,t.y,r.y)}const GF=()=>({translate:0,scale:1,origin:0,originPoint:0}),om=()=>({x:GF(),y:GF()}),WF=()=>({min:0,max:0}),pi=()=>({x:WF(),y:WF()});function jl(e){return[e("x"),e("y")]}function IC(e){return e===void 0||e===1}function A4({scale:e,scaleX:t,scaleY:r}){return!IC(e)||!IC(t)||!IC(r)}function hf(e){return A4(e)||N9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function N9(e){return YF(e.x)||YF(e.y)}function YF(e){return e&&e!=="0%"}function kb(e,t,r){const n=e-r,a=t*n;return r+a}function XF(e,t,r,n,a){return a!==void 0&&(e=kb(e,a,n)),kb(e,r,n)+t}function d4(e,t=0,r=1,n,a){e.min=XF(e.min,t,r,n,a),e.max=XF(e.max,t,r,n,a)}function E9(e,{x:t,y:r}){d4(e.x,t.translate,t.scale,t.originPoint),d4(e.y,r.translate,r.scale,r.originPoint)}const JF=.999999999999,ZF=1.0000000000001;function vne(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cm(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,E9(e,o)),n&&hf(s.latestValues)&&cm(e,s.latestValues))}t.x<ZF&&t.x>JF&&(t.x=1),t.y<ZF&&t.y>JF&&(t.y=1)}function lm(e,t){e.min=e.min+t,e.max=e.max+t}function e6(e,t,r,n,a=.5){const s=Ya(e.min,e.max,a);d4(e,t,r,s,n)}function cm(e,t){e6(e.x,t.x,t.scaleX,t.scale,t.originX),e6(e.y,t.y,t.scaleY,t.scale,t.originY)}function k9(e,t){return B9(dne(e.getBoundingClientRect(),t))}function xne(e,t,r){const n=k9(e,r),{scroll:a}=t;return a&&(lm(n.x,a.offset.x),lm(n.y,a.offset.y)),n}const _9=({current:e})=>e?e.ownerDocument.defaultView:null,t6=(e,t)=>Math.abs(e-t);function bne(e,t){const r=t6(e.x,t.x),n=t6(e.y,t.y);return Math.sqrt(r**2+n**2)}class T9{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=MC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=bne(h.offset,{x:0,y:0})>=3;if(!p&&!g)return;const{point:v}=h,{timestamp:x}=Bs;this.history.push({...v,timestamp:x});const{onStart:b,onMove:w}=this.handlers;p||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=DC(p,this.transformPagePoint),Xa.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=MC(h.type==="pointercancel"?this.lastMoveEventInfo:DC(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),v&&v(h,b)},!A3(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=U0(t),l=DC(o,this.transformPagePoint),{point:u}=l,{timestamp:A}=Bs;this.history=[{...u,timestamp:A}];const{onSessionStart:f}=r;f&&f(t,MC(l,this.history)),this.removeListeners=F0(ry(this.contextWindow,"pointermove",this.handlePointerMove),ry(this.contextWindow,"pointerup",this.handlePointerUp),ry(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Cd(this.updatePoint)}}function DC(e,t){return t?{point:t(e.point)}:e}function r6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function MC({point:e},t){return{point:e,delta:r6(e,O9(t)),offset:r6(e,wne(t)),velocity:Cne(t,.1)}}function wne(e){return e[0]}function O9(e){return e[e.length-1]}function Cne(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=O9(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>iu(t)));)r--;if(!n)return{x:0,y:0};const s=su(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Bne(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ya(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ya(r,e,n.max):Math.min(e,r)),e}function n6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jne(e,{top:t,left:r,bottom:n,right:a}){return{x:n6(e.x,r,a),y:n6(e.y,t,n)}}function a6(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Sne(e,t){return{x:a6(e.x,t.x),y:a6(e.y,t.y)}}function Nne(e,t){let r=.5;const n=oo(e),a=oo(t);return a>n?r=Cy(t.min,t.max-n,e.min):n>a&&(r=Cy(e.min,e.max-a,t.min)),uA(0,1,r)}function Ene(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f4=.35;function kne(e=f4){return e===!1?e=0:e===!0&&(e=f4),{x:i6(e,"left","right"),y:i6(e,"top","bottom")}}function i6(e,t,r){return{min:s6(e,t),max:s6(e,r)}}function s6(e,t){return typeof e=="number"?e:e[t]||0}const _ne=new WeakMap;class Tne{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pi(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(U0(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:g,onDragStart:v}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qte(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jl(b=>{let w=this.getAxisMotionValue(b).get()||0;if(ou.test(w)){const{projection:B}=this.visualElement;if(B&&B.layout){const j=B.layout.layoutBox[b];j&&(w=oo(j)*(parseFloat(w)/100))}}this.originPoint[b]=w}),v&&Xa.postRender(()=>v(f,h)),c4(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,h)=>{const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=One(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(f,h)},l=(f,h)=>this.stop(f,h),u=()=>jl(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new T9(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,contextWindow:_9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:s}=this.getProps();s&&Xa.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Yv(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=Bne(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&sm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=jne(n.layoutBox,t):this.constraints=!1,this.elastic=kne(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jl(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ene(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!sm(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=xne(n,a.root,this.visualElement.getTransformPagePoint());let o=Sne(a.layout.layoutBox,s);if(r){const l=r(Ane(o));this.hasMutatedConstraints=!!l,l&&(o=B9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},A=jl(f=>{if(!Yv(f,r,this.currentDirection))return;let h=u&&u[f]||{};o&&(h={min:0,max:0});const p=a?200:1e6,g=a?40:1e7,v={type:"inertia",velocity:n?t[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(A).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return c4(this.visualElement,t),n.start(b3(t,n,0,r,this.visualElement,!1))}stopAnimation(){jl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){jl(r=>{const{drag:n}=this.getProps();if(!Yv(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(t[r]-Ya(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!sm(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};jl(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();a[o]=Nne({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jl(o=>{if(!Yv(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:A}=this.constraints[o];l.set(Ya(u,A,a[o]))})}addListeners(){if(!this.visualElement.current)return;_ne.set(this.visualElement,this);const t=this.visualElement.current,r=ry(t,"pointerdown",u=>{const{drag:A,dragListener:f=!0}=this.getProps();A&&f&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();sm(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Xa.read(n);const o=ky(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:A})=>{this.isDragging&&A&&(jl(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=f4,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function Yv(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function One(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Fne extends kd{constructor(t){super(t),this.removeGroupControls=Ll,this.removeListeners=Ll,this.controls=new Tne(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ll}unmount(){this.removeGroupControls(),this.removeListeners()}}const o6=e=>(t,r)=>{e&&Xa.postRender(()=>e(t,r))};class Pne extends kd{constructor(){super(...arguments),this.removePointerDownListener=Ll}onPointerDown(t){this.session=new T9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:o6(t),onStart:o6(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&Xa.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=ry(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(tn.test(e))e=parseFloat(e);else return e;const r=l6(e,t.target.x),n=l6(e,t.target.y);return`${r}% ${n}%`}},Lne={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Bd.parse(e);if(a.length>5)return n;const s=Bd.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=u;const A=Ya(l,u,.5);return typeof a[2+o]=="number"&&(a[2+o]/=A),typeof a[3+o]=="number"&&(a[3+o]/=A),s(a)}};class Une extends k.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;xre(Ine),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Xa.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),u3.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function F9(e){const[t,r]=s9(),n=k.useContext(Qk);return i.jsx(Une,{...e,layoutGroup:n,switchLayoutGroup:k.useContext(A9),isPresent:t,safeToRemove:r})}const Ine={borderRadius:{...bg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bg,borderTopRightRadius:bg,borderBottomLeftRadius:bg,borderBottomRightRadius:bg,boxShadow:Lne};function Dne(e,t,r){const n=Gs(e)?e:Nm(e);return n.start(b3("",n,t,r)),n.animation}const Mne=(e,t)=>e.depth-t.depth;class Rne{constructor(){this.children=[],this.isDirty=!1}add(t){zk(this.children,t),this.isDirty=!0}remove(t){qk(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mne),this.isDirty=!1,this.children.forEach(t)}}function Qne(e,t){const r=jo.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Cd(n),e(s-t))};return Xa.setup(n,!0),()=>Cd(n)}const P9=["TopLeft","TopRight","BottomLeft","BottomRight"],Hne=P9.length,c6=e=>typeof e=="string"?parseFloat(e):e,u6=e=>typeof e=="number"||tn.test(e);function $ne(e,t,r,n,a,s){a?(e.opacity=Ya(0,r.opacity??1,zne(n)),e.opacityExit=Ya(t.opacity??1,0,qne(n))):s&&(e.opacity=Ya(t.opacity??1,r.opacity??1,n));for(let o=0;o<Hne;o++){const l=`border${P9[o]}Radius`;let u=A6(t,l),A=A6(r,l);if(u===void 0&&A===void 0)continue;u||(u=0),A||(A=0),u===0||A===0||u6(u)===u6(A)?(e[l]=Math.max(Ya(c6(u),c6(A),n),0),(ou.test(A)||ou.test(u))&&(e[l]+="%")):e[l]=A}(t.rotate||r.rotate)&&(e.rotate=Ya(t.rotate||0,r.rotate||0,n))}function A6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const zne=L9(0,.5,NH),qne=L9(.5,.95,Ll);function L9(e,t,r){return n=>n<e?0:n>t?1:r(Cy(e,t,n))}function d6(e,t){e.min=t.min,e.max=t.max}function wl(e,t){d6(e.x,t.x),d6(e.y,t.y)}function f6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function h6(e,t,r,n,a){return e-=t,e=kb(e,1/r,n),a!==void 0&&(e=kb(e,1/a,n)),e}function Vne(e,t=0,r=1,n=.5,a,s=e,o=e){if(ou.test(t)&&(t=parseFloat(t),t=Ya(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ya(s.min,s.max,n);e===s&&(l-=t),e.min=h6(e.min,t,r,l,a),e.max=h6(e.max,t,r,l,a)}function m6(e,t,[r,n,a],s,o){Vne(e,t[r],t[n],t[a],t.scale,s,o)}const Kne=["x","scaleX","originX"],Gne=["y","scaleY","originY"];function p6(e,t,r,n){m6(e.x,t,Kne,r?r.x:void 0,n?n.x:void 0),m6(e.y,t,Gne,r?r.y:void 0,n?n.y:void 0)}function g6(e){return e.translate===0&&e.scale===1}function U9(e){return g6(e.x)&&g6(e.y)}function y6(e,t){return e.min===t.min&&e.max===t.max}function Wne(e,t){return y6(e.x,t.x)&&y6(e.y,t.y)}function v6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function I9(e,t){return v6(e.x,t.x)&&v6(e.y,t.y)}function x6(e){return oo(e.x)/oo(e.y)}function b6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Yne{constructor(){this.members=[]}add(t){zk(this.members,t),t.scheduleRender()}remove(t){if(qk(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xne(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:A,rotate:f,rotateX:h,rotateY:p,skewX:g,skewY:v}=r;A&&(n=`perspective(${A}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const RC=["","X","Y","Z"],Jne={visibility:"hidden"},Zne=1e3;let eae=0;function QC(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function D9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=x9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Xa,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&D9(n)}function M9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=eae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nae),this.nodes.forEach(lae),this.nodes.forEach(cae),this.nodes.forEach(aae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rne)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Gk),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=i9(o)&&!Xte(o),this.instance=o;const{layoutId:l,layout:u,visualElement:A}=this.options;if(A&&!A.current&&A.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Qne(h,250),tb.hasAnimatedSinceResize&&(tb.hasAnimatedSinceResize=!1,this.nodes.forEach(C6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&A&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||A.getDefaultTransition()||hae,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=A.getProps(),w=!this.targetLayout||!I9(this.targetLayout,g),B=!h&&p;if(this.options.layoutRoot||this.resumeFrom||B||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...l3(v,"layout"),onPlay:x,onComplete:b};(A.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(f,B)}else h||C6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const A=this.getTransformTemplate();this.prevTransformTemplateValue=A?A(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(w6);return}this.isUpdating||this.nodes.forEach(sae),this.isUpdating=!1,this.nodes.forEach(oae),this.nodes.forEach(tae),this.nodes.forEach(rae),this.clearAllSnapshots();const l=jo.now();Bs.delta=uA(0,1e3/60,l-Bs.timestamp),Bs.timestamp=l,Bs.isProcessing=!0,OC.update.process(Bs),OC.preRender.process(Bs),OC.render.process(Bs),Bs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iae),this.sharedNodes.forEach(Aae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!oo(this.snapshot.measuredBox.x)&&!oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!U9(this.projectionDelta),u=this.getTransformTemplate(),A=u?u(this.latestValues,""):void 0,f=A!==this.prevTransformTemplateValue;o&&this.instance&&(l||hf(this.latestValues)||f)&&(a(this.instance,A),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),mae(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var A;const{visualElement:o}=this.options;if(!o)return pi();const l=o.measureViewportBox();if(!(((A=this.scroll)==null?void 0:A.wasRoot)||this.path.some(pae))){const{scroll:f}=this.root;f&&(lm(l.x,f.offset.x),lm(l.y,f.offset.y))}return l}removeElementScroll(o){var u;const l=pi();if(wl(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let A=0;A<this.path.length;A++){const f=this.path[A],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&wl(l,o),lm(l.x,h.offset.x),lm(l.y,h.offset.y))}return l}applyTransform(o,l=!1){const u=pi();wl(u,o);for(let A=0;A<this.path.length;A++){const f=this.path[A];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&cm(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hf(f.latestValues)&&cm(u,f.latestValues)}return hf(this.latestValues)&&cm(u,this.latestValues),u}removeTransform(o){const l=pi();wl(l,o);for(let u=0;u<this.path.length;u++){const A=this.path[u];if(!A.instance||!hf(A.latestValues))continue;A4(A.latestValues)&&A.updateSnapshot();const f=pi(),h=A.measurePageBox();wl(f,h),p6(l,A.latestValues,A.snapshot?A.snapshot.layoutBox:void 0,f)}return hf(this.latestValues)&&p6(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Bs.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),ay(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),wl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pi(),this.targetWithTransforms=pi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wl(this.target,this.layout.layoutBox),E9(this.target,this.targetDelta)):wl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pi(),this.relativeTargetOrigin=pi(),ay(this.relativeTargetOrigin,this.target,g.target),wl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||A4(this.parent.latestValues)||N9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bs.timestamp&&(u=!1),u)return;const{layout:A,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(A||f))return;wl(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;vne(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pi());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f6(this.prevProjectionDelta.x,this.projectionDelta.x),f6(this.prevProjectionDelta.y,this.projectionDelta.y)),ny(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!b6(this.projectionDelta.x,this.prevProjectionDelta.x)||!b6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=om(),this.projectionDelta=om(),this.projectionDeltaWithTransform=om()}setAnimationOrigin(o,l=!1){const u=this.snapshot,A=u?u.latestValues:{},f={...this.latestValues},h=om();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=pi(),g=u?u.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,b=this.getStack(),w=!b||b.members.length<=1,B=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(fae));this.animationProgress=0;let j;this.mixTargetDelta=_=>{const N=_/1e3;B6(h.x,o.x,N),B6(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ay(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dae(this.relativeTarget,this.relativeTargetOrigin,p,N),j&&Wne(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=pi()),wl(j,this.relativeTarget)),x&&(this.animationValues=f,$ne(f,A,this.latestValues,N,B,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,A;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(A=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||A.stop(),this.pendingAnimation&&(Cd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xa.update(()=>{tb.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Nm(0)),this.currentAnimation=Dne(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Zne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:A,latestValues:f}=o;if(!(!l||!u||!A)){if(this!==o&&this.layout&&A&&R9(this.options.animationType,this.layout.layoutBox,A.layoutBox)){u=this.target||pi();const h=oo(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+h;const p=oo(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+p}wl(l,u),cm(l,f),ny(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yne),this.sharedNodes.get(o).add(l);const A=l.options.initialPromotionConfig;l.promote({transition:A?A.transition:void 0,preserveFollowOpacity:A&&A.shouldPreserveFollowOpacity?A.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const A=this.getStack();A&&A.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const A={};u.z&&QC("z",o,A,this.animationValues);for(let f=0;f<RC.length;f++)QC(`rotate${RC[f]}`,o,A,this.animationValues),QC(`skew${RC[f]}`,o,A,this.animationValues);o.render();for(const f in A)o.setStaticValue(f,A[f]),this.animationValues&&(this.animationValues[f]=A[f]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Jne;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=eb(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=eb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hf(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),l.transform=Xne(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,A.animationValues?l.opacity=A===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in Ny){if(f[g]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:b}=Ny[g],w=l.transform==="none"?f[g]:v(f[g],A);if(x){const B=x.length;for(let j=0;j<B;j++)l[x[j]]=w}else b?this.options.visualElement.renderState.vars[g]=w:l[g]=w}return this.options.layoutId&&(l.pointerEvents=A===this?eb(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(w6),this.root.sharedNodes.clear()}}}function tae(e){e.updateLayout()}function rae(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?jl(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],g=oo(p);p.min=n[h].min,p.max=p.min+g}):R9(s,t.layoutBox,n)&&jl(h=>{const p=o?t.measuredBox[h]:t.layoutBox[h],g=oo(n[h]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=om();ny(l,n,t.layoutBox);const u=om();o?ny(u,e.applyTransform(a,!0),t.measuredBox):ny(u,n,t.layoutBox);const A=!U9(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const v=pi();ay(v,t.layoutBox,p.layoutBox);const x=pi();ay(x,n,g.layoutBox),I9(v,x)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:A,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function nae(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aae(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iae(e){e.clearSnapshot()}function w6(e){e.clearMeasurements()}function sae(e){e.isLayoutDirty=!1}function oae(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function C6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lae(e){e.resolveTargetDelta()}function cae(e){e.calcProjection()}function uae(e){e.resetSkewAndRotation()}function Aae(e){e.removeLeadSnapshot()}function B6(e,t,r){e.translate=Ya(t.translate,0,r),e.scale=Ya(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function j6(e,t,r,n){e.min=Ya(t.min,r.min,n),e.max=Ya(t.max,r.max,n)}function dae(e,t,r,n){j6(e.x,t.x,r.x,n),j6(e.y,t.y,r.y,n)}function fae(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hae={duration:.45,ease:[.4,0,.1,1]},S6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),N6=S6("applewebkit/")&&!S6("chrome/")?Math.round:Ll;function E6(e){e.min=N6(e.min),e.max=N6(e.max)}function mae(e){E6(e.x),E6(e.y)}function R9(e,t,r){return e==="position"||e==="preserve-aspect"&&!gne(x6(t),x6(r),.2)}function pae(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const gae=M9({attachResizeListener:(e,t)=>ky(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),HC={current:void 0},Q9=M9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!HC.current){const e=new gae({});e.mount(window),e.setOptions({layoutScroll:!0}),HC.current=e}return HC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yae={pan:{Feature:Pne},drag:{Feature:Fne,ProjectionNode:Q9,MeasureLayout:F9}};function k6(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Xa.postRender(()=>s(t,U0(t)))}class vae extends kd{mount(){const{current:t}=this.node;t&&(this.unmount=Vte(t,(r,n)=>(k6(this.node,n,"Start"),a=>k6(this.node,a,"End"))))}unmount(){}}class xae extends kd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=F0(ky(this.node.current,"focus",()=>this.onFocus()),ky(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _6(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Xa.postRender(()=>s(t,U0(t)))}class bae extends kd{mount(){const{current:t}=this.node;t&&(this.unmount=Yte(t,(r,n)=>(_6(this.node,n,"Start"),(a,{success:s})=>_6(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h4=new WeakMap,$C=new WeakMap,wae=e=>{const t=h4.get(e.target);t&&t(e)},Cae=e=>{e.forEach(wae)};function Bae({root:e,...t}){const r=e||document;$C.has(r)||$C.set(r,{});const n=$C.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Cae,{root:e,...t})),n[a]}function jae(e,t,r){const n=Bae(t);return h4.set(e,r),n.observe(e),()=>{h4.delete(e),n.unobserve(e)}}const Sae={some:0,all:1};class Nae extends kd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Sae[a]},l=u=>{const{isIntersecting:A}=u;if(this.isInView===A||(this.isInView=A,s&&!A&&this.hasEnteredView))return;A&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",A);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=A?f:h;p&&p(u)};return jae(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Eae(t,r))&&this.startObserver()}unmount(){}}function Eae({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const kae={inView:{Feature:Nae},tap:{Feature:bae},focus:{Feature:xae},hover:{Feature:vae}},_ae={layout:{ProjectionNode:Q9,MeasureLayout:F9}},m4={current:null},H9={current:!1};function Tae(){if(H9.current=!0,!!$k)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>m4.current=e.matches;e.addListener(t),t()}else m4.current=!1}const Oae=new WeakMap;function Fae(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Gs(a))e.addValue(n,a);else if(Gs(s))e.addValue(n,Nm(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Nm(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const T6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pae{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=jo.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Xa.render(this.render,!1,!0))};const{latestValues:u,renderState:A}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=A,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=dw(r),this.isVariantNode=c9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const g=h[p];u[p]!==void 0&&Gs(g)&&g.set(u[p],!1)}}mount(t){this.current=t,Oae.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),H9.current||Tae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cd(this.notifyUpdate),Cd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=dp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Xa.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Em){const r=Em[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<T6.length;n++){const a=T6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=t[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Fae(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Nm(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(gH(n)||vH(n))?n=parseFloat(n):!Zte(n)&&Bd.test(r)&&(n=e9(t,r)),this.setBaseTarget(t,Gs(n)?n.get():n)),Gs(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=v3(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Gs(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Gk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class $9 extends Pae{constructor(){super(...arguments),this.KeyframeResolver=Qte}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gs(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function z9(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}function Lae(e){return window.getComputedStyle(e)}class Uae extends $9{constructor(){super(...arguments),this.type="html",this.renderInstance=z9}readValueFromInstance(t,r){var n;if(dp.has(r))return(n=this.projection)!=null&&n.isProjecting?r4(r):ste(t,r);{const a=Lae(t),s=(Xk(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return k9(t,r)}build(t,r,n){p3(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return x3(t,r,n)}}const q9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Iae(e,t,r,n){z9(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(q9.has(a)?a:m3(a),t.attrs[a])}class Dae extends $9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pi}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(dp.has(r)){const n=ZH(r);return n&&n.default||0}return r=q9.has(r)?r:m3(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return v9(t,r,n)}build(t,r,n){m9(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Iae(t,r,n,a)}mount(t){this.isSVGTag=g9(t.tagName),super.mount(t)}}const Mae=(e,t)=>y3(e)?new Dae(t):new Uae(t,{allowProjection:e!==k.Fragment}),Rae=Ire({...cne,...kae,...yae,..._ae},Mae),nr=lre(Rae);var V9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},O6=Ce.createContext&&Ce.createContext(V9),Qae=["attr","size","title"];function Hae(e,t){if(e==null)return{};var r=$ae(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(this,arguments)}function F6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F6(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return t=qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Vae(e,"string");return typeof t=="symbol"?t:t+""}function Vae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K9(e){return e&&e.map((t,r)=>Ce.createElement(t.tag,Tb({key:r},t.attr),K9(t.child)))}function xr(e){return t=>Ce.createElement(Kae,_b({attr:Tb({},e.attr)},t),K9(e.child))}function Kae(e){var t=r=>{var{attr:n,size:a,title:s}=e,o=Hae(e,Qae),l=a||r.size||"1em",u;return r.className&&(u=r.className),e.className&&(u=(u?u+" ":"")+e.className),Ce.createElement("svg",_b({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:u,style:Tb(Tb({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Ce.createElement("title",null,s),e.children)};return O6!==void 0?Ce.createElement(O6.Consumer,null,r=>t(r)):t(V9)}function G9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function km(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function p4(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function W9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function w3(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function Gae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function Wae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(e)}function Yae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(e)}function vc(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function Ob(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function _y(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function gd(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function dA(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function Y9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function ud(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function P6(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function Es(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Ty(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(e)}function Fb(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(e)}function Xae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(e)}function wc(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Oy(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Jae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function C3(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Zae(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function eie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function jd(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function fp(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function tie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function rie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function nie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function Pb(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function aie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function X9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function iie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function sie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function fw(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function J9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function Fy(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 6 2 18 2 18 9"},child:[]},{tag:"path",attr:{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"},child:[]},{tag:"rect",attr:{x:"6",y:"14",width:"12",height:"8"},child:[]}]})(e)}function Z9(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function rb(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function _m(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function oie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function lie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function B3(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(e)}function cie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(e)}function e$(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function uie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function Aie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"4",y:"2",width:"16",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(e)}function die(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Py(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function fie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(e)}function j3(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(e)}function Lb(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function L6(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function hie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function mie(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(e)}function _l(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Ly(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function wi(e){return xr({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const le={colors:{primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20",accentLight:"#f1670f30",accentMedium:"#f1670f40",accentHeavy:"#f1670f60",accentStrong:"#f1670f80"},fontSizes:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},spacing:{xs:"0.25rem",sm:"0.5rem",md:"1rem",lg:"1.5rem",xl:"2rem","2xl":"3rem"},borderRadius:{sm:"0.25rem",md:"0.5rem",lg:"1rem",xl:"1.5rem",full:"9999px"},gradients:{primaryOrange:"linear-gradient(180deg, #f1670f 0%, #853619 100%)",orangeToDark:"linear-gradient(180deg, #f1670f 0%, #2e0304 100%)",orangeToLight:"linear-gradient(180deg, #f1670f 0%, #fefdfd 100%)"},status:{active:"#28a745",inactive:"#6c757d",warning:"#ffc107",danger:"#dc3545"}},Ze=le.colors;le.fontSizes;le.spacing;le.borderRadius;le.gradients;le.status;const Br=({children:e,variant:t="primary",size:r="md",fullWidth:n=!1,isLoading:a=!1,disabled:s=!1,className:o="",...l})=>{const u=`
      inline-flex items-center justify-center
      font-medium transition-all
      focus:outline-none focus:ring-2 focus:ring-offset-2
      disabled:opacity-60 disabled:cursor-not-allowed
    `,A={sm:"px-3 py-1.5 text-sm rounded-md",md:"px-4 py-2 text-base rounded-lg",lg:"px-6 py-3 text-lg rounded-xl"},f={primary:`
        bg-gradient-to-r from-red-900 to-red-800
        hover:from-red-800 hover:to-red-700
        text-white shadow-md hover:shadow-lg
        focus:ring-red-900/50
      `,secondary:`
        bg-white text-red-900 border-2 border-red-900
        hover:bg-red-900 hover:text-white
        focus:ring-red-900/50
      `,accent:`
        bg-gradient-to-r from-orange-600 to-orange-500
        hover:from-orange-500 hover:to-orange-400
        text-white shadow-md hover:shadow-lg
        focus:ring-orange-500/50
      `,ghost:`
        bg-transparent hover:bg-red-900/10
        text-red-900 border-2 border-transparent
        hover:border-red-900
        focus:ring-red-900/30
      `};return i.jsx("button",{className:`
          ${u}
          ${A[r]}
          ${f[t]}
          ${n?"w-full":""}
          ${o}
        `.trim(),disabled:s||a,...l,children:a?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:"Loading..."})]}):e})},t$=({label:e,error:t,icon:r,className:n="",...a})=>{const[s,o]=k.useState(!1);return i.jsxs("div",{className:"w-full",children:[e&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:a.id||a.name,children:e}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{className:`
            w-full px-4 py-2 bg-white
            border-2 rounded-lg transition-all
            placeholder:text-gray-400
            ${t?"border-red-500":s?"border-orange-500":"border-gray-200"}
            ${t?"focus:border-red-500":"focus:border-orange-500"}
            focus:outline-none focus:ring-2
            ${t?"focus:ring-red-500/20":"focus:ring-orange-500/20"}
            disabled:bg-gray-50 disabled:text-gray-500
            ${n}
          `.trim(),onFocus:()=>o(!0),onBlur:()=>o(!1),...a}),r&&i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r})]}),t&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},g4=({label:e="Password",placeholder:t="Enter password",showPasswordToggle:r=!0,className:n="",error:a,style:s,useCustomStyling:o=!1,...l})=>{const[u,A]=k.useState(!1),f=()=>{A(!u)},h=()=>i.jsx("button",{type:"button",onClick:f,className:"text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition-colors p-1 rounded",tabIndex:-1,"aria-label":u?"Hide password":"Show password",children:u?i.jsx(Zae,{className:"h-5 w-5"}):i.jsx(eie,{className:"h-5 w-5"})});return o?i.jsxs("div",{className:"w-full",children:[e&&i.jsx("label",{className:"block text-xs font-medium mb-1",style:s!=null&&s.color?{color:s.color}:{},children:e}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:u?"text":"password",placeholder:t,className:`p-2 rounded border w-full text-sm pr-10 ${n}`,style:s,...l}),r&&i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2",children:i.jsx(h,{})})]}),a&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:a})]}):i.jsx(t$,{type:u?"text":"password",label:e,placeholder:t,className:n,style:s,error:a,icon:r?i.jsx(h,{}):void 0,...l})},Yc=({children:e,variant:t="default",elevation:r="md",interactive:n=!1,className:a="",...s})=>{const o={default:{backgroundColor:le.colors.background,borderColor:le.colors.muted+"20"},active:{backgroundColor:le.colors.activeBg,borderColor:le.colors.muted+"20"},highlight:{backgroundColor:le.colors.accent+"10",borderColor:le.colors.accent}},l={none:"shadow-none",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},u=o[t]||o.default;return i.jsx("div",{className:`
        rounded-xl border transition-all
        ${l[r]}
        ${n?"hover:brightness-95 cursor-pointer":""}
        ${a}
      `,style:{backgroundColor:u.backgroundColor,borderColor:u.borderColor},...s,children:e})},Sd=({isOpen:e,onClose:t,title:r,children:n,size:a="md",showCloseButton:s=!0,preventClose:o=!1,footer:l,className:u=""})=>{const A=k.useRef(null);k.useEffect(()=>{const g=v=>{v.key==="Escape"&&!o&&t()};return e&&(document.addEventListener("keydown",g),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",g),document.body.style.overflow="unset"}},[e,t,o]);const f=g=>{A.current&&!A.current.contains(g.target)&&!o&&t()},h={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full",wide:"max-w-2xl"},p={wide:"max-h-[80vh] h-auto"};return e?Gx.createPortal(i.jsxs(k.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:f,children:i.jsxs("div",{ref:A,className:`
            w-full relative rounded-xl shadow-xl 
            animate-modal-enter overflow-hidden
            ${h[a]}
            ${p[a]||"max-h-[90vh]"}
            ${u}
          `,style:{backgroundColor:le.colors.background},children:[(r||s)&&i.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:le.colors.muted+"20"},children:[r&&i.jsx("h3",{className:"text-lg font-medium",style:{color:le.colors.primary},children:r}),s&&!o&&i.jsx(Br,{variant:"text",size:"sm",onClick:t,className:"-mr-2",children:i.jsx(wi,{className:"w-5 h-5"})})]}),i.jsx("div",{className:`overflow-y-auto ${a==="wide"?"p-6":"p-4"}`,style:{maxHeight:a==="wide"?"calc(80vh - 120px)":"calc(90vh - 120px)"},children:n}),l&&i.jsx("div",{className:"p-4 border-t",style:{borderColor:le.colors.muted+"20"},children:l})]})}),i.jsx("style",{children:`
        @keyframes modal-enter {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-modal-enter {
          animation: modal-enter 0.2s ease-out;
        }
      `})]}),document.body):null},r$=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:{background:le.colors.primary,color:le.colors.background},secondary:{background:le.colors.secondary,color:le.colors.background},accent:{background:le.colors.accent,color:le.colors.background},success:{background:le.colors.success,color:le.colors.background},warning:{background:le.colors.warning,color:le.colors.background},error:{background:le.colors.error,color:le.colors.background},pending:{background:le.colors.warning+"20",color:le.colors.warning},preparing:{background:le.colors.accent+"20",color:le.colors.accent},ready:{background:le.colors.success+"20",color:le.colors.success},delivered:{background:le.colors.muted+"20",color:le.colors.muted}},s={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},o=a[t]||a.primary;return i.jsx("span",{className:`
        inline-flex items-center justify-center 
        font-medium rounded-full whitespace-nowrap
        ${s[r]}
        ${n}
      `,style:o,children:e})},nb=({item:e,onClick:t,isUnavailable:r=!1,isLocked:n=!1})=>{const a=e.pricing.base||Object.values(e.pricing)[0],s=Object.keys(e.pricing).length>1,o=typeof a=="number"?a.toFixed(0):a,l=()=>{!r&&!n&&t&&t()};return i.jsxs(nr.div,{className:`relative rounded-xl overflow-hidden aspect-square group ${r||n?"cursor-not-allowed":"cursor-pointer"}`,onClick:l,whileHover:!r&&!n?{scale:1.03,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)"}:{},whileTap:!r&&!n?{scale:.98}:{},transition:{duration:.2},style:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",opacity:r||n?.6:1},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70 z-10"}),r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-gray-500/40 z-15"}),i.jsx("div",{className:"absolute inset-x-0 z-20 flex items-center justify-center",style:{top:"50%",transform:"translateY(-50%)",height:"32px",backgroundColor:le.colors.primary},children:i.jsx("span",{className:"text-white font-bold text-sm tracking-wide",children:"UNAVAILABLE"})})]}),n&&!r&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-blue-900/30 z-15"}),i.jsx("div",{className:"absolute inset-x-0 z-20 flex items-center justify-center",style:{top:"50%",transform:"translateY(-50%)",height:"32px",backgroundColor:"#3b82f6"},children:i.jsx("span",{className:"text-white font-bold text-sm tracking-wide",children:"LOCKED"})})]}),i.jsx("div",{className:"absolute top-2 left-2 rounded-full px-3 py-1.5 text-sm font-bold z-20 flex items-center justify-center",style:{backgroundColor:le.colors.accent,color:le.colors.background,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:e.code}),i.jsx("div",{className:"relative w-full h-full",children:i.jsx(nr.div,{className:"w-full h-full",whileHover:{scale:1.05},transition:{duration:.5},children:e.image?i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover",onError:u=>{u.target.src=e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"}}):i.jsx("img",{src:e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png",alt:e.name,className:"w-full h-full object-cover"})})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20 p-3",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"text-white font-bold leading-tight break-words text-shadow mb-1",style:{fontSize:le.fontSizes.base,lineHeight:"1.2",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textShadow:"0px 1px 2px rgba(0,0,0,0.8)"},children:e.name}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full px-2 py-0.5 text-xs text-white",children:e.category}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"px-2.5 py-1 rounded-full font-bold text-sm",style:{backgroundColor:le.colors.accent,color:"white",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},children:["",o,s&&"+"]})})]})]})}),!r&&i.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300 z-10"})]})},ab=({item:e,onVoid:t,onUpdateSize:r,onUpdateQuantity:n,onDiscountUpdate:a})=>{var h,p,g;const[s,o]=k.useState(!1),[l,u]=k.useState(((h=e.pwdSeniorDiscount)==null?void 0:h.discountedQuantity)||0),A=()=>{a&&a(e,l),o(!1)},f=((p=e.pwdSeniorDiscount)==null?void 0:p.applied)&&((g=e.pwdSeniorDiscount)==null?void 0:g.discountedQuantity)>0;return i.jsxs("div",{className:"rounded-lg p-3 relative flex items-start gap-3",style:{backgroundColor:le.colors.hoverBg},children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("button",{onClick:()=>t(e),className:"p-1 rounded-full hover:bg-red-100 transition-colors self-start mt-1",style:{color:le.colors.error},children:i.jsx(Py,{className:"w-5 h-5"})}),"        ",e.image?i.jsx("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0",onError:v=>{v.target.src=e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"}}):i.jsx("img",{src:e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png",alt:e.name,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-sm md:text-base truncate",style:{color:le.colors.primary},children:e.name}),"          ",i.jsx("select",{value:e.selectedSize,onChange:v=>r(e,v.target.value),className:"w-full mt-1 text-sm rounded-lg px-2 py-1 transition-colors focus:outline-none focus:ring-2",style:{border:"2px solid "+le.colors.muted,backgroundColor:le.colors.background,color:le.colors.primary},children:(e.availableSizes||[]).map(v=>i.jsxs("option",{value:v,style:{color:le.colors.primary},children:[v," (",e.pricing&&e.pricing[v]?e.pricing[v].toFixed(2):e.price.toFixed(2),")"]},v))}),f&&i.jsxs("div",{className:"mt-1 text-xs bg-blue-50 px-2 py-1 rounded",style:{color:le.colors.primary},children:[i.jsxs("div",{children:["PWD/Senior: ",e.pwdSeniorDiscount.discountedQuantity,"x (20% off + VAT exempt)"]}),i.jsx("div",{className:"text-blue-600 mt-1",children:"Card details will be collected at payment"})]})]}),"        ",i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx("button",{onClick:()=>o(!0),className:`p-1.5 rounded-full transition-colors ${f?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"PWD/Senior Discount",children:i.jsx(_l,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Br,{variant:"primary",size:"sm",onClick:()=>n(e,-1),className:"min-w-[36px]",children:"-"}),i.jsx("span",{className:"w-8 text-center text-lg",style:{color:le.colors.primary},children:e.quantity}),i.jsx(Br,{variant:"primary",size:"sm",onClick:()=>n(e,1),className:"min-w-[36px]",children:"+"})]})]})]}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:le.colors.primary},children:"PWD/Senior Citizen Discount"}),i.jsx("p",{className:"text-sm mb-4",style:{color:le.colors.secondary},children:"Select how many items are for PWD/Senior (20% discount + VAT exempt):"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:["Quantity for discount (max: ",e.quantity,"):"]}),i.jsx("input",{type:"number",min:"0",max:e.quantity,value:l,onChange:v=>u(Math.min(e.quantity,Math.max(0,parseInt(v.target.value)||0))),className:"w-full p-2 border rounded-lg",style:{borderColor:le.colors.muted,backgroundColor:le.colors.background,color:le.colors.primary}})]}),i.jsx("div",{className:"text-xs text-gray-600 mb-4 bg-blue-50 p-2 rounded",children:"Card holder details will be collected during payment processing"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Br,{variant:"secondary",onClick:()=>{var v;u(((v=e.pwdSeniorDiscount)==null?void 0:v.discountedQuantity)||0),o(!1)},className:"flex-1",children:"Cancel"}),i.jsx(Br,{variant:"primary",onClick:A,className:"flex-1",children:"Apply"})]})]})})]})},n$=({total:e,subtotal:t,discount:r,cashFloat:n,onProcessPayment:a,onCancelOrder:s,disabled:o})=>{const l=u=>u==null||isNaN(u)?"0.00":Number(u).toFixed(2);return i.jsxs("div",{className:"pt-2 border-t",style:{borderColor:le.colors.muted},children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("span",{className:"text-sm font-medium",style:{color:le.colors.primary},children:"Cash Float:"}),i.jsxs(r$,{variant:"accent",className:"text-sm px-2 py-1",children:["",l(n)]})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{style:{color:le.colors.primary},children:"Subtotal:"}),i.jsxs("span",{style:{color:le.colors.primary},children:["",t]})]}),parseFloat(r)>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{style:{color:le.colors.secondary},children:"PWD/Senior Discount (20%):"}),i.jsxs("span",{style:{color:le.colors.secondary},children:["-",r]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[i.jsx("span",{style:{color:le.colors.primary},children:"TOTAL:"}),i.jsxs("span",{style:{color:le.colors.primary},children:["",e]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Br,{variant:"secondary",onClick:s,disabled:o,className:"flex-1",children:"Cancel Order"}),i.jsx(Br,{variant:"primary",onClick:a,disabled:o,className:"flex-1",children:"PROCESS PAYMENT"})]})]})},a$=({isOpen:e,onClose:t,total:r,subtotal:n,discount:a,cashFloat:s,onProcessPayment:o,eWalletDetails:l,onEWalletDetailsChange:u,customerName:A,onCustomerNameChange:f,orderItems:h})=>{const[p,g]=k.useState(""),[v,x]=k.useState(0),[b,w]=k.useState(""),[B,j]=k.useState(""),[_,N]=k.useState(!1),[O,T]=k.useState(!1),[P,U]=k.useState([]),D=k.useMemo(()=>h?h.filter(z=>{var W,L;return((W=z.pwdSeniorDiscount)==null?void 0:W.applied)&&((L=z.pwdSeniorDiscount)==null?void 0:L.discountedQuantity)>0}):[],[h]),F=k.useMemo(()=>D.reduce((z,W)=>{var L;return z+(((L=W.pwdSeniorDiscount)==null?void 0:L.discountedQuantity)||0)},0),[D]);k.useEffect(()=>{F>0?U(z=>Array(F).fill(null).map((L,q)=>z[q]||{cardType:"PWD",cardIdNumber:"",itemName:"",index:q})):U([])},[F]);const R=z=>z==null||isNaN(z)?"0.00":Number(z).toFixed(2),Q=z=>{if(!z||z==="")return 0;const W=parseFloat(z.toString().replace(/[^\d.-]/g,""));return isNaN(W)?0:Math.max(0,W)},H=z=>{const W=Q(z),L=Q(r);if(W<=0)return"Cash amount must be greater than zero";if(W<L)return`Insufficient cash. Need ${R(L-W)} more`;const q=W-L,G=Q(s);return q>G?`Cannot provide ${R(q)} change. Cash float only has ${R(G)}`:""},J=z=>!(z!=null&&z.referenceNumber)||z.referenceNumber.trim()===""?"Reference number is required":!(z!=null&&z.name)||z.name.trim()===""?"Account name is required":/^\d+$/.test(z.referenceNumber)?z.referenceNumber.length<4?"Reference number must be at least 4 digits":"":"Reference number must contain only numbers",V=k.useMemo(()=>{if(p!=="cash")return 0;const z=Q(v),W=Q(r),L=z-W;return Math.max(0,L)},[p,v,r]);k.useEffect(()=>{if(p==="cash"&&v>0){const z=H(v);w(z)}else w("")},[v,r,s,p]),k.useEffect(()=>{if(p==="e-wallet"){const z=J(l);j(z)}else j("")},[l,p]);const Y=k.useMemo(()=>_||parseFloat(a)>0&&F>0&&!P.every(W=>W.cardType&&W.cardIdNumber.trim())?!1:p==="cash"?v>0&&b==="":p==="e-wallet"?B==="":!1,[p,v,b,B,_,a,F,P]),ee=z=>{(z===""||/^\d*\.?\d*$/.test(z))&&x(z===""?0:Q(z))},ie=async()=>{if(Y){N(!0);try{if(p==="cash"){const z=H(v);if(z){w(z);return}}else if(p==="e-wallet"){const z=J(l);if(z){j(z);return}}await o({method:p,cashAmount:p==="cash"?v:0,eWalletDetails:p==="e-wallet"?l:null,customerName:A||"",discountCards:parseFloat(a)>0?P:[]}),t()}catch(z){console.error("Payment processing error:",z)}finally{N(!1)}}};return i.jsxs(Sd,{isOpen:e,onClose:t,size:"5xl",preventClose:!1,children:[i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"flex bg-gray-50 rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"w-72 bg-white border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"p-3 border-b border-gray-200",children:[i.jsx("h2",{className:"text-base font-bold text-gray-800 mb-1",children:"Process Payment"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Complete your order transaction"})]}),i.jsx("div",{className:"flex-1 p-3",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-colors ${p?"bg-green-50 border border-green-200":"bg-orange-50 border border-orange-200"}`,children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-2 ${p?"bg-green-500 text-white":"bg-orange-500 text-white"}`,children:p?i.jsx(gd,{size:14}):i.jsx(Fb,{size:14})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Payment Method"}),i.jsx("div",{className:"text-xs text-gray-500",children:p?p.toUpperCase().replace("-"," "):"Select method"})]})]}),i.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-colors ${p?p&&!Y?"bg-orange-50 border border-orange-200":"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-2 ${p?p&&!Y?"bg-orange-500 text-white":"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:p&&Y?i.jsx(gd,{size:14}):i.jsx(_l,{size:14})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Customer Info"}),i.jsx("div",{className:"text-xs text-gray-500",children:A||"Optional details"})]})]}),i.jsxs("div",{className:`flex items-center p-2 rounded-lg transition-colors ${Y?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center mr-2 ${Y?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:i.jsx(gd,{size:14})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-gray-800 text-sm",children:"Complete"}),i.jsx("div",{className:"text-xs text-gray-500",children:Y?"Ready to process":"Fill required fields"})]})]})]})}),i.jsx("div",{className:"p-3 border-t border-gray-200",children:i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg p-3 border border-orange-200",children:[i.jsxs("h3",{className:"font-semibold text-gray-800 mb-2 flex items-center text-sm",children:[i.jsx(wc,{className:"mr-2 text-orange-600",size:16}),"Order Summary"]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"font-medium",children:["",n]})]}),parseFloat(a)>0&&i.jsxs("div",{className:"flex justify-between text-orange-600",children:[i.jsx("span",{children:"PWD/Senior Discount:"}),i.jsxs("span",{children:["-",a]})]}),i.jsxs("div",{className:"flex justify-between text-base font-bold border-t border-orange-200 pt-1",children:[i.jsx("span",{children:"TOTAL:"}),i.jsxs("span",{className:"text-orange-600",children:["",r]})]})]})]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsxs("div",{className:"p-3 border-b border-gray-200 bg-white",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-1",children:p==="cash"?"Cash Payment":p==="e-wallet"?"E-Wallet Payment":"Select Payment Method"}),i.jsx("p",{className:"text-xs text-gray-500",children:p==="cash"?"Enter the cash amount received from customer":p==="e-wallet"?"Enter e-wallet transaction details":"Choose how the customer will pay for this order"})]}),!p&&i.jsx("div",{className:"p-4 bg-white",children:i.jsxs("div",{className:"max-w-xl mx-auto",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-4",children:"Choose Payment Method"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("button",{onClick:()=>g("cash"),className:"p-4 border-2 border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 transition-all group",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2 group-hover:bg-green-200",children:i.jsx(wc,{className:"text-green-600",size:20})}),i.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:"Cash Payment"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Physical cash transaction"})]})}),i.jsx("button",{onClick:()=>g("e-wallet"),className:"p-4 border-2 border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 transition-all group",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2 group-hover:bg-blue-200",children:i.jsx(Fb,{className:"text-blue-600",size:20})}),i.jsx("div",{className:"font-semibold text-gray-800 text-sm",children:"E-Wallet Payment"}),i.jsx("div",{className:"text-xs text-gray-500",children:"GCash, PayMaya, etc."})]})})]})]})}),p&&i.jsx("div",{className:"p-2 bg-white",children:i.jsxs("div",{className:"max-w-xl mx-auto space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Customer Name (Optional)"}),i.jsx("input",{type:"text",value:A||"",onChange:z=>f&&f(z.target.value),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",placeholder:"Enter customer name"})]}),parseFloat(a)>0&&F>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-blue-800",children:["PWD/Senior Discount Applied (",F," cards needed)"]}),i.jsx("button",{onClick:()=>T(!0),className:"text-xs px-2 py-1 bg-blue-200 text-blue-700 rounded hover:bg-blue-300",children:P.every(z=>z.cardIdNumber)?"Edit Cards":"Add Card Details"})]}),i.jsx("div",{className:"space-y-1",children:D.map((z,W)=>i.jsxs("div",{className:"text-xs text-blue-700",children:[i.jsxs("div",{className:"font-medium",children:[z.name," (",z.selectedSize,")"]}),i.jsxs("div",{className:"text-blue-600 ml-2",children:[z.pwdSeniorDiscount.discountedQuantity," items need card details"]})]},`${z._id}-${z.selectedSize}`))}),P.length>0&&P.every(z=>z.cardIdNumber)&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200",children:[i.jsx("div",{className:"text-xs text-blue-700 font-medium",children:"Cards Provided:"}),P.map((z,W)=>i.jsxs("div",{className:"text-xs text-blue-600 ml-2",children:[z.cardType," - ID: ",z.cardIdNumber]},W))]})]}),p==="cash"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cash Amount Received"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500 text-sm",children:""})}),i.jsx("input",{type:"number",value:v===0?"":v,onChange:z=>ee(z.target.value),className:`w-full pl-8 pr-4 py-2 text-sm border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${b?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"0.00",min:"0",step:"0.01"})]}),b&&i.jsxs("div",{className:"text-red-500 text-xs mt-1 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 flex items-center justify-center mr-1",children:i.jsx("span",{className:"text-red-500 text-xs",children:"!"})}),b]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs font-medium text-blue-800",children:"Available Cash Float:"}),i.jsxs(r$,{variant:"primary",className:"text-xs",children:["",R(s)]})]}),i.jsx("div",{className:"text-xs text-blue-600 mt-1",children:"Used for providing change to customers"})]}),p==="cash"&&V>0&&!b&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-2",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Change to Return:"}),i.jsxs("span",{className:"text-base font-bold text-green-600",children:["",R(V)]})]})})]}),p==="e-wallet"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"E-Wallet Provider"}),i.jsxs("select",{value:(l==null?void 0:l.provider)||"gcash",onChange:z=>u({...l,provider:z.target.value}),className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[i.jsx("option",{value:"gcash",children:"GCash"}),i.jsx("option",{value:"paymaya",children:"PayMaya"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Reference Number"}),i.jsx("input",{type:"text",value:(l==null?void 0:l.referenceNumber)||"",onChange:z=>{const W=z.target.value.replace(/[^0-9]/g,"");u({...l,referenceNumber:W})},className:`w-full p-2 text-sm border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${B&&(!(l!=null&&l.referenceNumber)||l.referenceNumber.trim()==="")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Numbers only"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Account Name"}),i.jsx("input",{type:"text",value:(l==null?void 0:l.name)||"",onChange:z=>u({...l,name:z.target.value}),className:`w-full p-2 text-sm border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors ${B&&(!(l!=null&&l.name)||l.name.trim()==="")?"border-red-500 bg-red-50":"border-gray-300"}`,placeholder:"Account holder name"})]})]}),B&&i.jsxs("div",{className:"text-red-500 text-xs flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-100 flex items-center justify-center mr-1",children:i.jsx("span",{className:"text-red-500 text-xs",children:"!"})}),B]})]})]})}),i.jsx("div",{className:"flex-1"}),i.jsx("div",{className:"p-1 border-t border-gray-200 bg-gray-50",children:i.jsx("div",{className:"flex gap-1 max-w-xl mx-auto",children:p?i.jsxs(i.Fragment,{children:[i.jsx(Br,{variant:"secondary",onClick:()=>g(""),className:"flex-1 py-1 text-sm",children:" Back"}),i.jsx(Br,{variant:"secondary",onClick:t,className:"flex-1 py-1 text-sm",disabled:_,children:"Cancel"}),i.jsx(Br,{variant:"primary",onClick:ie,className:"flex-1 py-1 text-sm bg-orange-500 hover:bg-orange-600",disabled:!Y,children:_?i.jsxs("span",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):"Complete Payment"})]}):i.jsx(Br,{variant:"secondary",onClick:t,className:"w-full py-1 text-sm",children:"Cancel"})})})]})]})}),O&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[60]",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[i.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800",children:["PWD/Senior Card Details (",F," cards needed)"]}),i.jsx("p",{className:"text-sm mb-4 text-gray-600",children:"Please provide card holder details for each discounted item:"}),P.some((z,W)=>z.cardType&&z.cardIdNumber&&P.slice(W+1).some(L=>!L.cardIdNumber))&&i.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800 mb-2",children:"Quick Reuse Card Holder"}),i.jsx("p",{className:"text-xs text-green-700 mb-2",children:"Click to reuse an existing card holder for remaining empty cards:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:P.filter((z,W)=>z.cardType&&z.cardIdNumber).reduce((z,W)=>{const L=`${W.cardType}-${W.cardIdNumber}`;return z.some(q=>`${q.cardType}-${q.cardIdNumber}`===L)||z.push(W),z},[]).map((z,W)=>i.jsxs("button",{onClick:()=>{const L=[...P],q=L.findIndex(G=>!G.cardIdNumber);q!==-1&&(L[q]={...L[q],cardType:z.cardType,cardIdNumber:z.cardIdNumber},U(L))},className:"px-3 py-1 text-xs bg-green-200 text-green-800 rounded-lg hover:bg-green-300 transition-colors",disabled:!P.some(L=>!L.cardIdNumber),children:["Reuse: ",z.cardType," - ",z.cardIdNumber]},W))})]}),i.jsx("div",{className:"space-y-4",children:P.map((z,W)=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700",children:["Card ",W+1]}),z.cardIdNumber&&i.jsx("button",{onClick:()=>{const L=[...P];L[W]={...z,cardType:"PWD",cardIdNumber:""},U(L)},className:"text-xs text-red-600 hover:text-red-800 underline",children:"Clear"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-600",children:"Card Type:"}),i.jsxs("select",{value:z.cardType,onChange:L=>{const q=[...P];q[W]={...z,cardType:L.target.value},U(q)},className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[i.jsx("option",{value:"PWD",children:"PWD (Person with Disability)"}),i.jsx("option",{value:"Senior Citizen",children:"Senior Citizen"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1 text-gray-600",children:"ID Number:"}),i.jsx("input",{type:"text",value:z.cardIdNumber,onChange:L=>{const q=[...P];q[W]={...z,cardIdNumber:L.target.value},U(q)},placeholder:"Enter ID number",className:"w-full p-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),z.cardIdNumber&&P.filter(L=>L.cardType===z.cardType&&L.cardIdNumber===z.cardIdNumber).length>1&&i.jsxs("div",{className:"mt-2 text-xs text-blue-600 flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-100 flex items-center justify-center mr-1",children:i.jsx("span",{className:"text-blue-500 text-xs",children:"i"})}),"This card holder is being used for multiple items"]})]},W))}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 text-sm bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors disabled:opacity-50",disabled:!P.every(z=>z.cardType&&z.cardIdNumber.trim()),children:"Save All Cards"})]})]})})]})},i$=({value:e,onChange:t,placeholder:r="Search...",size:n="md",className:a=""})=>{const o={sm:{height:"2.5rem",fontSize:le.fontSizes.sm,iconSize:"1.25rem",padding:"0.5rem 1rem 0.5rem 2.5rem"},md:{height:"3rem",fontSize:le.fontSizes.base,iconSize:"1.5rem",padding:"0.75rem 1.5rem 0.75rem 3rem"},lg:{height:"4rem",fontSize:le.fontSizes.lg,iconSize:"1.75rem",padding:"1rem 1.5rem 1rem 3.5rem"}}[n];return i.jsxs("div",{className:`relative ${a}`,children:[i.jsx("input",{type:"text",value:e,onChange:t,className:"w-full rounded-2xl shadow-lg focus:outline-none transition-all",style:{backgroundColor:le.colors.background,border:`3px solid ${le.colors.muted}`,height:o.height,fontSize:o.fontSize,padding:o.padding},placeholder:r}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",style:{color:le.colors.accent},children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",style:{width:o.iconSize,height:o.iconSize},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})},Tm=({imagePath:e,alt:t="Staff photo",size:r=40,className:n=""})=>{const[a,s]=k.useState(!1),[o,l]=k.useState("");k.useEffect(()=>{if(!e){l("/placeholders/staff.png");return}if(e.startsWith("data:")){l(e);return}const A="http://localhost:5000";if(e.includes("/uploads/staff/")){const f=e.startsWith("/")?e:`/${e}`;l(`${A}${f}`)}else{const f=e.split("/").pop();l(`${A}/uploads/staff/${f}`)}console.log(`[${new Date().toISOString()}] StaffAvatar - Setting image source to: ${o} (from: ${e})`)},[e]);const u=()=>{console.error(`Failed to load image: ${o}`),s(!0),l("/placeholders/staff.png")};return i.jsx("div",{className:`bg-cover bg-center overflow-hidden ${n}`,style:{width:r,height:r,borderRadius:"4px",position:"relative"},children:i.jsx("img",{src:o,alt:t,onError:u,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}})})};var zC={exports:{}},qC,U6;function pie(){if(U6)return qC;U6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return qC=e,qC}var VC,I6;function gie(){if(I6)return VC;I6=1;var e=pie();function t(){}function r(){}return r.resetWarningCache=t,VC=function(){function n(o,l,u,A,f,h){if(h!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},VC}var D6;function yie(){return D6||(D6=1,zC.exports=gie()()),zC.exports}var vie=yie();const ar=ta(vie),Xv={accent:"#f1670f",secondary:"#853619"},I0=({size:e="md",variant:t="spinner",message:r="",fullScreen:n=!1,overlay:a=!1,color:s=Xv.accent})=>{const o={sm:"w-6 h-6",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24"},l=()=>i.jsx(nr.div,{className:`${o[e]} border-4 border-t-transparent rounded-full`,style:{borderColor:`${s}40`,borderTopColor:s},animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),u=()=>i.jsx(nr.div,{className:"flex space-x-2",initial:{opacity:0},animate:{opacity:1},children:[0,1,2].map(v=>i.jsx(nr.div,{className:`rounded-full ${e==="sm"?"w-2 h-2":e==="lg"?"w-4 h-4":"w-3 h-3"}`,style:{backgroundColor:s},animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0,delay:v*.2}},v))}),A=()=>i.jsxs("div",{className:"relative",style:{width:o[e].split(" ")[0],height:o[e].split(" ")[0]},children:[i.jsx(nr.div,{className:"absolute inset-0 border-4 rounded-full",style:{borderColor:`${s}20`}}),i.jsx(nr.div,{className:"absolute inset-0 border-4 border-transparent rounded-full",style:{borderTopColor:s,borderRightColor:s},animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}}),i.jsx(nr.div,{className:"absolute inset-2 border-4 border-transparent rounded-full",style:{borderBottomColor:Xv.secondary,borderLeftColor:Xv.secondary},animate:{rotate:-360},transition:{duration:2,repeat:1/0,ease:"linear"}})]}),f=()=>i.jsxs(nr.div,{className:"flex space-x-1",children:[i.jsx(nr.div,{className:e==="sm"?"w-6 h-8":e==="lg"?"w-12 h-16":"w-8 h-12",style:{backgroundColor:s,clipPath:"polygon(50% 0%, 100% 100%, 0% 100%)",transformOrigin:"bottom center"},animate:{scaleY:[1,.8,1],scaleX:[1,1.1,1]},transition:{duration:.6,repeat:1/0,ease:"easeInOut"}}),i.jsx(nr.div,{className:e==="sm"?"w-6 h-8":e==="lg"?"w-12 h-16":"w-8 h-12",style:{backgroundColor:Xv.secondary,clipPath:"polygon(50% 0%, 100% 100%, 0% 100%)",transformOrigin:"bottom center"},animate:{scaleY:[1,.8,1],scaleX:[1,1.1,1]},transition:{duration:.6,repeat:1/0,ease:"easeInOut",delay:.3}})]}),h=()=>i.jsx(nr.div,{className:`${o[e]} rounded-full`,style:{backgroundColor:s},animate:{y:[-10,10,-10],scale:[1,.9,1]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"}}),p=()=>{switch(t){case"pulse":return i.jsx(u,{});case"ring":return i.jsx(A,{});case"wing":return i.jsx(f,{});case"bounce":return i.jsx(h,{});case"spinner":default:return i.jsx(l,{})}},g=i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[p(),r&&i.jsx(nr.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center font-medium",style:{color:s},children:r})]});return n?i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:a?"rgba(0, 0, 0, 0.5)":"#fefdfd"},children:g}):a?i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-40 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:g}):i.jsx("div",{className:"flex items-center justify-center p-4",children:g})};I0.propTypes={size:ar.oneOf(["sm","md","lg","xl"]),variant:ar.oneOf(["spinner","pulse","ring","wing","bounce"]),message:ar.string,fullScreen:ar.bool,overlay:ar.bool,color:ar.string};const wo={primary:"#2e0304",accent:"#f1670f",secondary:"#853619",background:"#fefdfd"},s$=({message:e="Loading Ring & Wing...",showLogo:t=!0,variant:r="full"})=>{const n={hidden:{scale:0,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:260,damping:20}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{delay:.3,duration:.5}}},s=()=>i.jsxs("div",{className:"relative w-24 h-24",children:[i.jsx(nr.div,{className:"absolute inset-0 border-4 rounded-full opacity-20",style:{borderColor:wo.accent}}),i.jsx(nr.div,{className:"absolute inset-0 border-4 border-transparent rounded-full",style:{borderTopColor:wo.accent,borderRightColor:wo.accent},animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"}}),i.jsx(nr.div,{className:"absolute inset-2 border-4 border-transparent rounded-full",style:{borderBottomColor:wo.secondary,borderLeftColor:wo.secondary},animate:{rotate:-360},transition:{duration:2.5,repeat:1/0,ease:"linear"}}),i.jsx(nr.div,{className:"absolute inset-4 border-4 border-transparent rounded-full",style:{borderTopColor:wo.primary},animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"}})]}),o=()=>i.jsxs("div",{className:"flex items-end justify-center space-x-2 mb-4",children:[i.jsx(nr.div,{className:"w-12 h-16",style:{backgroundColor:wo.accent,clipPath:"polygon(50% 0%, 100% 100%, 0% 100%)",transformOrigin:"bottom center"},animate:{scaleY:[1,.85,1],scaleX:[1,1.1,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut"}}),i.jsx(nr.div,{className:"w-16 h-16 rounded-full border-4 self-center",style:{borderColor:wo.primary},animate:{scale:[1,1.1,1],rotate:[0,180,360]},transition:{duration:2,repeat:1/0,ease:"linear"}}),i.jsx(nr.div,{className:"w-12 h-16",style:{backgroundColor:wo.secondary,clipPath:"polygon(50% 0%, 100% 100%, 0% 100%)",transformOrigin:"bottom center"},animate:{scaleY:[1,.85,1],scaleX:[1,1.1,1]},transition:{duration:1,repeat:1/0,ease:"easeInOut",delay:.5}})]}),l=()=>i.jsx("div",{className:"w-64 h-1 bg-gray-200 rounded-full overflow-hidden",children:i.jsx(nr.div,{className:"h-full rounded-full",style:{backgroundColor:wo.accent},initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})});return r==="minimal"?i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-center p-4",children:i.jsx(s,{})}):i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex flex-col items-center justify-center",style:{backgroundColor:wo.background},children:i.jsxs(nr.div,{className:"flex flex-col items-center space-y-6",variants:n,initial:"hidden",animate:"visible",children:[t&&i.jsxs(i.Fragment,{children:[i.jsx(o,{}),i.jsxs(nr.div,{className:"text-center",variants:a,children:[i.jsx("h1",{className:"text-4xl font-bold mb-2",style:{color:wo.primary},children:"Ring & Wing"}),i.jsx("p",{className:"text-lg",style:{color:wo.secondary},children:"Management System"})]})]}),!t&&i.jsx(s,{}),i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:i.jsx(l,{})}),e&&i.jsx(nr.p,{className:"text-center font-medium",style:{color:wo.accent},variants:a,animate:{opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:e})]})})};s$.propTypes={message:ar.string,showLogo:ar.bool,variant:ar.oneOf(["full","minimal"])};const o$="/assets/rw-C4AQUiqE.jpg",xie="http://localhost:5000";function M6(){const[e,t]=k.useState(""),[r,n]=k.useState(""),[a,s]=k.useState(""),[o,l]=k.useState(!1);k.useRef(null);const u=Jf(),A={accent:"#f1670f",muted:"#ac9c9b"},f={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}}},h={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}}},p={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:24}},hover:{scale:1.05,boxShadow:"0px 5px 10px rgba(0,0,0,0.2)"},tap:{scale:.95}},g=async b=>{var w;if(!o){if(!e.trim()||!r.trim()){s("Please provide both username and password");return}l(!0),s("");try{const B=await vr({method:"post",url:`${xie}/api/auth/login`,data:{username:e.toLowerCase(),password:r},validateStatus:function(_){return!0}});if(B.status!==200){const _=((w=B.data)==null?void 0:w.message)||"Login failed";s(_);return}const{data:j}=B;switch(localStorage.setItem("authToken",j.token),localStorage.setItem("userData",JSON.stringify({id:j._id,username:j.username,email:j.email,role:j.role,position:j.position,reportsTo:j.reportsTo})),vr.defaults.headers.common.Authorization=`Bearer ${j.token}`,console.log("User position:",j.position),j.position){case"inventory":console.log("Redirecting inventory staff to inventory page"),u("/inventory");break;case"shift_manager":case"general_manager":case"admin":console.log("Redirecting manager/admin to dashboard"),u("/dashboard");break;case"cashier":default:console.log("Redirecting cashier to POS"),u("/pos");break}}catch(B){console.error("Login error:",B),s("Server connection error. Please try again.")}finally{l(!1)}}},v=b=>w=>{b(w.target.value),a&&s("")},x=()=>{g()};return i.jsx("div",{className:"min-h-screen w-full flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:i.jsx("div",{className:"w-full max-w-md px-4",children:i.jsxs(nr.div,{className:"bg-white rounded-2xl shadow-xl border border-gray-100 p-8",initial:"hidden",animate:"visible",variants:f,children:[i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx("div",{className:"w-28 h-28 mb-4 rounded-full overflow-hidden border-2 border-red-200 shadow-lg",children:i.jsx("img",{src:o$,alt:"Ring & Wing Logo",className:"w-full h-full object-cover"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Ring & Wing"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Management System"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Access your workspace - For Staff & Management"})]}),a&&i.jsxs(nr.div,{className:"mb-6 p-4 rounded-lg bg-red-50 border border-red-200 flex justify-between items-center",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:500,damping:20},children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(km,{className:"text-red-500 mr-2 flex-shrink-0"}),i.jsx("span",{className:"text-red-700",children:a})]}),i.jsx("button",{type:"button",onClick:()=>s(""),className:"text-red-500 hover:text-red-700 transition-colors","aria-label":"Dismiss error",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs(nr.div,{className:"mb-6",variants:h,children:["              ",i.jsx(t$,{label:"Username",type:"text",value:e,onChange:v(t),placeholder:"Enter your username",required:!0,autoComplete:"username",error:a&&a.includes("username")?a:""})]}),i.jsxs(nr.div,{className:"mb-8",variants:h,children:["              ",i.jsx(g4,{label:"Password",value:r,onChange:v(n),placeholder:"Enter your password",required:!0,autoComplete:"current-password",error:a&&a.includes("password")?a:"",onKeyPress:b=>{b.key==="Enter"&&(b.preventDefault(),x())}})]}),i.jsx(nr.button,{type:"button",className:"w-full py-3 rounded-lg font-medium flex items-center justify-center",style:{backgroundColor:A.accent,color:"white"},onClick:x,disabled:o,variants:p,whileHover:"hover",whileTap:"tap",children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:"Signing in..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"Sign In"}),i.jsx(nr.div,{initial:{x:-5,opacity:.5},animate:{x:0,opacity:1},transition:{repeat:1/0,repeatType:"reverse",duration:.6},children:i.jsx(w3,{className:"ml-2"})})]})})]}),i.jsxs(nr.p,{className:"text-center mt-8 text-sm",style:{color:A.muted},variants:h,children:[" ",new Date().getFullYear()," Ring & Wing. All rights reserved."]})]})})})}var KC,R6;function ko(){if(R6)return KC;R6=1;var e=Array.isArray;return KC=e,KC}var GC,Q6;function l$(){if(Q6)return GC;Q6=1;var e=typeof cd=="object"&&cd&&cd.Object===Object&&cd;return GC=e,GC}var WC,H6;function pu(){if(H6)return WC;H6=1;var e=l$(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return WC=r,WC}var YC,$6;function D0(){if($6)return YC;$6=1;var e=pu(),t=e.Symbol;return YC=t,YC}var XC,z6;function bie(){if(z6)return XC;z6=1;var e=D0(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function s(o){var l=r.call(o,a),u=o[a];try{o[a]=void 0;var A=!0}catch{}var f=n.call(o);return A&&(l?o[a]=u:delete o[a]),f}return XC=s,XC}var JC,q6;function wie(){if(q6)return JC;q6=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return JC=r,JC}var ZC,V6;function yA(){if(V6)return ZC;V6=1;var e=D0(),t=bie(),r=wie(),n="[object Null]",a="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?t(l):r(l)}return ZC=o,ZC}var eB,K6;function vA(){if(K6)return eB;K6=1;function e(t){return t!=null&&typeof t=="object"}return eB=e,eB}var tB,G6;function hp(){if(G6)return tB;G6=1;var e=yA(),t=vA(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return tB=n,tB}var rB,W6;function S3(){if(W6)return rB;W6=1;var e=ko(),t=hp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return rB=a,rB}var nB,Y6;function _d(){if(Y6)return nB;Y6=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return nB=e,nB}var aB,X6;function N3(){if(X6)return aB;X6=1;var e=yA(),t=_d(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var u=e(l);return u==n||u==a||u==r||u==s}return aB=o,aB}var iB,J6;function Cie(){if(J6)return iB;J6=1;var e=pu(),t=e["__core-js_shared__"];return iB=t,iB}var sB,Z6;function Bie(){if(Z6)return sB;Z6=1;var e=Cie(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return sB=r,sB}var oB,eP;function c$(){if(eP)return oB;eP=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return oB=r,oB}var lB,tP;function jie(){if(tP)return lB;tP=1;var e=N3(),t=Bie(),r=_d(),n=c$(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,u=o.toString,A=l.hasOwnProperty,f=RegExp("^"+u.call(A).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(p){if(!r(p)||t(p))return!1;var g=e(p)?f:s;return g.test(n(p))}return lB=h,lB}var cB,rP;function Sie(){if(rP)return cB;rP=1;function e(t,r){return t==null?void 0:t[r]}return cB=e,cB}var uB,nP;function Zf(){if(nP)return uB;nP=1;var e=jie(),t=Sie();function r(n,a){var s=t(n,a);return e(s)?s:void 0}return uB=r,uB}var AB,aP;function hw(){if(aP)return AB;aP=1;var e=Zf(),t=e(Object,"create");return AB=t,AB}var dB,iP;function Nie(){if(iP)return dB;iP=1;var e=hw();function t(){this.__data__=e?e(null):{},this.size=0}return dB=t,dB}var fB,sP;function Eie(){if(sP)return fB;sP=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return fB=e,fB}var hB,oP;function kie(){if(oP)return hB;oP=1;var e=hw(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return hB=a,hB}var mB,lP;function _ie(){if(lP)return mB;lP=1;var e=hw(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var s=this.__data__;return e?s[a]!==void 0:r.call(s,a)}return mB=n,mB}var pB,cP;function Tie(){if(cP)return pB;cP=1;var e=hw(),t="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&a===void 0?t:a,this}return pB=r,pB}var gB,uP;function Oie(){if(uP)return gB;uP=1;var e=Nie(),t=Eie(),r=kie(),n=_ie(),a=Tie();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var A=o[l];this.set(A[0],A[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,gB=s,gB}var yB,AP;function Fie(){if(AP)return yB;AP=1;function e(){this.__data__=[],this.size=0}return yB=e,yB}var vB,dP;function E3(){if(dP)return vB;dP=1;function e(t,r){return t===r||t!==t&&r!==r}return vB=e,vB}var xB,fP;function mw(){if(fP)return xB;fP=1;var e=E3();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return xB=t,xB}var bB,hP;function Pie(){if(hP)return bB;hP=1;var e=mw(),t=Array.prototype,r=t.splice;function n(a){var s=this.__data__,o=e(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return bB=n,bB}var wB,mP;function Lie(){if(mP)return wB;mP=1;var e=mw();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return wB=t,wB}var CB,pP;function Uie(){if(pP)return CB;pP=1;var e=mw();function t(r){return e(this.__data__,r)>-1}return CB=t,CB}var BB,gP;function Iie(){if(gP)return BB;gP=1;var e=mw();function t(r,n){var a=this.__data__,s=e(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return BB=t,BB}var jB,yP;function pw(){if(yP)return jB;yP=1;var e=Fie(),t=Pie(),r=Lie(),n=Uie(),a=Iie();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var A=o[l];this.set(A[0],A[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,jB=s,jB}var SB,vP;function k3(){if(vP)return SB;vP=1;var e=Zf(),t=pu(),r=e(t,"Map");return SB=r,SB}var NB,xP;function Die(){if(xP)return NB;xP=1;var e=Oie(),t=pw(),r=k3();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return NB=n,NB}var EB,bP;function Mie(){if(bP)return EB;bP=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return EB=e,EB}var kB,wP;function gw(){if(wP)return kB;wP=1;var e=Mie();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return kB=t,kB}var _B,CP;function Rie(){if(CP)return _B;CP=1;var e=gw();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return _B=t,_B}var TB,BP;function Qie(){if(BP)return TB;BP=1;var e=gw();function t(r){return e(this,r).get(r)}return TB=t,TB}var OB,jP;function Hie(){if(jP)return OB;jP=1;var e=gw();function t(r){return e(this,r).has(r)}return OB=t,OB}var FB,SP;function $ie(){if(SP)return FB;SP=1;var e=gw();function t(r,n){var a=e(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return FB=t,FB}var PB,NP;function _3(){if(NP)return PB;NP=1;var e=Die(),t=Rie(),r=Qie(),n=Hie(),a=$ie();function s(o){var l=-1,u=o==null?0:o.length;for(this.clear();++l<u;){var A=o[l];this.set(A[0],A[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,PB=s,PB}var LB,EP;function u$(){if(EP)return LB;EP=1;var e=_3(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=s.cache;if(u.has(l))return u.get(l);var A=n.apply(this,o);return s.cache=u.set(l,A)||u,A};return s.cache=new(r.Cache||e),s}return r.Cache=e,LB=r,LB}var UB,kP;function zie(){if(kP)return UB;kP=1;var e=u$(),t=500;function r(n){var a=e(n,function(o){return s.size===t&&s.clear(),o}),s=a.cache;return a}return UB=r,UB}var IB,_P;function qie(){if(_P)return IB;_P=1;var e=zie(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(t,function(o,l,u,A){s.push(u?A.replace(r,"$1"):l||o)}),s});return IB=n,IB}var DB,TP;function T3(){if(TP)return DB;TP=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=Array(a);++n<a;)s[n]=r(t[n],n,t);return s}return DB=e,DB}var MB,OP;function Vie(){if(OP)return MB;OP=1;var e=D0(),t=T3(),r=ko(),n=hp(),a=e?e.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var u=l+"";return u=="0"&&1/l==-1/0?"-0":u}return MB=o,MB}var RB,FP;function A$(){if(FP)return RB;FP=1;var e=Vie();function t(r){return r==null?"":e(r)}return RB=t,RB}var QB,PP;function d$(){if(PP)return QB;PP=1;var e=ko(),t=S3(),r=qie(),n=A$();function a(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return QB=a,QB}var HB,LP;function yw(){if(LP)return HB;LP=1;var e=hp();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return HB=t,HB}var $B,UP;function O3(){if(UP)return $B;UP=1;var e=d$(),t=yw();function r(n,a){a=e(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[t(a[s++])];return s&&s==o?n:void 0}return $B=r,$B}var zB,IP;function f$(){if(IP)return zB;IP=1;var e=O3();function t(r,n,a){var s=r==null?void 0:e(r,n);return s===void 0?a:s}return zB=t,zB}var Kie=f$();const Zo=ta(Kie);var qB,DP;function Gie(){if(DP)return qB;DP=1;function e(t){return t==null}return qB=e,qB}var Wie=Gie();const sn=ta(Wie);var VB,MP;function Yie(){if(MP)return VB;MP=1;var e=yA(),t=ko(),r=vA(),n="[object String]";function a(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return VB=a,VB}var Xie=Yie();const M0=ta(Xie);var Jie=N3();const Jr=ta(Jie);var Zie=_d();const mp=ta(Zie);var KB={exports:{}},Zn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function ese(){if(RP)return Zn;RP=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case e:switch(b=b.type,b){case r:case a:case n:case A:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case u:case p:case h:case s:return b;default:return w}}case t:return w}}}return Zn.ContextConsumer=o,Zn.ContextProvider=s,Zn.Element=e,Zn.ForwardRef=u,Zn.Fragment=r,Zn.Lazy=p,Zn.Memo=h,Zn.Portal=t,Zn.Profiler=a,Zn.StrictMode=n,Zn.Suspense=A,Zn.SuspenseList=f,Zn.isAsyncMode=function(){return!1},Zn.isConcurrentMode=function(){return!1},Zn.isContextConsumer=function(b){return x(b)===o},Zn.isContextProvider=function(b){return x(b)===s},Zn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},Zn.isForwardRef=function(b){return x(b)===u},Zn.isFragment=function(b){return x(b)===r},Zn.isLazy=function(b){return x(b)===p},Zn.isMemo=function(b){return x(b)===h},Zn.isPortal=function(b){return x(b)===t},Zn.isProfiler=function(b){return x(b)===a},Zn.isStrictMode=function(b){return x(b)===n},Zn.isSuspense=function(b){return x(b)===A},Zn.isSuspenseList=function(b){return x(b)===f},Zn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===A||b===f||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===h||b.$$typeof===s||b.$$typeof===o||b.$$typeof===u||b.$$typeof===v||b.getModuleId!==void 0)},Zn.typeOf=x,Zn}var QP;function tse(){return QP||(QP=1,KB.exports=ese()),KB.exports}var rse=tse(),GB,HP;function h$(){if(HP)return GB;HP=1;var e=yA(),t=vA(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return GB=n,GB}var WB,$P;function nse(){if($P)return WB;$P=1;var e=h$();function t(r){return e(r)&&r!=+r}return WB=t,WB}var ase=nse();const pp=ta(ase);var ise=h$();const sse=ta(ise);var lo=function(t){return t===0?0:t>0?1:-1},Bf=function(t){return M0(t)&&t.indexOf("%")===t.length-1},ir=function(t){return sse(t)&&!pp(t)},Wi=function(t){return ir(t)||M0(t)},ose=0,eh=function(t){var r=++ose;return"".concat(t||"").concat(r)},co=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ir(t)&&!M0(t))return n;var s;if(Bf(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return pp(s)&&(s=n),a&&s>r&&(s=r),s},od=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},lse=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ki=function(t,r){return ir(t)&&ir(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ub(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Zo(n,t))===r})}function gm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function y4(e){"@babel/helpers - typeof";return y4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y4(e)}var cse=["viewBox","children"],use=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zP=["points","pathLength"],YB={svg:cse,polygon:zP,polyline:zP},F3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ib=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),!mp(n))return null;var a={};return Object.keys(n).forEach(function(s){F3.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},Ase=function(t,r,n){return function(a){return t(r,n,a),null}},zf=function(t,r,n){if(!mp(t)||y4(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];F3.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=Ase(o,r,n))}),a},dse=["children"],fse=["children"];function qP(e,t){if(e==null)return{};var r=hse(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v4(e){"@babel/helpers - typeof";return v4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v4(e)}var VP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},iA=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},KP=null,XB=null,P3=function e(t){if(t===KP&&Array.isArray(XB))return XB;var r=[];return k.Children.forEach(t,function(n){sn(n)||(rse.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),XB=r,KP=t,r};function el(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return iA(a)}):n=[iA(t)],P3(e).forEach(function(a){var s=Zo(a,"type.displayName")||Zo(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Wo(e,t){var r=el(e,t);return r&&r[0]}var GP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ir(n)||n<=0||!ir(a)||a<=0)},mse=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pse=function(t){return t&&t.type&&M0(t.type)&&mse.indexOf(t.type)>=0},m$=function(t){return t&&v4(t)==="object"&&"clipDot"in t},gse=function(t,r,n,a){var s,o=(s=YB==null?void 0:YB[a])!==null&&s!==void 0?s:[];return!Jr(t)&&(a&&o.includes(r)||use.includes(r))||n&&F3.includes(r)},Rr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(k.isValidElement(t)&&(a=t.props),!mp(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;gse((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},x4=function e(t,r){if(t===r)return!0;var n=k.Children.count(t);if(n!==k.Children.count(r))return!1;if(n===0)return!0;if(n===1)return WP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!WP(s,o))return!1}return!0},WP=function(t,r){if(sn(t)&&sn(r))return!0;if(!sn(t)&&!sn(r)){var n=t.props||{},a=n.children,s=qP(n,dse),o=r.props||{},l=o.children,u=qP(o,fse);return a&&l?gm(s,u)&&x4(a,l):!a&&!l?gm(s,u):!1}return!1},YP=function(t,r){var n=[],a={};return P3(t).forEach(function(s,o){if(pse(s))n.push(s);else if(s){var l=iA(s.type),u=r[l]||{},A=u.handler,f=u.once;if(A&&(!f||!a[l])){var h=A(s,l,o);n.push(h),a[l]=!0}}}),n},yse=function(t){var r=t&&t.type;return r&&VP[r]?VP[r]:null},vse=function(t,r){return P3(r).indexOf(t)},xse=["children","width","height","viewBox","className","style","title","desc"];function b4(){return b4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b4.apply(this,arguments)}function bse(e,t){if(e==null)return{};var r=wse(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w4(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,u=e.desc,A=bse(e,xse),f=a||{width:r,height:n,x:0,y:0},h=en("recharts-surface",s);return Ce.createElement("svg",b4({},Rr(A,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Ce.createElement("title",null,l),Ce.createElement("desc",null,u),t)}var Cse=["children","className"];function C4(){return C4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C4.apply(this,arguments)}function Bse(e,t){if(e==null)return{};var r=jse(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kn=Ce.forwardRef(function(e,t){var r=e.children,n=e.className,a=Bse(e,Cse),s=en("recharts-layer",n);return Ce.createElement("g",C4({className:s},Rr(a,!0),{ref:t}),r)}),xc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},JB,XP;function Sse(){if(XP)return JB;XP=1;function e(t,r,n){var a=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=t[a+r];return o}return JB=e,JB}var ZB,JP;function Nse(){if(JP)return ZB;JP=1;var e=Sse();function t(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:e(r,n,a)}return ZB=t,ZB}var e5,ZP;function p$(){if(ZP)return e5;ZP=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+a+s+"]");function u(A){return l.test(A)}return e5=u,e5}var t5,eL;function Ese(){if(eL)return t5;eL=1;function e(t){return t.split("")}return t5=e,t5}var r5,tL;function kse(){if(tL)return r5;tL=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+a+"]",u="\\ud83c[\\udffb-\\udfff]",A="(?:"+l+"|"+u+")",f="[^"+e+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=A+"?",x="["+s+"]?",b="(?:"+g+"(?:"+[f,h,p].join("|")+")"+x+v+")*",w=x+v+b,B="(?:"+[f+l+"?",l,h,p,o].join("|")+")",j=RegExp(u+"(?="+u+")|"+B+w,"g");function _(N){return N.match(j)||[]}return r5=_,r5}var n5,rL;function _se(){if(rL)return n5;rL=1;var e=Ese(),t=p$(),r=kse();function n(a){return t(a)?r(a):e(a)}return n5=n,n5}var a5,nL;function Tse(){if(nL)return a5;nL=1;var e=Nse(),t=p$(),r=_se(),n=A$();function a(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,u=l?l[0]:o.charAt(0),A=l?e(l,1).join(""):o.slice(1);return u[s]()+A}}return a5=a,a5}var i5,aL;function Ose(){if(aL)return i5;aL=1;var e=Tse(),t=e("toUpperCase");return i5=t,i5}var Fse=Ose();const vw=ta(Fse);function Ba(e){return function(){return e}}const g$=Math.cos,Db=Math.sin,Ec=Math.sqrt,Mb=Math.PI,xw=2*Mb,B4=Math.PI,j4=2*B4,mf=1e-6,Pse=j4-mf;function y$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Lse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y$;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Use{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y$:Lse(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=n-t,A=a-r,f=o-t,h=l-r,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>mf)if(!(Math.abs(h*u-A*f)>mf)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,v=a-l,x=u*u+A*A,b=g*g+v*v,w=Math.sqrt(x),B=Math.sqrt(p),j=s*Math.tan((B4-Math.acos((x+p-b)/(2*w*B)))/2),_=j/B,N=j/w;Math.abs(_-1)>mf&&this._append`L${t+_*f},${r+_*h}`,this._append`A${s},${s},0,0,${+(h*g>f*v)},${this._x1=t+N*u},${this._y1=r+N*A}`}}arc(t,r,n,a,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),u=n*Math.sin(a),A=t+l,f=r+u,h=1^o,p=o?a-s:s-a;this._x1===null?this._append`M${A},${f}`:(Math.abs(this._x1-A)>mf||Math.abs(this._y1-f)>mf)&&this._append`L${A},${f}`,n&&(p<0&&(p=p%j4+j4),p>Pse?this._append`A${n},${n},0,1,${h},${t-l},${r-u}A${n},${n},0,1,${h},${this._x1=A},${this._y1=f}`:p>mf&&this._append`A${n},${n},0,${+(p>=B4)},${h},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function L3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Use(t)}function U3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function v$(e){this._context=e}v$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bw(e){return new v$(e)}function x$(e){return e[0]}function b$(e){return e[1]}function w$(e,t){var r=Ba(!0),n=null,a=bw,s=null,o=L3(l);e=typeof e=="function"?e:e===void 0?x$:Ba(e),t=typeof t=="function"?t:t===void 0?b$:Ba(t);function l(u){var A,f=(u=U3(u)).length,h,p=!1,g;for(n==null&&(s=a(g=o())),A=0;A<=f;++A)!(A<f&&r(h=u[A],A,u))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(h,A,u),+t(h,A,u));if(g)return s=null,g+""||null}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ba(+u),l):e},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ba(+u),l):t},l.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ba(!!u),l):r},l.curve=function(u){return arguments.length?(a=u,n!=null&&(s=a(n)),l):a},l.context=function(u){return arguments.length?(u==null?n=s=null:s=a(n=u),l):n},l}function Jv(e,t,r){var n=null,a=Ba(!0),s=null,o=bw,l=null,u=L3(A);e=typeof e=="function"?e:e===void 0?x$:Ba(+e),t=typeof t=="function"?t:Ba(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?b$:Ba(+r);function A(h){var p,g,v,x=(h=U3(h)).length,b,w=!1,B,j=new Array(x),_=new Array(x);for(s==null&&(l=o(B=u())),p=0;p<=x;++p){if(!(p<x&&a(b=h[p],p,h))===w)if(w=!w)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=g;--v)l.point(j[v],_[v]);l.lineEnd(),l.areaEnd()}w&&(j[p]=+e(b,p,h),_[p]=+t(b,p,h),l.point(n?+n(b,p,h):j[p],r?+r(b,p,h):_[p]))}if(B)return l=null,B+""||null}function f(){return w$().defined(a).curve(o).context(s)}return A.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ba(+h),n=null,A):e},A.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ba(+h),A):e},A.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ba(+h),A):n},A.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ba(+h),r=null,A):t},A.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ba(+h),A):t},A.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ba(+h),A):r},A.lineX0=A.lineY0=function(){return f().x(e).y(t)},A.lineY1=function(){return f().x(e).y(r)},A.lineX1=function(){return f().x(n).y(t)},A.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Ba(!!h),A):a},A.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),A):o},A.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),A):s},A}class C${constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ise(e){return new C$(e,!0)}function Dse(e){return new C$(e,!1)}const I3={draw(e,t){const r=Ec(t/Mb);e.moveTo(r,0),e.arc(0,0,r,0,xw)}},Mse={draw(e,t){const r=Ec(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},B$=Ec(1/3),Rse=B$*2,Qse={draw(e,t){const r=Ec(t/Rse),n=r*B$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Hse={draw(e,t){const r=Ec(t),n=-r/2;e.rect(n,n,r,r)}},$se=.8908130915292852,j$=Db(Mb/10)/Db(7*Mb/10),zse=Db(xw/10)*j$,qse=-g$(xw/10)*j$,Vse={draw(e,t){const r=Ec(t*$se),n=zse*r,a=qse*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const o=xw*s/5,l=g$(o),u=Db(o);e.lineTo(u*r,-l*r),e.lineTo(l*n-u*a,u*n+l*a)}e.closePath()}},s5=Ec(3),Kse={draw(e,t){const r=-Ec(t/(s5*3));e.moveTo(0,r*2),e.lineTo(-s5*r,-r),e.lineTo(s5*r,-r),e.closePath()}},Cl=-.5,Bl=Ec(3)/2,S4=1/Ec(12),Gse=(S4/2+1)*3,Wse={draw(e,t){const r=Ec(t/Gse),n=r/2,a=r*S4,s=n,o=r*S4+r,l=-s,u=o;e.moveTo(n,a),e.lineTo(s,o),e.lineTo(l,u),e.lineTo(Cl*n-Bl*a,Bl*n+Cl*a),e.lineTo(Cl*s-Bl*o,Bl*s+Cl*o),e.lineTo(Cl*l-Bl*u,Bl*l+Cl*u),e.lineTo(Cl*n+Bl*a,Cl*a-Bl*n),e.lineTo(Cl*s+Bl*o,Cl*o-Bl*s),e.lineTo(Cl*l+Bl*u,Cl*u-Bl*l),e.closePath()}};function Yse(e,t){let r=null,n=L3(a);e=typeof e=="function"?e:Ba(e||I3),t=typeof t=="function"?t:Ba(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ba(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ba(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Rb(){}function Qb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function S$(e){this._context=e}S$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xse(e){return new S$(e)}function N$(e){this._context=e}N$.prototype={areaStart:Rb,areaEnd:Rb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jse(e){return new N$(e)}function E$(e){this._context=e}E$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zse(e){return new E$(e)}function k$(e){this._context=e}k$.prototype={areaStart:Rb,areaEnd:Rb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eoe(e){return new k$(e)}function iL(e){return e<0?-1:1}function sL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(iL(s)+iL(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function oL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function o5(e,t,r){var n=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,o-l*r,s,o)}function Hb(e){this._context=e}Hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o5(this,this._t0,oL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o5(this,oL(this,r=sL(this,e,t)),r);break;default:o5(this,this._t0,r=sL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _$(e){this._context=new T$(e)}(_$.prototype=Object.create(Hb.prototype)).point=function(e,t){Hb.prototype.point.call(this,t,e)};function T$(e){this._context=e}T$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function toe(e){return new Hb(e)}function roe(e){return new _$(e)}function O$(e){this._context=e}O$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lL(e),a=lL(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lL(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function noe(e){return new O$(e)}function ww(e,t){this._context=e,this._t=t}ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aoe(e){return new ww(e,.5)}function ioe(e){return new ww(e,0)}function soe(e){return new ww(e,1)}function Om(e,t){if((o=e.length)>1)for(var r=1,n,a,s=e[t[0]],o,l=s.length;r<o;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function N4(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ooe(e,t){return e[t]}function loe(e){const t=[];return t.key=e,t}function coe(){var e=Ba([]),t=N4,r=Om,n=ooe;function a(s){var o=Array.from(e.apply(this,arguments),loe),l,u=o.length,A=-1,f;for(const h of s)for(l=0,++A;l<u;++l)(o[l][A]=[0,+n(h,o[l].key,A,s)]).data=h;for(l=0,f=U3(t(o));l<u;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ba(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ba(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?N4:typeof s=="function"?s:Ba(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Om,a):r},a}function uoe(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Om(e,t)}}function Aoe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Om(e,t)}}function doe(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,u=0,A=0;l<o;++l){for(var f=e[t[l]],h=f[n][1]||0,p=f[n-1][1]||0,g=(h-p)/2,v=0;v<l;++v){var x=e[t[v]],b=x[n][1]||0,w=x[n-1][1]||0;g+=b-w}u+=h,A+=g*h}a[n-1][1]+=a[n-1][0]=r,u&&(r-=A/u)}a[n-1][1]+=a[n-1][0]=r,Om(e,t)}}function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}var foe=["type","size","sizeType"];function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(this,arguments)}function cL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(r),!0).forEach(function(n){hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hoe(e,t,r){return t=moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function moe(e){var t=poe(e,"string");return Uy(t)=="symbol"?t:t+""}function poe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function goe(e,t){if(e==null)return{};var r=yoe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var F$={symbolCircle:I3,symbolCross:Mse,symbolDiamond:Qse,symbolSquare:Hse,symbolStar:Vse,symbolTriangle:Kse,symbolWye:Wse},voe=Math.PI/180,xoe=function(t){var r="symbol".concat(vw(t));return F$[r]||I3},boe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*voe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},woe=function(t,r){F$["symbol".concat(vw(t))]=r},D3=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,u=goe(t,foe),A=uL(uL({},u),{},{type:n,size:s,sizeType:l}),f=function(){var b=xoe(n),w=Yse().type(b).size(boe(s,l,n));return w()},h=A.className,p=A.cx,g=A.cy,v=Rr(A,!0);return p===+p&&g===+g&&s===+s?Ce.createElement("path",E4({},v,{className:en("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};D3.registerSymbol=woe;function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function k4(){return k4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k4.apply(this,arguments)}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Coe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){Iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function joe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L$(n.key),n)}}function Soe(e,t,r){return t&&joe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Noe(e,t,r){return t=$b(t),Eoe(e,P$()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function Eoe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return koe(e)}function koe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P$=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function _oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_4(e,t)}function _4(e,t){return _4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_4(e,t)}function Iy(e,t,r){return t=L$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$(e){var t=Toe(e,"string");return Fm(t)=="symbol"?t:t+""}function Toe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nc=32,M3=function(e){function t(){return Boe(this,t),Noe(this,t,arguments)}return _oe(t,e),Soe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=nc/2,o=nc/6,l=nc/3,u=n.inactive?a:n.color;if(n.type==="plainline")return Ce.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:nc,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Ce.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(nc,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Ce.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(nc/8,"h").concat(nc,"v").concat(nc*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Ce.isValidElement(n.legendIcon)){var A=Coe({},n);return delete A.legendIcon,Ce.cloneElement(n.legendIcon,A)}return Ce.createElement(D3,{fill:u,cx:s,cy:s,size:nc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,u=a.formatter,A=a.inactiveColor,f={x:0,y:0,width:nc,height:nc},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var x=g.formatter||u,b=en(Iy(Iy({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Jr(g.value)?null:g.value;xc(!Jr(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var B=g.inactive?A:g.color;return Ce.createElement("li",k4({className:b,style:h,key:"legend-item-".concat(v)},zf(n.props,g,v)),Ce.createElement(w4,{width:o,height:o,viewBox:f,style:p},n.renderIcon(g)),Ce.createElement("span",{className:"recharts-legend-item-text",style:{color:B}},x?x(w,g,v):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(k.PureComponent);Iy(M3,"displayName","Legend");Iy(M3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var l5,dL;function Ooe(){if(dL)return l5;dL=1;var e=pw();function t(){this.__data__=new e,this.size=0}return l5=t,l5}var c5,fL;function Foe(){if(fL)return c5;fL=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return c5=e,c5}var u5,hL;function Poe(){if(hL)return u5;hL=1;function e(t){return this.__data__.get(t)}return u5=e,u5}var A5,mL;function Loe(){if(mL)return A5;mL=1;function e(t){return this.__data__.has(t)}return A5=e,A5}var d5,pL;function Uoe(){if(pL)return d5;pL=1;var e=pw(),t=k3(),r=_3(),n=200;function a(s,o){var l=this.__data__;if(l instanceof e){var u=l.__data__;if(!t||u.length<n-1)return u.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(u)}return l.set(s,o),this.size=l.size,this}return d5=a,d5}var f5,gL;function U$(){if(gL)return f5;gL=1;var e=pw(),t=Ooe(),r=Foe(),n=Poe(),a=Loe(),s=Uoe();function o(l){var u=this.__data__=new e(l);this.size=u.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,f5=o,f5}var h5,yL;function Ioe(){if(yL)return h5;yL=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return h5=t,h5}var m5,vL;function Doe(){if(vL)return m5;vL=1;function e(t){return this.__data__.has(t)}return m5=e,m5}var p5,xL;function I$(){if(xL)return p5;xL=1;var e=_3(),t=Ioe(),r=Doe();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new e;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,p5=n,p5}var g5,bL;function D$(){if(bL)return g5;bL=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return g5=e,g5}var y5,wL;function M$(){if(wL)return y5;wL=1;function e(t,r){return t.has(r)}return y5=e,y5}var v5,CL;function R$(){if(CL)return v5;CL=1;var e=I$(),t=D$(),r=M$(),n=1,a=2;function s(o,l,u,A,f,h){var p=u&n,g=o.length,v=l.length;if(g!=v&&!(p&&v>g))return!1;var x=h.get(o),b=h.get(l);if(x&&b)return x==l&&b==o;var w=-1,B=!0,j=u&a?new e:void 0;for(h.set(o,l),h.set(l,o);++w<g;){var _=o[w],N=l[w];if(A)var O=p?A(N,_,w,l,o,h):A(_,N,w,o,l,h);if(O!==void 0){if(O)continue;B=!1;break}if(j){if(!t(l,function(T,P){if(!r(j,P)&&(_===T||f(_,T,u,A,h)))return j.push(P)})){B=!1;break}}else if(!(_===N||f(_,N,u,A,h))){B=!1;break}}return h.delete(o),h.delete(l),B}return v5=s,v5}var x5,BL;function Moe(){if(BL)return x5;BL=1;var e=pu(),t=e.Uint8Array;return x5=t,x5}var b5,jL;function Roe(){if(jL)return b5;jL=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}return b5=e,b5}var w5,SL;function R3(){if(SL)return w5;SL=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return w5=e,w5}var C5,NL;function Qoe(){if(NL)return C5;NL=1;var e=D0(),t=Moe(),r=E3(),n=R$(),a=Roe(),s=R3(),o=1,l=2,u="[object Boolean]",A="[object Date]",f="[object Error]",h="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",x="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",B="[object DataView]",j=e?e.prototype:void 0,_=j?j.valueOf:void 0;function N(O,T,P,U,D,F,R){switch(P){case B:if(O.byteLength!=T.byteLength||O.byteOffset!=T.byteOffset)return!1;O=O.buffer,T=T.buffer;case w:return!(O.byteLength!=T.byteLength||!F(new t(O),new t(T)));case u:case A:case p:return r(+O,+T);case f:return O.name==T.name&&O.message==T.message;case g:case x:return O==T+"";case h:var Q=a;case v:var H=U&o;if(Q||(Q=s),O.size!=T.size&&!H)return!1;var J=R.get(O);if(J)return J==T;U|=l,R.set(O,T);var V=n(Q(O),Q(T),U,D,F,R);return R.delete(O),V;case b:if(_)return _.call(O)==_.call(T)}return!1}return C5=N,C5}var B5,EL;function Q$(){if(EL)return B5;EL=1;function e(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}return B5=e,B5}var j5,kL;function Hoe(){if(kL)return j5;kL=1;var e=Q$(),t=ko();function r(n,a,s){var o=a(n);return t(n)?o:e(o,s(n))}return j5=r,j5}var S5,_L;function $oe(){if(_L)return S5;_L=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,s=0,o=[];++n<a;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return S5=e,S5}var N5,TL;function zoe(){if(TL)return N5;TL=1;function e(){return[]}return N5=e,N5}var E5,OL;function qoe(){if(OL)return E5;OL=1;var e=$oe(),t=zoe(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),e(a(o),function(l){return n.call(o,l)}))}:t;return E5=s,E5}var k5,FL;function Voe(){if(FL)return k5;FL=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return k5=e,k5}var _5,PL;function Koe(){if(PL)return _5;PL=1;var e=yA(),t=vA(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return _5=n,_5}var T5,LL;function Q3(){if(LL)return T5;LL=1;var e=Koe(),t=vA(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return T5=s,T5}var Qg={exports:{}},O5,UL;function Goe(){if(UL)return O5;UL=1;function e(){return!1}return O5=e,O5}Qg.exports;var IL;function H$(){return IL||(IL=1,function(e,t){var r=pu(),n=Goe(),a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,u=l?l.isBuffer:void 0,A=u||n;e.exports=A}(Qg,Qg.exports)),Qg.exports}var F5,DL;function H3(){if(DL)return F5;DL=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??e,!!a&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return F5=r,F5}var P5,ML;function $3(){if(ML)return P5;ML=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return P5=t,P5}var L5,RL;function Woe(){if(RL)return L5;RL=1;var e=yA(),t=$3(),r=vA(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",u="[object Function]",A="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",B="[object Float32Array]",j="[object Float64Array]",_="[object Int8Array]",N="[object Int16Array]",O="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",U="[object Uint16Array]",D="[object Uint32Array]",F={};F[B]=F[j]=F[_]=F[N]=F[O]=F[T]=F[P]=F[U]=F[D]=!0,F[n]=F[a]=F[b]=F[s]=F[w]=F[o]=F[l]=F[u]=F[A]=F[f]=F[h]=F[p]=F[g]=F[v]=F[x]=!1;function R(Q){return r(Q)&&t(Q.length)&&!!F[e(Q)]}return L5=R,L5}var U5,QL;function $$(){if(QL)return U5;QL=1;function e(t){return function(r){return t(r)}}return U5=e,U5}var Hg={exports:{}};Hg.exports;var HL;function Yoe(){return HL||(HL=1,function(e,t){var r=l$(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var u=a&&a.require&&a.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(Hg,Hg.exports)),Hg.exports}var I5,$L;function z$(){if($L)return I5;$L=1;var e=Woe(),t=$$(),r=Yoe(),n=r&&r.isTypedArray,a=n?t(n):e;return I5=a,I5}var D5,zL;function Xoe(){if(zL)return D5;zL=1;var e=Voe(),t=Q3(),r=ko(),n=H$(),a=H3(),s=z$(),o=Object.prototype,l=o.hasOwnProperty;function u(A,f){var h=r(A),p=!h&&t(A),g=!h&&!p&&n(A),v=!h&&!p&&!g&&s(A),x=h||p||g||v,b=x?e(A.length,String):[],w=b.length;for(var B in A)(f||l.call(A,B))&&!(x&&(B=="length"||g&&(B=="offset"||B=="parent")||v&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||a(B,w)))&&b.push(B);return b}return D5=u,D5}var M5,qL;function Joe(){if(qL)return M5;qL=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return M5=t,M5}var R5,VL;function q$(){if(VL)return R5;VL=1;function e(t,r){return function(n){return t(r(n))}}return R5=e,R5}var Q5,KL;function Zoe(){if(KL)return Q5;KL=1;var e=q$(),t=e(Object.keys,Object);return Q5=t,Q5}var H5,GL;function ele(){if(GL)return H5;GL=1;var e=Joe(),t=Zoe(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return H5=a,H5}var $5,WL;function R0(){if(WL)return $5;WL=1;var e=N3(),t=$3();function r(n){return n!=null&&t(n.length)&&!e(n)}return $5=r,$5}var z5,YL;function Cw(){if(YL)return z5;YL=1;var e=Xoe(),t=ele(),r=R0();function n(a){return r(a)?e(a):t(a)}return z5=n,z5}var q5,XL;function tle(){if(XL)return q5;XL=1;var e=Hoe(),t=qoe(),r=Cw();function n(a){return e(a,r,t)}return q5=n,q5}var V5,JL;function rle(){if(JL)return V5;JL=1;var e=tle(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,u,A,f){var h=l&t,p=e(s),g=p.length,v=e(o),x=v.length;if(g!=x&&!h)return!1;for(var b=g;b--;){var w=p[b];if(!(h?w in o:n.call(o,w)))return!1}var B=f.get(s),j=f.get(o);if(B&&j)return B==o&&j==s;var _=!0;f.set(s,o),f.set(o,s);for(var N=h;++b<g;){w=p[b];var O=s[w],T=o[w];if(u)var P=h?u(T,O,w,o,s,f):u(O,T,w,s,o,f);if(!(P===void 0?O===T||A(O,T,l,u,f):P)){_=!1;break}N||(N=w=="constructor")}if(_&&!N){var U=s.constructor,D=o.constructor;U!=D&&"constructor"in s&&"constructor"in o&&!(typeof U=="function"&&U instanceof U&&typeof D=="function"&&D instanceof D)&&(_=!1)}return f.delete(s),f.delete(o),_}return V5=a,V5}var K5,ZL;function nle(){if(ZL)return K5;ZL=1;var e=Zf(),t=pu(),r=e(t,"DataView");return K5=r,K5}var G5,eU;function ale(){if(eU)return G5;eU=1;var e=Zf(),t=pu(),r=e(t,"Promise");return G5=r,G5}var W5,tU;function V$(){if(tU)return W5;tU=1;var e=Zf(),t=pu(),r=e(t,"Set");return W5=r,W5}var Y5,rU;function ile(){if(rU)return Y5;rU=1;var e=Zf(),t=pu(),r=e(t,"WeakMap");return Y5=r,Y5}var X5,nU;function sle(){if(nU)return X5;nU=1;var e=nle(),t=k3(),r=ale(),n=V$(),a=ile(),s=yA(),o=c$(),l="[object Map]",u="[object Object]",A="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=o(e),v=o(t),x=o(r),b=o(n),w=o(a),B=s;return(e&&B(new e(new ArrayBuffer(1)))!=p||t&&B(new t)!=l||r&&B(r.resolve())!=A||n&&B(new n)!=f||a&&B(new a)!=h)&&(B=function(j){var _=s(j),N=_==u?j.constructor:void 0,O=N?o(N):"";if(O)switch(O){case g:return p;case v:return l;case x:return A;case b:return f;case w:return h}return _}),X5=B,X5}var J5,aU;function ole(){if(aU)return J5;aU=1;var e=U$(),t=R$(),r=Qoe(),n=rle(),a=sle(),s=ko(),o=H$(),l=z$(),u=1,A="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(x,b,w,B,j,_){var N=s(x),O=s(b),T=N?f:a(x),P=O?f:a(b);T=T==A?h:T,P=P==A?h:P;var U=T==h,D=P==h,F=T==P;if(F&&o(x)){if(!o(b))return!1;N=!0,U=!1}if(F&&!U)return _||(_=new e),N||l(x)?t(x,b,w,B,j,_):r(x,b,T,w,B,j,_);if(!(w&u)){var R=U&&g.call(x,"__wrapped__"),Q=D&&g.call(b,"__wrapped__");if(R||Q){var H=R?x.value():x,J=Q?b.value():b;return _||(_=new e),j(H,J,w,B,_)}}return F?(_||(_=new e),n(x,b,w,B,j,_)):!1}return J5=v,J5}var Z5,iU;function z3(){if(iU)return Z5;iU=1;var e=ole(),t=vA();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,s,o,r,l)}return Z5=r,Z5}var ej,sU;function lle(){if(sU)return ej;sU=1;var e=U$(),t=z3(),r=1,n=2;function a(s,o,l,u){var A=l.length,f=A,h=!u;if(s==null)return!f;for(s=Object(s);A--;){var p=l[A];if(h&&p[2]?p[1]!==s[p[0]]:!(p[0]in s))return!1}for(;++A<f;){p=l[A];var g=p[0],v=s[g],x=p[1];if(h&&p[2]){if(v===void 0&&!(g in s))return!1}else{var b=new e;if(u)var w=u(v,x,g,s,o,b);if(!(w===void 0?t(x,v,r|n,u,b):w))return!1}}return!0}return ej=a,ej}var tj,oU;function K$(){if(oU)return tj;oU=1;var e=_d();function t(r){return r===r&&!e(r)}return tj=t,tj}var rj,lU;function cle(){if(lU)return rj;lU=1;var e=K$(),t=Cw();function r(n){for(var a=t(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,e(l)]}return a}return rj=r,rj}var nj,cU;function G$(){if(cU)return nj;cU=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return nj=e,nj}var aj,uU;function ule(){if(uU)return aj;uU=1;var e=lle(),t=cle(),r=G$();function n(a){var s=t(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||e(o,a,s)}}return aj=n,aj}var ij,AU;function Ale(){if(AU)return ij;AU=1;function e(t,r){return t!=null&&r in Object(t)}return ij=e,ij}var sj,dU;function dle(){if(dU)return sj;dU=1;var e=d$(),t=Q3(),r=ko(),n=H3(),a=$3(),s=yw();function o(l,u,A){u=e(u,l);for(var f=-1,h=u.length,p=!1;++f<h;){var g=s(u[f]);if(!(p=l!=null&&A(l,g)))break;l=l[g]}return p||++f!=h?p:(h=l==null?0:l.length,!!h&&a(h)&&n(g,h)&&(r(l)||t(l)))}return sj=o,sj}var oj,fU;function fle(){if(fU)return oj;fU=1;var e=Ale(),t=dle();function r(n,a){return n!=null&&t(n,a,e)}return oj=r,oj}var lj,hU;function hle(){if(hU)return lj;hU=1;var e=z3(),t=f$(),r=fle(),n=S3(),a=K$(),s=G$(),o=yw(),l=1,u=2;function A(f,h){return n(f)&&a(h)?s(o(f),h):function(p){var g=t(p,f);return g===void 0&&g===h?r(p,f):e(h,g,l|u)}}return lj=A,lj}var cj,mU;function gp(){if(mU)return cj;mU=1;function e(t){return t}return cj=e,cj}var uj,pU;function mle(){if(pU)return uj;pU=1;function e(t){return function(r){return r==null?void 0:r[t]}}return uj=e,uj}var Aj,gU;function ple(){if(gU)return Aj;gU=1;var e=O3();function t(r){return function(n){return e(n,r)}}return Aj=t,Aj}var dj,yU;function gle(){if(yU)return dj;yU=1;var e=mle(),t=ple(),r=S3(),n=yw();function a(s){return r(s)?e(n(s)):t(s)}return dj=a,dj}var fj,vU;function gu(){if(vU)return fj;vU=1;var e=ule(),t=hle(),r=gp(),n=ko(),a=gle();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):a(o)}return fj=s,fj}var hj,xU;function W$(){if(xU)return hj;xU=1;function e(t,r,n,a){for(var s=t.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return hj=e,hj}var mj,bU;function yle(){if(bU)return mj;bU=1;function e(t){return t!==t}return mj=e,mj}var pj,wU;function vle(){if(wU)return pj;wU=1;function e(t,r,n){for(var a=n-1,s=t.length;++a<s;)if(t[a]===r)return a;return-1}return pj=e,pj}var gj,CU;function xle(){if(CU)return gj;CU=1;var e=W$(),t=yle(),r=vle();function n(a,s,o){return s===s?r(a,s,o):e(a,t,o)}return gj=n,gj}var yj,BU;function ble(){if(BU)return yj;BU=1;var e=xle();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return yj=t,yj}var vj,jU;function wle(){if(jU)return vj;jU=1;function e(t,r,n){for(var a=-1,s=t==null?0:t.length;++a<s;)if(n(r,t[a]))return!0;return!1}return vj=e,vj}var xj,SU;function Cle(){if(SU)return xj;SU=1;function e(){}return xj=e,xj}var bj,NU;function Ble(){if(NU)return bj;NU=1;var e=V$(),t=Cle(),r=R3(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return bj=a,bj}var wj,EU;function jle(){if(EU)return wj;EU=1;var e=I$(),t=ble(),r=wle(),n=M$(),a=Ble(),s=R3(),o=200;function l(u,A,f){var h=-1,p=t,g=u.length,v=!0,x=[],b=x;if(f)v=!1,p=r;else if(g>=o){var w=A?null:a(u);if(w)return s(w);v=!1,p=n,b=new e}else b=A?[]:x;e:for(;++h<g;){var B=u[h],j=A?A(B):B;if(B=f||B!==0?B:0,v&&j===j){for(var _=b.length;_--;)if(b[_]===j)continue e;A&&b.push(j),x.push(B)}else p(b,j,f)||(b!==x&&b.push(j),x.push(B))}return x}return wj=l,wj}var Cj,kU;function Sle(){if(kU)return Cj;kU=1;var e=gu(),t=jle();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Cj=r,Cj}var Nle=Sle();const _U=ta(Nle);function Y$(e,t,r){return t===!0?_U(e,r):Jr(t)?_U(e,t):e}function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}var Ele=["ref"];function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(n){Bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J$(n.key),n)}}function _le(e,t,r){return t&&OU(e.prototype,t),r&&OU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tle(e,t,r){return t=zb(t),Ole(e,X$()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function Ole(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(e)}function Fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X$=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function Ple(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T4(e,t)}function Bw(e,t,r){return t=J$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J$(e){var t=Lle(e,"string");return Pm(t)=="symbol"?t:t+""}function Lle(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ule(e,t){if(e==null)return{};var r=Ile(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dle(e){return e.value}function Mle(e,t){if(Ce.isValidElement(e))return Ce.cloneElement(e,t);if(typeof e=="function")return Ce.createElement(e,t);t.ref;var r=Ule(t,Ele);return Ce.createElement(M3,r)}var FU=1,yd=function(e){function t(){var r;kle(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Tle(this,t,[].concat(a)),Bw(r,"lastBoundingBox",{width:-1,height:-1}),r}return Ple(t,e),_le(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>FU||Math.abs(a.height-this.lastBoundingBox.height)>FU)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$u({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,u=a.margin,A=a.chartWidth,f=a.chartHeight,h,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((A||0)-g.width)/2}}else h=o==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=l==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return $u($u({},h),p)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,u=a.wrapperStyle,A=a.payloadUniqBy,f=a.payload,h=$u($u({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(u)),u);return Ce.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){n.wrapperNode=g}},Mle(s,$u($u({},this.props),{},{payload:Y$(f,A,Dle)})))}}],[{key:"getWithHeight",value:function(n,a){var s=$u($u({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ir(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(k.PureComponent);Bw(yd,"displayName","Legend");Bw(yd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Bj,PU;function Rle(){if(PU)return Bj;PU=1;var e=D0(),t=Q3(),r=ko(),n=e?e.isConcatSpreadable:void 0;function a(s){return r(s)||t(s)||!!(n&&s&&s[n])}return Bj=a,Bj}var jj,LU;function Z$(){if(LU)return jj;LU=1;var e=Q$(),t=Rle();function r(n,a,s,o,l){var u=-1,A=n.length;for(s||(s=t),l||(l=[]);++u<A;){var f=n[u];a>0&&s(f)?a>1?r(f,a-1,s,o,l):e(l,f):o||(l[l.length]=f)}return l}return jj=r,jj}var Sj,UU;function Qle(){if(UU)return Sj;UU=1;function e(t){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),u=l.length;u--;){var A=l[t?u:++s];if(n(o[A],A,o)===!1)break}return r}}return Sj=e,Sj}var Nj,IU;function Hle(){if(IU)return Nj;IU=1;var e=Qle(),t=e();return Nj=t,Nj}var Ej,DU;function ez(){if(DU)return Ej;DU=1;var e=Hle(),t=Cw();function r(n,a){return n&&e(n,a,t)}return Ej=r,Ej}var kj,MU;function $le(){if(MU)return kj;MU=1;var e=R0();function t(r,n){return function(a,s){if(a==null)return a;if(!e(a))return r(a,s);for(var o=a.length,l=n?o:-1,u=Object(a);(n?l--:++l<o)&&s(u[l],l,u)!==!1;);return a}}return kj=t,kj}var _j,RU;function q3(){if(RU)return _j;RU=1;var e=ez(),t=$le(),r=t(e);return _j=r,_j}var Tj,QU;function tz(){if(QU)return Tj;QU=1;var e=q3(),t=R0();function r(n,a){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,u,A){o[++s]=a(l,u,A)}),o}return Tj=r,Tj}var Oj,HU;function zle(){if(HU)return Oj;HU=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Oj=e,Oj}var Fj,$U;function qle(){if($U)return Fj;$U=1;var e=hp();function t(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=e(r),u=n!==void 0,A=n===null,f=n===n,h=e(n);if(!A&&!h&&!l&&r>n||l&&u&&f&&!A&&!h||s&&u&&f||!a&&f||!o)return 1;if(!s&&!l&&!h&&r<n||h&&a&&o&&!s&&!l||A&&a&&o||!u&&o||!f)return-1}return 0}return Fj=t,Fj}var Pj,zU;function Vle(){if(zU)return Pj;zU=1;var e=qle();function t(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,u=o.length,A=a.length;++s<u;){var f=e(o[s],l[s]);if(f){if(s>=A)return f;var h=a[s];return f*(h=="desc"?-1:1)}}return r.index-n.index}return Pj=t,Pj}var Lj,qU;function Kle(){if(qU)return Lj;qU=1;var e=T3(),t=O3(),r=gu(),n=tz(),a=zle(),s=$$(),o=Vle(),l=gp(),u=ko();function A(f,h,p){h.length?h=e(h,function(x){return u(x)?function(b){return t(b,x.length===1?x[0]:x)}:x}):h=[l];var g=-1;h=e(h,s(r));var v=n(f,function(x,b,w){var B=e(h,function(j){return j(x)});return{criteria:B,index:++g,value:x}});return a(v,function(x,b){return o(x,b,p)})}return Lj=A,Lj}var Uj,VU;function Gle(){if(VU)return Uj;VU=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Uj=e,Uj}var Ij,KU;function Wle(){if(KU)return Ij;KU=1;var e=Gle(),t=Math.max;function r(n,a,s){return a=t(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,u=t(o.length-a,0),A=Array(u);++l<u;)A[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=s(A),e(n,this,f)}}return Ij=r,Ij}var Dj,GU;function Yle(){if(GU)return Dj;GU=1;function e(t){return function(){return t}}return Dj=e,Dj}var Mj,WU;function rz(){if(WU)return Mj;WU=1;var e=Zf(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Mj=t,Mj}var Rj,YU;function Xle(){if(YU)return Rj;YU=1;var e=Yle(),t=rz(),r=gp(),n=t?function(a,s){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return Rj=n,Rj}var Qj,XU;function Jle(){if(XU)return Qj;XU=1;var e=800,t=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),u=t-(l-o);if(o=l,u>0){if(++s>=e)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return Qj=n,Qj}var Hj,JU;function Zle(){if(JU)return Hj;JU=1;var e=Xle(),t=Jle(),r=t(e);return Hj=r,Hj}var $j,ZU;function ece(){if(ZU)return $j;ZU=1;var e=gp(),t=Wle(),r=Zle();function n(a,s){return r(t(a,s,e),a+"")}return $j=n,$j}var zj,eI;function jw(){if(eI)return zj;eI=1;var e=E3(),t=R0(),r=H3(),n=_d();function a(s,o,l){if(!n(l))return!1;var u=typeof o;return(u=="number"?t(l)&&r(o,l.length):u=="string"&&o in l)?e(l[o],s):!1}return zj=a,zj}var qj,tI;function tce(){if(tI)return qj;tI=1;var e=Z$(),t=Kle(),r=ece(),n=jw(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return qj=a,qj}var rce=tce();const V3=ta(rce);function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function O4(){return O4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O4.apply(this,arguments)}function nce(e,t){return oce(e)||sce(e,t)||ice(e,t)||ace()}function ace(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(e,t){if(e){if(typeof e=="string")return rI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(e,t)}}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function oce(e){if(Array.isArray(e))return e}function nI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return Dy(t)=="symbol"?t:t+""}function uce(e,t){if(Dy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ace(e){return Array.isArray(e)&&Wi(e[0])&&Wi(e[1])?e.join(" ~ "):e}var dce=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,u=t.labelStyle,A=u===void 0?{}:u,f=t.payload,h=t.formatter,p=t.itemSorter,g=t.wrapperClassName,v=t.labelClassName,x=t.label,b=t.labelFormatter,w=t.accessibilityLayer,B=w===void 0?!1:w,j=function(){if(f&&f.length){var R={padding:0,margin:0},Q=(p?V3(f,p):f).map(function(H,J){if(H.type==="none")return null;var V=Vj({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),Y=H.formatter||h||Ace,ee=H.value,ie=H.name,z=ee,W=ie;if(Y&&z!=null&&W!=null){var L=Y(ee,ie,H,J,f);if(Array.isArray(L)){var q=nce(L,2);z=q[0],W=q[1]}else z=L}return Ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:V},Wi(W)?Ce.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Wi(W)?Ce.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ce.createElement("span",{className:"recharts-tooltip-item-value"},z),Ce.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ce.createElement("ul",{className:"recharts-tooltip-item-list",style:R},Q)}return null},_=Vj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),N=Vj({margin:0},A),O=!sn(x),T=O?x:"",P=en("recharts-default-tooltip",g),U=en("recharts-tooltip-label",v);O&&b&&f!==void 0&&f!==null&&(T=b(x,f));var D=B?{role:"status","aria-live":"assertive"}:{};return Ce.createElement("div",O4({className:P,style:_},D),Ce.createElement("p",{className:U,style:N},Ce.isValidElement(T)?T:"".concat(T)),j())};function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function Zv(e,t,r){return t=fce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fce(e){var t=hce(e,"string");return My(t)=="symbol"?t:t+""}function hce(e,t){if(My(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wg="recharts-tooltip-wrapper",mce={visibility:"hidden"};function pce(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return en(wg,Zv(Zv(Zv(Zv({},"".concat(wg,"-right"),ir(r)&&t&&ir(t.x)&&r>=t.x),"".concat(wg,"-left"),ir(r)&&t&&ir(t.x)&&r<t.x),"".concat(wg,"-bottom"),ir(n)&&t&&ir(t.y)&&n>=t.y),"".concat(wg,"-top"),ir(n)&&t&&ir(t.y)&&n<t.y))}function aI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,u=e.viewBox,A=e.viewBoxDimension;if(s&&ir(s[n]))return s[n];var f=r[n]-l-a,h=r[n]+a;if(t[n])return o[n]?f:h;if(o[n]){var p=f,g=u[n];return p<g?Math.max(h,u[n]):Math.max(f,u[n])}var v=h+l,x=u[n]+A;return v>x?Math.max(f,u[n]):Math.max(h,u[n])}function gce(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yce(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,u=e.viewBox,A,f,h;return o.height>0&&o.width>0&&r?(f=aI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),h=aI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),A=gce({translateX:f,translateY:h,useTranslate3d:l})):A=mce,{cssProperties:A,cssClasses:pce({translateX:f,translateY:h,coordinate:r})}}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){P4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,az(n.key),n)}}function bce(e,t,r){return t&&xce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wce(e,t,r){return t=qb(t),Cce(e,nz()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function Cce(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bce(e)}function Bce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function jce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F4(e,t)}function F4(e,t){return F4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},F4(e,t)}function P4(e,t,r){return t=az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function az(e){var t=Sce(e,"string");return Lm(t)=="symbol"?t:t+""}function Sce(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oI=1,Nce=function(e){function t(){var r;vce(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=wce(this,t,[].concat(a)),P4(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P4(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,u,A,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(u=r.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&l!==void 0?l:0,y:(A=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&A!==void 0?A:0}})}}),r}return jce(t,e),bce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>oI||Math.abs(n.height-this.state.lastBoundingBox.height)>oI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,A=a.children,f=a.coordinate,h=a.hasPayload,p=a.isAnimationActive,g=a.offset,v=a.position,x=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,B=a.wrapperStyle,j=yce({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),_=j.cssClasses,N=j.cssProperties,O=sI(sI({transition:p&&s?"transform ".concat(l,"ms ").concat(u):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},B);return Ce.createElement("div",{tabIndex:-1,className:_,style:O,ref:function(P){n.wrapperNode=P}},A)}}])}(k.PureComponent),Ece=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Td={isSsr:Ece()};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){K3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sz(n.key),n)}}function Tce(e,t,r){return t&&_ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e,t,r){return t=Vb(t),Fce(e,iz()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function Fce(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(e)}function Pce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function Lce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L4(e,t)}function L4(e,t){return L4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L4(e,t)}function K3(e,t,r){return t=sz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sz(e){var t=Uce(e,"string");return Um(t)=="symbol"?t:t+""}function Uce(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ice(e){return e.dataKey}function Dce(e,t){return Ce.isValidElement(e)?Ce.cloneElement(e,t):typeof e=="function"?Ce.createElement(e,t):Ce.createElement(dce,t)}var Fi=function(e){function t(){return kce(this,t),Oce(this,t,arguments)}return Lce(t,e),Tce(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,u=a.animationEasing,A=a.content,f=a.coordinate,h=a.filterNull,p=a.isAnimationActive,g=a.offset,v=a.payload,x=a.payloadUniqBy,b=a.position,w=a.reverseDirection,B=a.useTranslate3d,j=a.viewBox,_=a.wrapperStyle,N=v??[];h&&N.length&&(N=Y$(v.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),x,Ice));var O=N.length>0;return Ce.createElement(Nce,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:p,active:s,coordinate:f,hasPayload:O,offset:g,position:b,reverseDirection:w,useTranslate3d:B,viewBox:j,wrapperStyle:_},Dce(A,cI(cI({},this.props),{},{payload:N})))}}])}(k.PureComponent);K3(Fi,"displayName","Tooltip");K3(Fi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Td.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Kj,uI;function Mce(){if(uI)return Kj;uI=1;var e=pu(),t=function(){return e.Date.now()};return Kj=t,Kj}var Gj,AI;function Rce(){if(AI)return Gj;AI=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Gj=t,Gj}var Wj,dI;function Qce(){if(dI)return Wj;dI=1;var e=Rce(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Wj=r,Wj}var Yj,fI;function oz(){if(fI)return Yj;fI=1;var e=Qce(),t=_d(),r=hp(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function u(A){if(typeof A=="number")return A;if(r(A))return n;if(t(A)){var f=typeof A.valueOf=="function"?A.valueOf():A;A=t(f)?f+"":f}if(typeof A!="string")return A===0?A:+A;A=e(A);var h=s.test(A);return h||o.test(A)?l(A.slice(2),h?2:8):a.test(A)?n:+A}return Yj=u,Yj}var Xj,hI;function Hce(){if(hI)return Xj;hI=1;var e=_d(),t=Mce(),r=oz(),n="Expected a function",a=Math.max,s=Math.min;function o(l,u,A){var f,h,p,g,v,x,b=0,w=!1,B=!1,j=!0;if(typeof l!="function")throw new TypeError(n);u=r(u)||0,e(A)&&(w=!!A.leading,B="maxWait"in A,p=B?a(r(A.maxWait)||0,u):p,j="trailing"in A?!!A.trailing:j);function _(Q){var H=f,J=h;return f=h=void 0,b=Q,g=l.apply(J,H),g}function N(Q){return b=Q,v=setTimeout(P,u),w?_(Q):g}function O(Q){var H=Q-x,J=Q-b,V=u-H;return B?s(V,p-J):V}function T(Q){var H=Q-x,J=Q-b;return x===void 0||H>=u||H<0||B&&J>=p}function P(){var Q=t();if(T(Q))return U(Q);v=setTimeout(P,O(Q))}function U(Q){return v=void 0,j&&f?_(Q):(f=h=void 0,g)}function D(){v!==void 0&&clearTimeout(v),b=0,f=x=h=v=void 0}function F(){return v===void 0?g:U(t())}function R(){var Q=t(),H=T(Q);if(f=arguments,h=this,x=Q,H){if(v===void 0)return N(x);if(B)return clearTimeout(v),v=setTimeout(P,u),_(x)}return v===void 0&&(v=setTimeout(P,u)),g}return R.cancel=D,R.flush=F,R}return Xj=o,Xj}var Jj,mI;function $ce(){if(mI)return Jj;mI=1;var e=Hce(),t=_d(),r="Expected a function";function n(a,s,o){var l=!0,u=!0;if(typeof a!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),e(a,s,{leading:l,maxWait:s,trailing:u})}return Jj=n,Jj}var zce=$ce();const lz=ta(zce);function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qce(e,t,r){return t=Vce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vce(e){var t=Kce(e,"string");return Ry(t)=="symbol"?t:t+""}function Kce(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gce(e,t){return Jce(e)||Xce(e,t)||Yce(e,t)||Wce()}function Wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yce(e,t){if(e){if(typeof e=="string")return gI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gI(e,t)}}function gI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Jce(e){if(Array.isArray(e))return e}var Ul=k.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,u=l===void 0?"100%":l,A=e.minWidth,f=A===void 0?0:A,h=e.minHeight,p=e.maxHeight,g=e.children,v=e.debounce,x=v===void 0?0:v,b=e.id,w=e.className,B=e.onResize,j=e.style,_=j===void 0?{}:j,N=k.useRef(null),O=k.useRef();O.current=B,k.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var T=k.useState({containerWidth:a.width,containerHeight:a.height}),P=Gce(T,2),U=P[0],D=P[1],F=k.useCallback(function(Q,H){D(function(J){var V=Math.round(Q),Y=Math.round(H);return J.containerWidth===V&&J.containerHeight===Y?J:{containerWidth:V,containerHeight:Y}})},[]);k.useEffect(function(){var Q=function(ie){var z,W=ie[0].contentRect,L=W.width,q=W.height;F(L,q),(z=O.current)===null||z===void 0||z.call(O,L,q)};x>0&&(Q=lz(Q,x,{trailing:!0,leading:!1}));var H=new ResizeObserver(Q),J=N.current.getBoundingClientRect(),V=J.width,Y=J.height;return F(V,Y),H.observe(N.current),function(){H.disconnect()}},[F,x]);var R=k.useMemo(function(){var Q=U.containerWidth,H=U.containerHeight;if(Q<0||H<0)return null;xc(Bf(o)||Bf(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,u),xc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Bf(o)?Q:o,V=Bf(u)?H:u;r&&r>0&&(J?V=J/r:V&&(J=V*r),p&&V>p&&(V=p)),xc(J>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,V,o,u,f,h,r);var Y=!Array.isArray(g)&&iA(g.type).endsWith("Chart");return Ce.Children.map(g,function(ee){return Ce.isValidElement(ee)?k.cloneElement(ee,ex({width:J,height:V},Y?{style:ex({height:"100%",width:"100%",maxHeight:V,maxWidth:J},ee.props.style)}:{})):ee})},[r,g,u,p,h,f,U,o]);return Ce.createElement("div",{id:b?"".concat(b):void 0,className:en("recharts-responsive-container",w),style:ex(ex({},_),{},{width:o,height:u,minWidth:f,minHeight:h,maxHeight:p}),ref:N},R)}),ym=function(t){return null};ym.displayName="Cell";function Qy(e){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return t=eue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eue(e){var t=tue(e,"string");return Qy(t)=="symbol"?t:t+""}function tue(e,t){if(Qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh={widthCache:{},cacheCount:0},rue=2e3,nue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vI="recharts_measurement_span";function aue(e){var t=U4({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var iy=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Td.isSsr)return{width:0,height:0};var n=aue(r),a=JSON.stringify({text:t,copyStyle:n});if(Mh.widthCache[a])return Mh.widthCache[a];try{var s=document.getElementById(vI);s||(s=document.createElement("span"),s.setAttribute("id",vI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=U4(U4({},nue),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),u={width:l.width,height:l.height};return Mh.widthCache[a]=u,++Mh.cacheCount>rue&&(Mh.cacheCount=0,Mh.widthCache={}),u}catch{return{width:0,height:0}}},iue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function Kb(e,t){return cue(e)||lue(e,t)||oue(e,t)||sue()}function sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(e,t){if(e){if(typeof e=="string")return xI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xI(e,t)}}function xI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function cue(e){if(Array.isArray(e))return e}function uue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,due(n.key),n)}}function Aue(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function due(e){var t=fue(e,"string");return Hy(t)=="symbol"?t:t+""}function fue(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pue=Object.keys(cz),um="NaN";function gue(e,t){return e*cz[t]}var tx=function(){function e(t,r){uue(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!hue.test(r)&&(this.num=NaN,this.unit=""),pue.includes(r)&&(this.num=gue(t,r),this.unit="px")}return Aue(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=mue.exec(r))!==null&&n!==void 0?n:[],s=Kb(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function uz(e){if(e.includes(um))return um;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=wI.exec(t))!==null&&r!==void 0?r:[],a=Kb(n,4),s=a[1],o=a[2],l=a[3],u=tx.parse(s??""),A=tx.parse(l??""),f=o==="*"?u.multiply(A):u.divide(A);if(f.isNaN())return um;t=t.replace(wI,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=CI.exec(t))!==null&&h!==void 0?h:[],g=Kb(p,4),v=g[1],x=g[2],b=g[3],w=tx.parse(v??""),B=tx.parse(b??""),j=x==="+"?w.add(B):w.subtract(B);if(j.isNaN())return um;t=t.replace(CI,j.toString())}return t}var BI=/\(([^()]*)\)/;function yue(e){for(var t=e;t.includes("(");){var r=BI.exec(t),n=Kb(r,2),a=n[1];t=t.replace(BI,uz(a))}return t}function vue(e){var t=e.replace(/\s+/g,"");return t=yue(t),t=uz(t),t}function xue(e){try{return vue(e)}catch{return um}}function Zj(e){var t=xue(e.slice(5,-1));return t===um?"":t}var bue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],wue=["dx","dy","angle","className","breakAll"];function I4(){return I4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I4.apply(this,arguments)}function jI(e,t){if(e==null)return{};var r=Cue(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function SI(e,t){return Nue(e)||Sue(e,t)||jue(e,t)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(e,t){if(e){if(typeof e=="string")return NI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(e,t)}}function NI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Nue(e){if(Array.isArray(e))return e}var Az=/[ \f\n\r\t\v\u2028\u2029]+/,dz=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];sn(r)||(n?s=r.toString().split(""):s=r.toString().split(Az));var o=s.map(function(u){return{word:u,width:iy(u,a).width}}),l=n?0:iy("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Eue=function(t,r,n,a,s){var o=t.maxLines,l=t.children,u=t.style,A=t.breakAll,f=ir(o),h=l,p=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(V,Y){var ee=Y.word,ie=Y.width,z=V[V.length-1];if(z&&(a==null||s||z.width+ie+n<Number(a)))z.words.push(ee),z.width+=ie+n;else{var W={words:[ee],width:ie};V.push(W)}return V},[])},g=p(r),v=function(J){return J.reduce(function(V,Y){return V.width>Y.width?V:Y})};if(!f)return g;for(var x="",b=function(J){var V=h.slice(0,J),Y=dz({breakAll:A,style:u,children:V+x}).wordsWithComputedWidth,ee=p(Y),ie=ee.length>o||v(ee).width>Number(a);return[ie,ee]},w=0,B=h.length-1,j=0,_;w<=B&&j<=h.length-1;){var N=Math.floor((w+B)/2),O=N-1,T=b(O),P=SI(T,2),U=P[0],D=P[1],F=b(N),R=SI(F,1),Q=R[0];if(!U&&!Q&&(w=N+1),U&&Q&&(B=N-1),!U&&Q){_=D;break}j++}return _||g},EI=function(t){var r=sn(t)?[]:t.toString().split(Az);return[{words:r}]},kue=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Td.isSsr){var u,A,f=dz({breakAll:o,children:a,style:s});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;u=h,A=p}else return EI(a);return Eue({breakAll:o,children:a,maxLines:l,style:s},u,A,r,n)}return EI(a)},kI="#808080",qf=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,u=t.capHeight,A=u===void 0?"0.71em":u,f=t.scaleToFit,h=f===void 0?!1:f,p=t.textAnchor,g=p===void 0?"start":p,v=t.verticalAnchor,x=v===void 0?"end":v,b=t.fill,w=b===void 0?kI:b,B=jI(t,bue),j=k.useMemo(function(){return kue({breakAll:B.breakAll,children:B.children,maxLines:B.maxLines,scaleToFit:h,style:B.style,width:B.width})},[B.breakAll,B.children,B.maxLines,h,B.style,B.width]),_=B.dx,N=B.dy,O=B.angle,T=B.className,P=B.breakAll,U=jI(B,wue);if(!Wi(n)||!Wi(s))return null;var D=n+(ir(_)?_:0),F=s+(ir(N)?N:0),R;switch(x){case"start":R=Zj("calc(".concat(A,")"));break;case"middle":R=Zj("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(A," / 2))"));break;default:R=Zj("calc(".concat(j.length-1," * -").concat(l,")"));break}var Q=[];if(h){var H=j[0].width,J=B.width;Q.push("scale(".concat((ir(J)?J/H:1)/H,")"))}return O&&Q.push("rotate(".concat(O,", ").concat(D,", ").concat(F,")")),Q.length&&(U.transform=Q.join(" ")),Ce.createElement("text",I4({},Rr(U,!0),{x:D,y:F,className:en("recharts-text",T),textAnchor:g,fill:w.includes("url")?kI:w}),j.map(function(V,Y){var ee=V.words.join(P?"":" ");return Ce.createElement("tspan",{x:D,dy:Y===0?R:l,key:"".concat(ee,"-").concat(Y)},ee)}))};function vd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _ue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G3(e){let t,r,n;e.length!==2?(t=vd,r=(l,u)=>vd(e(l),u),n=(l,u)=>e(l)-u):(t=e===vd||e===_ue?e:Tue,r=e,n=e);function a(l,u,A=0,f=l.length){if(A<f){if(t(u,u)!==0)return f;do{const h=A+f>>>1;r(l[h],u)<0?A=h+1:f=h}while(A<f)}return A}function s(l,u,A=0,f=l.length){if(A<f){if(t(u,u)!==0)return f;do{const h=A+f>>>1;r(l[h],u)<=0?A=h+1:f=h}while(A<f)}return A}function o(l,u,A=0,f=l.length){const h=a(l,u,A,f-1);return h>A&&n(l[h-1],u)>-n(l[h],u)?h-1:h}return{left:a,center:o,right:s}}function Tue(){return 0}function fz(e){return e===null?NaN:+e}function*Oue(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Fue=G3(vd),Q0=Fue.right;G3(fz).center;class _I extends Map{constructor(t,r=Uue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(TI(this,t))}has(t){return super.has(TI(this,t))}set(t,r){return super.set(Pue(this,t),r)}delete(t){return super.delete(Lue(this,t))}}function TI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pue({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Lue({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Uue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Iue(e=vd){if(e===vd)return hz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Due=Math.sqrt(50),Mue=Math.sqrt(10),Rue=Math.sqrt(2);function Gb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=Due?10:s>=Mue?5:s>=Rue?2:1;let l,u,A;return a<0?(A=Math.pow(10,-a)/o,l=Math.round(e*A),u=Math.round(t*A),l/A<e&&++l,u/A>t&&--u,A=-A):(A=Math.pow(10,a)*o,l=Math.round(e/A),u=Math.round(t/A),l*A<e&&++l,u*A>t&&--u),u<l&&.5<=r&&r<2?Gb(e,t,r*2):[l,u,A]}function D4(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,o]=n?Gb(t,e,r):Gb(e,t,r);if(!(s>=a))return[];const l=s-a+1,u=new Array(l);if(n)if(o<0)for(let A=0;A<l;++A)u[A]=(s-A)/-o;else for(let A=0;A<l;++A)u[A]=(s-A)*o;else if(o<0)for(let A=0;A<l;++A)u[A]=(a+A)/-o;else for(let A=0;A<l;++A)u[A]=(a+A)*o;return u}function M4(e,t,r){return t=+t,e=+e,r=+r,Gb(e,t,r)[2]}function R4(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?M4(t,e,r):M4(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function OI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hz:Iue(a);n>r;){if(n-r>600){const u=n-r+1,A=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(u-h)/u)*(A-u/2<0?-1:1),g=Math.max(r,Math.floor(t-A*h/u+p)),v=Math.min(n,Math.floor(t+(u-A)*h/u+p));mz(e,t,g,v,a)}const s=e[t];let o=r,l=n;for(Cg(e,r,t),a(e[n],s)>0&&Cg(e,r,n);o<l;){for(Cg(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?Cg(e,r,l):(++l,Cg(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Cg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Que(e,t,r){if(e=Float64Array.from(Oue(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FI(e);if(t>=1)return OI(e);var n,a=(n-1)*t,s=Math.floor(a),o=OI(mz(e,s).subarray(0,s+1)),l=FI(e.subarray(s+1));return o+(l-o)*(a-s)}}function Hue(e,t,r=fz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function $ue(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ml(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xA(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Q4=Symbol("implicit");function W3(){var e=new _I,t=[],r=[],n=Q4;function a(s){let o=e.get(s);if(o===void 0){if(n!==Q4)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new _I;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return W3(t,r).unknown(n)},Ml.apply(a,arguments),a}function $y(){var e=W3().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,o,l=!1,u=0,A=0,f=.5;delete e.unknown;function h(){var p=t().length,g=a<n,v=g?a:n,x=g?n:a;s=(x-v)/Math.max(1,p-u+A*2),l&&(s=Math.floor(s)),v+=(x-v-s*(p-u))*f,o=s*(1-u),l&&(v=Math.round(v),o=Math.round(o));var b=$ue(p).map(function(w){return v+s*w});return r(g?b.reverse():b)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(u=Math.min(1,A=+p),h()):u},e.paddingInner=function(p){return arguments.length?(u=Math.min(1,p),h()):u},e.paddingOuter=function(p){return arguments.length?(A=+p,h()):A},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return $y(t(),[n,a]).round(l).paddingInner(u).paddingOuter(A).align(f)},Ml.apply(h(),arguments)}function pz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pz(t())},e}function sy(){return pz($y.apply(null,arguments).paddingInner(1))}function Y3(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function H0(){}var zy=.7,Wb=1/zy,vm="\\s*([+-]?\\d+)\\s*",qy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zue=/^#([0-9a-f]{3,8})$/,que=new RegExp(`^rgb\\(${vm},${vm},${vm}\\)$`),Vue=new RegExp(`^rgb\\(${lu},${lu},${lu}\\)$`),Kue=new RegExp(`^rgba\\(${vm},${vm},${vm},${qy}\\)$`),Gue=new RegExp(`^rgba\\(${lu},${lu},${lu},${qy}\\)$`),Wue=new RegExp(`^hsl\\(${qy},${lu},${lu}\\)$`),Yue=new RegExp(`^hsla\\(${qy},${lu},${lu},${qy}\\)$`),PI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Y3(H0,Vy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LI,formatHex:LI,formatHex8:Xue,formatHsl:Jue,formatRgb:UI,toString:UI});function LI(){return this.rgb().formatHex()}function Xue(){return this.rgb().formatHex8()}function Jue(){return yz(this).formatHsl()}function UI(){return this.rgb().formatRgb()}function Vy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=zue.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?II(t):r===3?new So(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=que.exec(e))?new So(t[1],t[2],t[3],1):(t=Vue.exec(e))?new So(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kue.exec(e))?rx(t[1],t[2],t[3],t[4]):(t=Gue.exec(e))?rx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Wue.exec(e))?RI(t[1],t[2]/100,t[3]/100,1):(t=Yue.exec(e))?RI(t[1],t[2]/100,t[3]/100,t[4]):PI.hasOwnProperty(e)?II(PI[e]):e==="transparent"?new So(NaN,NaN,NaN,0):null}function II(e){return new So(e>>16&255,e>>8&255,e&255,1)}function rx(e,t,r,n){return n<=0&&(e=t=r=NaN),new So(e,t,r,n)}function Zue(e){return e instanceof H0||(e=Vy(e)),e?(e=e.rgb(),new So(e.r,e.g,e.b,e.opacity)):new So}function H4(e,t,r,n){return arguments.length===1?Zue(e):new So(e,t,r,n??1)}function So(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Y3(So,H4,gz(H0,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new So(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?zy:Math.pow(zy,e),new So(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new So(Pf(this.r),Pf(this.g),Pf(this.b),Yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DI,formatHex:DI,formatHex8:eAe,formatRgb:MI,toString:MI}));function DI(){return`#${jf(this.r)}${jf(this.g)}${jf(this.b)}`}function eAe(){return`#${jf(this.r)}${jf(this.g)}${jf(this.b)}${jf((isNaN(this.opacity)?1:this.opacity)*255)}`}function MI(){const e=Yb(this.opacity);return`${e===1?"rgb(":"rgba("}${Pf(this.r)}, ${Pf(this.g)}, ${Pf(this.b)}${e===1?")":`, ${e})`}`}function Yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jf(e){return e=Pf(e),(e<16?"0":"")+e.toString(16)}function RI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pc(e,t,r,n)}function yz(e){if(e instanceof pc)return new pc(e.h,e.s,e.l,e.opacity);if(e instanceof H0||(e=Vy(e)),!e)return new pc;if(e instanceof pc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-a,u=(s+a)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=u<.5?s+a:2-s-a,o*=60):l=u>0&&u<1?0:o,new pc(o,l,u,e.opacity)}function tAe(e,t,r,n){return arguments.length===1?yz(e):new pc(e,t,r,n??1)}function pc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Y3(pc,tAe,gz(H0,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new pc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?zy:Math.pow(zy,e),new pc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new So(eS(e>=240?e-240:e+120,a,n),eS(e,a,n),eS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new pc(QI(this.h),nx(this.s),nx(this.l),Yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yb(this.opacity);return`${e===1?"hsl(":"hsla("}${QI(this.h)}, ${nx(this.s)*100}%, ${nx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function QI(e){return e=(e||0)%360,e<0?e+360:e}function nx(e){return Math.max(0,Math.min(1,e||0))}function eS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const X3=e=>()=>e;function rAe(e,t){return function(r){return e+r*t}}function nAe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aAe(e){return(e=+e)==1?vz:function(t,r){return r-t?nAe(t,r,e):X3(isNaN(t)?r:t)}}function vz(e,t){var r=t-e;return r?rAe(e,r):X3(isNaN(e)?t:e)}const HI=function e(t){var r=aAe(t);function n(a,s){var o=r((a=H4(a)).r,(s=H4(s)).r),l=r(a.g,s.g),u=r(a.b,s.b),A=vz(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=u(f),a.opacity=A(f),a+""}}return n.gamma=e,n}(1);function iAe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function sAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oAe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=yp(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function lAe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cAe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yp(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var $4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tS=new RegExp($4.source,"g");function uAe(e){return function(){return e}}function AAe(e){return function(t){return e(t)+""}}function dAe(e,t){var r=$4.lastIndex=tS.lastIndex=0,n,a,s,o=-1,l=[],u=[];for(e=e+"",t=t+"";(n=$4.exec(e))&&(a=tS.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,u.push({i:o,x:Xb(n,a)})),r=tS.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?AAe(u[0].x):uAe(t):(t=u.length,function(A){for(var f=0,h;f<t;++f)l[(h=u[f]).i]=h.x(A);return l.join("")})}function yp(e,t){var r=typeof t,n;return t==null||r==="boolean"?X3(t):(r==="number"?Xb:r==="string"?(n=Vy(t))?(t=n,HI):dAe:t instanceof Vy?HI:t instanceof Date?lAe:sAe(t)?iAe:Array.isArray(t)?oAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cAe:Xb)(e,t)}function J3(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fAe(e,t){t===void 0&&(t=e,e=yp);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function hAe(e){return function(){return e}}function Jb(e){return+e}var $I=[0,1];function uo(e){return e}function z4(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hAe(isNaN(t)?NaN:.5)}function mAe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pAe(e,t,r){var n=e[0],a=e[1],s=t[0],o=t[1];return a<n?(n=z4(a,n),s=r(o,s)):(n=z4(n,a),s=r(s,o)),function(l){return s(n(l))}}function gAe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=z4(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var u=Q0(e,l,1,n)-1;return s[u](a[u](l))}}function $0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sw(){var e=$I,t=$I,r=yp,n,a,s,o=uo,l,u,A;function f(){var p=Math.min(e.length,t.length);return o!==uo&&(o=mAe(e[0],e[p-1])),l=p>2?gAe:pAe,u=A=null,h}function h(p){return p==null||isNaN(p=+p)?s:(u||(u=l(e.map(n),t,r)))(n(o(p)))}return h.invert=function(p){return o(a((A||(A=l(t,e.map(n),Xb)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Jb),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),r=J3,f()},h.clamp=function(p){return arguments.length?(o=p?!0:uo,f()):o!==uo},h.interpolate=function(p){return arguments.length?(r=p,f()):r},h.unknown=function(p){return arguments.length?(s=p,h):s},function(p,g){return n=p,a=g,f()}}function Z3(){return Sw()(uo,uo)}function yAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Im(e){return e=Zb(Math.abs(e)),e?e[1]:NaN}function vAe(e,t){return function(r,n){for(var a=r.length,s=[],o=0,l=e[0],u=0;a>0&&l>0&&(u+l+1>n&&(l=Math.max(1,n-u)),s.push(r.substring(a-=l,a+l)),!((u+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function xAe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ky(e){if(!(t=bAe.exec(e)))throw new Error("invalid format: "+e);var t;return new e_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ky.prototype=e_.prototype;function e_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}e_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wAe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var xz;function CAe(e,t){var r=Zb(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(xz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zb(e,Math.max(0,t+s-1))[0]}function zI(e,t){var r=Zb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const qI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zI(e*100,t),r:zI,s:CAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VI(e){return e}var KI=Array.prototype.map,GI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BAe(e){var t=e.grouping===void 0||e.thousands===void 0?VI:vAe(KI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?VI:xAe(KI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function A(h){h=Ky(h);var p=h.fill,g=h.align,v=h.sign,x=h.symbol,b=h.zero,w=h.width,B=h.comma,j=h.precision,_=h.trim,N=h.type;N==="n"?(B=!0,N="g"):qI[N]||(j===void 0&&(j=12),_=!0,N="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var O=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",T=x==="$"?n:/[%p]/.test(N)?o:"",P=qI[N],U=/[defgprs%]/.test(N);j=j===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function D(F){var R=O,Q=T,H,J,V;if(N==="c")Q=P(F)+Q,F="";else{F=+F;var Y=F<0||1/F<0;if(F=isNaN(F)?u:P(Math.abs(F),j),_&&(F=wAe(F)),Y&&+F==0&&v!=="+"&&(Y=!1),R=(Y?v==="("?v:l:v==="-"||v==="("?"":v)+R,Q=(N==="s"?GI[8+xz/3]:"")+Q+(Y&&v==="("?")":""),U){for(H=-1,J=F.length;++H<J;)if(V=F.charCodeAt(H),48>V||V>57){Q=(V===46?a+F.slice(H+1):F.slice(H))+Q,F=F.slice(0,H);break}}}B&&!b&&(F=t(F,1/0));var ee=R.length+F.length+Q.length,ie=ee<w?new Array(w-ee+1).join(p):"";switch(B&&b&&(F=t(ie+F,ie.length?w-Q.length:1/0),ie=""),g){case"<":F=R+F+Q+ie;break;case"=":F=R+ie+F+Q;break;case"^":F=ie.slice(0,ee=ie.length>>1)+R+F+Q+ie.slice(ee);break;default:F=ie+R+F+Q;break}return s(F)}return D.toString=function(){return h+""},D}function f(h,p){var g=A((h=Ky(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(Im(p)/3)))*3,x=Math.pow(10,-v),b=GI[8+v/3];return function(w){return g(x*w)+b}}return{format:A,formatPrefix:f}}var ax,t_,bz;jAe({thousands:",",grouping:[3],currency:["$",""]});function jAe(e){return ax=BAe(e),t_=ax.format,bz=ax.formatPrefix,ax}function SAe(e){return Math.max(0,-Im(Math.abs(e)))}function NAe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Im(t)/3)))*3-Im(Math.abs(e)))}function EAe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Im(t)-Im(e))+1}function wz(e,t,r,n){var a=R4(e,t,r),s;switch(n=Ky(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=NAe(a,o))&&(n.precision=s),bz(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=EAe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=SAe(a))&&(n.precision=s-(n.type==="%")*2);break}}return t_(n)}function Od(e){var t=e.domain;return e.ticks=function(r){var n=t();return D4(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,o=n[a],l=n[s],u,A,f=10;for(l<o&&(A=o,o=l,l=A,A=a,a=s,s=A);f-- >0;){if(A=M4(o,l,r),A===u)return n[a]=o,n[s]=l,t(n);if(A>0)o=Math.floor(o/A)*A,l=Math.ceil(l/A)*A;else if(A<0)o=Math.ceil(o*A)/A,l=Math.floor(l*A)/A;else break;u=A}return e},e}function e1(){var e=Z3();return e.copy=function(){return $0(e,e1())},Ml.apply(e,arguments),Od(e)}function Cz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Cz(e).unknown(t)},e=arguments.length?Array.from(e,Jb):[0,1],Od(r)}function Bz(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),e[r]=t.floor(a),e[n]=t.ceil(s),e}function WI(e){return Math.log(e)}function YI(e){return Math.exp(e)}function kAe(e){return-Math.log(-e)}function _Ae(e){return-Math.exp(-e)}function TAe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OAe(e){return e===10?TAe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FAe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XI(e){return(t,r)=>-e(-t,r)}function r_(e){const t=e(WI,YI),r=t.domain;let n=10,a,s;function o(){return a=FAe(n),s=OAe(n),r()[0]<0?(a=XI(a),s=XI(s),e(kAe,_Ae)):e(WI,YI),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const u=r();let A=u[0],f=u[u.length-1];const h=f<A;h&&([A,f]=[f,A]);let p=a(A),g=a(f),v,x;const b=l==null?10:+l;let w=[];if(!(n%1)&&g-p<b){if(p=Math.floor(p),g=Math.ceil(g),A>0){for(;p<=g;++p)for(v=1;v<n;++v)if(x=p<0?v/s(-p):v*s(p),!(x<A)){if(x>f)break;w.push(x)}}else for(;p<=g;++p)for(v=n-1;v>=1;--v)if(x=p>0?v/s(-p):v*s(p),!(x<A)){if(x>f)break;w.push(x)}w.length*2<b&&(w=D4(A,f,b))}else w=D4(p,g,Math.min(g-p,b)).map(s);return h?w.reverse():w},t.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Ky(u)).precision==null&&(u.trim=!0),u=t_(u)),l===1/0)return u;const A=Math.max(1,n*l/t.ticks().length);return f=>{let h=f/s(Math.round(a(f)));return h*n<n-.5&&(h*=n),h<=A?u(f):""}},t.nice=()=>r(Bz(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function jz(){const e=r_(Sw()).domain([1,10]);return e.copy=()=>$0(e,jz()).base(e.base()),Ml.apply(e,arguments),e}function JI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function n_(e){var t=1,r=e(JI(t),ZI(t));return r.constant=function(n){return arguments.length?e(JI(t=+n),ZI(t)):t},Od(r)}function Sz(){var e=n_(Sw());return e.copy=function(){return $0(e,Sz()).constant(e.constant())},Ml.apply(e,arguments)}function eD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function PAe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LAe(e){return e<0?-e*e:e*e}function a_(e){var t=e(uo,uo),r=1;function n(){return r===1?e(uo,uo):r===.5?e(PAe,LAe):e(eD(r),eD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Od(t)}function i_(){var e=a_(Sw());return e.copy=function(){return $0(e,i_()).exponent(e.exponent())},Ml.apply(e,arguments),e}function UAe(){return i_.apply(null,arguments).exponent(.5)}function tD(e){return Math.sign(e)*e*e}function IAe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Nz(){var e=Z3(),t=[0,1],r=!1,n;function a(s){var o=IAe(e(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return e.invert(tD(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Jb)).map(tD)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Nz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ml.apply(a,arguments),Od(a)}function Ez(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Hue(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[Q0(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(vd),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Ez().domain(e).range(t).unknown(n)},Ml.apply(s,arguments)}function kz(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function o(u){return u!=null&&u<=u?a[Q0(n,u,0,r)]:s}function l(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*t-(u-r)*e)/(r+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,l()):[e,t]},o.range=function(u){return arguments.length?(r=(a=Array.from(u)).length-1,l()):a.slice()},o.invertExtent=function(u){var A=a.indexOf(u);return A<0?[NaN,NaN]:A<1?[e,n[0]]:A>=r?[n[r-1],t]:[n[A-1],n[A]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return kz().domain([e,t]).range(a).unknown(s)},Ml.apply(Od(o),arguments)}function _z(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Q0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return _z().domain(e).range(t).unknown(r)},Ml.apply(a,arguments)}const rS=new Date,nS=new Date;function Yi(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const u=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let A;do u.push(A=new Date(+s)),t(s,l),e(s);while(A<s&&s<o);return u},a.filter=s=>Yi(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(a.count=(s,o)=>(rS.setTime(+s),nS.setTime(+o),e(rS),e(nS),Math.floor(r(rS,nS))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const t1=Yi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);t1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):t1);t1.range;const tA=1e3,Ol=tA*60,rA=Ol*60,fA=rA*24,s_=fA*7,rD=fA*30,aS=fA*365,Sf=Yi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*tA)},(e,t)=>(t-e)/tA,e=>e.getUTCSeconds());Sf.range;const o_=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tA)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getMinutes());o_.range;const l_=Yi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ol)},(e,t)=>(t-e)/Ol,e=>e.getUTCMinutes());l_.range;const c_=Yi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*tA-e.getMinutes()*Ol)},(e,t)=>{e.setTime(+e+t*rA)},(e,t)=>(t-e)/rA,e=>e.getHours());c_.range;const u_=Yi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*rA)},(e,t)=>(t-e)/rA,e=>e.getUTCHours());u_.range;const z0=Yi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ol)/fA,e=>e.getDate()-1);z0.range;const Nw=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fA,e=>e.getUTCDate()-1);Nw.range;const Tz=Yi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fA,e=>Math.floor(e/fA));Tz.range;function th(e){return Yi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ol)/s_)}const Ew=th(0),r1=th(1),DAe=th(2),MAe=th(3),Dm=th(4),RAe=th(5),QAe=th(6);Ew.range;r1.range;DAe.range;MAe.range;Dm.range;RAe.range;QAe.range;function rh(e){return Yi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/s_)}const kw=rh(0),n1=rh(1),HAe=rh(2),$Ae=rh(3),Mm=rh(4),zAe=rh(5),qAe=rh(6);kw.range;n1.range;HAe.range;$Ae.range;Mm.range;zAe.range;qAe.range;const A_=Yi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());A_.range;const d_=Yi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());d_.range;const hA=Yi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hA.range;const mA=Yi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mA.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mA.range;function Oz(e,t,r,n,a,s){const o=[[Sf,1,tA],[Sf,5,5*tA],[Sf,15,15*tA],[Sf,30,30*tA],[s,1,Ol],[s,5,5*Ol],[s,15,15*Ol],[s,30,30*Ol],[a,1,rA],[a,3,3*rA],[a,6,6*rA],[a,12,12*rA],[n,1,fA],[n,2,2*fA],[r,1,s_],[t,1,rD],[t,3,3*rD],[e,1,aS]];function l(A,f,h){const p=f<A;p&&([A,f]=[f,A]);const g=h&&typeof h.range=="function"?h:u(A,f,h),v=g?g.range(A,+f+1):[];return p?v.reverse():v}function u(A,f,h){const p=Math.abs(f-A)/h,g=G3(([,,b])=>b).right(o,p);if(g===o.length)return e.every(R4(A/aS,f/aS,h));if(g===0)return t1.every(Math.max(R4(A,f,h),1));const[v,x]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(x)}return[l,u]}const[VAe,KAe]=Oz(mA,d_,kw,Tz,u_,l_),[GAe,WAe]=Oz(hA,A_,Ew,z0,c_,o_);function iS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YAe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,u=e.shortMonths,A=jg(a),f=Sg(a),h=jg(s),p=Sg(s),g=jg(o),v=Sg(o),x=jg(l),b=Sg(l),w=jg(u),B=Sg(u),j={a:Y,A:ee,b:ie,B:z,c:null,d:lD,e:lD,f:vde,g:kde,G:Tde,H:pde,I:gde,j:yde,L:Fz,m:xde,M:bde,p:W,q:L,Q:AD,s:dD,S:wde,u:Cde,U:Bde,V:jde,w:Sde,W:Nde,x:null,X:null,y:Ede,Y:_de,Z:Ode,"%":uD},_={a:q,A:G,b:Z,B:te,c:null,d:cD,e:cD,f:Ude,g:Vde,G:Gde,H:Fde,I:Pde,j:Lde,L:Lz,m:Ide,M:Dde,p:fe,q:we,Q:AD,s:dD,S:Mde,u:Rde,U:Qde,V:Hde,w:$de,W:zde,x:null,X:null,y:qde,Y:Kde,Z:Wde,"%":uD},N={a:D,A:F,b:R,B:Q,c:H,d:sD,e:sD,f:dde,g:iD,G:aD,H:oD,I:oD,j:lde,L:Ade,m:ode,M:cde,p:U,q:sde,Q:hde,s:mde,S:ude,u:tde,U:rde,V:nde,w:ede,W:ade,x:J,X:V,y:iD,Y:aD,Z:ide,"%":fde};j.x=O(r,j),j.X=O(n,j),j.c=O(t,j),_.x=O(r,_),_.X=O(n,_),_.c=O(t,_);function O(he,ce){return function(xe){var ge=[],Pe=-1,ke=0,se=he.length,Et,Qt,It;for(xe instanceof Date||(xe=new Date(+xe));++Pe<se;)he.charCodeAt(Pe)===37&&(ge.push(he.slice(ke,Pe)),(Qt=nD[Et=he.charAt(++Pe)])!=null?Et=he.charAt(++Pe):Qt=Et==="e"?" ":"0",(It=ce[Et])&&(Et=It(xe,Qt)),ge.push(Et),ke=Pe+1);return ge.push(he.slice(ke,Pe)),ge.join("")}}function T(he,ce){return function(xe){var ge=Bg(1900,void 0,1),Pe=P(ge,he,xe+="",0),ke,se;if(Pe!=xe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(ce&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(ke=sS(Bg(ge.y,0,1)),se=ke.getUTCDay(),ke=se>4||se===0?n1.ceil(ke):n1(ke),ke=Nw.offset(ke,(ge.V-1)*7),ge.y=ke.getUTCFullYear(),ge.m=ke.getUTCMonth(),ge.d=ke.getUTCDate()+(ge.w+6)%7):(ke=iS(Bg(ge.y,0,1)),se=ke.getDay(),ke=se>4||se===0?r1.ceil(ke):r1(ke),ke=z0.offset(ke,(ge.V-1)*7),ge.y=ke.getFullYear(),ge.m=ke.getMonth(),ge.d=ke.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),se="Z"in ge?sS(Bg(ge.y,0,1)).getUTCDay():iS(Bg(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(se+5)%7:ge.w+ge.U*7-(se+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,sS(ge)):iS(ge)}}function P(he,ce,xe,ge){for(var Pe=0,ke=ce.length,se=xe.length,Et,Qt;Pe<ke;){if(ge>=se)return-1;if(Et=ce.charCodeAt(Pe++),Et===37){if(Et=ce.charAt(Pe++),Qt=N[Et in nD?ce.charAt(Pe++):Et],!Qt||(ge=Qt(he,xe,ge))<0)return-1}else if(Et!=xe.charCodeAt(ge++))return-1}return ge}function U(he,ce,xe){var ge=A.exec(ce.slice(xe));return ge?(he.p=f.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function D(he,ce,xe){var ge=g.exec(ce.slice(xe));return ge?(he.w=v.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function F(he,ce,xe){var ge=h.exec(ce.slice(xe));return ge?(he.w=p.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function R(he,ce,xe){var ge=w.exec(ce.slice(xe));return ge?(he.m=B.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function Q(he,ce,xe){var ge=x.exec(ce.slice(xe));return ge?(he.m=b.get(ge[0].toLowerCase()),xe+ge[0].length):-1}function H(he,ce,xe){return P(he,t,ce,xe)}function J(he,ce,xe){return P(he,r,ce,xe)}function V(he,ce,xe){return P(he,n,ce,xe)}function Y(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function ie(he){return u[he.getMonth()]}function z(he){return l[he.getMonth()]}function W(he){return a[+(he.getHours()>=12)]}function L(he){return 1+~~(he.getMonth()/3)}function q(he){return o[he.getUTCDay()]}function G(he){return s[he.getUTCDay()]}function Z(he){return u[he.getUTCMonth()]}function te(he){return l[he.getUTCMonth()]}function fe(he){return a[+(he.getUTCHours()>=12)]}function we(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var ce=O(he+="",j);return ce.toString=function(){return he},ce},parse:function(he){var ce=T(he+="",!1);return ce.toString=function(){return he},ce},utcFormat:function(he){var ce=O(he+="",_);return ce.toString=function(){return he},ce},utcParse:function(he){var ce=T(he+="",!0);return ce.toString=function(){return he},ce}}}var nD={"-":"",_:" ",0:"0"},cs=/^\s*\d+/,XAe=/^%/,JAe=/[\\^$*+?|[\]().{}]/g;function Wn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function ZAe(e){return e.replace(JAe,"\\$&")}function jg(e){return new RegExp("^(?:"+e.map(ZAe).join("|")+")","i")}function Sg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ede(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function tde(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function rde(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function nde(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ade(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aD(e,t,r){var n=cs.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iD(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ide(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sde(e,t,r){var n=cs.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ode(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sD(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lde(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oD(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cde(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ude(e,t,r){var n=cs.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ade(e,t,r){var n=cs.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dde(e,t,r){var n=cs.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fde(e,t,r){var n=XAe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hde(e,t,r){var n=cs.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mde(e,t,r){var n=cs.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lD(e,t){return Wn(e.getDate(),t,2)}function pde(e,t){return Wn(e.getHours(),t,2)}function gde(e,t){return Wn(e.getHours()%12||12,t,2)}function yde(e,t){return Wn(1+z0.count(hA(e),e),t,3)}function Fz(e,t){return Wn(e.getMilliseconds(),t,3)}function vde(e,t){return Fz(e,t)+"000"}function xde(e,t){return Wn(e.getMonth()+1,t,2)}function bde(e,t){return Wn(e.getMinutes(),t,2)}function wde(e,t){return Wn(e.getSeconds(),t,2)}function Cde(e){var t=e.getDay();return t===0?7:t}function Bde(e,t){return Wn(Ew.count(hA(e)-1,e),t,2)}function Pz(e){var t=e.getDay();return t>=4||t===0?Dm(e):Dm.ceil(e)}function jde(e,t){return e=Pz(e),Wn(Dm.count(hA(e),e)+(hA(e).getDay()===4),t,2)}function Sde(e){return e.getDay()}function Nde(e,t){return Wn(r1.count(hA(e)-1,e),t,2)}function Ede(e,t){return Wn(e.getFullYear()%100,t,2)}function kde(e,t){return e=Pz(e),Wn(e.getFullYear()%100,t,2)}function _de(e,t){return Wn(e.getFullYear()%1e4,t,4)}function Tde(e,t){var r=e.getDay();return e=r>=4||r===0?Dm(e):Dm.ceil(e),Wn(e.getFullYear()%1e4,t,4)}function Ode(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wn(t/60|0,"0",2)+Wn(t%60,"0",2)}function cD(e,t){return Wn(e.getUTCDate(),t,2)}function Fde(e,t){return Wn(e.getUTCHours(),t,2)}function Pde(e,t){return Wn(e.getUTCHours()%12||12,t,2)}function Lde(e,t){return Wn(1+Nw.count(mA(e),e),t,3)}function Lz(e,t){return Wn(e.getUTCMilliseconds(),t,3)}function Ude(e,t){return Lz(e,t)+"000"}function Ide(e,t){return Wn(e.getUTCMonth()+1,t,2)}function Dde(e,t){return Wn(e.getUTCMinutes(),t,2)}function Mde(e,t){return Wn(e.getUTCSeconds(),t,2)}function Rde(e){var t=e.getUTCDay();return t===0?7:t}function Qde(e,t){return Wn(kw.count(mA(e)-1,e),t,2)}function Uz(e){var t=e.getUTCDay();return t>=4||t===0?Mm(e):Mm.ceil(e)}function Hde(e,t){return e=Uz(e),Wn(Mm.count(mA(e),e)+(mA(e).getUTCDay()===4),t,2)}function $de(e){return e.getUTCDay()}function zde(e,t){return Wn(n1.count(mA(e)-1,e),t,2)}function qde(e,t){return Wn(e.getUTCFullYear()%100,t,2)}function Vde(e,t){return e=Uz(e),Wn(e.getUTCFullYear()%100,t,2)}function Kde(e,t){return Wn(e.getUTCFullYear()%1e4,t,4)}function Gde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Mm(e):Mm.ceil(e),Wn(e.getUTCFullYear()%1e4,t,4)}function Wde(){return"+0000"}function uD(){return"%"}function AD(e){return+e}function dD(e){return Math.floor(+e/1e3)}var Rh,Iz,Dz;Yde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yde(e){return Rh=YAe(e),Iz=Rh.format,Rh.parse,Dz=Rh.utcFormat,Rh.utcParse,Rh}function Xde(e){return new Date(e)}function Jde(e){return e instanceof Date?+e:+new Date(+e)}function f_(e,t,r,n,a,s,o,l,u,A){var f=Z3(),h=f.invert,p=f.domain,g=A(".%L"),v=A(":%S"),x=A("%I:%M"),b=A("%I %p"),w=A("%a %d"),B=A("%b %d"),j=A("%B"),_=A("%Y");function N(O){return(u(O)<O?g:l(O)<O?v:o(O)<O?x:s(O)<O?b:n(O)<O?a(O)<O?w:B:r(O)<O?j:_)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?p(Array.from(O,Jde)):p().map(Xde)},f.ticks=function(O){var T=p();return e(T[0],T[T.length-1],O??10)},f.tickFormat=function(O,T){return T==null?N:A(T)},f.nice=function(O){var T=p();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?p(Bz(T,O)):f},f.copy=function(){return $0(f,f_(e,t,r,n,a,s,o,l,u,A))},f}function Zde(){return Ml.apply(f_(GAe,WAe,hA,A_,Ew,z0,c_,o_,Sf,Iz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function efe(){return Ml.apply(f_(VAe,KAe,mA,d_,kw,Nw,u_,l_,Sf,Dz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _w(){var e=0,t=1,r,n,a,s,o=uo,l=!1,u;function A(h){return h==null||isNaN(h=+h)?u:o(a===0?.5:(h=(s(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}A.domain=function(h){return arguments.length?([e,t]=h,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),A):[e,t]},A.clamp=function(h){return arguments.length?(l=!!h,A):l},A.interpolator=function(h){return arguments.length?(o=h,A):o};function f(h){return function(p){var g,v;return arguments.length?([g,v]=p,o=h(g,v),A):[o(0),o(1)]}}return A.range=f(yp),A.rangeRound=f(J3),A.unknown=function(h){return arguments.length?(u=h,A):u},function(h){return s=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),A}}function Fd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Mz(){var e=Od(_w()(uo));return e.copy=function(){return Fd(e,Mz())},xA.apply(e,arguments)}function Rz(){var e=r_(_w()).domain([1,10]);return e.copy=function(){return Fd(e,Rz()).base(e.base())},xA.apply(e,arguments)}function Qz(){var e=n_(_w());return e.copy=function(){return Fd(e,Qz()).constant(e.constant())},xA.apply(e,arguments)}function h_(){var e=a_(_w());return e.copy=function(){return Fd(e,h_()).exponent(e.exponent())},xA.apply(e,arguments)}function tfe(){return h_.apply(null,arguments).exponent(.5)}function Hz(){var e=[],t=uo;function r(n){if(n!=null&&!isNaN(n=+n))return t((Q0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(vd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Que(e,s/n))},r.copy=function(){return Hz(t).domain(e)},xA.apply(r,arguments)}function Tw(){var e=0,t=.5,r=1,n=1,a,s,o,l,u,A=uo,f,h=!1,p;function g(x){return isNaN(x=+x)?p:(x=.5+((x=+f(x))-s)*(n*x<n*s?l:u),A(h?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([e,t,r]=x,a=f(e=+e),s=f(t=+t),o=f(r=+r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,g):[e,t,r]},g.clamp=function(x){return arguments.length?(h=!!x,g):h},g.interpolator=function(x){return arguments.length?(A=x,g):A};function v(x){return function(b){var w,B,j;return arguments.length?([w,B,j]=b,A=fAe(x,[w,B,j]),g):[A(0),A(.5),A(1)]}}return g.range=v(yp),g.rangeRound=v(J3),g.unknown=function(x){return arguments.length?(p=x,g):p},function(x){return f=x,a=x(e),s=x(t),o=x(r),l=a===s?0:.5/(s-a),u=s===o?0:.5/(o-s),n=s<a?-1:1,g}}function $z(){var e=Od(Tw()(uo));return e.copy=function(){return Fd(e,$z())},xA.apply(e,arguments)}function zz(){var e=r_(Tw()).domain([.1,1,10]);return e.copy=function(){return Fd(e,zz()).base(e.base())},xA.apply(e,arguments)}function qz(){var e=n_(Tw());return e.copy=function(){return Fd(e,qz()).constant(e.constant())},xA.apply(e,arguments)}function m_(){var e=a_(Tw());return e.copy=function(){return Fd(e,m_()).exponent(e.exponent())},xA.apply(e,arguments)}function rfe(){return m_.apply(null,arguments).exponent(.5)}const fD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$y,scaleDiverging:$z,scaleDivergingLog:zz,scaleDivergingPow:m_,scaleDivergingSqrt:rfe,scaleDivergingSymlog:qz,scaleIdentity:Cz,scaleImplicit:Q4,scaleLinear:e1,scaleLog:jz,scaleOrdinal:W3,scalePoint:sy,scalePow:i_,scaleQuantile:Ez,scaleQuantize:kz,scaleRadial:Nz,scaleSequential:Mz,scaleSequentialLog:Rz,scaleSequentialPow:h_,scaleSequentialQuantile:Hz,scaleSequentialSqrt:tfe,scaleSequentialSymlog:Qz,scaleSqrt:UAe,scaleSymlog:Sz,scaleThreshold:_z,scaleTime:Zde,scaleUtc:efe,tickFormat:wz},Symbol.toStringTag,{value:"Module"}));var oS,hD;function Ow(){if(hD)return oS;hD=1;var e=hp();function t(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],u=n(l);if(u!=null&&(A===void 0?u===u&&!e(u):a(u,A)))var A=u,f=l}return f}return oS=t,oS}var lS,mD;function Vz(){if(mD)return lS;mD=1;function e(t,r){return t>r}return lS=e,lS}var cS,pD;function nfe(){if(pD)return cS;pD=1;var e=Ow(),t=Vz(),r=gp();function n(a){return a&&a.length?e(a,r,t):void 0}return cS=n,cS}var afe=nfe();const Ad=ta(afe);var uS,gD;function Kz(){if(gD)return uS;gD=1;function e(t,r){return t<r}return uS=e,uS}var AS,yD;function ife(){if(yD)return AS;yD=1;var e=Ow(),t=Kz(),r=gp();function n(a){return a&&a.length?e(a,r,t):void 0}return AS=n,AS}var sfe=ife();const Fw=ta(sfe);var dS,vD;function ofe(){if(vD)return dS;vD=1;var e=T3(),t=gu(),r=tz(),n=ko();function a(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return dS=a,dS}var fS,xD;function lfe(){if(xD)return fS;xD=1;var e=Z$(),t=ofe();function r(n,a){return e(t(n,a),1)}return fS=r,fS}var cfe=lfe();const ufe=ta(cfe);var hS,bD;function Afe(){if(bD)return hS;bD=1;var e=z3();function t(r,n){return e(r,n)}return hS=t,hS}var dfe=Afe();const Vf=ta(dfe);var vp=1e9,ffe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},g_,Ra=!0,Il="[DecimalError] ",Lf=Il+"Invalid argument: ",p_=Il+"Exponent out of range: ",xp=Math.floor,pf=Math.pow,hfe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yo,ss=1e7,Fa=7,Gz=9007199254740991,a1=xp(Gz/Fa),Sr={};Sr.absoluteValue=Sr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Sr.comparedTo=Sr.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Sr.decimalPlaces=Sr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fa;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Sr.dividedBy=Sr.div=function(e){return sA(this,new this.constructor(e))};Sr.dividedToIntegerBy=Sr.idiv=function(e){var t=this,r=t.constructor;return ya(sA(t,new r(e),0,1),r.precision)};Sr.equals=Sr.eq=function(e){return!this.cmp(e)};Sr.exponent=function(){return Ui(this)};Sr.greaterThan=Sr.gt=function(e){return this.cmp(e)>0};Sr.greaterThanOrEqualTo=Sr.gte=function(e){return this.cmp(e)>=0};Sr.isInteger=Sr.isint=function(){return this.e>this.d.length-2};Sr.isNegative=Sr.isneg=function(){return this.s<0};Sr.isPositive=Sr.ispos=function(){return this.s>0};Sr.isZero=function(){return this.s===0};Sr.lessThan=Sr.lt=function(e){return this.cmp(e)<0};Sr.lessThanOrEqualTo=Sr.lte=function(e){return this.cmp(e)<1};Sr.logarithm=Sr.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yo))throw Error(Il+"NaN");if(r.s<1)throw Error(Il+(r.s?"NaN":"-Infinity"));return r.eq(Yo)?new n(0):(Ra=!1,t=sA(Gy(r,s),Gy(e,s),s),Ra=!0,ya(t,a))};Sr.minus=Sr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Xz(t,e):Wz(t,(e.s=-e.s,e))};Sr.modulo=Sr.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Il+"NaN");return r.s?(Ra=!1,t=sA(r,e,0,1).times(e),Ra=!0,r.minus(t)):ya(new n(r),a)};Sr.naturalExponential=Sr.exp=function(){return Yz(this)};Sr.naturalLogarithm=Sr.ln=function(){return Gy(this)};Sr.negated=Sr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Sr.plus=Sr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Wz(t,e):Xz(t,(e.s=-e.s,e))};Sr.precision=Sr.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lf+e);if(t=Ui(a)+1,n=a.d.length-1,r=n*Fa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Sr.squareRoot=Sr.sqrt=function(){var e,t,r,n,a,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(Il+"NaN")}for(e=Ui(l),Ra=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ru(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xp((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new u(t)):n=new u(a.toString()),r=u.precision,a=o=r+3;;)if(s=n,n=s.plus(sA(l,s,o+2)).times(.5),ru(s.d).slice(0,o)===(t=ru(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ya(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Ra=!0,ya(n,r)};Sr.times=Sr.mul=function(e){var t,r,n,a,s,o,l,u,A,f=this,h=f.constructor,p=f.d,g=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=p.length,A=g.length,u<A&&(s=p,p=g,g=s,o=u,u=A,A=o),s=[],o=u+A,n=o;n--;)s.push(0);for(n=A;--n>=0;){for(t=0,a=u+n;a>n;)l=s[a]+g[n]*p[a-n-1]+t,s[a--]=l%ss|0,t=l/ss|0;s[a]=(s[a]+t)%ss|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ra?ya(e,h.precision):e};Sr.toDecimalPlaces=Sr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(fu(e,0,vp),t===void 0?t=n.rounding:fu(t,0,8),ya(r,e+Ui(r)+1,t))};Sr.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Kf(n,!0):(fu(e,0,vp),t===void 0?t=a.rounding:fu(t,0,8),n=ya(new a(n),e+1,t),r=Kf(n,!0,e+1)),r};Sr.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Kf(a):(fu(e,0,vp),t===void 0?t=s.rounding:fu(t,0,8),n=ya(new s(a),e+Ui(a)+1,t),r=Kf(n.abs(),!1,e+Ui(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Sr.toInteger=Sr.toint=function(){var e=this,t=e.constructor;return ya(new t(e),Ui(e)+1,t.rounding)};Sr.toNumber=function(){return+this};Sr.toPower=Sr.pow=function(e){var t,r,n,a,s,o,l=this,u=l.constructor,A=12,f=+(e=new u(e));if(!e.s)return new u(Yo);if(l=new u(l),!l.s){if(e.s<1)throw Error(Il+"Infinity");return l}if(l.eq(Yo))return l;if(n=u.precision,e.eq(Yo))return ya(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=Gz){for(a=new u(Yo),t=Math.ceil(n/Fa+4),Ra=!1;r%2&&(a=a.times(l),CD(a.d,t)),r=xp(r/2),r!==0;)l=l.times(l),CD(l.d,t);return Ra=!0,e.s<0?new u(Yo).div(a):ya(a,n)}}else if(s<0)throw Error(Il+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ra=!1,a=e.times(Gy(l,n+A)),Ra=!0,a=Yz(a),a.s=s,a};Sr.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ui(a),n=Kf(a,r<=s.toExpNeg||r>=s.toExpPos)):(fu(e,1,vp),t===void 0?t=s.rounding:fu(t,0,8),a=ya(new s(a),e,t),r=Ui(a),n=Kf(a,e<=r||r<=s.toExpNeg,e)),n};Sr.toSignificantDigits=Sr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(fu(e,1,vp),t===void 0?t=n.rounding:fu(t,0,8)),ya(new n(r),e,t)};Sr.toString=Sr.valueOf=Sr.val=Sr.toJSON=Sr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ui(e),r=e.constructor;return Kf(e,t<=r.toExpNeg||t>=r.toExpPos)};function Wz(e,t){var r,n,a,s,o,l,u,A,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Ra?ya(t,h):t;if(u=e.d,A=t.d,o=e.e,a=t.e,u=u.slice(),s=o-a,s){for(s<0?(n=u,s=-s,l=A.length):(n=A,a=o,l=u.length),o=Math.ceil(h/Fa),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=u.length,s=A.length,l-s<0&&(s=l,n=A,A=u,u=n),r=0;s;)r=(u[--s]=u[s]+A[s]+r)/ss|0,u[s]%=ss;for(r&&(u.unshift(r),++a),l=u.length;u[--l]==0;)u.pop();return t.d=u,t.e=a,Ra?ya(t,h):t}function fu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Lf+e)}function ru(e){var t,r,n,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)n=e[t]+"",r=Fa-n.length,r&&(s+=ad(r)),s+=n;o=e[t],n=o+"",r=Fa-n.length,r&&(s+=ad(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var sA=function(){function e(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%ss|0,o=s/ss|0;return o&&n.unshift(o),n}function t(n,a,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(n[l]!=a[l]){u=n[l]>a[l]?1:-1;break}return u}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*ss+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,u,A,f,h,p,g,v,x,b,w,B,j,_,N,O,T,P,U=n.constructor,D=n.s==a.s?1:-1,F=n.d,R=a.d;if(!n.s)return new U(n);if(!a.s)throw Error(Il+"Division by zero");for(u=n.e-a.e,T=R.length,N=F.length,g=new U(D),v=g.d=[],A=0;R[A]==(F[A]||0);)++A;if(R[A]>(F[A]||0)&&--u,s==null?B=s=U.precision:o?B=s+(Ui(n)-Ui(a))+1:B=s,B<0)return new U(0);if(B=B/Fa+2|0,A=0,T==1)for(f=0,R=R[0],B++;(A<N||f)&&B--;A++)j=f*ss+(F[A]||0),v[A]=j/R|0,f=j%R|0;else{for(f=ss/(R[0]+1)|0,f>1&&(R=e(R,f),F=e(F,f),T=R.length,N=F.length),_=T,x=F.slice(0,T),b=x.length;b<T;)x[b++]=0;P=R.slice(),P.unshift(0),O=R[0],R[1]>=ss/2&&++O;do f=0,l=t(R,x,T,b),l<0?(w=x[0],T!=b&&(w=w*ss+(x[1]||0)),f=w/O|0,f>1?(f>=ss&&(f=ss-1),h=e(R,f),p=h.length,b=x.length,l=t(h,x,p,b),l==1&&(f--,r(h,T<p?P:R,p))):(f==0&&(l=f=1),h=R.slice()),p=h.length,p<b&&h.unshift(0),r(x,h,b),l==-1&&(b=x.length,l=t(R,x,T,b),l<1&&(f++,r(x,T<b?P:R,b))),b=x.length):l===0&&(f++,x=[0]),v[A++]=f,l&&x[0]?x[b++]=F[_]||0:(x=[F[_]],b=1);while((_++<N||x[0]!==void 0)&&B--)}return v[0]||v.shift(),g.e=u,ya(g,o?s+Ui(g)+1:s)}}();function Yz(e,t){var r,n,a,s,o,l,u=0,A=0,f=e.constructor,h=f.precision;if(Ui(e)>16)throw Error(p_+Ui(e));if(!e.s)return new f(Yo);for(Ra=!1,l=h,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),A+=5;for(n=Math.log(pf(2,A))/Math.LN10*2+5|0,l+=n,r=a=s=new f(Yo),f.precision=l;;){if(a=ya(a.times(e),l),r=r.times(++u),o=s.plus(sA(a,r,l)),ru(o.d).slice(0,l)===ru(s.d).slice(0,l)){for(;A--;)s=ya(s.times(s),l);return f.precision=h,t==null?(Ra=!0,ya(s,h)):s}s=o}}function Ui(e){for(var t=e.e*Fa,r=e.d[0];r>=10;r/=10)t++;return t}function mS(e,t,r){if(t>e.LN10.sd())throw Ra=!0,r&&(e.precision=r),Error(Il+"LN10 precision limit exceeded");return ya(new e(e.LN10),t)}function ad(e){for(var t="";e--;)t+="0";return t}function Gy(e,t){var r,n,a,s,o,l,u,A,f,h=1,p=10,g=e,v=g.d,x=g.constructor,b=x.precision;if(g.s<1)throw Error(Il+(g.s?"NaN":"-Infinity"));if(g.eq(Yo))return new x(0);if(t==null?(Ra=!1,A=b):A=t,g.eq(10))return t==null&&(Ra=!0),mS(x,A);if(A+=p,x.precision=A,r=ru(v),n=r.charAt(0),s=Ui(g),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=ru(g.d),n=r.charAt(0),h++;s=Ui(g),n>1?(g=new x("0."+r),s++):g=new x(n+"."+r.slice(1))}else return u=mS(x,A+2,b).times(s+""),g=Gy(new x(n+"."+r.slice(1)),A-p).plus(u),x.precision=b,t==null?(Ra=!0,ya(g,b)):g;for(l=o=g=sA(g.minus(Yo),g.plus(Yo),A),f=ya(g.times(g),A),a=3;;){if(o=ya(o.times(f),A),u=l.plus(sA(o,new x(a),A)),ru(u.d).slice(0,A)===ru(l.d).slice(0,A))return l=l.times(2),s!==0&&(l=l.plus(mS(x,A+2,b).times(s+""))),l=sA(l,new x(h),A),x.precision=b,t==null?(Ra=!0,ya(l,b)):l;l=u,a+=2}}function wD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xp(r/Fa),e.d=[],n=(r+1)%Fa,r<0&&(n+=Fa),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Fa;n<a;)e.d.push(+t.slice(n,n+=Fa));t=t.slice(n),n=Fa-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ra&&(e.e>a1||e.e<-a1))throw Error(p_+r)}else e.s=0,e.e=0,e.d=[0];return e}function ya(e,t,r){var n,a,s,o,l,u,A,f,h=e.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Fa,a=t,A=h[f=0];else{if(f=Math.ceil((n+1)/Fa),s=h.length,f>=s)return e;for(A=s=h[f],o=1;s>=10;s/=10)o++;n%=Fa,a=n-Fa+o}if(r!==void 0&&(s=pf(10,o-a-1),l=A/s%10|0,u=t<0||h[f+1]!==void 0||A%s,u=r<4?(l||u)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||u||r==6&&(n>0?a>0?A/pf(10,o-a):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(s=Ui(e),h.length=1,t=t-s-1,h[0]=pf(10,(Fa-t%Fa)%Fa),e.e=xp(-t/Fa)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=f,s=1,f--):(h.length=f+1,s=pf(10,Fa-n),h[f]=a>0?(A/pf(10,o-a)%pf(10,a)|0)*s:0),u)for(;;)if(f==0){(h[0]+=s)==ss&&(h[0]=1,++e.e);break}else{if(h[f]+=s,h[f]!=ss)break;h[f--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Ra&&(e.e>a1||e.e<-a1))throw Error(p_+Ui(e));return e}function Xz(e,t){var r,n,a,s,o,l,u,A,f,h,p=e.constructor,g=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Ra?ya(t,g):t;if(u=e.d,h=t.d,n=t.e,A=e.e,u=u.slice(),o=A-n,o){for(f=o<0,f?(r=u,o=-o,l=h.length):(r=h,n=A,l=u.length),a=Math.max(Math.ceil(g/Fa),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=u.length,l=h.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(u[a]!=h[a]){f=u[a]<h[a];break}o=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),l=u.length,a=h.length-l;a>0;--a)u[l++]=0;for(a=h.length;a>o;){if(u[--a]<h[a]){for(s=a;s&&u[--s]===0;)u[s]=ss-1;--u[s],u[a]+=ss}u[a]-=h[a]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=n,Ra?ya(t,g):t):new p(0)}function Kf(e,t,r){var n,a=Ui(e),s=ru(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+ad(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+ad(-a-1)+s,r&&(n=r-o)>0&&(s+=ad(n))):a>=o?(s+=ad(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+ad(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=ad(n))),e.s<0?"-"+s:s}function CD(e,t){if(e.length>t)return e.length=t,!0}function Jz(e){var t,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Lf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return wD(o,s.toString())}else if(typeof s!="string")throw Error(Lf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,hfe.test(s))wD(o,s);else throw Error(Lf+s)}if(a.prototype=Sr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Jz,a.config=a.set=mfe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function mfe(e){if(!e||typeof e!="object")throw Error(Il+"Object expected");var t,r,n,a=["precision",1,vp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xp(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Lf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lf+r+": "+n);return this}var g_=Jz(ffe);Yo=new g_(1);const da=g_;function pfe(e){return xfe(e)||vfe(e)||yfe(e)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yfe(e,t){if(e){if(typeof e=="string")return q4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q4(e,t)}}function vfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xfe(e){if(Array.isArray(e))return q4(e)}function q4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bfe=function(t){return t},Zz={},eq=function(t){return t===Zz},BD=function(t){return function r(){return arguments.length===0||arguments.length===1&&eq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},wfe=function e(t,r){return t===1?r:BD(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==Zz}).length;return o>=t?r.apply(void 0,a):e(t-o,BD(function(){for(var l=arguments.length,u=new Array(l),A=0;A<l;A++)u[A]=arguments[A];var f=a.map(function(h){return eq(h)?u.shift():h});return r.apply(void 0,pfe(f).concat(u))}))})},Pw=function(t){return wfe(t.length,t)},V4=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Cfe=Pw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Bfe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bfe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,u){return u(l)},s.apply(void 0,arguments))}},K4=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,u){return l===r[u]})||(r=s,n=t.apply(void 0,s)),n}};function jfe(e){var t;return e===0?t=1:t=Math.floor(new da(e).abs().log(10).toNumber())+1,t}function Sfe(e,t,r){for(var n=new da(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Nfe=Pw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Efe=Pw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kfe=Pw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Lw={rangeStep:Sfe,getDigitCount:jfe,interpolateNumber:Nfe,uninterpolateNumber:Efe,uninterpolateTruncation:kfe};function G4(e){return Ofe(e)||Tfe(e)||rq(e)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tfe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ofe(e){if(Array.isArray(e))return W4(e)}function Wy(e,t){return Lfe(e)||Pfe(e,t)||rq(e,t)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rq(e,t){if(e){if(typeof e=="string")return W4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W4(e,t)}}function W4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pfe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(u){a=!0,s=u}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function Lfe(e){if(Array.isArray(e))return e}function nq(e){var t=Wy(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function aq(e,t,r){if(e.lte(0))return new da(0);var n=Lw.getDigitCount(e.toNumber()),a=new da(10).pow(n),s=e.div(a),o=n!==1?.05:.1,l=new da(Math.ceil(s.div(o).toNumber())).add(r).mul(o),u=l.mul(a);return t?u:new da(Math.ceil(u))}function Ufe(e,t,r){var n=1,a=new da(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new da(10).pow(Lw.getDigitCount(e)-1),a=new da(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new da(Math.floor(e)))}else e===0?a=new da(Math.floor((t-1)/2)):r||(a=new da(Math.floor(e)));var o=Math.floor((t-1)/2),l=Bfe(Cfe(function(u){return a.add(new da(u-o).mul(n)).toNumber()}),V4);return l(0,t)}function iq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new da(0),tickMin:new da(0),tickMax:new da(0)};var s=aq(new da(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new da(0):(o=new da(e).add(t).div(2),o=o.sub(new da(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),u=Math.ceil(new da(t).sub(o).div(s).toNumber()),A=l+u+1;return A>r?iq(e,t,r,n,a+1):(A<r&&(u=t>0?u+(r-A):u,l=t>0?l:l+(r-A)),{step:s,tickMin:o.sub(new da(l).mul(s)),tickMax:o.add(new da(u).mul(s))})}function Ife(e){var t=Wy(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=nq([r,n]),u=Wy(l,2),A=u[0],f=u[1];if(A===-1/0||f===1/0){var h=f===1/0?[A].concat(G4(V4(0,a-1).map(function(){return 1/0}))):[].concat(G4(V4(0,a-1).map(function(){return-1/0})),[f]);return r>n?K4(h):h}if(A===f)return Ufe(A,a,s);var p=iq(A,f,o,s),g=p.step,v=p.tickMin,x=p.tickMax,b=Lw.rangeStep(v,x.add(new da(.1).mul(g)),g);return r>n?K4(b):b}function Dfe(e,t){var r=Wy(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nq([n,a]),l=Wy(o,2),u=l[0],A=l[1];if(u===-1/0||A===1/0)return[n,a];if(u===A)return[u];var f=Math.max(t,2),h=aq(new da(A).sub(u).div(f-1),s,0),p=[].concat(G4(Lw.rangeStep(new da(u),new da(A).sub(new da(.99).mul(h)),h)),[A]);return n>a?K4(p):p}var Mfe=tq(Ife),Rfe=tq(Dfe),Qfe="Invariant failed";function Gf(e,t){throw new Error(Qfe)}var Hfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}function $fe(e,t){return Kfe(e)||Vfe(e,t)||qfe(e,t)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qfe(e,t){if(e){if(typeof e=="string")return jD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jD(e,t)}}function jD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Kfe(e){if(Array.isArray(e))return e}function Gfe(e,t){if(e==null)return{};var r=Wfe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lq(n.key),n)}}function Jfe(e,t,r){return t&&Xfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zfe(e,t,r){return t=s1(t),ehe(e,sq()?Reflect.construct(t,r||[],s1(e).constructor):t.apply(e,r))}function ehe(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return the(e)}function the(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function s1(e){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(e)}function rhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y4(e,t)}function Y4(e,t){return Y4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Y4(e,t)}function oq(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=nhe(e,"string");return Rm(t)=="symbol"?t:t+""}function nhe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q0=function(e){function t(){return Yfe(this,t),Zfe(this,t,arguments)}return rhe(t,e),Jfe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,u=n.data,A=n.dataPointFormatter,f=n.xAxis,h=n.yAxis,p=Gfe(n,Hfe),g=Rr(p,!1);this.props.direction==="x"&&f.type!=="number"&&Gf();var v=u.map(function(x){var b=A(x,l),w=b.x,B=b.y,j=b.value,_=b.errorVal;if(!_)return null;var N=[],O,T;if(Array.isArray(_)){var P=$fe(_,2);O=P[0],T=P[1]}else O=T=_;if(s==="vertical"){var U=f.scale,D=B+a,F=D+o,R=D-o,Q=U(j-O),H=U(j+T);N.push({x1:H,y1:F,x2:H,y2:R}),N.push({x1:Q,y1:D,x2:H,y2:D}),N.push({x1:Q,y1:F,x2:Q,y2:R})}else if(s==="horizontal"){var J=h.scale,V=w+a,Y=V-o,ee=V+o,ie=J(j-O),z=J(j+T);N.push({x1:Y,y1:z,x2:ee,y2:z}),N.push({x1:V,y1:ie,x2:V,y2:z}),N.push({x1:Y,y1:ie,x2:ee,y2:ie})}return Ce.createElement(kn,i1({className:"recharts-errorBar",key:"bar-".concat(N.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),N.map(function(W){return Ce.createElement("line",i1({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return Ce.createElement(kn,{className:"recharts-errorBars"},v)}}])}(Ce.Component);oq(q0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oq(q0,"displayName","ErrorBar");function Yy(e){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yy(e)}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){ahe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ahe(e,t,r){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ihe(e){var t=she(e,"string");return Yy(t)=="symbol"?t:t+""}function she(e,t){if(Yy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=Wo(r,yd);if(!o)return null;var l=yd.defaultProps,u=l!==void 0?uf(uf({},l),o.props):{},A;return o.props&&o.props.payload?A=o.props&&o.props.payload:s==="children"?A=(n||[]).reduce(function(f,h){var p=h.item,g=h.props,v=g.sectors||g.data||[];return f.concat(v.map(function(x){return{type:o.props.iconType||p.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):A=(n||[]).map(function(f){var h=f.item,p=h.type.defaultProps,g=p!==void 0?uf(uf({},p),h.props):{},v=g.dataKey,x=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:v,type:u.iconType||b||"square",color:y_(h),value:x||v,payload:g}}),uf(uf(uf({},u),yd.getWithHeight(o,a)),{},{payload:A,item:o})};function Xy(e){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(e)}function ND(e){return uhe(e)||che(e)||lhe(e)||ohe()}function ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(e,t){if(e){if(typeof e=="string")return X4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X4(e,t)}}function che(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uhe(e){if(Array.isArray(e))return X4(e)}function X4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xm(e,t,r){return t=Ahe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ahe(e){var t=dhe(e,"string");return Xy(t)=="symbol"?t:t+""}function dhe(e,t){if(Xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(e,t,r){return sn(e)||sn(t)?r:Wi(t)?Zo(e,t,r):Jr(t)?t(e):r}function oy(e,t,r,n){var a=ufe(e,function(l){return Ci(l,t)});if(r==="number"){var s=a.filter(function(l){return ir(l)||parseFloat(l)});return s.length?[Fw(s),Ad(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!sn(l)}):a;return o.map(function(l){return Wi(l)||l instanceof Date?l:""})}var fhe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,A=0;A<l;A++){var f=A>0?a[A-1].coordinate:a[l-1].coordinate,h=a[A].coordinate,p=A>=l-1?a[0].coordinate:a[A+1].coordinate,g=void 0;if(lo(h-f)!==lo(p-h)){var v=[];if(lo(p-h)===lo(u[1]-u[0])){g=p;var x=h+u[1]-u[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{g=f;var b=p+u[1]-u[0];v[0]=Math.min(h,(b+h)/2),v[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(t>w[0]&&t<=w[1]||t>=v[0]&&t<=v[1]){o=a[A].index;break}}else{var B=Math.min(f,p),j=Math.max(f,p);if(t>(B+h)/2&&t<=(j+h)/2){o=a[A].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},y_=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ci(ci({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,u;switch(a){case"Line":u=o;break;case"Area":case"Radar":u=o&&o!=="none"?o:l;break;default:u=l;break}return u},hhe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),u=0,A=l.length;u<A;u++)for(var f=s[l[u]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var v=f[h[p]],x=v.items,b=v.cateAxisId,w=x.filter(function(T){return iA(T.type).indexOf("Bar")>=0});if(w&&w.length){var B=w[0].type.defaultProps,j=B!==void 0?ci(ci({},B),w[0].props):w[0].props,_=j.barSize,N=j[b];o[N]||(o[N]=[]);var O=sn(_)?r:_;o[N].push({item:w[0],stackList:w.slice(1),barSize:sn(O)?void 0:co(O,n,0)})}}return o},mhe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,u=o.length;if(u<1)return null;var A=co(r,a,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=a/u,v=o.reduce(function(_,N){return _+N.barSize||0},0);v+=(u-1)*A,v>=a&&(v-=(u-1)*A,A=0),v>=a&&g>0&&(p=!0,g*=.9,v=u*g);var x=(a-v)/2>>0,b={offset:x-A,size:0};f=o.reduce(function(_,N){var O={item:N.item,position:{offset:b.offset+b.size+A,size:p?g:N.barSize}},T=[].concat(ND(_),[O]);return b=T[T.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){T.push({item:P,position:b})}),T},h)}else{var w=co(n,a,0,!0);a-2*w-(u-1)*A<=0&&(A=0);var B=(a-2*w-(u-1)*A)/u;B>1&&(B>>=0);var j=l===+l?Math.min(B,l):B;f=o.reduce(function(_,N,O){var T=[].concat(ND(_),[{item:N.item,position:{offset:w+(B+A)*O+(B-j)/2,size:j}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},h)}return f},phe=function(t,r,n,a){var s=n.children,o=n.width,l=n.margin,u=o-(l.left||0)-(l.right||0),A=cq({children:s,legendWidth:u});if(A){var f=a||{},h=f.width,p=f.height,g=A.align,v=A.verticalAlign,x=A.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&g!=="center"&&ir(t[g]))return ci(ci({},t),{},xm({},g,t[g]+(h||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&v!=="middle"&&ir(t[v]))return ci(ci({},t),{},xm({},v,t[v]+(p||0)))}return t},ghe=function(t,r,n){return sn(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uq=function(t,r,n,a,s){var o=r.props.children,l=el(o,q0).filter(function(A){return ghe(a,s,A.props.direction)});if(l&&l.length){var u=l.map(function(A){return A.props.dataKey});return t.reduce(function(A,f){var h=Ci(f,n);if(sn(h))return A;var p=Array.isArray(h)?[Fw(h),Ad(h)]:[h,h],g=u.reduce(function(v,x){var b=Ci(f,x,0),w=p[0]-Math.abs(Array.isArray(b)?b[0]:b),B=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,v[0]),Math.max(B,v[1])]},[1/0,-1/0]);return[Math.min(g[0],A[0]),Math.max(g[1],A[1])]},[1/0,-1/0])}return null},yhe=function(t,r,n,a,s){var o=r.map(function(l){return uq(t,l,n,s,a)}).filter(function(l){return!sn(l)});return o&&o.length?o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]):null},Aq=function(t,r,n,a,s){var o=r.map(function(u){var A=u.props.dataKey;return n==="number"&&A&&uq(t,u,A,a)||oy(t,A,n,s)});if(n==="number")return o.reduce(function(u,A){return[Math.min(u[0],A[0]),Math.max(u[1],A[1])]},[1/0,-1/0]);var l={};return o.reduce(function(u,A){for(var f=0,h=A.length;f<h;f++)l[A[f]]||(l[A[f]]=!0,u.push(A[f]));return u},[])},dq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},fq=function(t,r,n,a){if(a)return t.map(function(u){return u.coordinate});var s,o,l=t.map(function(u){return u.coordinate===r&&(s=!0),u.coordinate===n&&(o=!0),u.coordinate});return s||l.push(r),o||l.push(n),l},nA=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,u=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,A=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/u:0;if(A=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?lo(l[0]-l[1])*2*A:A,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var p=s?s.indexOf(h):h;return{coordinate:a(p)+A,value:h,offset:A}});return f.filter(function(h){return!pp(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:a(h)+A,value:h,index:p,offset:A}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(h){return{coordinate:a(h)+A,value:h,offset:A}}):a.domain().map(function(h,p){return{coordinate:a(h)+A,value:s?s[h]:h,index:p,offset:A}})},pS=new WeakMap,ix=function(t,r){if(typeof r!="function")return t;pS.has(t)||pS.set(t,new WeakMap);var n=pS.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},hq=function(t,r,n){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$y(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:e1(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sy(),realScaleType:"point"}:s==="category"?{scale:$y(),realScaleType:"band"}:{scale:e1(),realScaleType:"linear"};if(M0(a)){var u="scale".concat(vw(a));return{scale:(fD[u]||sy)(),realScaleType:fD[u]?u:"point"}}return Jr(a)?{scale:a}:{scale:sy(),realScaleType:"point"}},kD=1e-4,mq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-kD,o=Math.max(a[0],a[1])+kD,l=t(r[0]),u=t(r[n-1]);(l<s||l>o||u<s||u>o)&&t.domain([r[0],r[n-1]])}},vhe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xhe=function(t,r){if(!r||r.length!==2||!ir(r[0])||!ir(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!ir(t[0])||t[0]<n)&&(s[0]=n),(!ir(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},bhe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var u=pp(t[l][n][1])?t[l][n][0]:t[l][n][1];u>=0?(t[l][n][0]=s,t[l][n][1]=s+u,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+u,o=t[l][n][1])}},whe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=pp(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Che={sign:bhe,expand:uoe,none:Om,silhouette:Aoe,wiggle:doe,positive:whe},Bhe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=Che[n],o=coe().keys(a).value(function(l,u){return+Ci(l,u,0)}).order(N4).offset(s);return o(t)},jhe=function(t,r,n,a,s,o){if(!t)return null;var l=o?r.reverse():r,u={},A=l.reduce(function(h,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?ci(ci({},p.type.defaultProps),p.props):p.props,x=v.stackId,b=v.hide;if(b)return h;var w=v[n],B=h[w]||{hasStack:!1,stackGroups:{}};if(Wi(x)){var j=B.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};j.items.push(p),B.hasStack=!0,B.stackGroups[x]=j}else B.stackGroups[eh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[p]};return ci(ci({},h),{},xm({},w,B))},u),f={};return Object.keys(A).reduce(function(h,p){var g=A[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,b){var w=g.stackGroups[b];return ci(ci({},x),{},xm({},b,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:Bhe(t,w.items,s)}))},v)}return ci(ci({},h),{},xm({},p,g))},f)},pq=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,u=n||r.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var A=t.domain();if(!A.length)return null;var f=Mfe(A,s,l);return t.domain([Fw(f),Ad(f)]),{niceTicks:f}}if(s&&a==="number"){var h=t.domain(),p=Rfe(h,s,l);return{niceTicks:p}}return null};function o1(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!sn(a[t.dataKey])){var l=Ub(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var u=Ci(a,sn(o)?t.dataKey:o);return sn(u)?null:t.scale(u)}var _D=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var u=Ci(o,r.dataKey,r.domain[l]);return sn(u)?null:r.scale(u)-s/2+a},She=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},Nhe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ci(ci({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Wi(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Ehe=function(t){return t.reduce(function(r,n){return[Fw(n.concat([r[0]]).filter(ir)),Ad(n.concat([r[1]]).filter(ir))]},[1/0,-1/0])},gq=function(t,r,n){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,u=l.reduce(function(A,f){var h=Ehe(f.slice(r,n+1));return[Math.min(A[0],h[0]),Math.max(A[1],h[1])]},[1/0,-1/0]);return[Math.min(u[0],a[0]),Math.max(u[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},TD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,J4=function(t,r,n){if(Jr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ir(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(TD.test(t[0])){var s=+TD.exec(t[0])[1];a[0]=r[0]-s}else Jr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ir(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(OD.test(t[1])){var o=+OD.exec(t[1])[1];a[1]=r[1]+o}else Jr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},l1=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=V3(r,function(h){return h.coordinate}),o=1/0,l=1,u=s.length;l<u;l++){var A=s[l],f=s[l-1];o=Math.min((A.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},FD=function(t,r,n){return!t||!t.length||Vf(t,Zo(n,"type.defaultProps.domain"))?r:t},yq=function(t,r){var n=t.type.defaultProps?ci(ci({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,u=n.tooltipType,A=n.chartType,f=n.hide;return ci(ci({},Rr(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:y_(t),value:Ci(r,a),type:u,payload:r,chartType:A,hide:f})};function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vq(e,t,r){return t=khe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=_he(e,"string");return Jy(t)=="symbol"?t:t+""}function _he(e,t){if(Jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function The(e,t){return Lhe(e)||Phe(e,t)||Fhe(e,t)||Ohe()}function Ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fhe(e,t){if(e){if(typeof e=="string")return LD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LD(e,t)}}function LD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Phe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Lhe(e){if(Array.isArray(e))return e}var c1=Math.PI/180,Uhe=function(t){return t*180/Math.PI},Sa=function(t,r,n,a){return{x:t+Math.cos(-c1*a)*n,y:r+Math.sin(-c1*a)*n}},xq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Ihe=function(t,r,n,a,s){var o=t.width,l=t.height,u=t.startAngle,A=t.endAngle,f=co(t.cx,o,o/2),h=co(t.cy,l,l/2),p=xq(o,l,n),g=co(t.innerRadius,p,0),v=co(t.outerRadius,p,p*.8),x=Object.keys(r);return x.reduce(function(b,w){var B=r[w],j=B.domain,_=B.reversed,N;if(sn(B.range))a==="angleAxis"?N=[u,A]:a==="radiusAxis"&&(N=[g,v]),_&&(N=[N[1],N[0]]);else{N=B.range;var O=N,T=The(O,2);u=T[0],A=T[1]}var P=hq(B,s),U=P.realScaleType,D=P.scale;D.domain(j).range(N),mq(D);var F=pq(D,Xu(Xu({},B),{},{realScaleType:U})),R=Xu(Xu(Xu({},B),F),{},{range:N,radius:v,realScaleType:U,scale:D,cx:f,cy:h,innerRadius:g,outerRadius:v,startAngle:u,endAngle:A});return Xu(Xu({},b),{},vq({},w,R))},{})},Dhe=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},Mhe=function(t,r){var n=t.x,a=t.y,s=r.cx,o=r.cy,l=Dhe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var u=(n-s)/l,A=Math.acos(u);return a>o&&(A=2*Math.PI-A),{radius:l,angle:Uhe(A),angleInRadian:A}},Rhe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},Qhe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},UD=function(t,r){var n=t.x,a=t.y,s=Mhe({x:n,y:a},r),o=s.radius,l=s.angle,u=r.innerRadius,A=r.outerRadius;if(o<u||o>A)return!1;if(o===0)return!0;var f=Rhe(r),h=f.startAngle,p=f.endAngle,g=l,v;if(h<=p){for(;g>p;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=p}else{for(;g>h;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=h}return v?Xu(Xu({},r),{},{radius:o,angle:Qhe(g,r)}):null},bq=function(t){return!k.isValidElement(t)&&!Jr(t)&&typeof t!="boolean"?t.className:""};function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}var Hhe=["offset"];function $he(e){return Khe(e)||Vhe(e)||qhe(e)||zhe()}function zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qhe(e,t){if(e){if(typeof e=="string")return Z4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z4(e,t)}}function Vhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Khe(e){if(Array.isArray(e))return Z4(e)}function Z4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ghe(e,t){if(e==null)return{};var r=Whe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){Yhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yhe(e,t,r){return t=Xhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xhe(e){var t=Jhe(e,"string");return Zy(t)=="symbol"?t:t+""}function Jhe(e,t){if(Zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e0.apply(this,arguments)}var Zhe=function(t){var r=t.value,n=t.formatter,a=sn(t.children)?r:t.children;return Jr(n)?n(a):a},eme=function(t,r){var n=lo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tme=function(t,r,n){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,u=s,A=u.cx,f=u.cy,h=u.innerRadius,p=u.outerRadius,g=u.startAngle,v=u.endAngle,x=u.clockWise,b=(h+p)/2,w=eme(g,v),B=w>=0?1:-1,j,_;a==="insideStart"?(j=g+B*o,_=x):a==="insideEnd"?(j=v-B*o,_=!x):a==="end"&&(j=v+B*o,_=x),_=w<=0?_:!_;var N=Sa(A,f,b,j),O=Sa(A,f,b,j+(_?1:-1)*359),T="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(O.x,",").concat(O.y),P=sn(t.id)?eh("recharts-radial-line-"):t.id;return Ce.createElement("text",e0({},n,{dominantBaseline:"central",className:en("recharts-radial-bar-label",l)}),Ce.createElement("defs",null,Ce.createElement("path",{id:P,d:T})),Ce.createElement("textPath",{xlinkHref:"#".concat(P)},r))},rme=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,o=s.cx,l=s.cy,u=s.innerRadius,A=s.outerRadius,f=s.startAngle,h=s.endAngle,p=(f+h)/2;if(a==="outside"){var g=Sa(o,l,A+n,p),v=g.x,x=g.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(u+A)/2,w=Sa(o,l,b,p),B=w.x,j=w.y;return{x:B,y:j,textAnchor:"middle",verticalAnchor:"middle"}},nme=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,o=r,l=o.x,u=o.y,A=o.width,f=o.height,h=f>=0?1:-1,p=h*a,g=h>0?"end":"start",v=h>0?"start":"end",x=A>=0?1:-1,b=x*a,w=x>0?"end":"start",B=x>0?"start":"end";if(s==="top"){var j={x:l+A/2,y:u-h*a,textAnchor:"middle",verticalAnchor:g};return Vi(Vi({},j),n?{height:Math.max(u-n.y,0),width:A}:{})}if(s==="bottom"){var _={x:l+A/2,y:u+f+p,textAnchor:"middle",verticalAnchor:v};return Vi(Vi({},_),n?{height:Math.max(n.y+n.height-(u+f),0),width:A}:{})}if(s==="left"){var N={x:l-b,y:u+f/2,textAnchor:w,verticalAnchor:"middle"};return Vi(Vi({},N),n?{width:Math.max(N.x-n.x,0),height:f}:{})}if(s==="right"){var O={x:l+A+b,y:u+f/2,textAnchor:B,verticalAnchor:"middle"};return Vi(Vi({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var T=n?{width:A,height:f}:{};return s==="insideLeft"?Vi({x:l+b,y:u+f/2,textAnchor:B,verticalAnchor:"middle"},T):s==="insideRight"?Vi({x:l+A-b,y:u+f/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?Vi({x:l+A/2,y:u+p,textAnchor:"middle",verticalAnchor:v},T):s==="insideBottom"?Vi({x:l+A/2,y:u+f-p,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?Vi({x:l+b,y:u+p,textAnchor:B,verticalAnchor:v},T):s==="insideTopRight"?Vi({x:l+A-b,y:u+p,textAnchor:w,verticalAnchor:v},T):s==="insideBottomLeft"?Vi({x:l+b,y:u+f-p,textAnchor:B,verticalAnchor:g},T):s==="insideBottomRight"?Vi({x:l+A-b,y:u+f-p,textAnchor:w,verticalAnchor:g},T):mp(s)&&(ir(s.x)||Bf(s.x))&&(ir(s.y)||Bf(s.y))?Vi({x:l+co(s.x,A),y:u+co(s.y,f),textAnchor:"end",verticalAnchor:"end"},T):Vi({x:l+A/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},ame=function(t){return"cx"in t&&ir(t.cx)};function ls(e){var t=e.offset,r=t===void 0?5:t,n=Ghe(e,Hhe),a=Vi({offset:r},n),s=a.viewBox,o=a.position,l=a.value,u=a.children,A=a.content,f=a.className,h=f===void 0?"":f,p=a.textBreakAll;if(!s||sn(l)&&sn(u)&&!k.isValidElement(A)&&!Jr(A))return null;if(k.isValidElement(A))return k.cloneElement(A,a);var g;if(Jr(A)){if(g=k.createElement(A,a),k.isValidElement(g))return g}else g=Zhe(a);var v=ame(s),x=Rr(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return tme(a,g,x);var b=v?rme(a):nme(a);return Ce.createElement(qf,e0({className:en("recharts-label",h)},x,b,{breakAll:p}),g)}ls.displayName="Label";var wq=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,u=t.radius,A=t.innerRadius,f=t.outerRadius,h=t.x,p=t.y,g=t.top,v=t.left,x=t.width,b=t.height,w=t.clockWise,B=t.labelViewBox;if(B)return B;if(ir(x)&&ir(b)){if(ir(h)&&ir(p))return{x:h,y:p,width:x,height:b};if(ir(g)&&ir(v))return{x:g,y:v,width:x,height:b}}return ir(h)&&ir(p)?{x:h,y:p,width:0,height:0}:ir(r)&&ir(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:A||0,outerRadius:f||u||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},ime=function(t,r){return t?t===!0?Ce.createElement(ls,{key:"label-implicit",viewBox:r}):Wi(t)?Ce.createElement(ls,{key:"label-implicit",viewBox:r,value:t}):k.isValidElement(t)?t.type===ls?k.cloneElement(t,{key:"label-implicit",viewBox:r}):Ce.createElement(ls,{key:"label-implicit",content:t,viewBox:r}):Jr(t)?Ce.createElement(ls,{key:"label-implicit",content:t,viewBox:r}):mp(t)?Ce.createElement(ls,e0({viewBox:r},t,{key:"label-implicit"})):null:null},sme=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=wq(t),o=el(a,ls).map(function(u,A){return k.cloneElement(u,{viewBox:r||s,key:"label-".concat(A)})});if(!n)return o;var l=ime(t.label,r||s);return[l].concat($he(o))};ls.parseViewBox=wq;ls.renderCallByParent=sme;var gS,DD;function ome(){if(DD)return gS;DD=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return gS=e,gS}var lme=ome();const cme=ta(lme);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}var ume=["valueAccessor"],Ame=["data","dataKey","clockWise","id","textBreakAll"];function dme(e){return pme(e)||mme(e)||hme(e)||fme()}function fme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return eE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eE(e,t)}}function mme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pme(e){if(Array.isArray(e))return eE(e)}function eE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u1(){return u1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u1.apply(this,arguments)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return t=yme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=vme(e,"string");return t0(t)=="symbol"?t:t+""}function vme(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(t0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QD(e,t){if(e==null)return{};var r=xme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bme=function(t){return Array.isArray(t.value)?cme(t.value):t.value};function cu(e){var t=e.valueAccessor,r=t===void 0?bme:t,n=QD(e,ume),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,u=n.textBreakAll,A=QD(n,Ame);return!a||!a.length?null:Ce.createElement(kn,{className:"recharts-label-list"},a.map(function(f,h){var p=sn(s)?r(f,h):Ci(f&&f.payload,s),g=sn(l)?{}:{id:"".concat(l,"-").concat(h)};return Ce.createElement(ls,u1({},Rr(f,!0),A,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:u,viewBox:ls.parseViewBox(sn(o)?f:RD(RD({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}cu.displayName="LabelList";function wme(e,t){return e?e===!0?Ce.createElement(cu,{key:"labelList-implicit",data:t}):Ce.isValidElement(e)||Jr(e)?Ce.createElement(cu,{key:"labelList-implicit",data:t,content:e}):mp(e)?Ce.createElement(cu,u1({data:t},e,{key:"labelList-implicit"})):null:null}function Cme(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=el(n,cu).map(function(o,l){return k.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=wme(e.label,t);return[s].concat(dme(a))}cu.renderCallByParent=Cme;function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}function HD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HD(Object(r),!0).forEach(function(n){Bme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bme(e,t,r){return t=jme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jme(e){var t=Sme(e,"string");return r0(t)=="symbol"?t:t+""}function Sme(e,t){if(r0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(r0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nme=function(t,r){var n=lo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},sx=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,u=t.cornerRadius,A=t.cornerIsExternal,f=u*(l?1:-1)+a,h=Math.asin(u/f)/c1,p=A?s:s+o*h,g=Sa(r,n,f,p),v=Sa(r,n,a,p),x=A?s-o*h:s,b=Sa(r,n,f*Math.cos(h*c1),x);return{center:g,circleTangency:v,lineTangency:b,theta:h}},Cq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,u=Nme(o,l),A=o+u,f=Sa(r,n,s,o),h=Sa(r,n,s,A),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>A),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var g=Sa(r,n,a,o),v=Sa(r,n,a,A);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=A),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},Eme=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,u=t.cornerIsExternal,A=t.startAngle,f=t.endAngle,h=lo(f-A),p=sx({cx:r,cy:n,radius:s,angle:A,sign:h,cornerRadius:o,cornerIsExternal:u}),g=p.circleTangency,v=p.lineTangency,x=p.theta,b=sx({cx:r,cy:n,radius:s,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),w=b.circleTangency,B=b.lineTangency,j=b.theta,_=u?Math.abs(A-f):Math.abs(A-f)-x-j;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Cq({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:A,endAngle:f});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(B.x,",").concat(B.y,`
  `);if(a>0){var O=sx({cx:r,cy:n,radius:a,angle:A,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),T=O.circleTangency,P=O.lineTangency,U=O.theta,D=sx({cx:r,cy:n,radius:a,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),F=D.circleTangency,R=D.lineTangency,Q=D.theta,H=u?Math.abs(A-f):Math.abs(A-f)-U-Q;if(H<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},kme={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bq=function(t){var r=$D($D({},kme),t),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,u=r.forceCornerRadius,A=r.cornerIsExternal,f=r.startAngle,h=r.endAngle,p=r.className;if(o<s||f===h)return null;var g=en("recharts-sector",p),v=o-s,x=co(l,v,0,!0),b;return x>0&&Math.abs(f-h)<360?b=Eme({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:u,cornerIsExternal:A,startAngle:f,endAngle:h}):b=Cq({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:f,endAngle:h}),Ce.createElement("path",tE({},Rr(r,!0),{className:g,d:b,role:"img"}))};function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){_me(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _me(e,t,r){return t=Tme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tme(e){var t=Ome(e,"string");return n0(t)=="symbol"?t:t+""}function Ome(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VD={curveBasisClosed:Jse,curveBasisOpen:Zse,curveBasis:Xse,curveBumpX:Ise,curveBumpY:Dse,curveLinearClosed:eoe,curveLinear:bw,curveMonotoneX:toe,curveMonotoneY:roe,curveNatural:noe,curveStep:aoe,curveStepAfter:soe,curveStepBefore:ioe},ox=function(t){return t.x===+t.x&&t.y===+t.y},Ng=function(t){return t.x},Eg=function(t){return t.y},Fme=function(t,r){if(Jr(t))return t;var n="curve".concat(vw(t));return(n==="curveMonotone"||n==="curveBump")&&r?VD["".concat(n).concat(r==="vertical"?"Y":"X")]:VD[n]||bw},Pme=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,u=t.connectNulls,A=u===void 0?!1:u,f=Fme(n,l),h=A?s.filter(function(x){return ox(x)}):s,p;if(Array.isArray(o)){var g=A?o.filter(function(x){return ox(x)}):o,v=h.map(function(x,b){return qD(qD({},x),{},{base:g[b]})});return l==="vertical"?p=Jv().y(Eg).x1(Ng).x0(function(x){return x.base.x}):p=Jv().x(Ng).y1(Eg).y0(function(x){return x.base.y}),p.defined(ox).curve(f),p(v)}return l==="vertical"&&ir(o)?p=Jv().y(Eg).x1(Ng).x0(o):ir(o)?p=Jv().x(Ng).y1(Eg).y0(o):p=w$().x(Ng).y(Eg),p.defined(ox).curve(f),p(h)},Uf=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?Pme(t):a;return Ce.createElement("path",rE({},Rr(t,!1),Ib(t),{className:en("recharts-curve",r),d:o,ref:s}))},Lme=Object.getOwnPropertyNames,Ume=Object.getOwnPropertySymbols,Ime=Object.prototype.hasOwnProperty;function KD(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function lx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var u=e(r,n,a);return s.delete(r),s.delete(n),u}}function GD(e){return Lme(e).concat(Ume(e))}var Dme=Object.hasOwn||function(e,t){return Ime.call(e,t)};function nh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Mme="__v",Rme="__o",Qme="_owner",WD=Object.getOwnPropertyDescriptor,YD=Object.keys;function Hme(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function $me(e,t){return nh(e.getTime(),t.getTime())}function zme(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qme(e,t){return e===t}function XD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),o,l,u=0;(o=s.next())&&!o.done;){for(var A=t.entries(),f=!1,h=0;(l=A.next())&&!l.done;){if(a[h]){h++;continue}var p=o.value,g=l.value;if(r.equals(p[0],g[0],u,h,e,t,r)&&r.equals(p[1],g[1],p[0],g[0],e,t,r)){f=a[h]=!0;break}h++}if(!f)return!1;u++}return!0}var Vme=nh;function Kme(e,t,r){var n=YD(e),a=n.length;if(YD(t).length!==a)return!1;for(;a-- >0;)if(!jq(e,t,r,n[a]))return!1;return!0}function kg(e,t,r){var n=GD(e),a=n.length;if(GD(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!jq(e,t,r,s)||(o=WD(e,s),l=WD(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Gme(e,t){return nh(e.valueOf(),t.valueOf())}function Wme(e,t){return e.source===t.source&&e.flags===t.flags}function JD(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var u=t.values(),A=!1,f=0;(l=u.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){A=a[f]=!0;break}f++}if(!A)return!1}return!0}function Yme(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Xme(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jq(e,t,r,n){return(n===Qme||n===Rme||n===Mme)&&(e.$$typeof||t.$$typeof)?!0:Dme(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Jme="[object Arguments]",Zme="[object Boolean]",epe="[object Date]",tpe="[object Error]",rpe="[object Map]",npe="[object Number]",ape="[object Object]",ipe="[object RegExp]",spe="[object Set]",ope="[object String]",lpe="[object URL]",cpe=Array.isArray,ZD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,eM=Object.assign,upe=Object.prototype.toString.call.bind(Object.prototype.toString);function Ape(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,A=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(v,x,b){if(v===x)return!0;if(v==null||x==null)return!1;var w=typeof v;if(w!==typeof x)return!1;if(w!=="object")return w==="number"?o(v,x,b):w==="function"?a(v,x,b):!1;var B=v.constructor;if(B!==x.constructor)return!1;if(B===Object)return l(v,x,b);if(cpe(v))return t(v,x,b);if(ZD!=null&&ZD(v))return h(v,x,b);if(B===Date)return r(v,x,b);if(B===RegExp)return A(v,x,b);if(B===Map)return s(v,x,b);if(B===Set)return f(v,x,b);var j=upe(v);return j===epe?r(v,x,b):j===ipe?A(v,x,b):j===rpe?s(v,x,b):j===spe?f(v,x,b):j===ape?typeof v.then!="function"&&typeof x.then!="function"&&l(v,x,b):j===lpe?p(v,x,b):j===tpe?n(v,x,b):j===Jme?l(v,x,b):j===Zme||j===npe||j===ope?u(v,x,b):!1}}function dpe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?kg:Hme,areDatesEqual:$me,areErrorsEqual:zme,areFunctionsEqual:qme,areMapsEqual:n?KD(XD,kg):XD,areNumbersEqual:Vme,areObjectsEqual:n?kg:Kme,arePrimitiveWrappersEqual:Gme,areRegExpsEqual:Wme,areSetsEqual:n?KD(JD,kg):JD,areTypedArraysEqual:n?kg:Yme,areUrlsEqual:Xme};if(r&&(a=eM({},a,r(a))),t){var s=lx(a.areArraysEqual),o=lx(a.areMapsEqual),l=lx(a.areObjectsEqual),u=lx(a.areSetsEqual);a=eM({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return a}function fpe(e){return function(t,r,n,a,s,o,l){return e(t,r,l)}}function hpe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(u,A){var f=n(),h=f.cache,p=h===void 0?t?new WeakMap:void 0:h,g=f.meta;return r(u,A,{cache:p,equals:a,meta:g,strict:s})};if(t)return function(u,A){return r(u,A,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(u,A){return r(u,A,o)}}var mpe=Pd();Pd({strict:!0});Pd({circular:!0});Pd({circular:!0,strict:!0});Pd({createInternalComparator:function(){return nh}});Pd({strict:!0,createInternalComparator:function(){return nh}});Pd({circular:!0,createInternalComparator:function(){return nh}});Pd({circular:!0,createInternalComparator:function(){return nh},strict:!0});function Pd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=dpe(e),u=Ape(l),A=n?n(u):fpe(u);return hpe({circular:r,comparator:u,createState:a,equals:A,strict:o})}function ppe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function tM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):ppe(a)};requestAnimationFrame(n)}function nE(e){"@babel/helpers - typeof";return nE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nE(e)}function gpe(e){return bpe(e)||xpe(e)||vpe(e)||ype()}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(e,t){if(e){if(typeof e=="string")return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bpe(e){if(Array.isArray(e))return e}function wpe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=gpe(o),u=l[0],A=l.slice(1);if(typeof u=="number"){tM(a.bind(null,A),u);return}a(u),tM(a.bind(null,A));return}nE(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function nM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nM(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return t=Cpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cpe(e){var t=Bpe(e,"string");return a0(t)==="symbol"?t:String(t)}function Bpe(e,t){if(a0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(a0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jpe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},Spe=function(t){return t},Npe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ly=function(t,r){return Object.keys(r).reduce(function(n,a){return aM(aM({},n),{},Sq({},a,t(a,r[a])))},{})},iM=function(t,r,n){return t.map(function(a){return"".concat(Npe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Epe(e,t){return Tpe(e)||_pe(e,t)||Nq(e,t)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Tpe(e){if(Array.isArray(e))return e}function Ope(e){return Lpe(e)||Ppe(e)||Nq(e)||Fpe()}function Fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nq(e,t){if(e){if(typeof e=="string")return aE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aE(e,t)}}function Ppe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lpe(e){if(Array.isArray(e))return aE(e)}function aE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A1=1e-4,Eq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},sM=function(t,r){return function(n){var a=Eq(t,r);return kq(a,n)}},Upe=function(t,r){return function(n){var a=Eq(t,r),s=[].concat(Ope(a.map(function(o,l){return o*l}).slice(1)),[0]);return kq(s,n)}},oM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var A=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=Epe(A,4);a=f[0],s=f[1],o=f[2],l=f[3]}}}var h=sM(a,o),p=sM(s,l),g=Upe(a,o),v=function(w){return w>1?1:w<0?0:w},x=function(w){for(var B=w>1?1:w,j=B,_=0;_<8;++_){var N=h(j)-B,O=g(j);if(Math.abs(N-B)<A1||O<A1)return p(j);j=v(j-N/O)}return p(j)};return x.isStepper=!1,x},Ipe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,u=function(f,h,p){var g=-(f-h)*n,v=p*s,x=p+(g-v)*l/1e3,b=p*l/1e3+f;return Math.abs(b-h)<A1&&Math.abs(x)<A1?[h,0]:[b,x]};return u.isStepper=!0,u.dt=l,u},Dpe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oM(a);case"spring":return Ipe();default:if(a.split("(")[0]==="cubic-bezier")return oM(a)}return typeof a=="function"?a:null};function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function lM(e){return Qpe(e)||Rpe(e)||_q(e)||Mpe()}function Mpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qpe(e){if(Array.isArray(e))return sE(e)}function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){iE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iE(e,t,r){return t=Hpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hpe(e){var t=$pe(e,"string");return i0(t)==="symbol"?t:String(t)}function $pe(e,t){if(i0(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(i0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zpe(e,t){return Kpe(e)||Vpe(e,t)||_q(e,t)||qpe()}function qpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _q(e,t){if(e){if(typeof e=="string")return sE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(e,t)}}function sE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vpe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Kpe(e){if(Array.isArray(e))return e}var d1=function(t,r,n){return t+(r-t)*n},oE=function(t){var r=t.from,n=t.to;return r!==n},Gpe=function e(t,r,n){var a=ly(function(s,o){if(oE(o)){var l=t(o.from,o.to,o.velocity),u=zpe(l,2),A=u[0],f=u[1];return Cs(Cs({},o),{},{from:A,velocity:f})}return o},r);return n<1?ly(function(s,o){return oE(o)?Cs(Cs({},o),{},{velocity:d1(o.velocity,a[s].velocity,n),from:d1(o.from,a[s].from,n)}):o},r):e(t,a,n-1)};const Wpe=function(e,t,r,n,a){var s=jpe(e,t),o=s.reduce(function(b,w){return Cs(Cs({},b),{},iE({},w,[e[w],t[w]]))},{}),l=s.reduce(function(b,w){return Cs(Cs({},b),{},iE({},w,{from:e[w],velocity:0,to:t[w]}))},{}),u=-1,A,f,h=function(){return null},p=function(){return ly(function(w,B){return B.from},l)},g=function(){return!Object.values(l).filter(oE).length},v=function(w){A||(A=w);var B=w-A,j=B/r.dt;l=Gpe(r,l,j),a(Cs(Cs(Cs({},e),t),p())),A=w,g()||(u=requestAnimationFrame(h))},x=function(w){f||(f=w);var B=(w-f)/n,j=ly(function(N,O){return d1.apply(void 0,lM(O).concat([r(B)]))},o);if(a(Cs(Cs(Cs({},e),t),j)),B<1)u=requestAnimationFrame(h);else{var _=ly(function(N,O){return d1.apply(void 0,lM(O).concat([r(1)]))},o);a(Cs(Cs(Cs({},e),t),_))}};return h=r.isStepper?v:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(u)}}};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var Ype=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xpe(e,t){if(e==null)return{};var r=Jpe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jpe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function yS(e){return rge(e)||tge(e)||ege(e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ege(e,t){if(e){if(typeof e=="string")return lE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lE(e,t)}}function tge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rge(e){if(Array.isArray(e))return lE(e)}function lE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(r),!0).forEach(function(n){$g(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $g(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function age(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function ige(e,t,r){return t&&age(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tq(e){var t=sge(e,"string");return Qm(t)==="symbol"?t:String(t)}function sge(e,t){if(Qm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cE(e,t)}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},cE(e,t)}function lge(e){var t=cge();return function(){var n=f1(e),a;if(t){var s=f1(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return uE(this,a)}}function uE(e,t){if(t&&(Qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AE(e)}function AE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f1(e){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(e)}var Cc=function(e){oge(r,e);var t=lge(r);function r(n,a){var s;nge(this,r),s=t.call(this,n,a);var o=s.props,l=o.isActive,u=o.attributeName,A=o.from,f=o.to,h=o.steps,p=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(AE(s)),s.changeStyle=s.changeStyle.bind(AE(s)),!l||g<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:f}),uE(s);if(h&&h.length)s.state={style:h[0].style};else if(A){if(typeof p=="function")return s.state={style:A},uE(s);s.state={style:u?$g({},u,A):A}}else s.state={style:{}};return s}return ige(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,u=s.attributeName,A=s.shouldReAnimate,f=s.to,h=s.from,p=this.state.style;if(l){if(!o){var g={style:u?$g({},u,f):f};this.state&&p&&(u&&p[u]!==f||!u&&p!==f)&&this.setState(g);return}if(!(mpe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||A?h:a.to;if(this.state&&p){var b={style:u?$g({},u,x):x};(u&&p[u]!==x||!u&&p!==x)&&this.setState(b)}this.runAnimation(ac(ac({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,u=a.duration,A=a.easing,f=a.begin,h=a.onAnimationEnd,p=a.onAnimationStart,g=Wpe(o,l,Dpe(A),u,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([p,f,v,u,h])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,u=a.onAnimationStart,A=o[0],f=A.style,h=A.duration,p=h===void 0?0:h,g=function(x,b,w){if(w===0)return x;var B=b.duration,j=b.easing,_=j===void 0?"ease":j,N=b.style,O=b.properties,T=b.onAnimationEnd,P=w>0?o[w-1]:b,U=O||Object.keys(N);if(typeof _=="function"||_==="spring")return[].concat(yS(x),[s.runJSAnimation.bind(s,{from:P.style,to:N,duration:B,easing:_}),B]);var D=iM(U,B,_),F=ac(ac(ac({},P.style),N),{},{transition:D});return[].concat(yS(x),[F,B,T]).filter(Spe)};return this.manager.start([u].concat(yS(o.reduce(g,[f,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=wpe());var s=a.begin,o=a.duration,l=a.attributeName,u=a.to,A=a.easing,f=a.onAnimationStart,h=a.onAnimationEnd,p=a.steps,g=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof A=="function"||typeof g=="function"||A==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var x=l?$g({},l,u):u,b=iM(Object.keys(x),o,A);v.start([f,s,ac(ac({},x),{},{transition:b}),o,h])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var u=Xpe(a,Ype),A=k.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||A===0||o<=0)return s;var h=function(g){var v=g.props,x=v.style,b=x===void 0?{}:x,w=v.className,B=k.cloneElement(g,ac(ac({},u),{},{style:ac(ac({},b),f),className:w}));return B};return A===1?h(k.Children.only(s)):Ce.createElement("div",null,k.Children.map(s,function(p){return h(p)}))}}]),r}(k.PureComponent);Cc.displayName="Animate";Cc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cc.propTypes={from:ar.oneOfType([ar.object,ar.string]),to:ar.oneOfType([ar.object,ar.string]),attributeName:ar.string,duration:ar.number,begin:ar.number,easing:ar.oneOfType([ar.string,ar.func]),steps:ar.arrayOf(ar.shape({duration:ar.number.isRequired,style:ar.object.isRequired,easing:ar.oneOfType([ar.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ar.func]),properties:ar.arrayOf("string"),onAnimationEnd:ar.func})),children:ar.oneOfType([ar.node,ar.func]),isActive:ar.bool,canBegin:ar.bool,onAnimationEnd:ar.func,shouldReAnimate:ar.bool,onAnimationStart:ar.func,onAnimationReStart:ar.func};function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}function uge(e,t){return hge(e)||fge(e,t)||dge(e,t)||Age()}function Age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(e,t){if(e){if(typeof e=="string")return AM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(e,t)}}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function hge(e){if(Array.isArray(e))return e}function dM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dM(Object(r),!0).forEach(function(n){mge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mge(e,t,r){return t=pge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pge(e){var t=gge(e,"string");return s0(t)=="symbol"?t:t+""}function gge(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(s0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hM=function(t,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,u=n>=0?1:-1,A=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=s[p]>o?o:s[p];f="M".concat(t,",").concat(r+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(A,",").concat(t+u*h[0],",").concat(r)),f+="L ".concat(t+n-u*h[1],",").concat(r),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(A,`,
        `).concat(t+n,",").concat(r+l*h[1])),f+="L ".concat(t+n,",").concat(r+a-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(A,`,
        `).concat(t+n-u*h[2],",").concat(r+a)),f+="L ".concat(t+u*h[3],",").concat(r+a),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(A,`,
        `).concat(t,",").concat(r+a-l*h[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+u*v,",").concat(r,`
            L `).concat(t+n-u*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t+n-u*v,",").concat(r+a,`
            L `).concat(t+u*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(A,",").concat(t,",").concat(r+a-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},yge=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,o=r.y,l=r.width,u=r.height;if(Math.abs(l)>0&&Math.abs(u)>0){var A=Math.min(s,s+l),f=Math.max(s,s+l),h=Math.min(o,o+u),p=Math.max(o,o+u);return n>=A&&n<=f&&a>=h&&a<=p}return!1},vge={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},v_=function(t){var r=fM(fM({},vge),t),n=k.useRef(),a=k.useState(-1),s=uge(a,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var u=r.x,A=r.y,f=r.width,h=r.height,p=r.radius,g=r.className,v=r.animationEasing,x=r.animationDuration,b=r.animationBegin,w=r.isAnimationActive,B=r.isUpdateAnimationActive;if(u!==+u||A!==+A||f!==+f||h!==+h||f===0||h===0)return null;var j=en("recharts-rectangle",g);return B?Ce.createElement(Cc,{canBegin:o>0,from:{width:f,height:h,x:u,y:A},to:{width:f,height:h,x:u,y:A},duration:x,animationEasing:v,isActive:B},function(_){var N=_.width,O=_.height,T=_.x,P=_.y;return Ce.createElement(Cc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:w,easing:v},Ce.createElement("path",h1({},Rr(r,!0),{className:j,d:hM(T,P,N,O,p),ref:n})))}):Ce.createElement("path",h1({},Rr(r,!0),{className:j,d:hM(u,A,f,h,p)}))},xge=["points","className","baseLinePoints","connectNulls"];function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}function bge(e,t){if(e==null)return{};var r=wge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mM(e){return Sge(e)||jge(e)||Bge(e)||Cge()}function Cge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bge(e,t){if(e){if(typeof e=="string")return dE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(e,t)}}function jge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sge(e){if(Array.isArray(e))return dE(e)}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pM=function(t){return t&&t.x===+t.x&&t.y===+t.y},Nge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){pM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),pM(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cy=function(t,r){var n=Nge(t);r&&(n=[n.reduce(function(s,o){return[].concat(mM(s),mM(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,u){return"".concat(o).concat(u===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Ege=function(t,r,n){var a=cy(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(cy(r.reverse(),n).slice(1))},kge=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,o=bge(t,xge);if(!r||!r.length)return null;var l=en("recharts-polygon",n);if(a&&a.length){var u=o.stroke&&o.stroke!=="none",A=Ege(r,a,s);return Ce.createElement("g",{className:l},Ce.createElement("path",Am({},Rr(o,!0),{fill:A.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:A})),u?Ce.createElement("path",Am({},Rr(o,!0),{fill:"none",d:cy(r,s)})):null,u?Ce.createElement("path",Am({},Rr(o,!0),{fill:"none",d:cy(a,s)})):null)}var f=cy(r,s);return Ce.createElement("path",Am({},Rr(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(this,arguments)}var V0=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,o=en("recharts-dot",s);return r===+r&&n===+n&&a===+a?Ce.createElement("circle",fE({},Rr(t,!1),Ib(t),{className:o,cx:r,cy:n,r:a})):null};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}var _ge=["x","y","top","left","width","height","className"];function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){Oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oge(e,t,r){return t=Fge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fge(e){var t=Pge(e,"string");return o0(t)=="symbol"?t:t+""}function Pge(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lge(e,t){if(e==null)return{};var r=Uge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ige=function(t,r,n,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Dge=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,u=t.left,A=u===void 0?0:u,f=t.width,h=f===void 0?0:f,p=t.height,g=p===void 0?0:p,v=t.className,x=Lge(t,_ge),b=Tge({x:n,y:s,top:l,left:A,width:h,height:g},x);return!ir(n)||!ir(s)||!ir(h)||!ir(g)||!ir(l)||!ir(A)?null:Ce.createElement("path",hE({},Rr(b,!0),{className:en("recharts-cross",v),d:Ige(n,s,h,g,l,A)}))},vS,yM;function Mge(){if(yM)return vS;yM=1;var e=Ow(),t=Vz(),r=gu();function n(a,s){return a&&a.length?e(a,r(s,2),t):void 0}return vS=n,vS}var Rge=Mge();const Qge=ta(Rge);var xS,vM;function Hge(){if(vM)return xS;vM=1;var e=Ow(),t=gu(),r=Kz();function n(a,s){return a&&a.length?e(a,t(s,2),r):void 0}return xS=n,xS}var $ge=Hge();const zge=ta($ge);var qge=["cx","cy","angle","ticks","axisLine"],Vge=["ticks","tick","angle","tickFormatter","stroke"];function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function xM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(r),!0).forEach(function(n){Uw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bM(e,t){if(e==null)return{};var r=Kge(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fq(n.key),n)}}function Wge(e,t,r){return t&&wM(e.prototype,t),r&&wM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yge(e,t,r){return t=m1(t),Xge(e,Oq()?Reflect.construct(t,r||[],m1(e).constructor):t.apply(e,r))}function Xge(e,t){if(t&&(Hm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jge(e)}function Jge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function m1(e){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(e)}function Zge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mE(e,t)}function Uw(e,t,r){return t=Fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){var t=eye(e,"string");return Hm(t)=="symbol"?t:t+""}function eye(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw=function(e){function t(){return Gge(this,t),Yge(this,t,arguments)}return Zge(t,e),Wge(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,u=s.cy;return Sa(l,u,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,u=Qge(l,function(f){return f.coordinate||0}),A=zge(l,function(f){return f.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:A.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,u=n.axisLine,A=bM(n,qge),f=l.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),h=Sa(a,s,f[0],o),p=Sa(a,s,f[1],o),g=Af(Af(Af({},Rr(A,!1)),{},{fill:"none"},Rr(u,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return Ce.createElement("line",uy({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,u=a.tickFormatter,A=a.stroke,f=bM(a,Vge),h=this.getTickTextAnchor(),p=Rr(f,!1),g=Rr(o,!1),v=s.map(function(x,b){var w=n.getTickValueCoord(x),B=Af(Af(Af(Af({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(w.x,", ").concat(w.y,")")},p),{},{stroke:"none",fill:A},g),{},{index:b},w),{},{payload:x});return Ce.createElement(kn,uy({className:en("recharts-polar-radius-axis-tick",bq(o)),key:"tick-".concat(x.coordinate)},zf(n.props,x,b)),t.renderTickItem(o,B,u?u(x.value,b):x.value))});return Ce.createElement(kn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:Ce.createElement(kn,{className:en("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),ls.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):Jr(n)?o=n(a):o=Ce.createElement(qf,uy({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(k.PureComponent);Uw(Iw,"displayName","PolarRadiusAxis");Uw(Iw,"axisType","radiusAxis");Uw(Iw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(this,arguments)}function CM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function df(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CM(Object(r),!0).forEach(function(n){Dw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lq(n.key),n)}}function rye(e,t,r){return t&&BM(e.prototype,t),r&&BM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nye(e,t,r){return t=p1(t),aye(e,Pq()?Reflect.construct(t,r||[],p1(e).constructor):t.apply(e,r))}function aye(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iye(e)}function iye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function p1(e){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(e)}function sye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pE(e,t)}function Dw(e,t,r){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=oye(e,"string");return $m(t)=="symbol"?t:t+""}function oye(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lye=Math.PI/180,cye=1e-5,Mw=function(e){function t(){return tye(this,t),nye(this,t,arguments)}return sye(t,e),rye(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,u=a.orientation,A=a.tickSize,f=A||8,h=Sa(s,o,l,n.coordinate),p=Sa(s,o,l+(u==="inner"?-1:1)*f,n.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*lye),o;return s>cye?o=a==="outer"?"start":"end":s<-1e-5?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,u=n.axisLineType,A=df(df({},Rr(this.props,!1)),{},{fill:"none"},Rr(l,!1));if(u==="circle")return Ce.createElement(V0,yf({className:"recharts-polar-angle-axis-line"},A,{cx:a,cy:s,r:o}));var f=this.props.ticks,h=f.map(function(p){return Sa(a,s,o,p.coordinate)});return Ce.createElement(kge,yf({className:"recharts-polar-angle-axis-line"},A,{points:h}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,u=a.tickFormatter,A=a.stroke,f=Rr(this.props,!1),h=Rr(o,!1),p=df(df({},f),{},{fill:"none"},Rr(l,!1)),g=s.map(function(v,x){var b=n.getTickLineCoord(v),w=n.getTickTextAnchor(v),B=df(df(df({textAnchor:w},f),{},{stroke:"none",fill:A},h),{},{index:x,payload:v,x:b.x2,y:b.y2});return Ce.createElement(kn,yf({className:en("recharts-polar-angle-axis-tick",bq(o)),key:"tick-".concat(v.coordinate)},zf(n.props,v,x)),l&&Ce.createElement("line",yf({className:"recharts-polar-angle-axis-tick-line"},p,b)),o&&t.renderTickItem(o,B,u?u(v.value,x):v.value))});return Ce.createElement(kn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:Ce.createElement(kn,{className:en("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):Jr(n)?o=n(a):o=Ce.createElement(qf,yf({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(k.PureComponent);Dw(Mw,"displayName","PolarAngleAxis");Dw(Mw,"axisType","angleAxis");Dw(Mw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bS,jM;function uye(){if(jM)return bS;jM=1;var e=q$(),t=e(Object.getPrototypeOf,Object);return bS=t,bS}var wS,SM;function Aye(){if(SM)return wS;SM=1;var e=yA(),t=uye(),r=vA(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,u=o.call(Object);function A(f){if(!r(f)||e(f)!=n)return!1;var h=t(f);if(h===null)return!0;var p=l.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==u}return wS=A,wS}var dye=Aye();const fye=ta(dye);var CS,NM;function hye(){if(NM)return CS;NM=1;var e=yA(),t=vA(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return CS=n,CS}var mye=hye();const pye=ta(mye);function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}function gye(e,t){return bye(e)||xye(e,t)||vye(e,t)||yye()}function yye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(e,t){if(e){if(typeof e=="string")return EM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EM(e,t)}}function EM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xye(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function bye(e){if(Array.isArray(e))return e}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){wye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wye(e,t,r){return t=Cye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cye(e){var t=Bye(e,"string");return l0(t)=="symbol"?t:t+""}function Bye(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(l0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TM=function(t,r,n,a,s){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},jye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sye=function(t){var r=_M(_M({},jye),t),n=k.useRef(),a=k.useState(-1),s=gye(a,2),o=s[0],l=s[1];k.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&l(j)}catch{}},[]);var u=r.x,A=r.y,f=r.upperWidth,h=r.lowerWidth,p=r.height,g=r.className,v=r.animationEasing,x=r.animationDuration,b=r.animationBegin,w=r.isUpdateAnimationActive;if(u!==+u||A!==+A||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var B=en("recharts-trapezoid",g);return w?Ce.createElement(Cc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:u,y:A},to:{upperWidth:f,lowerWidth:h,height:p,x:u,y:A},duration:x,animationEasing:v,isActive:w},function(j){var _=j.upperWidth,N=j.lowerWidth,O=j.height,T=j.x,P=j.y;return Ce.createElement(Cc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:v},Ce.createElement("path",g1({},Rr(r,!0),{className:B,d:TM(T,P,_,N,O),ref:n})))}):Ce.createElement("g",null,Ce.createElement("path",g1({},Rr(r,!0),{className:B,d:TM(u,A,f,h,p)})))},Nye=["option","shapeType","propTransformer","activeClassName","isActive"];function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function Eye(e,t){if(e==null)return{};var r=kye(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){_ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ye(e,t,r){return t=Tye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tye(e){var t=Oye(e,"string");return c0(t)=="symbol"?t:t+""}function Oye(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(c0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fye(e,t){return y1(y1({},t),e)}function Pye(e,t){return e==="symbols"}function FM(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ce.createElement(v_,r);case"trapezoid":return Ce.createElement(Sye,r);case"sector":return Ce.createElement(Bq,r);case"symbols":if(Pye(t))return Ce.createElement(D3,r);break;default:return null}}function Lye(e){return k.isValidElement(e)?e.props:e}function Uq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Fye:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,u=Eye(e,Nye),A;if(k.isValidElement(t))A=k.cloneElement(t,y1(y1({},u),Lye(t)));else if(Jr(t))A=t(u);else if(fye(t)&&!pye(t)){var f=a(t,u);A=Ce.createElement(FM,{shapeType:r,elementProps:f})}else{var h=u;A=Ce.createElement(FM,{shapeType:r,elementProps:h})}return l?Ce.createElement(kn,{className:o},A):A}function Rw(e,t){return t!=null&&"trapezoids"in e.props}function Qw(e,t){return t!=null&&"sectors"in e.props}function u0(e,t){return t!=null&&"points"in e.props}function Uye(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function Iye(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Dye(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Mye(e,t){var r;return Rw(e,t)?r=Uye:Qw(e,t)?r=Iye:u0(e,t)&&(r=Dye),r}function Rye(e,t){var r;return Rw(e,t)?r="trapezoids":Qw(e,t)?r="sectors":u0(e,t)&&(r="points"),r}function Qye(e,t){if(Rw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Qw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return u0(e,t)?t.payload:{}}function Hye(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Rye(r,t),s=Qye(r,t),o=n.filter(function(u,A){var f=Vf(s,u),h=r.props[a].filter(function(v){var x=Mye(r,t);return x(v,t)}),p=r.props[a].indexOf(h[h.length-1]),g=A===p;return f&&g}),l=n.indexOf(o[o.length-1]);return l}var ib;function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function dm(){return dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dm.apply(this,arguments)}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(r),!0).forEach(function(n){Tl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function zye(e,t,r){return t&&LM(e.prototype,t),r&&LM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qye(e,t,r){return t=v1(t),Vye(e,Iq()?Reflect.construct(t,r||[],v1(e).constructor):t.apply(e,r))}function Vye(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kye(e)}function Kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iq=function(){return!!e})()}function v1(e){return v1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v1(e)}function Gye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gE(e,t)}function gE(e,t){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gE(e,t)}function Tl(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Wye(e,"string");return zm(t)=="symbol"?t:t+""}function Wye(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hu=function(e){function t(r){var n;return $ye(this,t),n=qye(this,t,[r]),Tl(n,"pieRef",null),Tl(n,"sectorRefs",[]),Tl(n,"id",eh("recharts-pie-")),Tl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Jr(a)&&a()}),Tl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Jr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Gye(t,e),zye(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,u=s.dataKey,A=s.valueKey,f=Rr(this.props,!1),h=Rr(o,!1),p=Rr(l,!1),g=o&&o.offsetRadius||20,v=n.map(function(x,b){var w=(x.startAngle+x.endAngle)/2,B=Sa(x.cx,x.cy,x.outerRadius+g,w),j=Ca(Ca(Ca(Ca({},f),x),{},{stroke:"none"},h),{},{index:b,textAnchor:t.getTextAnchor(B.x,x.cx)},B),_=Ca(Ca(Ca(Ca({},f),x),{},{fill:"none",stroke:x.fill},p),{},{index:b,points:[Sa(x.cx,x.cy,x.outerRadius,w),B]}),N=u;return sn(u)&&sn(A)?N="value":sn(u)&&(N=A),Ce.createElement(kn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,j,Ci(x,N)))});return Ce.createElement(kn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,u=s.inactiveShape;return n.map(function(A,f){if((A==null?void 0:A.startAngle)===0&&(A==null?void 0:A.endAngle)===0&&n.length!==1)return null;var h=a.isActiveIndex(f),p=u&&a.hasActiveIndex()?u:null,g=h?o:p,v=Ca(Ca({},A),{},{stroke:l?A.fill:A.stroke,tabIndex:-1});return Ce.createElement(kn,dm({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},zf(a.props,A,f),{key:"sector-".concat(A==null?void 0:A.startAngle,"-").concat(A==null?void 0:A.endAngle,"-").concat(A.midAngle,"-").concat(f)}),Ce.createElement(Uq,dm({option:g,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,u=a.animationDuration,A=a.animationEasing,f=a.animationId,h=this.state,p=h.prevSectors,g=h.prevIsAnimationActive;return Ce.createElement(Cc,{begin:l,duration:u,isActive:o,easing:A,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,b=[],w=s&&s[0],B=w.startAngle;return s.forEach(function(j,_){var N=p&&p[_],O=_>0?Zo(j,"paddingAngle",0):0;if(N){var T=Ki(N.endAngle-N.startAngle,j.endAngle-j.startAngle),P=Ca(Ca({},j),{},{startAngle:B+O,endAngle:B+T(x)+O});b.push(P),B=P.endAngle}else{var U=j.endAngle,D=j.startAngle,F=Ki(0,U-D),R=F(x),Q=Ca(Ca({},j),{},{startAngle:B+O,endAngle:B+R+O});b.push(Q),B=Q.endAngle}}),Ce.createElement(kn,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Vf(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,u=a.label,A=a.cx,f=a.cy,h=a.innerRadius,p=a.outerRadius,g=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!ir(A)||!ir(f)||!ir(h)||!ir(p))return null;var x=en("recharts-pie",l);return Ce.createElement(kn,{tabIndex:this.props.rootTabIndex,className:x,ref:function(w){n.pieRef=w}},this.renderSectors(),u&&this.renderLabels(o),ls.renderCallByParent(this.props,null,!1),(!g||v)&&cu.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(Ce.isValidElement(n))return Ce.cloneElement(n,a);if(Jr(n))return n(a);var o=en("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Ce.createElement(Uf,dm({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(Ce.isValidElement(n))return Ce.cloneElement(n,a);var o=s;if(Jr(n)&&(o=n(a),Ce.isValidElement(o)))return o;var l=en("recharts-pie-label-text",typeof n!="boolean"&&!Jr(n)?n.className:"");return Ce.createElement(qf,dm({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(k.PureComponent);ib=hu;Tl(hu,"displayName","Pie");Tl(hu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Td.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Tl(hu,"parseDeltaAngle",function(e,t){var r=lo(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Tl(hu,"getRealPieData",function(e){var t=e.data,r=e.children,n=Rr(e,!1),a=el(r,ym);return t&&t.length?t.map(function(s,o){return Ca(Ca(Ca({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Ca(Ca({},n),s.props)}):[]});Tl(hu,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,o=xq(a,s),l=n+co(e.cx,a,a/2),u=r+co(e.cy,s,s/2),A=co(e.innerRadius,o,0),f=co(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:A,outerRadius:f,maxRadius:h}});Tl(hu,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ca(Ca({},t.type.defaultProps),t.props):t.props,a=ib.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,u=n.paddingAngle,A=n.dataKey,f=n.nameKey,h=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),v=ib.parseCoordinateOfPie(n,r),x=ib.parseDeltaAngle(o,l),b=Math.abs(x),w=A;sn(A)&&sn(h)?(xc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):sn(A)&&(xc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var B=a.filter(function(P){return Ci(P,w,0)!==0}).length,j=(b>=360?B:B-1)*u,_=b-B*g-j,N=a.reduce(function(P,U){var D=Ci(U,w,0);return P+(ir(D)?D:0)},0),O;if(N>0){var T;O=a.map(function(P,U){var D=Ci(P,w,0),F=Ci(P,f,U),R=(ir(D)?D:0)/N,Q;U?Q=T.endAngle+lo(x)*u*(D!==0?1:0):Q=o;var H=Q+lo(x)*((D!==0?g:0)+R*_),J=(Q+H)/2,V=(v.innerRadius+v.outerRadius)/2,Y=[{name:F,value:D,payload:P,dataKey:w,type:p}],ee=Sa(v.cx,v.cy,V,J);return T=Ca(Ca(Ca({percent:R,cornerRadius:s,name:F,tooltipPayload:Y,midAngle:J,middleRadius:V,tooltipPosition:ee},P),v),{},{value:Ci(P,w),startAngle:Q,endAngle:H,payload:P,paddingAngle:lo(x)*u}),T})}return Ca(Ca({},v),{},{sectors:O,data:a})});var BS,UM;function Yye(){if(UM)return BS;UM=1;var e=Math.ceil,t=Math.max;function r(n,a,s,o){for(var l=-1,u=t(e((a-n)/(s||1)),0),A=Array(u);u--;)A[o?u:++l]=n,n+=s;return A}return BS=r,BS}var jS,IM;function Mq(){if(IM)return jS;IM=1;var e=oz(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var s=a<0?-1:1;return s*r}return a===a?a:0}return jS=n,jS}var SS,DM;function Xye(){if(DM)return SS;DM=1;var e=Yye(),t=jw(),r=Mq();function n(a){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,a)}}return SS=n,SS}var NS,MM;function Jye(){if(MM)return NS;MM=1;var e=Xye(),t=e();return NS=t,NS}var Zye=Jye();const x1=ta(Zye);function A0(e){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return t=e0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e0e(e){var t=t0e(e,"string");return A0(t)=="symbol"?t:t+""}function t0e(e,t){if(A0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0e=["Webkit","Moz","O","ms"],n0e=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=r0e.reduce(function(s,o){return QM(QM({},s),{},Rq({},o+n,r))},{});return a[t]=r,a};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function i0e(e,t,r){return t&&$M(e.prototype,t),r&&$M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s0e(e,t,r){return t=w1(t),o0e(e,Qq()?Reflect.construct(t,r||[],w1(e).constructor):t.apply(e,r))}function o0e(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l0e(e)}function l0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function w1(e){return w1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w1(e)}function c0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yE(e,t)}function yE(e,t){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yE(e,t)}function Go(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=u0e(e,"string");return qm(t)=="symbol"?t:t+""}function u0e(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var A0e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var u=r.length,A=sy().domain(x1(0,u)).range([s,s+o-l]),f=A.domain().map(function(h){return A(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:A(n),endX:A(a),scale:A,scaleValues:f}},zM=function(t){return t.changedTouches&&!!t.changedTouches.length},Vm=function(e){function t(r){var n;return a0e(this,t),n=s0e(this,t,[r]),Go(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Go(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Go(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Go(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Go(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Go(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Go(n,"handleSlideDragStart",function(a){var s=zM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return c0e(t,e),i0e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,u=l.gap,A=l.data,f=A.length-1,h=Math.min(a,s),p=Math.max(a,s),g=t.getIndexInRange(o,h),v=t.getIndexInRange(o,p);return{startIndex:g-g%u,endIndex:v===f?f:v-v%u}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,u=Ci(s[n],l,n);return Jr(o)?o(u,n):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,u=this.props,A=u.x,f=u.width,h=u.travellerWidth,p=u.startIndex,g=u.endIndex,v=u.onChange,x=n.pageX-s;x>0?x=Math.min(x,A+f-h-l,A+f-h-o):x<0&&(x=Math.max(x,A-o,A-l));var b=this.getIndex({startX:o+x,endX:l+x});(b.startIndex!==p||b.endIndex!==g)&&v&&v(b),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=zM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,u=a.startX,A=this.state[o],f=this.props,h=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,x=f.gap,b=f.data,w={startX:this.state.startX,endX:this.state.endX},B=n.pageX-s;B>0?B=Math.min(B,h+p-g-A):B<0&&(B=Math.max(B,h-A)),w[o]=A+B;var j=this.getIndex(w),_=j.startIndex,N=j.endIndex,O=function(){var P=b.length-1;return o==="startX"&&(l>u?_%x===0:N%x===0)||l<u&&N===P||o==="endX"&&(l>u?N%x===0:_%x===0)||l>u&&N===P};this.setState(Go(Go({},o,A+B),"brushMoveStartX",n.pageX),function(){v&&O()&&v(j)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,u=o.startX,A=o.endX,f=this.state[a],h=l.indexOf(f);if(h!==-1){var p=h+n;if(!(p===-1||p>=l.length)){var g=l[p];a==="startX"&&g>=A||a==="endX"&&g<=u||this.setState(Go({},a,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.fill,A=n.stroke;return Ce.createElement("rect",{stroke:A,fill:u,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.data,A=n.children,f=n.padding,h=k.Children.only(A);return h?Ce.cloneElement(h,{x:a,y:s,width:o,height:l,margin:f,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,u=this.props,A=u.y,f=u.travellerWidth,h=u.height,p=u.traveller,g=u.ariaLabel,v=u.data,x=u.startIndex,b=u.endIndex,w=Math.max(n,this.props.x),B=ES(ES({},Rr(this.props,!1)),{},{x:w,y:A,width:f,height:h}),j=g||"Min value: ".concat((s=v[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return Ce.createElement(kn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,B))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,u=s.stroke,A=s.travellerWidth,f=Math.min(n,a)+A,h=Math.max(Math.abs(a-n)-A,0);return Ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,u=n.travellerWidth,A=n.stroke,f=this.state,h=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:A};return Ce.createElement(kn,{className:"recharts-brush-texts"},Ce.createElement(qf,b1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-g,y:o+l/2},v),this.getTextOfTick(a)),Ce.createElement(qf,b1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+u+g,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,u=n.y,A=n.width,f=n.height,h=n.alwaysShowText,p=this.state,g=p.startX,v=p.endX,x=p.isTextActive,b=p.isSlideMoving,w=p.isTravellerMoving,B=p.isTravellerFocused;if(!a||!a.length||!ir(l)||!ir(u)||!ir(A)||!ir(f)||A<=0||f<=0)return null;var j=en("recharts-brush",s),_=Ce.Children.count(o)===1,N=n0e("userSelect","none");return Ce.createElement(kn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(x||b||w||B||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,u=n.stroke,A=Math.floor(s+l/2)-1;return Ce.createElement(Ce.Fragment,null,Ce.createElement("rect",{x:a,y:s,width:o,height:l,fill:u,stroke:"none"}),Ce.createElement("line",{x1:a+1,y1:A,x2:a+o-1,y2:A,fill:"none",stroke:"#fff"}),Ce.createElement("line",{x1:a+1,y1:A+2,x2:a+o-1,y2:A+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return Ce.isValidElement(n)?s=Ce.cloneElement(n,a):Jr(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,u=n.travellerWidth,A=n.updateId,f=n.startIndex,h=n.endIndex;if(s!==a.prevData||A!==a.prevUpdateId)return ES({prevData:s,prevTravellerWidth:u,prevUpdateId:A,prevX:l,prevWidth:o},s&&s.length?A0e({data:s,width:o,x:l,travellerWidth:u,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||u!==a.prevTravellerWidth)){a.scale.range([l,l+o-u]);var p=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:A,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var u=Math.floor((o+l)/2);n[u]>a?l=u:o=u}return a>=n[l]?l:o}}])}(k.PureComponent);Go(Vm,"displayName","Brush");Go(Vm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kS,qM;function d0e(){if(qM)return kS;qM=1;var e=q3();function t(r,n){var a;return e(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return kS=t,kS}var _S,VM;function f0e(){if(VM)return _S;VM=1;var e=D$(),t=gu(),r=d0e(),n=ko(),a=jw();function s(o,l,u){var A=n(o)?e:r;return u&&a(o,l,u)&&(l=void 0),A(o,t(l,3))}return _S=s,_S}var h0e=f0e();const m0e=ta(h0e);var uu=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},TS,KM;function p0e(){if(KM)return TS;KM=1;var e=rz();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return TS=t,TS}var OS,GM;function g0e(){if(GM)return OS;GM=1;var e=p0e(),t=ez(),r=gu();function n(a,s){var o={};return s=r(s,3),t(a,function(l,u,A){e(o,u,s(l,u,A))}),o}return OS=n,OS}var y0e=g0e();const v0e=ta(y0e);var FS,WM;function x0e(){if(WM)return FS;WM=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return FS=e,FS}var PS,YM;function b0e(){if(YM)return PS;YM=1;var e=q3();function t(r,n){var a=!0;return e(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return PS=t,PS}var LS,XM;function w0e(){if(XM)return LS;XM=1;var e=x0e(),t=b0e(),r=gu(),n=ko(),a=jw();function s(o,l,u){var A=n(o)?e:t;return u&&a(o,l,u)&&(l=void 0),A(o,r(l,3))}return LS=s,LS}var C0e=w0e();const $q=ta(C0e);var B0e=["x","y"];function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(this,arguments)}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _g(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){j0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j0e(e,t,r){return t=S0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S0e(e){var t=N0e(e,"string");return d0(t)=="symbol"?t:t+""}function N0e(e,t){if(d0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(d0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E0e(e,t){if(e==null)return{};var r=k0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _0e(e,t){var r=e.x,n=e.y,a=E0e(e,B0e),s="".concat(r),o=parseInt(s,10),l="".concat(n),u=parseInt(l,10),A="".concat(t.height||a.height),f=parseInt(A,10),h="".concat(t.width||a.width),p=parseInt(h,10);return _g(_g(_g(_g(_g({},t),a),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function ZM(e){return Ce.createElement(Uq,vE({shapeType:"rectangle",propTransformer:_0e,activeClassName:"recharts-active-bar"},e))}var T0e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=typeof n=="number";return s?t(n,a):(s||Gf(),r)}},O0e=["value","background"],zq;function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function F0e(e,t){if(e==null)return{};var r=P0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(this,arguments)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){dd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function U0e(e,t,r){return t&&tR(e.prototype,t),r&&tR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function I0e(e,t,r){return t=B1(t),D0e(e,qq()?Reflect.construct(t,r||[],B1(e).constructor):t.apply(e,r))}function D0e(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0e(e)}function M0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function B1(e){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(e)}function R0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xE(e,t)}function dd(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=Q0e(e,"string");return Km(t)=="symbol"?t:t+""}function Q0e(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tl=function(e){function t(){var r;L0e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=I0e(this,t,[].concat(a)),dd(r,"state",{isAnimationFinished:!1}),dd(r,"id",eh("recharts-bar-")),dd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),dd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return R0e(t,e),U0e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,u=s.activeIndex,A=s.activeBar,f=Rr(this.props,!1);return n&&n.map(function(h,p){var g=p===u,v=g?A:o,x=Oi(Oi(Oi({},f),h),{},{isActive:g,option:v,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ce.createElement(kn,C1({className:"recharts-bar-rectangle"},zf(a.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),Ce.createElement(ZM,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,u=a.animationBegin,A=a.animationDuration,f=a.animationEasing,h=a.animationId,p=this.state.prevData;return Ce.createElement(Cc,{begin:u,duration:A,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,x=s.map(function(b,w){var B=p&&p[w];if(B){var j=Ki(B.x,b.x),_=Ki(B.y,b.y),N=Ki(B.width,b.width),O=Ki(B.height,b.height);return Oi(Oi({},b),{},{x:j(v),y:_(v),width:N(v),height:O(v)})}if(o==="horizontal"){var T=Ki(0,b.height),P=T(v);return Oi(Oi({},b),{},{y:b.y+b.height-P,height:P})}var U=Ki(0,b.width),D=U(v);return Oi(Oi({},b),{},{width:D})});return Ce.createElement(kn,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Vf(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,u=Rr(this.props.background,!1);return s.map(function(A,f){A.value;var h=A.background,p=F0e(A,O0e);if(!h)return null;var g=Oi(Oi(Oi(Oi(Oi({},p),{},{fill:"#eee"},h),u),zf(n.props,A,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Ce.createElement(ZM,C1({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,u=s.yAxis,A=s.layout,f=s.children,h=el(f,q0);if(!h)return null;var p=A==="vertical"?o[0].height/2:o[0].width/2,g=function(b,w){var B=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:B,errorVal:Ci(b,w)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(kn,v,h.map(function(x){return Ce.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:u,layout:A,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,u=n.yAxis,A=n.left,f=n.top,h=n.width,p=n.height,g=n.isAnimationActive,v=n.background,x=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=en("recharts-bar",o),B=l&&l.allowDataOverflow,j=u&&u.allowDataOverflow,_=B||j,N=sn(x)?this.id:x;return Ce.createElement(kn,{className:w},B||j?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(N)},Ce.createElement("rect",{x:B?A:A-h/2,y:j?f:f-p/2,width:B?h:h*2,height:j?p:p*2}))):null,Ce.createElement(kn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,N),(!g||b)&&cu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(k.PureComponent);zq=tl;dd(tl,"displayName","Bar");dd(tl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Td.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dd(tl,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,A=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,g=vhe(n,r);if(!g)return null;var v=t.layout,x=r.type.defaultProps,b=x!==void 0?Oi(Oi({},x),r.props):r.props,w=b.dataKey,B=b.children,j=b.minPointSize,_=v==="horizontal"?o:s,N=A?_.scale.domain():null,O=She({numericAxis:_}),T=el(B,ym),P=h.map(function(U,D){var F,R,Q,H,J,V;A?F=xhe(A[f+D],N):(F=Ci(U,w),Array.isArray(F)||(F=[O,F]));var Y=T0e(j,zq.defaultProps.minPointSize)(F[1],D);if(v==="horizontal"){var ee,ie=[o.scale(F[0]),o.scale(F[1])],z=ie[0],W=ie[1];R=_D({axis:s,ticks:l,bandSize:a,offset:g.offset,entry:U,index:D}),Q=(ee=W??z)!==null&&ee!==void 0?ee:void 0,H=g.size;var L=z-W;if(J=Number.isNaN(L)?0:L,V={x:R,y:o.y,width:H,height:o.height},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var q=lo(J||Y)*(Math.abs(Y)-Math.abs(J));Q-=q,J+=q}}else{var G=[s.scale(F[0]),s.scale(F[1])],Z=G[0],te=G[1];if(R=Z,Q=_D({axis:o,ticks:u,bandSize:a,offset:g.offset,entry:U,index:D}),H=te-Z,J=g.size,V={x:s.x,y:Q,width:s.width,height:J},Math.abs(Y)>0&&Math.abs(H)<Math.abs(Y)){var fe=lo(H||Y)*(Math.abs(Y)-Math.abs(H));H+=fe}}return Oi(Oi(Oi({},U),{},{x:R,y:Q,width:H,height:J,value:A?F:F[1],payload:U,background:V},T&&T[D]&&T[D].props),{},{tooltipPayload:[yq(r,U)],tooltipPosition:{x:R+H/2,y:Q+J/2}})});return Oi({data:P,layout:v},p)});function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function H0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kq(n.key),n)}}function $0e(e,t,r){return t&&rR(e.prototype,t),r&&rR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){Hw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hw(e,t,r){return t=Kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=z0e(e,"string");return f0(t)=="symbol"?t:t+""}function z0e(e,t){if(f0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(f0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x_=function(t,r,n,a,s){var o=t.width,l=t.height,u=t.layout,A=t.children,f=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Wo(A,tl);return f.reduce(function(g,v){var x=r[v],b=x.orientation,w=x.domain,B=x.padding,j=B===void 0?{}:B,_=x.mirror,N=x.reversed,O="".concat(b).concat(_?"Mirror":""),T,P,U,D,F;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var R=w[1]-w[0],Q=1/0,H=x.categoricalDomain.sort();if(H.forEach(function(G,Z){Z>0&&(Q=Math.min((G||0)-(H[Z-1]||0),Q))}),Number.isFinite(Q)){var J=Q/R,V=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(T=J*V/2),x.padding==="no-gap"){var Y=co(t.barCategoryGap,J*V),ee=J*V/2;T=ee-Y-(ee-Y)/V*Y}}}a==="xAxis"?P=[n.left+(j.left||0)+(T||0),n.left+n.width-(j.right||0)-(T||0)]:a==="yAxis"?P=u==="horizontal"?[n.top+n.height-(j.bottom||0),n.top+(j.top||0)]:[n.top+(j.top||0)+(T||0),n.top+n.height-(j.bottom||0)-(T||0)]:P=x.range,N&&(P=[P[1],P[0]]);var ie=hq(x,s,p),z=ie.scale,W=ie.realScaleType;z.domain(w).range(P),mq(z);var L=pq(z,dc(dc({},x),{},{realScaleType:W}));a==="xAxis"?(F=b==="top"&&!_||b==="bottom"&&_,U=n.left,D=h[O]-F*x.height):a==="yAxis"&&(F=b==="left"&&!_||b==="right"&&_,U=h[O]-F*x.width,D=n.top);var q=dc(dc(dc({},x),L),{},{realScaleType:W,x:U,y:D,scale:z,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return q.bandSize=l1(q,L),!x.hide&&a==="xAxis"?h[O]+=(F?-1:1)*q.height:x.hide||(h[O]+=(F?-1:1)*q.width),dc(dc({},g),{},Hw({},v,q))},{})},Gq=function(t,r){var n=t.x,a=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},q0e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return Gq({x:r,y:n},{x:a,y:s})},Wq=function(){function e(t){H0e(this,e),this.scale=t}return $0e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+u}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hw(Wq,"EPS",1e-4);var b_=function(t){var r=Object.keys(t).reduce(function(n,a){return dc(dc({},n),{},Hw({},a,Wq.create(t[a])))},{});return dc(dc({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return v0e(a,function(u,A){return r[A].apply(u,{bandAware:o,position:l})})},isInRange:function(a){return $q(a,function(s,o){return r[o].isInRange(s)})}})};function V0e(e){return(e%180+180)%180}var K0e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=V0e(a),o=s*Math.PI/180,l=Math.atan(n/r),u=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},US,aR;function G0e(){if(aR)return US;aR=1;var e=gu(),t=R0(),r=Cw();function n(a){return function(s,o,l){var u=Object(s);if(!t(s)){var A=e(o,3);s=r(s),o=function(h){return A(u[h],h,u)}}var f=a(s,o,l);return f>-1?u[A?s[f]:f]:void 0}}return US=n,US}var IS,iR;function W0e(){if(iR)return IS;iR=1;var e=Mq();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return IS=t,IS}var DS,sR;function Y0e(){if(sR)return DS;sR=1;var e=W$(),t=gu(),r=W0e(),n=Math.max;function a(s,o,l){var u=s==null?0:s.length;if(!u)return-1;var A=l==null?0:r(l);return A<0&&(A=n(u+A,0)),e(s,t(o,3),A)}return DS=a,DS}var MS,oR;function X0e(){if(oR)return MS;oR=1;var e=G0e(),t=Y0e(),r=e(t);return MS=r,MS}var J0e=X0e();const Z0e=ta(J0e);var eve=u$();const tve=ta(eve);var rve=tve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),w_=k.createContext(void 0),C_=k.createContext(void 0),Yq=k.createContext(void 0),Xq=k.createContext({}),Jq=k.createContext(void 0),Zq=k.createContext(0),eV=k.createContext(0),lR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,u=t.width,A=t.height,f=rve(s);return Ce.createElement(w_.Provider,{value:n},Ce.createElement(C_.Provider,{value:a},Ce.createElement(Xq.Provider,{value:s},Ce.createElement(Yq.Provider,{value:f},Ce.createElement(Jq.Provider,{value:o},Ce.createElement(Zq.Provider,{value:A},Ce.createElement(eV.Provider,{value:u},l)))))))},nve=function(){return k.useContext(Jq)},tV=function(t){var r=k.useContext(w_);r==null&&Gf();var n=r[t];return n==null&&Gf(),n},ave=function(){var t=k.useContext(w_);return od(t)},ive=function(){var t=k.useContext(C_),r=Z0e(t,function(n){return $q(n.domain,Number.isFinite)});return r||od(t)},rV=function(t){var r=k.useContext(C_);r==null&&Gf();var n=r[t];return n==null&&Gf(),n},sve=function(){var t=k.useContext(Yq);return t},ove=function(){return k.useContext(Xq)},B_=function(){return k.useContext(eV)},j_=function(){return k.useContext(Zq)};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function lve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aV(n.key),n)}}function uve(e,t,r){return t&&cve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ave(e,t,r){return t=j1(t),dve(e,nV()?Reflect.construct(t,r||[],j1(e).constructor):t.apply(e,r))}function dve(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fve(e)}function fve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nV=function(){return!!e})()}function j1(e){return j1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j1(e)}function hve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bE(e,t)}function bE(e,t){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bE(e,t)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){S_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S_(e,t,r){return t=aV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aV(e){var t=mve(e,"string");return Gm(t)=="symbol"?t:t+""}function mve(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pve(e,t){return xve(e)||vve(e,t)||yve(e,t)||gve()}function gve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yve(e,t){if(e){if(typeof e=="string")return AR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function xve(e){if(Array.isArray(e))return e}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wE.apply(this,arguments)}var bve=function(t,r){var n;return Ce.isValidElement(t)?n=Ce.cloneElement(t,r):Jr(t)?n=t(r):n=Ce.createElement("line",wE({},r,{className:"recharts-reference-line-line"})),n},wve=function(t,r,n,a,s,o,l,u,A){var f=s.x,h=s.y,p=s.width,g=s.height;if(n){var v=A.y,x=t.y.apply(v,{position:o});if(uu(A,"discard")&&!t.y.isInRange(x))return null;var b=[{x:f+p,y:x},{x:f,y:x}];return u==="left"?b.reverse():b}if(r){var w=A.x,B=t.x.apply(w,{position:o});if(uu(A,"discard")&&!t.x.isInRange(B))return null;var j=[{x:B,y:h+g},{x:B,y:h}];return l==="top"?j.reverse():j}if(a){var _=A.segment,N=_.map(function(O){return t.apply(O,{position:o})});return uu(A,"discard")&&m0e(N,function(O){return!t.isInRange(O)})?null:N}return null};function Cve(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,u=e.alwaysShow,A=nve(),f=tV(a),h=rV(s),p=sve();if(!A||!p)return null;xc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=b_({x:f.scale,y:h.scale}),v=Wi(t),x=Wi(r),b=n&&n.length===2,w=wve(g,v,x,b,p,e.position,f.orientation,h.orientation,e);if(!w)return null;var B=pve(w,2),j=B[0],_=j.x,N=j.y,O=B[1],T=O.x,P=O.y,U=uu(e,"hidden")?"url(#".concat(A,")"):void 0,D=uR(uR({clipPath:U},Rr(e,!0)),{},{x1:_,y1:N,x2:T,y2:P});return Ce.createElement(kn,{className:en("recharts-reference-line",l)},bve(o,D),ls.renderCallByParent(e,q0e({x1:_,y1:N,x2:T,y2:P})))}var N_=function(e){function t(){return lve(this,t),Ave(this,t,arguments)}return hve(t,e),uve(t,[{key:"render",value:function(){return Ce.createElement(Cve,this.props)}}])}(Ce.Component);S_(N_,"displayName","ReferenceLine");S_(N_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CE.apply(this,arguments)}function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){$w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sV(n.key),n)}}function Sve(e,t,r){return t&&jve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nve(e,t,r){return t=S1(t),Eve(e,iV()?Reflect.construct(t,r||[],S1(e).constructor):t.apply(e,r))}function Eve(e,t){if(t&&(Wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kve(e)}function kve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iV=function(){return!!e})()}function S1(e){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(e)}function _ve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BE(e,t)}function BE(e,t){return BE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BE(e,t)}function $w(e,t,r){return t=sV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=Tve(e,"string");return Wm(t)=="symbol"?t:t+""}function Tve(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ove=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,o=b_({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return uu(t,"discard")&&!o.isInRange(l)?null:l},zw=function(e){function t(){return Bve(this,t),Nve(this,t,arguments)}return _ve(t,e),Sve(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,u=n.clipPathId,A=Wi(a),f=Wi(s);if(xc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!A||!f)return null;var h=Ove(this.props);if(!h)return null;var p=h.x,g=h.y,v=this.props,x=v.shape,b=v.className,w=uu(this.props,"hidden")?"url(#".concat(u,")"):void 0,B=fR(fR({clipPath:w},Rr(this.props,!0)),{},{cx:p,cy:g});return Ce.createElement(kn,{className:en("recharts-reference-dot",b)},t.renderDot(x,B),ls.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])}(Ce.Component);$w(zw,"displayName","ReferenceDot");$w(zw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$w(zw,"renderDot",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):Jr(e)?r=e(t):r=Ce.createElement(V0,CE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jE.apply(this,arguments)}function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lV(n.key),n)}}function Lve(e,t,r){return t&&Pve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uve(e,t,r){return t=N1(t),Ive(e,oV()?Reflect.construct(t,r||[],N1(e).constructor):t.apply(e,r))}function Ive(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dve(e)}function Dve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!e})()}function N1(e){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(e)}function Mve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SE(e,t)}function SE(e,t){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SE(e,t)}function qw(e,t,r){return t=lV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=Rve(e,"string");return Ym(t)=="symbol"?t:t+""}function Rve(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qve=function(t,r,n,a,s){var o=s.x1,l=s.x2,u=s.y1,A=s.y2,f=s.xAxis,h=s.yAxis;if(!f||!h)return null;var p=b_({x:f.scale,y:h.scale}),g={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(u,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(A,{position:"end"}):p.y.rangeMax};return uu(s,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:Gq(g,v)},Vw=function(e){function t(){return Fve(this,t),Uve(this,t,arguments)}return Mve(t,e),Lve(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,u=n.className,A=n.alwaysShow,f=n.clipPathId;xc(A===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Wi(a),p=Wi(s),g=Wi(o),v=Wi(l),x=this.props.shape;if(!h&&!p&&!g&&!v&&!x)return null;var b=Qve(h,p,g,v,this.props);if(!b&&!x)return null;var w=uu(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Ce.createElement(kn,{className:en("recharts-reference-area",u)},t.renderRect(x,mR(mR({clipPath:w},Rr(this.props,!0)),b)),ls.renderCallByParent(this.props,b))}}])}(Ce.Component);qw(Vw,"displayName","ReferenceArea");qw(Vw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qw(Vw,"renderRect",function(e,t){var r;return Ce.isValidElement(e)?r=Ce.cloneElement(e,t):Jr(e)?r=e(t):r=Ce.createElement(v_,jE({},t,{className:"recharts-reference-area-rect"})),r});function cV(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Hve(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return K0e(n,r)}function $ve(e,t,r){var n=r==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function E1(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function zve(e,t){return cV(e,t+1)}function qve(e,t,r,n,a){for(var s=(n||[]).slice(),o=t.start,l=t.end,u=0,A=1,f=o,h=function(){var v=n==null?void 0:n[u];if(v===void 0)return{v:cV(n,A)};var x=u,b,w=function(){return b===void 0&&(b=r(v,x)),b},B=v.coordinate,j=u===0||E1(e,B,w,f,l);j||(u=0,f=o,A+=1),j&&(f=B+e*(w()/2+a),u+=A)},p;A<=s.length;)if(p=h(),p)return p.v;return[]}function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Vve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vve(e,t,r){return t=Kve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kve(e){var t=Gve(e,"string");return h0(t)=="symbol"?t:t+""}function Gve(e,t){if(h0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wve(e,t,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=t.start,u=t.end,A=function(p){var g=s[p],v,x=function(){return v===void 0&&(v=r(g,p)),v};if(p===o-1){var b=e*(g.coordinate+e*x()/2-u);s[p]=g=zs(zs({},g),{},{tickCoord:b>0?g.coordinate-b*e:g.coordinate})}else s[p]=g=zs(zs({},g),{},{tickCoord:g.coordinate});var w=E1(e,g.tickCoord,x,l,u);w&&(u=g.tickCoord-e*(x()/2+a),s[p]=zs(zs({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)A(f);return s}function Yve(e,t,r,n,a,s){var o=(n||[]).slice(),l=o.length,u=t.start,A=t.end;if(s){var f=n[l-1],h=r(f,l-1),p=e*(f.coordinate+e*h/2-A);o[l-1]=f=zs(zs({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var g=E1(e,f.tickCoord,function(){return h},u,A);g&&(A=f.tickCoord-e*(h/2+a),o[l-1]=zs(zs({},f),{},{isShow:!0}))}for(var v=s?l-1:l,x=function(B){var j=o[B],_,N=function(){return _===void 0&&(_=r(j,B)),_};if(B===0){var O=e*(j.coordinate-e*N()/2-u);o[B]=j=zs(zs({},j),{},{tickCoord:O<0?j.coordinate-O*e:j.coordinate})}else o[B]=j=zs(zs({},j),{},{tickCoord:j.coordinate});var T=E1(e,j.tickCoord,N,u,A);T&&(u=j.tickCoord+e*(N()/2+a),o[B]=zs(zs({},j),{},{isShow:!0}))},b=0;b<v;b++)x(b);return o}function E_(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,u=e.interval,A=e.tickFormatter,f=e.unit,h=e.angle;if(!a||!a.length||!n)return[];if(ir(u)||Td.isSsr)return zve(a,typeof u=="number"&&ir(u)?u:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",v=f&&g==="width"?iy(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(j,_){var N=Jr(A)?A(j.value,_):j.value;return g==="width"?Hve(iy(N,{fontSize:t,letterSpacing:r}),v,h):iy(N,{fontSize:t,letterSpacing:r})[g]},b=a.length>=2?lo(a[1].coordinate-a[0].coordinate):1,w=$ve(s,b,g);return u==="equidistantPreserveStart"?qve(b,w,x,a,o):(u==="preserveStart"||u==="preserveStartEnd"?p=Yve(b,w,x,a,o,u==="preserveStartEnd"):p=Wve(b,w,x,a,o),p.filter(function(B){return B.isShow}))}var Xve=["viewBox"],Jve=["viewBox"],Zve=["ticks"];function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function fm(){return fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fm.apply(this,arguments)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){k_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RS(e,t){if(e==null)return{};var r=exe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function exe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function txe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AV(n.key),n)}}function rxe(e,t,r){return t&&yR(e.prototype,t),r&&yR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nxe(e,t,r){return t=k1(t),axe(e,uV()?Reflect.construct(t,r||[],k1(e).constructor):t.apply(e,r))}function axe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixe(e)}function ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!e})()}function k1(e){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(e)}function sxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NE(e,t)}function NE(e,t){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NE(e,t)}function k_(e,t,r){return t=AV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AV(e){var t=oxe(e,"string");return Xm(t)=="symbol"?t:t+""}function oxe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bp=function(e){function t(r){var n;return txe(this,t),n=nxe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return sxe(t,e),rxe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=RS(n,Xve),l=this.props,u=l.viewBox,A=RS(l,Jve);return!gm(s,u)||!gm(o,A)||!gm(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,u=a.height,A=a.orientation,f=a.tickSize,h=a.mirror,p=a.tickMargin,g,v,x,b,w,B,j=h?-1:1,_=n.tickSize||f,N=ir(n.tickCoord)?n.tickCoord:n.coordinate;switch(A){case"top":g=v=n.coordinate,b=o+ +!h*u,x=b-j*_,B=x-j*p,w=N;break;case"left":x=b=n.coordinate,v=s+ +!h*l,g=v-j*_,w=g-j*p,B=N;break;case"right":x=b=n.coordinate,v=s+ +h*l,g=v+j*_,w=g+j*p,B=N;break;default:g=v=n.coordinate,b=o+ +h*u,x=b+j*_,B=x+j*p,w=N;break}return{line:{x1:g,y1:x,x2:v,y2:b},tick:{x:w,y:B}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,u=n.orientation,A=n.mirror,f=n.axisLine,h=ro(ro(ro({},Rr(this.props,!1)),Rr(f,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var p=+(u==="top"&&!A||u==="bottom"&&A);h=ro(ro({},h),{},{x1:a,y1:s+p*l,x2:a+o,y2:s+p*l})}else{var g=+(u==="left"&&!A||u==="right"&&A);h=ro(ro({},h),{},{x1:a+g*o,y1:s,x2:a+g*o,y2:s+l})}return Ce.createElement("line",fm({},h,{className:en("recharts-cartesian-axis-line",Zo(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,u=l.tickLine,A=l.stroke,f=l.tick,h=l.tickFormatter,p=l.unit,g=E_(ro(ro({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=Rr(this.props,!1),w=Rr(f,!1),B=ro(ro({},b),{},{fill:"none"},Rr(u,!1)),j=g.map(function(_,N){var O=o.getTickLineCoord(_),T=O.line,P=O.tick,U=ro(ro(ro(ro({textAnchor:v,verticalAnchor:x},b),{},{stroke:"none",fill:A},w),P),{},{index:N,payload:_,visibleTicksCount:g.length,tickFormatter:h});return Ce.createElement(kn,fm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},zf(o.props,_,N)),u&&Ce.createElement("line",fm({},B,T,{className:en("recharts-cartesian-axis-tick-line",Zo(u,"className"))})),f&&t.renderTickItem(f,U,"".concat(Jr(h)?h(_.value,N):_.value).concat(p||"")))});return Ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,u=a.ticksGenerator,A=a.className,f=a.hide;if(f)return null;var h=this.props,p=h.ticks,g=RS(h,Zve),v=p;return Jr(u)&&(v=p&&p.length>0?u(this.props):u(g)),o<=0||l<=0||!v||!v.length?null:Ce.createElement(kn,{className:en("recharts-cartesian-axis",A),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ls.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return Ce.isValidElement(n)?o=Ce.cloneElement(n,a):Jr(n)?o=n(a):o=Ce.createElement(qf,fm({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(k.Component);k_(bp,"displayName","CartesianAxis");k_(bp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lxe=["x1","y1","x2","y2","key"],cxe=["offset"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){uxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uxe(e,t,r){return t=Axe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Axe(e){var t=dxe(e,"string");return Wf(t)=="symbol"?t:t+""}function dxe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(this,arguments)}function xR(e,t){if(e==null)return{};var r=fxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hxe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,u=t.ry;return Ce.createElement("rect",{x:a,y:s,ry:u,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dV(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(Jr(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,u=xR(t,lxe),A=Rr(u,!1);A.offset;var f=xR(A,cxe);r=Ce.createElement("line",Nf({},f,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function mxe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,u){var A=Vs(Vs({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(u),index:u});return dV(a,A)});return Ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function pxe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,u){var A=Vs(Vs({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(u),index:u});return dV(a,A)});return Ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function gxe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,u=e.horizontal,A=u===void 0?!0:u;if(!A||!t||!t.length)return null;var f=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,g){return p-g});a!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],x=v?a+o-p:f[g+1]-p;if(x<=0)return null;var b=g%t.length;return Ce.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:x,width:s,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yxe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,u=e.height,A=e.verticalPoints;if(!r||!n||!n.length)return null;var f=A.map(function(p){return Math.round(p+s-s)}).sort(function(p,g){return p-g});s!==f[0]&&f.unshift(0);var h=f.map(function(p,g){var v=!f[g+1],x=v?s+l-p:f[g+1]-p;if(x<=0)return null;var b=g%n.length;return Ce.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:x,height:u,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var vxe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,o=t.offset;return fq(E_(Vs(Vs(Vs({},bp.defaultProps),n),{},{ticks:nA(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},xxe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,o=t.offset;return fq(E_(Vs(Vs(Vs({},bp.defaultProps),n),{},{ticks:nA(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},Qh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function If(e){var t,r,n,a,s,o,l=B_(),u=j_(),A=ove(),f=Vs(Vs({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qh.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Qh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Qh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qh.verticalFill,x:ir(e.x)?e.x:A.left,y:ir(e.y)?e.y:A.top,width:ir(e.width)?e.width:A.width,height:ir(e.height)?e.height:A.height}),h=f.x,p=f.y,g=f.width,v=f.height,x=f.syncWithTicks,b=f.horizontalValues,w=f.verticalValues,B=ave(),j=ive();if(!ir(g)||g<=0||!ir(v)||v<=0||!ir(h)||h!==+h||!ir(p)||p!==+p)return null;var _=f.verticalCoordinatesGenerator||vxe,N=f.horizontalCoordinatesGenerator||xxe,O=f.horizontalPoints,T=f.verticalPoints;if((!O||!O.length)&&Jr(N)){var P=b&&b.length,U=N({yAxis:j?Vs(Vs({},j),{},{ticks:P?b:j.ticks}):void 0,width:l,height:u,offset:A},P?!0:x);xc(Array.isArray(U),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wf(U),"]")),Array.isArray(U)&&(O=U)}if((!T||!T.length)&&Jr(_)){var D=w&&w.length,F=_({xAxis:B?Vs(Vs({},B),{},{ticks:D?w:B.ticks}):void 0,width:l,height:u,offset:A},D?!0:x);xc(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wf(F),"]")),Array.isArray(F)&&(T=F)}return Ce.createElement("g",{className:"recharts-cartesian-grid"},Ce.createElement(hxe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Ce.createElement(mxe,Nf({},f,{offset:A,horizontalPoints:O,xAxis:B,yAxis:j})),Ce.createElement(pxe,Nf({},f,{offset:A,verticalPoints:T,xAxis:B,yAxis:j})),Ce.createElement(gxe,Nf({},f,{horizontalPoints:O})),Ce.createElement(yxe,Nf({},f,{verticalPoints:T})))}If.displayName="CartesianGrid";var bxe=["type","layout","connectNulls","ref"],wxe=["key"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function bR(e,t){if(e==null)return{};var r=Cxe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ay.apply(this,arguments)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){fc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e){return Nxe(e)||Sxe(e)||jxe(e)||Bxe()}function Bxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jxe(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function Sxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nxe(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hV(n.key),n)}}function kxe(e,t,r){return t&&CR(e.prototype,t),r&&CR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _xe(e,t,r){return t=_1(t),Txe(e,fV()?Reflect.construct(t,r||[],_1(e).constructor):t.apply(e,r))}function Txe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oxe(e)}function Oxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fV=function(){return!!e})()}function _1(e){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(e)}function Fxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kE(e,t)}function kE(e,t){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kE(e,t)}function fc(e,t,r){return t=hV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=Pxe(e,"string");return Jm(t)=="symbol"?t:t+""}function Pxe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wp=function(e){function t(){var r;Exe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=_xe(this,t,[].concat(a)),fc(r,"state",{isAnimationFinished:!0,totalLength:0}),fc(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),fc(r,"getStrokeDasharray",function(o,l,u){var A=u.reduce(function(w,B){return w+B});if(!A)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/A),h=o%A,p=l-o,g=[],v=0,x=0;v<u.length;x+=u[v],++v)if(x+u[v]>h){g=[].concat(Hh(u.slice(0,v)),[h-x]);break}var b=g.length%2===0?[0,p]:[p];return[].concat(Hh(t.repeat(u,f)),Hh(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),fc(r,"id",eh("recharts-line-")),fc(r,"pathRef",function(o){r.mainCurve=o}),fc(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),fc(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Fxe(t,e),kxe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,u=s.yAxis,A=s.layout,f=s.children,h=el(f,q0);if(!h)return null;var p=function(x,b){return{x:x.x,y:x.y,value:x.value,errorVal:Ci(x.payload,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ce.createElement(kn,g,h.map(function(v){return Ce.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:u,layout:A,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,A=l.points,f=l.dataKey,h=Rr(this.props,!1),p=Rr(u,!0),g=A.map(function(x,b){var w=Vo(Vo(Vo({key:"dot-".concat(b),r:3},h),p),{},{value:x.value,dataKey:f,cx:x.x,cy:x.y,index:b,payload:x.payload});return t.renderDotItem(u,w)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Ce.createElement(kn,Ay({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,u=l.type,A=l.layout,f=l.connectNulls;l.ref;var h=bR(l,bxe),p=Vo(Vo(Vo({},Rr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:u,layout:A,connectNulls:f});return Ce.createElement(Uf,Ay({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,u=o.strokeDasharray,A=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,x=o.width,b=o.height,w=this.state,B=w.prevPoints,j=w.totalLength;return Ce.createElement(Cc,{begin:f,duration:h,isActive:A,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var N=_.t;if(B){var O=B.length/l.length,T=l.map(function(R,Q){var H=Math.floor(Q*O);if(B[H]){var J=B[H],V=Ki(J.x,R.x),Y=Ki(J.y,R.y);return Vo(Vo({},R),{},{x:V(N),y:Y(N)})}if(v){var ee=Ki(x*2,R.x),ie=Ki(b/2,R.y);return Vo(Vo({},R),{},{x:ee(N),y:ie(N)})}return Vo(Vo({},R),{},{x:R.x,y:R.y})});return s.renderCurveStatically(T,n,a)}var P=Ki(0,j),U=P(N),D;if(u){var F="".concat(u).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});D=s.getStrokeDasharray(U,j,F)}else D=s.generateSimpleStrokeDasharray(j,U);return s.renderCurveStatically(l,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,u=this.state,A=u.prevPoints,f=u.totalLength;return l&&o&&o.length&&(!A&&f>0||!Vf(A,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,u=a.className,A=a.xAxis,f=a.yAxis,h=a.top,p=a.left,g=a.width,v=a.height,x=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var w=this.state.isAnimationFinished,B=l.length===1,j=en("recharts-line",u),_=A&&A.allowDataOverflow,N=f&&f.allowDataOverflow,O=_||N,T=sn(b)?this.id:b,P=(n=Rr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},U=P.r,D=U===void 0?3:U,F=P.strokeWidth,R=F===void 0?2:F,Q=m$(o)?o:{},H=Q.clipDot,J=H===void 0?!0:H,V=D*2+R;return Ce.createElement(kn,{className:j},_||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(T)},Ce.createElement("rect",{x:_?p:p-g/2,y:N?h:h-v/2,width:_?g:g*2,height:N?v:v*2})),!J&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ce.createElement("rect",{x:p-V/2,y:h-V/2,width:g+V,height:v+V}))):null,!B&&this.renderCurve(O,T),this.renderErrorBar(O,T),(B||o)&&this.renderDots(O,J,T),(!x||w)&&cu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(Hh(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Hh(o),Hh(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(Ce.isValidElement(n))s=Ce.cloneElement(n,a);else if(Jr(n))s=n(a);else{var o=a.key,l=bR(a,wxe),u=en("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Ce.createElement(V0,Ay({key:o},l,{className:u}))}return s}}])}(k.PureComponent);fc(wp,"displayName","Line");fc(wp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Td.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});fc(wp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,u=e.displayedData,A=e.offset,f=t.layout,h=u.map(function(p,g){var v=Ci(p,o);return f==="horizontal"?{x:o1({axis:r,ticks:a,bandSize:l,entry:p,index:g}),y:sn(v)?null:n.scale(v),value:v,payload:p}:{x:sn(v)?null:r.scale(v),y:o1({axis:n,ticks:s,bandSize:l,entry:p,index:g}),value:v,payload:p}});return Vo({points:h,layout:f},A)});var Lxe=["layout","type","stroke","connectNulls","isRange","ref"],Uxe=["key"],mV;function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function pV(e,t){if(e==null)return{};var r=Ixe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ixe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){nu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yV(n.key),n)}}function Mxe(e,t,r){return t&&jR(e.prototype,t),r&&jR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rxe(e,t,r){return t=T1(t),Qxe(e,gV()?Reflect.construct(t,r||[],T1(e).constructor):t.apply(e,r))}function Qxe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hxe(e)}function Hxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!e})()}function T1(e){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(e)}function $xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_E(e,t)}function nu(e,t,r){return t=yV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=zxe(e,"string");return Zm(t)=="symbol"?t:t+""}function zxe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ld=function(e){function t(){var r;Dxe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Rxe(this,t,[].concat(a)),nu(r,"state",{isAnimationFinished:!0}),nu(r,"id",eh("recharts-area-")),nu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Jr(o)&&o()}),nu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Jr(o)&&o()}),r}return $xe(t,e),Mxe(t,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var u=this.props,A=u.dot,f=u.points,h=u.dataKey,p=Rr(this.props,!1),g=Rr(A,!0),v=f.map(function(b,w){var B=td(td(td({key:"dot-".concat(w),r:3},p),g),{},{index:w,cx:b.x,cy:b.y,dataKey:h,value:b.value,payload:b.payload,points:f});return t.renderDotItem(A,B)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return Ce.createElement(kn,Ef({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].x,A=o[o.length-1].x,f=n*Math.abs(u-A),h=Ad(o.map(function(p){return p.y||0}));return ir(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Ad(s.map(function(p){return p.y||0})),h)),ir(h)?Ce.createElement("rect",{x:u<A?u:u-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,u=o[0].y,A=o[o.length-1].y,f=n*Math.abs(u-A),h=Ad(o.map(function(p){return p.x||0}));return ir(s)&&typeof s=="number"?h=Math.max(s,h):s&&Array.isArray(s)&&s.length&&(h=Math.max(Ad(s.map(function(p){return p.x||0})),h)),ir(h)?Ce.createElement("rect",{x:0,y:u<A?u:u-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,u=l.layout,A=l.type,f=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var g=pV(l,Lxe);return Ce.createElement(kn,{clipPath:s?"url(#clipPath-".concat(o,")"):null},Ce.createElement(Uf,Ef({},Rr(g,!0),{points:n,connectNulls:h,type:A,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&Ce.createElement(Uf,Ef({},Rr(this.props,!1),{className:"recharts-area-curve",layout:u,type:A,connectNulls:h,fill:"none",points:n})),f!=="none"&&p&&Ce.createElement(Uf,Ef({},Rr(this.props,!1),{className:"recharts-area-curve",layout:u,type:A,connectNulls:h,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,u=o.baseLine,A=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,g=o.animationId,v=this.state,x=v.prevPoints,b=v.prevBaseLine;return Ce.createElement(Cc,{begin:f,duration:h,isActive:A,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var B=w.t;if(x){var j=x.length/l.length,_=l.map(function(P,U){var D=Math.floor(U*j);if(x[D]){var F=x[D],R=Ki(F.x,P.x),Q=Ki(F.y,P.y);return td(td({},P),{},{x:R(B),y:Q(B)})}return P}),N;if(ir(u)&&typeof u=="number"){var O=Ki(b,u);N=O(B)}else if(sn(u)||pp(u)){var T=Ki(b,0);N=T(B)}else N=u.map(function(P,U){var D=Math.floor(U*j);if(b[D]){var F=b[D],R=Ki(F.x,P.x),Q=Ki(F.y,P.y);return td(td({},P),{},{x:R(B),y:Q(B)})}return P});return s.renderAreaStatically(_,N,n,a)}return Ce.createElement(kn,null,Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(B))),Ce.createElement(kn,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,u,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,u=s.isAnimationActive,A=this.state,f=A.prevPoints,h=A.prevBaseLine,p=A.totalLength;return u&&o&&o.length&&(!f&&p>0||!Vf(f,o)||!Vf(h,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,u=a.className,A=a.top,f=a.left,h=a.xAxis,p=a.yAxis,g=a.width,v=a.height,x=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var w=this.state.isAnimationFinished,B=l.length===1,j=en("recharts-area",u),_=h&&h.allowDataOverflow,N=p&&p.allowDataOverflow,O=_||N,T=sn(b)?this.id:b,P=(n=Rr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},U=P.r,D=U===void 0?3:U,F=P.strokeWidth,R=F===void 0?2:F,Q=m$(o)?o:{},H=Q.clipDot,J=H===void 0?!0:H,V=D*2+R;return Ce.createElement(kn,{className:j},_||N?Ce.createElement("defs",null,Ce.createElement("clipPath",{id:"clipPath-".concat(T)},Ce.createElement("rect",{x:_?f:f-g/2,y:N?A:A-v/2,width:_?g:g*2,height:N?v:v*2})),!J&&Ce.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ce.createElement("rect",{x:f-V/2,y:A-V/2,width:g+V,height:v+V}))):null,B?null:this.renderArea(O,T),(o||B)&&this.renderDots(O,J,T),(!x||w)&&cu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(k.PureComponent);mV=Ld;nu(Ld,"displayName","Area");nu(Ld,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Td.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});nu(Ld,"getBaseValue",function(e,t,r,n){var a=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(ir(l)&&typeof l=="number")return l;var u=a==="horizontal"?n:r,A=u.scale.domain();if(u.type==="number"){var f=Math.max(A[0],A[1]),h=Math.min(A[0],A[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(A[0],A[1]),0)}return l==="dataMin"?A[0]:l==="dataMax"?A[1]:A[0]});nu(Ld,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,u=e.dataKey,A=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,g=t.layout,v=A&&A.length,x=mV.getBaseValue(t,r,n,a),b=g==="horizontal",w=!1,B=h.map(function(_,N){var O;v?O=A[f+N]:(O=Ci(_,u),Array.isArray(O)?w=!0:O=[x,O]);var T=O[1]==null||v&&Ci(_,u)==null;return b?{x:o1({axis:n,ticks:s,bandSize:l,entry:_,index:N}),y:T?null:a.scale(O[1]),value:O,payload:_}:{x:T?null:n.scale(O[1]),y:o1({axis:a,ticks:o,bandSize:l,entry:_,index:N}),value:O,payload:_}}),j;return v||w?j=B.map(function(_){var N=Array.isArray(_.value)?_.value[0]:null;return b?{x:_.x,y:N!=null&&_.y!=null?a.scale(N):null}:{x:N!=null?n.scale(N):null,y:_.y}}):j=b?a.scale(x):n.scale(x),td({points:B,baseLine:j,layout:g,isRange:w},p)});nu(Ld,"renderDotItem",function(e,t){var r;if(Ce.isValidElement(e))r=Ce.cloneElement(e,t);else if(Jr(e))r=e(t);else{var n=en("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=pV(t,Uxe);r=Ce.createElement(V0,Ef({},s,{key:a,className:n}))}return r});function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function qxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bV(n.key),n)}}function Kxe(e,t,r){return t&&Vxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gxe(e,t,r){return t=O1(t),Wxe(e,vV()?Reflect.construct(t,r||[],O1(e).constructor):t.apply(e,r))}function Wxe(e,t){if(t&&(ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yxe(e)}function Yxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!e})()}function O1(e){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(e)}function Xxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},TE(e,t)}function xV(e,t,r){return t=bV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bV(e){var t=Jxe(e,"string");return ep(t)=="symbol"?t:t+""}function Jxe(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OE.apply(this,arguments)}function Zxe(e){var t=e.xAxisId,r=B_(),n=j_(),a=tV(t);return a==null?null:Ce.createElement(bp,OE({},a,{className:en("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return nA(o,!0)}}))}var Ao=function(e){function t(){return qxe(this,t),Gxe(this,t,arguments)}return Xxe(t,e),Kxe(t,[{key:"render",value:function(){return Ce.createElement(Zxe,this.props)}}])}(Ce.Component);xV(Ao,"displayName","XAxis");xV(Ao,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function ebe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BV(n.key),n)}}function rbe(e,t,r){return t&&tbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,r){return t=F1(t),abe(e,wV()?Reflect.construct(t,r||[],F1(e).constructor):t.apply(e,r))}function abe(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!e})()}function F1(e){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(e)}function sbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FE(e,t)}function FE(e,t){return FE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FE(e,t)}function CV(e,t,r){return t=BV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=obe(e,"string");return tp(t)=="symbol"?t:t+""}function obe(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}var lbe=function(t){var r=t.yAxisId,n=B_(),a=j_(),s=rV(r);return s==null?null:Ce.createElement(bp,PE({},s,{className:en("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return nA(l,!0)}}))},rl=function(e){function t(){return ebe(this,t),nbe(this,t,arguments)}return sbe(t,e),rbe(t,[{key:"render",value:function(){return Ce.createElement(lbe,this.props)}}])}(Ce.Component);CV(rl,"displayName","YAxis");CV(rl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SR(e){return dbe(e)||Abe(e)||ube(e)||cbe()}function cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ube(e,t){if(e){if(typeof e=="string")return LE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(e,t)}}function Abe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dbe(e){if(Array.isArray(e))return LE(e)}function LE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UE=function(t,r,n,a,s){var o=el(t,N_),l=el(t,zw),u=[].concat(SR(o),SR(l)),A=el(t,Vw),f="".concat(a,"Id"),h=a[0],p=r;if(u.length&&(p=u.reduce(function(x,b){if(b.props[f]===n&&uu(b.props,"extendDomain")&&ir(b.props[h])){var w=b.props[h];return[Math.min(x[0],w),Math.max(x[1],w)]}return x},p)),A.length){var g="".concat(h,"1"),v="".concat(h,"2");p=A.reduce(function(x,b){if(b.props[f]===n&&uu(b.props,"extendDomain")&&ir(b.props[g])&&ir(b.props[v])){var w=b.props[g],B=b.props[v];return[Math.min(x[0],w,B),Math.max(x[1],w,B)]}return x},p)}return s&&s.length&&(p=s.reduce(function(x,b){return ir(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},p)),p},QS={exports:{}},NR;function fbe(){return NR||(NR=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(u,A,f){this.fn=u,this.context=A,this.once=f||!1}function s(u,A,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new a(f,h||u,p),v=r?r+A:A;return u._events[v]?u._events[v].fn?u._events[v]=[u._events[v],g]:u._events[v].push(g):(u._events[v]=g,u._eventsCount++),u}function o(u,A){--u._eventsCount===0?u._events=new n:delete u._events[A]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var A=[],f,h;if(this._eventsCount===0)return A;for(h in f=this._events)t.call(f,h)&&A.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(f)):A},l.prototype.listeners=function(A){var f=r?r+A:A,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,g=h.length,v=new Array(g);p<g;p++)v[p]=h[p].fn;return v},l.prototype.listenerCount=function(A){var f=r?r+A:A,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(A,f,h,p,g,v){var x=r?r+A:A;if(!this._events[x])return!1;var b=this._events[x],w=arguments.length,B,j;if(b.fn){switch(b.once&&this.removeListener(A,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,g),!0;case 6:return b.fn.call(b.context,f,h,p,g,v),!0}for(j=1,B=new Array(w-1);j<w;j++)B[j-1]=arguments[j];b.fn.apply(b.context,B)}else{var _=b.length,N;for(j=0;j<_;j++)switch(b[j].once&&this.removeListener(A,b[j].fn,void 0,!0),w){case 1:b[j].fn.call(b[j].context);break;case 2:b[j].fn.call(b[j].context,f);break;case 3:b[j].fn.call(b[j].context,f,h);break;case 4:b[j].fn.call(b[j].context,f,h,p);break;default:if(!B)for(N=1,B=new Array(w-1);N<w;N++)B[N-1]=arguments[N];b[j].fn.apply(b[j].context,B)}}return!0},l.prototype.on=function(A,f,h){return s(this,A,f,h,!1)},l.prototype.once=function(A,f,h){return s(this,A,f,h,!0)},l.prototype.removeListener=function(A,f,h,p){var g=r?r+A:A;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!h||v.context===h)&&o(this,g);else{for(var x=0,b=[],w=v.length;x<w;x++)(v[x].fn!==f||p&&!v[x].once||h&&v[x].context!==h)&&b.push(v[x]);b.length?this._events[g]=b.length===1?b[0]:b:o(this,g)}return this},l.prototype.removeAllListeners=function(A){var f;return A?(f=r?r+A:A,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(QS)),QS.exports}var hbe=fbe();const mbe=ta(hbe);var HS=new mbe,$S="recharts.syncMouseEvents";function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jV(n.key),n)}}function ybe(e,t,r){return t&&gbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zS(e,t,r){return t=jV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=vbe(e,"string");return m0(t)=="symbol"?t:t+""}function vbe(e,t){if(m0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(m0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xbe=function(){function e(){pbe(this,e),zS(this,"activeIndex",0),zS(this,"coordinateList",[]),zS(this,"layout","horizontal")}return ybe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,u=r.layout,A=u===void 0?null:u,f=r.offset,h=f===void 0?null:f,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=A??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,u=this.coordinateList[this.activeIndex].coordinate,A=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+u+A,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function bbe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ir(n)&&ir(a))return!0}return!1}function wbe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SV(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,o=Sa(t,r,n,a),l=Sa(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Cbe(e,t,r){var n,a,s,o;if(e==="horizontal")n=t.x,s=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,u=t.cy,A=t.innerRadius,f=t.outerRadius,h=t.angle,p=Sa(l,u,A,h),g=Sa(l,u,f,h);n=p.x,a=p.y,s=g.x,o=g.y}else return SV(t);return[{x:n,y:a},{x:s,y:o}]}function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){Bbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bbe(e,t,r){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=Sbe(e,"string");return p0(t)=="symbol"?t:t+""}function Sbe(e,t){if(p0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nbe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,u=e.offset,A=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,g=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!s||!o||p!=="ScatterChart"&&a!=="axis")return null;var v,x=Uf;if(p==="ScatterChart")v=o,x=Dge;else if(p==="BarChart")v=wbe(h,o,u,f),x=v_;else if(h==="radial"){var b=SV(o),w=b.cx,B=b.cy,j=b.radius,_=b.startAngle,N=b.endAngle;v={cx:w,cy:B,startAngle:_,endAngle:N,innerRadius:j,outerRadius:j},x=Bq}else v={points:Cbe(h,o,u)},x=Uf;var O=cx(cx(cx(cx({stroke:"#ccc",pointerEvents:"none"},u),v),Rr(g,!1)),{},{payload:l,payloadIndex:A,className:en("recharts-tooltip-cursor",g.className)});return k.isValidElement(g)?k.cloneElement(g,O):k.createElement(x,O)}var Ebe=["item"],kbe=["children","className","width","height","style","compact","title","desc"];function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(this,arguments)}function kR(e,t){return Obe(e)||Tbe(e,t)||EV(e,t)||_be()}function _be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function Obe(e){if(Array.isArray(e))return e}function _R(e,t){if(e==null)return{};var r=Fbe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kV(n.key),n)}}function Ube(e,t,r){return t&&Lbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ibe(e,t,r){return t=P1(t),Dbe(e,NV()?Reflect.construct(t,r||[],P1(e).constructor):t.apply(e,r))}function Dbe(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mbe(e)}function Mbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NV=function(){return!!e})()}function P1(e){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(e)}function Rbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IE(e,t)}function IE(e,t){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IE(e,t)}function np(e){return $be(e)||Hbe(e)||EV(e)||Qbe()}function Qbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function Hbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $be(e){if(Array.isArray(e))return DE(e)}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){Xr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xr(e,t,r){return t=kV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kV(e){var t=zbe(e,"string");return rp(t)=="symbol"?t:t+""}function zbe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qbe={xAxis:["bottom","top"],yAxis:["left","right"]},Vbe={width:"100%",height:"100%"},_V={x:0,y:0};function ux(e){return e}var Kbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Gbe=function(t,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return Ft(Ft(Ft({},a),Sa(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var u=s.coordinate,A=a.angle;return Ft(Ft(Ft({},a),Sa(a.cx,a.cy,u,A)),{},{angle:A,radius:u})}return _V},Kw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,u){var A=u.props.data;return A&&A.length?[].concat(np(l),np(A)):l},[]);return o.length>0?o:t&&t.length&&ir(a)&&ir(s)?t.slice(a,s+1):[]};function TV(e){return e==="number"?[0,"auto"]:void 0}var ME=function(t,r,n,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Kw(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(u,A){var f,h=(f=A.props.data)!==null&&f!==void 0?f:r;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=h===void 0?l:h;p=Ub(g,o.dataKey,a)}else p=h&&h[n]||l[n];return p?[].concat(np(u),[yq(A,p)]):u},[])},OR=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},o=Kbe(s,n),l=t.orderedTooltipTicks,u=t.tooltipAxis,A=t.tooltipTicks,f=fhe(o,l,A,u);if(f>=0&&A){var h=A[f]&&A[f].value,p=ME(t,r,f,h),g=Gbe(n,l,f,s);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:g}}return null},Wbe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,A=r.dataEndIndex,f=t.layout,h=t.children,p=t.stackOffset,g=dq(f,s);return n.reduce(function(v,x){var b,w=x.type.defaultProps!==void 0?Ft(Ft({},x.type.defaultProps),x.props):x.props,B=w.type,j=w.dataKey,_=w.allowDataOverflow,N=w.allowDuplicatedCategory,O=w.scale,T=w.ticks,P=w.includeHidden,U=w[o];if(v[U])return v;var D=Kw(t.data,{graphicalItems:a.filter(function(L){var q,G=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o];return G===U}),dataStartIndex:u,dataEndIndex:A}),F=D.length,R,Q,H;bbe(w.domain,_,B)&&(R=J4(w.domain,null,_),g&&(B==="number"||O!=="auto")&&(H=oy(D,j,"category")));var J=TV(B);if(!R||R.length===0){var V,Y=(V=w.domain)!==null&&V!==void 0?V:J;if(j){if(R=oy(D,j,B),B==="category"&&g){var ee=lse(R);N&&ee?(Q=R,R=x1(0,F)):N||(R=FD(Y,R,x).reduce(function(L,q){return L.indexOf(q)>=0?L:[].concat(np(L),[q])},[]))}else if(B==="category")N?R=R.filter(function(L){return L!==""&&!sn(L)}):R=FD(Y,R,x).reduce(function(L,q){return L.indexOf(q)>=0||q===""||sn(q)?L:[].concat(np(L),[q])},[]);else if(B==="number"){var ie=yhe(D,a.filter(function(L){var q,G,Z=o in L.props?L.props[o]:(q=L.type.defaultProps)===null||q===void 0?void 0:q[o],te="hide"in L.props?L.props.hide:(G=L.type.defaultProps)===null||G===void 0?void 0:G.hide;return Z===U&&(P||!te)}),j,s,f);ie&&(R=ie)}g&&(B==="number"||O!=="auto")&&(H=oy(D,j,"category"))}else g?R=x1(0,F):l&&l[U]&&l[U].hasStack&&B==="number"?R=p==="expand"?[0,1]:gq(l[U].stackGroups,u,A):R=Aq(D,a.filter(function(L){var q=o in L.props?L.props[o]:L.type.defaultProps[o],G="hide"in L.props?L.props.hide:L.type.defaultProps.hide;return q===U&&(P||!G)}),B,f,!0);if(B==="number")R=UE(h,R,U,s,T),Y&&(R=J4(Y,R,_));else if(B==="category"&&Y){var z=Y,W=R.every(function(L){return z.indexOf(L)>=0});W&&(R=z)}}return Ft(Ft({},v),{},Xr({},U,Ft(Ft({},w),{},{axisType:s,domain:R,categoricalDomain:H,duplicateDomain:Q,originalDomain:(b=w.domain)!==null&&b!==void 0?b:J,isCategorical:g,layout:f})))},{})},Ybe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,u=r.dataStartIndex,A=r.dataEndIndex,f=t.layout,h=t.children,p=Kw(t.data,{graphicalItems:n,dataStartIndex:u,dataEndIndex:A}),g=p.length,v=dq(f,s),x=-1;return n.reduce(function(b,w){var B=w.type.defaultProps!==void 0?Ft(Ft({},w.type.defaultProps),w.props):w.props,j=B[o],_=TV("number");if(!b[j]){x++;var N;return v?N=x1(0,g):l&&l[j]&&l[j].hasStack?(N=gq(l[j].stackGroups,u,A),N=UE(h,N,j,s)):(N=J4(_,Aq(p,n.filter(function(O){var T,P,U=o in O.props?O.props[o]:(T=O.type.defaultProps)===null||T===void 0?void 0:T[o],D="hide"in O.props?O.props.hide:(P=O.type.defaultProps)===null||P===void 0?void 0:P.hide;return U===j&&!D}),"number",f),a.defaultProps.allowDataOverflow),N=UE(h,N,j,s)),Ft(Ft({},b),{},Xr({},j,Ft(Ft({axisType:s},a.defaultProps),{},{hide:!0,orientation:Zo(qbe,"".concat(s,".").concat(x%2),null),domain:N,originalDomain:_,isCategorical:v,layout:f})))}return b},{})},Xbe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,u=r.dataStartIndex,A=r.dataEndIndex,f=t.children,h="".concat(a,"Id"),p=el(f,s),g={};return p&&p.length?g=Wbe(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:A}):o&&o.length&&(g=Ybe(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:u,dataEndIndex:A})),g},Jbe=function(t){var r=od(t),n=nA(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:V3(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:l1(r,n)}},FR=function(t){var r=t.children,n=t.defaultShowTooltip,a=Wo(r,Vm),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Zbe=function(t){return!t||!t.length?!1:t.some(function(r){var n=iA(r&&r.type);return n&&n.indexOf("Bar")>=0})},PR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},e1e=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,u=l===void 0?{}:l,A=n.width,f=n.height,h=n.children,p=n.margin||{},g=Wo(h,Vm),v=Wo(h,yd),x=Object.keys(u).reduce(function(N,O){var T=u[O],P=T.orientation;return!T.mirror&&!T.hide?Ft(Ft({},N),{},Xr({},P,N[P]+T.width)):N},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(N,O){var T=o[O],P=T.orientation;return!T.mirror&&!T.hide?Ft(Ft({},N),{},Xr({},P,Zo(N,"".concat(P))+T.height)):N},{top:p.top||0,bottom:p.bottom||0}),w=Ft(Ft({},b),x),B=w.bottom;g&&(w.bottom+=g.props.height||Vm.defaultProps.height),v&&r&&(w=phe(w,a,n,r));var j=A-w.left-w.right,_=f-w.top-w.bottom;return Ft(Ft({brushBottom:B},w),{},{width:Math.max(j,0),height:Math.max(_,0)})},t1e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Gw=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,u=t.axisComponents,A=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,p=function(w,B){var j=B.graphicalItems,_=B.stackGroups,N=B.offset,O=B.updateId,T=B.dataStartIndex,P=B.dataEndIndex,U=w.barSize,D=w.layout,F=w.barGap,R=w.barCategoryGap,Q=w.maxBarSize,H=PR(D),J=H.numericAxisName,V=H.cateAxisName,Y=Zbe(j),ee=[];return j.forEach(function(ie,z){var W=Kw(w.data,{graphicalItems:[ie],dataStartIndex:T,dataEndIndex:P}),L=ie.type.defaultProps!==void 0?Ft(Ft({},ie.type.defaultProps),ie.props):ie.props,q=L.dataKey,G=L.maxBarSize,Z=L["".concat(J,"Id")],te=L["".concat(V,"Id")],fe={},we=u.reduce(function(re,_e){var Oe=B["".concat(_e.axisType,"Map")],Ke=L["".concat(_e.axisType,"Id")];Oe&&Oe[Ke]||_e.axisType==="zAxis"||Gf();var Me=Oe[Ke];return Ft(Ft({},re),{},Xr(Xr({},_e.axisType,Me),"".concat(_e.axisType,"Ticks"),nA(Me)))},fe),he=we[V],ce=we["".concat(V,"Ticks")],xe=_&&_[Z]&&_[Z].hasStack&&Nhe(ie,_[Z].stackGroups),ge=iA(ie.type).indexOf("Bar")>=0,Pe=l1(he,ce),ke=[],se=Y&&hhe({barSize:U,stackGroups:_,totalSize:t1e(we,V)});if(ge){var Et,Qt,It=sn(G)?Q:G,nt=(Et=(Qt=l1(he,ce,!0))!==null&&Qt!==void 0?Qt:It)!==null&&Et!==void 0?Et:0;ke=mhe({barGap:F,barCategoryGap:R,bandSize:nt!==Pe?nt:Pe,sizeList:se[te],maxBarSize:It}),nt!==Pe&&(ke=ke.map(function(re){return Ft(Ft({},re),{},{position:Ft(Ft({},re.position),{},{offset:re.position.offset-nt/2})})}))}var ye=ie&&ie.type&&ie.type.getComposedData;ye&&ee.push({props:Ft(Ft({},ye(Ft(Ft({},we),{},{displayedData:W,props:w,dataKey:q,item:ie,bandSize:Pe,barPosition:ke,offset:N,stackedData:xe,layout:D,dataStartIndex:T,dataEndIndex:P}))),{},Xr(Xr(Xr({key:ie.key||"item-".concat(z)},J,we[J]),V,we[V]),"animationId",O)),childIndex:vse(ie,w.children),item:ie})}),ee},g=function(w,B){var j=w.props,_=w.dataStartIndex,N=w.dataEndIndex,O=w.updateId;if(!GP({props:j}))return null;var T=j.children,P=j.layout,U=j.stackOffset,D=j.data,F=j.reverseStackOrder,R=PR(P),Q=R.numericAxisName,H=R.cateAxisName,J=el(T,n),V=jhe(D,J,"".concat(Q,"Id"),"".concat(H,"Id"),U,F),Y=u.reduce(function(L,q){var G="".concat(q.axisType,"Map");return Ft(Ft({},L),{},Xr({},G,Xbe(j,Ft(Ft({},q),{},{graphicalItems:J,stackGroups:q.axisType===Q&&V,dataStartIndex:_,dataEndIndex:N}))))},{}),ee=e1e(Ft(Ft({},Y),{},{props:j,graphicalItems:J}),B==null?void 0:B.legendBBox);Object.keys(Y).forEach(function(L){Y[L]=f(j,Y[L],ee,L.replace("Map",""),r)});var ie=Y["".concat(H,"Map")],z=Jbe(ie),W=p(j,Ft(Ft({},Y),{},{dataStartIndex:_,dataEndIndex:N,updateId:O,graphicalItems:J,stackGroups:V,offset:ee}));return Ft(Ft({formattedGraphicalItems:W,graphicalItems:J,offset:ee,stackGroups:V},z),Y)},v=function(b){function w(B){var j,_,N;return Pbe(this,w),N=Ibe(this,w,[B]),Xr(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Xr(N,"accessibilityManager",new xbe),Xr(N,"handleLegendBBoxUpdate",function(O){if(O){var T=N.state,P=T.dataStartIndex,U=T.dataEndIndex,D=T.updateId;N.setState(Ft({legendBBox:O},g({props:N.props,dataStartIndex:P,dataEndIndex:U,updateId:D},Ft(Ft({},N.state),{},{legendBBox:O}))))}}),Xr(N,"handleReceiveSyncEvent",function(O,T,P){if(N.props.syncId===O){if(P===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(T)}}),Xr(N,"handleBrushChange",function(O){var T=O.startIndex,P=O.endIndex;if(T!==N.state.dataStartIndex||P!==N.state.dataEndIndex){var U=N.state.updateId;N.setState(function(){return Ft({dataStartIndex:T,dataEndIndex:P},g({props:N.props,dataStartIndex:T,dataEndIndex:P,updateId:U},N.state))}),N.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),Xr(N,"handleMouseEnter",function(O){var T=N.getMouseInfo(O);if(T){var P=Ft(Ft({},T),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var U=N.props.onMouseEnter;Jr(U)&&U(P,O)}}),Xr(N,"triggeredAfterMouseMove",function(O){var T=N.getMouseInfo(O),P=T?Ft(Ft({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var U=N.props.onMouseMove;Jr(U)&&U(P,O)}),Xr(N,"handleItemMouseEnter",function(O){N.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Xr(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Xr(N,"handleMouseMove",function(O){O.persist(),N.throttleTriggeredAfterMouseMove(O)}),Xr(N,"handleMouseLeave",function(O){N.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};N.setState(T),N.triggerSyncEvent(T);var P=N.props.onMouseLeave;Jr(P)&&P(T,O)}),Xr(N,"handleOuterEvent",function(O){var T=yse(O),P=Zo(N.props,"".concat(T));if(T&&Jr(P)){var U,D;/.*touch.*/i.test(T)?D=N.getMouseInfo(O.changedTouches[0]):D=N.getMouseInfo(O),P((U=D)!==null&&U!==void 0?U:{},O)}}),Xr(N,"handleClick",function(O){var T=N.getMouseInfo(O);if(T){var P=Ft(Ft({},T),{},{isTooltipActive:!0});N.setState(P),N.triggerSyncEvent(P);var U=N.props.onClick;Jr(U)&&U(P,O)}}),Xr(N,"handleMouseDown",function(O){var T=N.props.onMouseDown;if(Jr(T)){var P=N.getMouseInfo(O);T(P,O)}}),Xr(N,"handleMouseUp",function(O){var T=N.props.onMouseUp;if(Jr(T)){var P=N.getMouseInfo(O);T(P,O)}}),Xr(N,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Xr(N,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.handleMouseDown(O.changedTouches[0])}),Xr(N,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&N.handleMouseUp(O.changedTouches[0])}),Xr(N,"handleDoubleClick",function(O){var T=N.props.onDoubleClick;if(Jr(T)){var P=N.getMouseInfo(O);T(P,O)}}),Xr(N,"handleContextMenu",function(O){var T=N.props.onContextMenu;if(Jr(T)){var P=N.getMouseInfo(O);T(P,O)}}),Xr(N,"triggerSyncEvent",function(O){N.props.syncId!==void 0&&HS.emit($S,N.props.syncId,O,N.eventEmitterSymbol)}),Xr(N,"applySyncEvent",function(O){var T=N.props,P=T.layout,U=T.syncMethod,D=N.state.updateId,F=O.dataStartIndex,R=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)N.setState(Ft({dataStartIndex:F,dataEndIndex:R},g({props:N.props,dataStartIndex:F,dataEndIndex:R,updateId:D},N.state)));else if(O.activeTooltipIndex!==void 0){var Q=O.chartX,H=O.chartY,J=O.activeTooltipIndex,V=N.state,Y=V.offset,ee=V.tooltipTicks;if(!Y)return;if(typeof U=="function")J=U(ee,O);else if(U==="value"){J=-1;for(var ie=0;ie<ee.length;ie++)if(ee[ie].value===O.activeLabel){J=ie;break}}var z=Ft(Ft({},Y),{},{x:Y.left,y:Y.top}),W=Math.min(Q,z.x+z.width),L=Math.min(H,z.y+z.height),q=ee[J]&&ee[J].value,G=ME(N.state,N.props.data,J),Z=ee[J]?{x:P==="horizontal"?ee[J].coordinate:W,y:P==="horizontal"?L:ee[J].coordinate}:_V;N.setState(Ft(Ft({},O),{},{activeLabel:q,activeCoordinate:Z,activePayload:G,activeTooltipIndex:J}))}else N.setState(O)}),Xr(N,"renderCursor",function(O){var T,P=N.state,U=P.isTooltipActive,D=P.activeCoordinate,F=P.activePayload,R=P.offset,Q=P.activeTooltipIndex,H=P.tooltipAxisBandSize,J=N.getTooltipEventType(),V=(T=O.props.active)!==null&&T!==void 0?T:U,Y=N.props.layout,ee=O.key||"_recharts-cursor";return Ce.createElement(Nbe,{key:ee,activeCoordinate:D,activePayload:F,activeTooltipIndex:Q,chartName:r,element:O,isActive:V,layout:Y,offset:R,tooltipAxisBandSize:H,tooltipEventType:J})}),Xr(N,"renderPolarAxis",function(O,T,P){var U=Zo(O,"type.axisType"),D=Zo(N.state,"".concat(U,"Map")),F=O.type.defaultProps,R=F!==void 0?Ft(Ft({},F),O.props):O.props,Q=D&&D[R["".concat(U,"Id")]];return k.cloneElement(O,Ft(Ft({},Q),{},{className:en(U,Q.className),key:O.key||"".concat(T,"-").concat(P),ticks:nA(Q,!0)}))}),Xr(N,"renderPolarGrid",function(O){var T=O.props,P=T.radialLines,U=T.polarAngles,D=T.polarRadius,F=N.state,R=F.radiusAxisMap,Q=F.angleAxisMap,H=od(R),J=od(Q),V=J.cx,Y=J.cy,ee=J.innerRadius,ie=J.outerRadius;return k.cloneElement(O,{polarAngles:Array.isArray(U)?U:nA(J,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(D)?D:nA(H,!0).map(function(z){return z.coordinate}),cx:V,cy:Y,innerRadius:ee,outerRadius:ie,key:O.key||"polar-grid",radialLines:P})}),Xr(N,"renderLegend",function(){var O=N.state.formattedGraphicalItems,T=N.props,P=T.children,U=T.width,D=T.height,F=N.props.margin||{},R=U-(F.left||0)-(F.right||0),Q=cq({children:P,formattedGraphicalItems:O,legendWidth:R,legendContent:A});if(!Q)return null;var H=Q.item,J=_R(Q,Ebe);return k.cloneElement(H,Ft(Ft({},J),{},{chartWidth:U,chartHeight:D,margin:F,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Xr(N,"renderTooltip",function(){var O,T=N.props,P=T.children,U=T.accessibilityLayer,D=Wo(P,Fi);if(!D)return null;var F=N.state,R=F.isTooltipActive,Q=F.activeCoordinate,H=F.activePayload,J=F.activeLabel,V=F.offset,Y=(O=D.props.active)!==null&&O!==void 0?O:R;return k.cloneElement(D,{viewBox:Ft(Ft({},V),{},{x:V.left,y:V.top}),active:Y,label:J,payload:Y?H:[],coordinate:Q,accessibilityLayer:U})}),Xr(N,"renderBrush",function(O){var T=N.props,P=T.margin,U=T.data,D=N.state,F=D.offset,R=D.dataStartIndex,Q=D.dataEndIndex,H=D.updateId;return k.cloneElement(O,{key:O.key||"_recharts-brush",onChange:ix(N.handleBrushChange,O.props.onChange),data:U,x:ir(O.props.x)?O.props.x:F.left,y:ir(O.props.y)?O.props.y:F.top+F.height+F.brushBottom-(P.bottom||0),width:ir(O.props.width)?O.props.width:F.width,startIndex:R,endIndex:Q,updateId:"brush-".concat(H)})}),Xr(N,"renderReferenceElement",function(O,T,P){if(!O)return null;var U=N,D=U.clipPathId,F=N.state,R=F.xAxisMap,Q=F.yAxisMap,H=F.offset,J=O.type.defaultProps||{},V=O.props,Y=V.xAxisId,ee=Y===void 0?J.xAxisId:Y,ie=V.yAxisId,z=ie===void 0?J.yAxisId:ie;return k.cloneElement(O,{key:O.key||"".concat(T,"-").concat(P),xAxis:R[ee],yAxis:Q[z],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:D})}),Xr(N,"renderActivePoints",function(O){var T=O.item,P=O.activePoint,U=O.basePoint,D=O.childIndex,F=O.isRange,R=[],Q=T.props.key,H=T.item.type.defaultProps!==void 0?Ft(Ft({},T.item.type.defaultProps),T.item.props):T.item.props,J=H.activeDot,V=H.dataKey,Y=Ft(Ft({index:D,dataKey:V,cx:P.x,cy:P.y,r:4,fill:y_(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Rr(J,!1)),Ib(J));return R.push(w.renderActiveDot(J,Y,"".concat(Q,"-activePoint-").concat(D))),U?R.push(w.renderActiveDot(J,Ft(Ft({},Y),{},{cx:U.x,cy:U.y}),"".concat(Q,"-basePoint-").concat(D))):F&&R.push(null),R}),Xr(N,"renderGraphicChild",function(O,T,P){var U=N.filterFormatItem(O,T,P);if(!U)return null;var D=N.getTooltipEventType(),F=N.state,R=F.isTooltipActive,Q=F.tooltipAxis,H=F.activeTooltipIndex,J=F.activeLabel,V=N.props.children,Y=Wo(V,Fi),ee=U.props,ie=ee.points,z=ee.isRange,W=ee.baseLine,L=U.item.type.defaultProps!==void 0?Ft(Ft({},U.item.type.defaultProps),U.item.props):U.item.props,q=L.activeDot,G=L.hide,Z=L.activeBar,te=L.activeShape,fe=!!(!G&&R&&Y&&(q||Z||te)),we={};D!=="axis"&&Y&&Y.props.trigger==="click"?we={onClick:ix(N.handleItemMouseEnter,O.props.onClick)}:D!=="axis"&&(we={onMouseLeave:ix(N.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:ix(N.handleItemMouseEnter,O.props.onMouseEnter)});var he=k.cloneElement(O,Ft(Ft({},U.props),we));function ce(_e){return typeof Q.dataKey=="function"?Q.dataKey(_e.payload):null}if(fe)if(H>=0){var xe,ge;if(Q.dataKey&&!Q.allowDuplicatedCategory){var Pe=typeof Q.dataKey=="function"?ce:"payload.".concat(Q.dataKey.toString());xe=Ub(ie,Pe,J),ge=z&&W&&Ub(W,Pe,J)}else xe=ie==null?void 0:ie[H],ge=z&&W&&W[H];if(te||Z){var ke=O.props.activeIndex!==void 0?O.props.activeIndex:H;return[k.cloneElement(O,Ft(Ft(Ft({},U.props),we),{},{activeIndex:ke})),null,null]}if(!sn(xe))return[he].concat(np(N.renderActivePoints({item:U,activePoint:xe,basePoint:ge,childIndex:H,isRange:z})))}else{var se,Et=(se=N.getItemByXY(N.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:he},Qt=Et.graphicalItem,It=Qt.item,nt=It===void 0?O:It,ye=Qt.childIndex,re=Ft(Ft(Ft({},U.props),we),{},{activeIndex:ye});return[k.cloneElement(nt,re),null,null]}return z?[he,null,null]:[he,null]}),Xr(N,"renderCustomized",function(O,T,P){return k.cloneElement(O,Ft(Ft({key:"recharts-customized-".concat(P)},N.props),N.state))}),Xr(N,"renderMap",{CartesianGrid:{handler:ux,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:ux},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:ux},YAxis:{handler:ux},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((j=B.id)!==null&&j!==void 0?j:eh("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=lz(N.triggeredAfterMouseMove,(_=B.throttleDelay)!==null&&_!==void 0?_:1e3/60),N.state={},N}return Rbe(w,b),Ube(w,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,N=j.data,O=j.height,T=j.layout,P=Wo(_,Fi);if(P){var U=P.props.defaultIndex;if(!(typeof U!="number"||U<0||U>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[U]&&this.state.tooltipTicks[U].value,F=ME(this.state,N,U,D),R=this.state.tooltipTicks[U].coordinate,Q=(this.state.offset.top+O)/2,H=T==="horizontal",J=H?{x:R,y:Q}:{y:R,x:Q},V=this.state.formattedGraphicalItems.find(function(ee){var ie=ee.item;return ie.type.name==="Scatter"});V&&(J=Ft(Ft({},J),V.props.points[U].tooltipPosition),F=V.props.points[U].tooltipPayload);var Y={activeTooltipIndex:U,isTooltipActive:!0,activeLabel:D,activePayload:F,activeCoordinate:J};this.setState(Y),this.renderCursor(P),this.accessibilityManager.setIndex(U)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var N,O;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(j){x4([Wo(j.children,Fi)],[Wo(this.props.children,Fi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Wo(this.props.children,Fi);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,N=_.getBoundingClientRect(),O=iue(N),T={chartX:Math.round(j.pageX-O.left),chartY:Math.round(j.pageY-O.top)},P=N.width/_.offsetWidth||1,U=this.inRange(T.chartX,T.chartY,P);if(!U)return null;var D=this.state,F=D.xAxisMap,R=D.yAxisMap,Q=this.getTooltipEventType();if(Q!=="axis"&&F&&R){var H=od(F).scale,J=od(R).scale,V=H&&H.invert?H.invert(T.chartX):null,Y=J&&J.invert?J.invert(T.chartY):null;return Ft(Ft({},T),{},{xValue:V,yValue:Y})}var ee=OR(this.state,this.props.data,this.props.layout,U);return ee?Ft(Ft({},T),ee):null}},{key:"inRange",value:function(j,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,T=j/N,P=_/N;if(O==="horizontal"||O==="vertical"){var U=this.state.offset,D=T>=U.left&&T<=U.left+U.width&&P>=U.top&&P<=U.top+U.height;return D?{x:T,y:P}:null}var F=this.state,R=F.angleAxisMap,Q=F.radiusAxisMap;if(R&&Q){var H=od(R);return UD({x:T,y:P},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),N=Wo(j,Fi),O={};N&&_==="axis"&&(N.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Ib(this.props,this.handleOuterEvent);return Ft(Ft({},T),O)}},{key:"addListener",value:function(){HS.on($S,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HS.removeListener($S,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,N){for(var O=this.state.formattedGraphicalItems,T=0,P=O.length;T<P;T++){var U=O[T];if(U.item===j||U.props.key===j.key||_===iA(U.item.type)&&N===U.childIndex)return U}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,N=_.left,O=_.top,T=_.height,P=_.width;return Ce.createElement("defs",null,Ce.createElement("clipPath",{id:j},Ce.createElement("rect",{x:N,y:O,height:T,width:P})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,N){var O=kR(N,2),T=O[0],P=O[1];return Ft(Ft({},_),{},Xr({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,N){var O=kR(N,2),T=O[0],P=O[1];return Ft(Ft({},_),{},Xr({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,N=_.formattedGraphicalItems,O=_.activeItem;if(N&&N.length)for(var T=0,P=N.length;T<P;T++){var U=N[T],D=U.props,F=U.item,R=F.type.defaultProps!==void 0?Ft(Ft({},F.type.defaultProps),F.props):F.props,Q=iA(F.type);if(Q==="Bar"){var H=(D.data||[]).find(function(ee){return yge(j,ee)});if(H)return{graphicalItem:U,payload:H}}else if(Q==="RadialBar"){var J=(D.data||[]).find(function(ee){return UD(j,ee)});if(J)return{graphicalItem:U,payload:J}}else if(Rw(U,O)||Qw(U,O)||u0(U,O)){var V=Hye({graphicalItem:U,activeTooltipItem:O,itemData:R.data}),Y=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:Ft(Ft({},U),{},{childIndex:Y}),payload:u0(U,O)?R.data[V]:U.props.data[V]}}}return null}},{key:"render",value:function(){var j=this;if(!GP(this))return null;var _=this.props,N=_.children,O=_.className,T=_.width,P=_.height,U=_.style,D=_.compact,F=_.title,R=_.desc,Q=_R(_,kbe),H=Rr(Q,!1);if(D)return Ce.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement(w4,hm({},H,{width:T,height:P,title:F,desc:R}),this.renderClipPath(),YP(N,this.renderMap)));if(this.props.accessibilityLayer){var J,V;H.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,H.role=(V=this.props.role)!==null&&V!==void 0?V:"application",H.onKeyDown=function(ee){j.accessibilityManager.keyboardEvent(ee)},H.onFocus=function(){j.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return Ce.createElement(lR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ce.createElement("div",hm({className:en("recharts-wrapper",O),style:Ft({position:"relative",cursor:"default",width:T,height:P},U)},Y,{ref:function(ie){j.container=ie}}),Ce.createElement(w4,hm({},H,{width:T,height:P,title:F,desc:R,style:Vbe}),this.renderClipPath(),YP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Xr(v,"displayName",r),Xr(v,"defaultProps",Ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Xr(v,"getDerivedStateFromProps",function(b,w){var B=b.dataKey,j=b.data,_=b.children,N=b.width,O=b.height,T=b.layout,P=b.stackOffset,U=b.margin,D=w.dataStartIndex,F=w.dataEndIndex;if(w.updateId===void 0){var R=FR(b);return Ft(Ft(Ft({},R),{},{updateId:0},g(Ft(Ft({props:b},R),{},{updateId:0}),w)),{},{prevDataKey:B,prevData:j,prevWidth:N,prevHeight:O,prevLayout:T,prevStackOffset:P,prevMargin:U,prevChildren:_})}if(B!==w.prevDataKey||j!==w.prevData||N!==w.prevWidth||O!==w.prevHeight||T!==w.prevLayout||P!==w.prevStackOffset||!gm(U,w.prevMargin)){var Q=FR(b),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},J=Ft(Ft({},OR(w,j,T)),{},{updateId:w.updateId+1}),V=Ft(Ft(Ft({},Q),H),J);return Ft(Ft(Ft({},V),g(Ft({props:b},V),w)),{},{prevDataKey:B,prevData:j,prevWidth:N,prevHeight:O,prevLayout:T,prevStackOffset:P,prevMargin:U,prevChildren:_})}if(!x4(_,w.prevChildren)){var Y,ee,ie,z,W=Wo(_,Vm),L=W&&(Y=(ee=W.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Y!==void 0?Y:D,q=W&&(ie=(z=W.props)===null||z===void 0?void 0:z.endIndex)!==null&&ie!==void 0?ie:F,G=L!==D||q!==F,Z=!sn(j),te=Z&&!G?w.updateId:w.updateId+1;return Ft(Ft({updateId:te},g(Ft(Ft({props:b},w),{},{updateId:te,dataStartIndex:L,dataEndIndex:q}),w)),{},{prevChildren:_,dataStartIndex:L,dataEndIndex:q})}return null}),Xr(v,"renderActiveDot",function(b,w,B){var j;return k.isValidElement(b)?j=k.cloneElement(b,w):Jr(b)?j=b(w):j=Ce.createElement(V0,w),Ce.createElement(kn,{className:"recharts-active-dot",key:B},j)});var x=k.forwardRef(function(w,B){return Ce.createElement(v,hm({},w,{ref:B}))});return x.displayName=v.displayName,x},OV=Gw({chartName:"LineChart",GraphicalChild:wp,axisComponents:[{axisType:"xAxis",AxisComp:Ao},{axisType:"yAxis",AxisComp:rl}],formatAxisMap:x_}),Df=Gw({chartName:"BarChart",GraphicalChild:tl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ao},{axisType:"yAxis",AxisComp:rl}],formatAxisMap:x_}),LR=Gw({chartName:"PieChart",GraphicalChild:hu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mw},{axisType:"radiusAxis",AxisComp:Iw}],formatAxisMap:Ihe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),r1e=Gw({chartName:"AreaChart",GraphicalChild:Ld,axisComponents:[{axisType:"xAxis",AxisComp:Ao},{axisType:"yAxis",AxisComp:rl}],formatAxisMap:x_});const n1e=({width:e=16,height:t=16,color:r="currentColor",className:n="",...a})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:`feather feather-peso ${n}`,...a,children:["      ",i.jsxs("g",{stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M8 4v16"}),i.jsx("line",{x1:"5",y1:"7",x2:"18",y2:"7"}),i.jsx("line",{x1:"5",y1:"10",x2:"18",y2:"10"}),i.jsx("path",{d:"M8 4h5c2 0 4 1 4 4s-2 4-4 4h-5"})]})]}),a1e=({width:e=16,height:t=16,color:r="currentColor",className:n="",...a})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 24 24",fill:"none",className:`feather feather-peso ${n}`,...a,children:["      ",i.jsxs("g",{stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M8 4v16"}),i.jsx("line",{x1:"5",y1:"7",x2:"18",y2:"7"}),i.jsx("line",{x1:"5",y1:"10",x2:"18",y2:"10"}),i.jsx("path",{d:"M8 4h5c2 0 4 1 4 4s-2 4-4 4h-5"})]})]}),i1e=({stats:e,orders:t,salesSummary:r,monthlyRevenueSummary:n,operations:a={},onRefreshOrders:s,onViewOrder:o,isLoading:l=!1,className:u="",staffData:A={team:[],activeCount:0},monthlyExpenses:f=[],revenueData:h=[]})=>{var B;const p=((B=e.bestSellers)==null?void 0:B.slice(0,3))||[],g=j=>`${parseFloat(j||0).toFixed(2)}`,v=j=>j?j.length<=6?j:j.substring(j.length-6):"",x=(j,_)=>{const N=w(_);if(j===0)return 0;const O=j-N;return Math.round(O/j*100)},b=(j,_)=>{const N=w(_);return j-N},w=j=>!j||!j.length?0:j.reduce((_,N)=>_+(N.amount||0),0);return i.jsxs("div",{className:`${u} flex flex-col gap-3`,children:[i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:["        ",i.jsxs(Yc,{className:"!p-3 flex flex-row items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:le.colors.primary+"15"},children:i.jsx(n1e,{width:16,height:16,style:{color:le.colors.primary}})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Sales"}),i.jsx("div",{className:"font-bold text-sm",style:{color:le.colors.primary},children:g(e.totalSales)})]})]}),i.jsxs(Yc,{className:"!p-3 flex flex-row items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:le.colors.accent+"15"},children:i.jsx(B3,{className:"w-4 h-4",style:{color:le.colors.accent}})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Orders"}),i.jsx("div",{className:"font-bold text-sm",style:{color:le.colors.accent},children:e.ordersToday||0})]})]}),i.jsxs(Yc,{className:"!p-3 flex flex-row items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:le.colors.secondary+"15"},children:i.jsx(Lb,{className:"w-4 h-4",style:{color:le.colors.secondary}})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Avg"}),i.jsx("div",{className:"font-bold text-sm",style:{color:le.colors.secondary},children:g(e.averageOrderValue)})]})]}),i.jsxs(Yc,{className:"!p-3 flex flex-row items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-2",style:{backgroundColor:le.colors.muted+"15"},children:i.jsx(Ly,{className:"w-4 h-4",style:{color:le.colors.muted}})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] text-gray-500",children:"Staff"}),i.jsx("div",{className:"font-bold text-sm",style:{color:le.colors.muted},children:e.activeStaff||0})]})]})]}),"      ",i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsxs("div",{className:"px-3 py-2 border-b flex justify-between items-center",style:{borderColor:le.colors.muted+"15"},children:[i.jsx("div",{className:"text-xs font-medium",style:{color:le.colors.primary},children:"Recent Orders"}),i.jsx(eA,{to:"/orders",className:"flex items-center text-[10px] font-medium",style:{color:le.colors.accent},children:i.jsx(ud,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"150px"},children:[t.slice(0,4).map(j=>i.jsxs("div",{className:"px-3 py-1.5 border-b last:border-0 flex items-center justify-between cursor-pointer hover:bg-gray-50",style:{borderColor:le.colors.muted+"10"},onClick:()=>o(j),children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:j.status==="completed"?"#16a34a":le.colors.accent}}),i.jsx("span",{className:"text-xs",children:v(j.receiptNumber)})]}),i.jsx("span",{className:"text-xs",children:g(j.totals.total)})]},j._id)),t.length===0&&i.jsx("div",{className:"px-3 py-2 text-[10px] text-center",style:{color:le.colors.muted},children:"No orders"})]})]}),"        ",i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsxs("div",{className:"px-3 py-2 border-b flex justify-between items-center",style:{borderColor:le.colors.muted+"15"},children:[i.jsx("div",{className:"text-xs font-medium",style:{color:le.colors.primary},children:"Top Items Sold"}),i.jsx(eA,{to:"/revenue-reports",className:"flex items-center text-[10px] font-medium",style:{color:le.colors.accent},children:i.jsx(ud,{className:"w-3 h-3"})})]}),"          ",i.jsx("div",{className:"p-3",children:i.jsxs("div",{className:"space-y-1.5",children:[p.sort((j,_)=>_.quantity-j.quantity).map((j,_)=>{var N;return i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"w-4 h-4 rounded-full flex items-center justify-center text-[8px] font-medium",style:{backgroundColor:_===0?"#FFD700":_===1?"#C0C0C0":_===2?"#CD7F32":le.colors.muted+"15",color:_<=2?"#fff":le.colors.muted},children:_+1}),i.jsx("span",{className:"text-[10px] capitalize truncate max-w-[90px]",title:j.name,children:j.name})]}),i.jsxs("span",{className:"text-[10px] font-medium",children:[j.quantity," sold"]})]}),i.jsx("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full",style:{width:`${j.quantity/(((N=p[0])==null?void 0:N.quantity)||1)*100}%`,backgroundColor:_===0?"#FFD700":_===1?"#C0C0C0":_===2?"#CD7F32":le.colors.accent}})})]},j.id||_)}),p.length===0&&i.jsx("div",{className:"text-[10px]",style:{color:le.colors.muted},children:"No data available"})]})})]}),i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsxs("div",{className:"px-3 py-2 border-b flex justify-between items-center",style:{borderColor:le.colors.muted+"15"},children:[i.jsxs("div",{className:"text-xs font-medium flex items-center gap-1",style:{color:le.colors.primary},children:[i.jsx(Ly,{className:"w-3 h-3"})," Team Overview"]}),i.jsx(eA,{to:"/employees",className:"flex items-center text-[10px] font-medium",style:{color:le.colors.accent},children:i.jsx(ud,{className:"w-3 h-3"})})]}),"          ",i.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"200px"},children:[A.team.map(j=>i.jsxs(eA,{to:`/employees/${j.id}`,className:"px-3 py-1.5 border-b last:border-0 flex items-center justify-between cursor-pointer hover:bg-gray-50",style:{borderColor:le.colors.muted+"10"},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tm,{imagePath:j.profilePicture,alt:`${j.name}'s photo`,size:24,className:"rounded-sm border"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[11px] font-medium",children:j.name}),i.jsx("span",{className:"text-[9px]",style:{color:le.colors.muted},children:j.position})]})]}),i.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded-full capitalize",style:{backgroundColor:j.status==="Active"?le.colors.activeBg:"#f0f0f0",color:j.status==="Active"?le.colors.accent:le.colors.muted},children:j.status})]},j.id)),A.team.length===0&&i.jsx("div",{className:"px-3 py-2 text-[10px] text-center",style:{color:le.colors.muted},children:"No staff data"})]})]}),"        ",i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsxs("div",{className:"px-3 py-2 border-b flex justify-between items-center",style:{borderColor:le.colors.muted+"15"},children:[i.jsxs("div",{className:"text-xs font-medium flex items-center gap-1",style:{color:le.colors.primary},children:[i.jsx(a1e,{width:12,height:12})," Revenue Overview"]}),i.jsx(eA,{to:"/revenue-reports",className:"flex items-center text-[10px] font-medium",style:{color:le.colors.accent},children:i.jsx(ud,{className:"w-3 h-3"})})]}),i.jsxs("div",{className:"p-3",children:["            ",i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-[10px]",style:{color:le.colors.muted},children:"Daily Revenue Trend"}),i.jsx("span",{className:"text-xs font-medium",style:{color:le.colors.primary},children:g((n==null?void 0:n.totalSales)||0)})]}),h.length>0?i.jsx("div",{className:"h-16 w-full",children:i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(Df,{data:h.slice(-7),barSize:8,children:[i.jsx(Ao,{dataKey:"period",tick:!1,axisLine:!1,tickLine:!1}),i.jsx(Fi,{formatter:j=>[`${parseFloat(j).toLocaleString("en-PH",{minimumFractionDigits:2})}`,"Revenue"],contentStyle:{fontSize:"10px",backgroundColor:le.colors.background},labelStyle:{fontSize:"10px"}}),i.jsx(tl,{dataKey:"revenue",fill:le.colors.accent,radius:[2,2,0,0]})]})})}):i.jsx("div",{className:"h-16 flex items-center justify-center bg-gray-50 rounded",children:i.jsx("span",{className:"text-[10px]",style:{color:le.colors.muted},children:"No revenue data available"})})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-[10px]",style:{color:le.colors.muted},children:"Profit Margin"}),"                ",i.jsxs("span",{className:"text-xs font-medium",style:{color:x((n==null?void 0:n.totalSales)||0,f)>=25?"#16a34a":x((n==null?void 0:n.totalSales)||0,f)>=15?le.colors.accent:"red"},children:[x((n==null?void 0:n.totalSales)||0,f),"%"]})]}),"              ",i.jsx("div",{className:"w-full h-1.5 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full rounded-full",style:{width:`${Math.min(Math.max(x((n==null?void 0:n.totalSales)||0,f),0),100)}%`,backgroundColor:x((n==null?void 0:n.totalSales)||0,f)>=25?"#16a34a":x((n==null?void 0:n.totalSales)||0,f)>=15?le.colors.accent:"red"}})}),i.jsxs("div",{className:"flex justify-between mt-0.5",children:[i.jsx("span",{className:"text-[8px]",style:{color:le.colors.muted},children:"0%"}),i.jsx("span",{className:"text-[8px]",style:{color:le.colors.muted},children:"Target: 25%"}),i.jsx("span",{className:"text-[8px]",style:{color:le.colors.muted},children:"50%"})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:"text-[10px]",style:{color:le.colors.muted},children:"Cash Flow"}),"                ",i.jsx("span",{className:"text-xs font-medium",style:{color:b((n==null?void 0:n.totalSales)||0,f)>0?"#16a34a":"red"},children:g(b((n==null?void 0:n.totalSales)||0,f))})]}),"              ",i.jsx("div",{className:"p-2 bg-gray-50 rounded-md border",style:{borderColor:le.colors.muted+"20"},children:i.jsxs("div",{className:"flex justify-between items-center text-[9px]",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{style:{color:le.colors.muted},children:"Income"}),i.jsx("span",{className:"font-medium",children:g((n==null?void 0:n.totalSales)||0)})]}),i.jsx("div",{className:"flex items-center text-xs px-2",children:b((n==null?void 0:n.totalSales)||0,f)>0?i.jsx(Lb,{style:{color:"#16a34a"}}):i.jsx(j3,{style:{color:"red"}})}),i.jsxs("div",{className:"flex flex-col text-right",children:[i.jsx("span",{style:{color:le.colors.muted},children:"Expenses"}),i.jsx("span",{className:"font-medium",children:g(w(f)||0)})]})]})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsx("div",{className:"px-3 py-2 border-b",style:{borderColor:le.colors.muted+"15"},children:i.jsx("div",{className:"text-xs font-medium",style:{color:le.colors.primary},children:"Revenue vs Expenses"})}),i.jsx("div",{className:"p-3",children:f.length>0?i.jsx("div",{className:"h-32 w-full",children:i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(Df,{data:f.slice(-6),barSize:20,children:[i.jsx(If,{strokeDasharray:"3 3",opacity:.2}),i.jsx(Ao,{dataKey:"formattedMonth",tick:{fontSize:10},axisLine:!1,tickLine:!1}),i.jsx(Fi,{formatter:(j,_)=>[`${parseFloat(j).toLocaleString("en-PH",{minimumFractionDigits:2})}`,_],contentStyle:{fontSize:"10px",backgroundColor:le.colors.background}}),i.jsx(tl,{dataKey:"amount",fill:le.colors.secondary,name:"Expenses",radius:[2,2,0,0]})]})})}):i.jsx("div",{className:"h-32 flex items-center justify-center bg-gray-50 rounded",children:i.jsx("span",{className:"text-[10px]",style:{color:le.colors.muted},children:"No expense data"})})})]}),"        ",i.jsxs(Yc,{className:"!p-0 overflow-hidden",children:[i.jsx("div",{className:"px-3 py-2 border-b",style:{borderColor:le.colors.muted+"15"},children:i.jsx("div",{className:"text-xs font-medium",style:{color:le.colors.primary},children:"Monthly Revenue Trend"})}),i.jsx("div",{className:"p-3",children:i.jsx("div",{className:"h-24",children:h&&h.length>0?i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(OV,{data:h,children:[i.jsx(Ao,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:9,fill:le.colors.muted}}),i.jsx(rl,{hide:!0}),i.jsx(Fi,{formatter:j=>[g(j),"Revenue"],labelStyle:{fontSize:"10px"},contentStyle:{fontSize:"10px",backgroundColor:"white",border:`1px solid ${le.colors.muted}40`,borderRadius:"4px"}}),i.jsx(wp,{type:"monotone",dataKey:"revenue",stroke:le.colors.accent,strokeWidth:2,dot:{fill:le.colors.accent,strokeWidth:0,r:3},activeDot:{r:4,fill:le.colors.primary}})]})}):i.jsx("div",{className:"text-[10px] text-center py-4",style:{color:le.colors.muted},children:"No revenue trend data available"})})})]})]})]})},s1e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState({totalSales:0,ordersToday:0,averageOrderValue:0,activeStaff:0,salesGrowth:0,ordersGrowth:0,peakHours:[],maxHourlyOrders:0,bestSellers:[],pendingOrders:0,lowStockCount:0}),[a,s]=k.useState({totalSales:0,orderSources:{}}),[o,l]=k.useState({totalSales:0,orderSources:{}}),[u,A]=k.useState({monthlyDisbursements:0,lowStockItems:0}),[f,h]=k.useState({team:[],activeCount:0}),[p,g]=k.useState([]),[v,x]=k.useState([]),[b,w]=k.useState(!0),[B,j]=k.useState(null);k.useEffect(()=>{const O=new AbortController;return(async()=>{var P,U,D,F,R;try{w(!0);const Q=new Date;Q.setHours(0,0,0,0);const V=((await(await fetch("http://localhost:5000/api/orders",{signal:O.signal})).json()).data||[]).filter(se=>{const Et=new Date(se.createdAt);return Et.setHours(0,0,0,0),Et.getTime()===Q.getTime()});t(V),await new Promise(se=>setTimeout(se,250));const ie=(await(await fetch("http://localhost:5000/api/revenue/daily",{signal:O.signal})).json()).data||{};await new Promise(se=>setTimeout(se,250));const L=(await(await fetch("http://localhost:5000/api/revenue/monthly",{signal:O.signal})).json()).data||{};await new Promise(se=>setTimeout(se,250));const G=await(await fetch("http://localhost:5000/api/revenue/historical/monthly",{signal:O.signal})).json();await new Promise(se=>setTimeout(se,250));let Z=[];G.success&&G.data&&(Z=G.data.map(se=>({period:se.month,revenue:se.revenue,orders:se.orders,formattedMonth:se.month}))),x(Z),await new Promise(se=>setTimeout(se,250));const fe=await(await fetch("http://localhost:5000/api/expenses",{signal:O.signal})).json();let we=0;const he=[];if(Array.isArray(fe)){const se=new Date,Et=new Date(se.getFullYear(),se.getMonth(),1),Qt=new Date(se.getFullYear(),se.getMonth()+1,0,23,59,59);we=fe.filter(nt=>{if(!nt.disbursed)return!1;const ye=new Date(nt.disbursementDate||nt.date);return ye>=Et&&ye<=Qt}).reduce((nt,ye)=>nt+(ye.amount||0),0);const It=fe.filter(nt=>nt.disbursed).reduce((nt,ye)=>{const re=new Date(ye.disbursementDate||ye.date),_e=`${re.getFullYear()}-${(re.getMonth()+1).toString().padStart(2,"0")}`;return nt[_e]||(nt[_e]=0),nt[_e]+=ye.amount||0,nt},{});Object.entries(It).forEach(([nt,ye])=>{const re=new Date(nt+"-01");he.push({monthYear:nt,amount:ye,formattedMonth:re.toLocaleDateString("en-PH",{month:"short",year:"numeric"})})}),he.sort((nt,ye)=>new Date(nt.monthYear)-new Date(ye.monthYear))}g(he),await new Promise(se=>setTimeout(se,250));const ce=localStorage.getItem("authToken"),ge=await(await fetch("http://localhost:5000/api/staff",{headers:{Authorization:`Bearer ${ce}`},signal:O.signal})).json();let Pe=[],ke=0;Array.isArray(ge)&&(Pe=ge.map(se=>({...se,id:se._id})).slice(0,5),ke=ge.filter(se=>se.status==="Active").length),h({team:Pe,activeCount:ke}),A({monthlyDisbursements:we,lowStockItems:3}),n({totalSales:((P=ie.summary)==null?void 0:P.totalRevenue)||0,ordersToday:((U=ie.summary)==null?void 0:U.orderCount)||0,averageOrderValue:((D=ie.summary)==null?void 0:D.averageOrderValue)||0,activeStaff:ke,salesGrowth:0,ordersGrowth:0,peakHours:Object.entries(ie.hourlyDistribution||{}).map(([se,Et])=>({hour:parseInt(se),amount:Et})).sort((se,Et)=>Et.amount-se.amount),maxHourlyOrders:10,bestSellers:ie.topItems||[],pendingOrders:0,lowStockCount:0}),s({totalSales:((F=ie.summary)==null?void 0:F.totalRevenue)||0,orderSources:ie.revenueBySource||{}}),l({totalSales:((R=L.summary)==null?void 0:R.totalRevenue)||0,orderSources:L.revenueBySource||{}})}catch(Q){Q.name!=="AbortError"&&console.error("Error fetching dashboard data:",Q)}finally{w(!1)}})(),()=>{O.abort()}},[]),k.useEffect(()=>()=>{B&&B.abort()},[B]);const _=async()=>{B&&B.abort();const O=new AbortController;j(O);try{const P=await(await fetch("http://localhost:5000/api/orders",{signal:O.signal})).json(),U=new Date;U.setHours(0,0,0,0);const D=(P.data||[]).filter(F=>{const R=new Date(F.createdAt);return R.setHours(0,0,0,0),R.getTime()===U.getTime()});t(D)}catch(T){T.name!=="AbortError"&&console.error("Error refreshing orders:",T)}finally{j(null)}},N=O=>{console.log("View order:",O)};return i.jsx("div",{className:"p-4",children:i.jsx(i1e,{stats:r,orders:e,salesSummary:a,monthlyRevenueSummary:o,operations:u,onRefreshOrders:_,onViewOrder:N,isLoading:b,staffData:f,monthlyExpenses:p,revenueData:v})})},o1e=({message:e,type:t="success",isVisible:r,onClose:n,duration:a=5e3})=>{if(k.useEffect(()=>{if(r&&a>0){const l=setTimeout(()=>{n()},a);return()=>clearTimeout(l)}},[r,a,n]),!r)return null;const o=(()=>{switch(t){case"success":return{bg:"bg-green-500",icon:i.jsx(gd,{className:"text-white text-lg"}),text:"text-white"};case"error":return{bg:"bg-red-500",icon:i.jsx(wi,{className:"text-white text-lg"}),text:"text-white"};case"warning":return{bg:"bg-amber-500",icon:i.jsx(p4,{className:"text-white text-lg"}),text:"text-white"};case"info":return{bg:"bg-blue-500",icon:i.jsx(Pb,{className:"text-white text-lg"}),text:"text-white"};default:return{bg:"bg-gray-500",icon:i.jsx(Pb,{className:"text-white text-lg"}),text:"text-white"}}})();return i.jsx("div",{className:`fixed top-4 right-4 z-50 ${o.bg} ${o.text} px-6 py-4 rounded-lg shadow-lg transform transition-all duration-300 ease-in-out ${r?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,style:{minWidth:"320px",maxWidth:"480px"},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-shrink-0",children:o.icon}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"font-medium",children:e})}),i.jsx("button",{onClick:n,className:"flex-shrink-0 ml-2 hover:bg-white hover:bg-opacity-20 rounded-full p-1 transition-colors",children:i.jsx(wi,{className:"text-sm"})})]})})},l1e=()=>{const[e,t]=k.useState({merchantWallets:{gcash:{enabled:!1,accountNumber:"",accountName:"",qrCodeUrl:""},paymaya:{enabled:!1,accountNumber:"",accountName:"",qrCodeUrl:""}},paymentVerification:{timeoutMinutes:120,autoCancel:!0,warningThresholds:{green:60,yellow:30,orange:15,red:0}},paymentGateways:{paymongo:{enabled:!1}}}),[r,n]=k.useState(!0),[a,s]=k.useState(!1),[o,l]=k.useState(null),[u,A]=k.useState({gcash:!1,paymaya:!1}),[f,h]=k.useState({gcash:!1,paymaya:!1}),[p,g]=k.useState({isVisible:!1,message:"",type:"success"}),v=(D,F="success")=>{g({isVisible:!0,message:D,type:F})},x=()=>{g(D=>({...D,isVisible:!1}))};k.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0),await U()}catch(D){l(D.message)}finally{n(!1)}},w=(D,F,R)=>{t(Q=>({...Q,merchantWallets:{...Q.merchantWallets,[D]:{...Q.merchantWallets[D],[F]:R}}}))},B=D=>{t(F=>{const R={...F,merchantWallets:{...F.merchantWallets,[D]:{...F.merchantWallets[D],enabled:!F.merchantWallets[D].enabled}}};return F.merchantWallets[D].enabled||(R.paymentGateways={...F.paymentGateways,paymongo:{...F.paymentGateways.paymongo,enabled:!1}}),R})},j=(D,F)=>{t(R=>({...R,paymentVerification:{...R.paymentVerification,[D]:F}}))},_=()=>{t(D=>{const F={...D,paymentGateways:{...D.paymentGateways,paymongo:{...D.paymentGateways.paymongo,enabled:!D.paymentGateways.paymongo.enabled}}};return D.paymentGateways.paymongo.enabled||(F.merchantWallets={...D.merchantWallets,gcash:{...D.merchantWallets.gcash,enabled:!1},paymaya:{...D.merchantWallets.paymaya,enabled:!1}}),F})},N=async(D,F)=>{if(F){if(!F.type.startsWith("image/")){l("Please upload an image file");return}if(F.size>5*1024*1024){l("Image size must be less than 5MB");return}try{A(V=>({...V,[D]:!0})),l(null);const R=new FormData;R.append("file",F),R.append("provider",D);const Q=localStorage.getItem("authToken"),H=await fetch(`${Cr}/api/settings/merchant-wallets/qr`,{method:"POST",headers:{Authorization:`Bearer ${Q}`},body:R});if(!H.ok)throw new Error("Failed to upload QR code");const J=await H.json();J.success&&(t(V=>({...V,merchantWallets:{...V.merchantWallets,[D]:{...V.merchantWallets[D],qrCodeUrl:J.data.qrCodeUrl}}})),setSuccess(`${D.toUpperCase()} QR code uploaded successfully!`),setTimeout(()=>setSuccess(""),3e3))}catch(R){l(R.message)}finally{A(R=>({...R,[D]:!1}))}}},O=async D=>{if(window.confirm(`Delete ${D.toUpperCase()} QR code?`))try{const F=localStorage.getItem("authToken"),R=await fetch(`${Cr}/api/settings/merchant-wallets/qr/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`}});if(!R.ok)throw new Error("Failed to delete QR code");(await R.json()).success&&(t(H=>({...H,merchantWallets:{...H.merchantWallets,[D]:{...H.merchantWallets[D],qrCodeUrl:""}}})),setSuccess(`${D.toUpperCase()} QR code deleted successfully!`),setTimeout(()=>setSuccess(""),3e3))}catch(F){l(F.message)}},T=D=>{h(F=>({...F,[D]:!F[D]}))},P=async()=>{try{s(!0),l(null);const D=localStorage.getItem("authToken");if(!(await fetch(`${Cr}/api/settings/merchant-wallets`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({provider:"gcash",enabled:e.merchantWallets.gcash.enabled,accountNumber:e.merchantWallets.gcash.accountNumber,accountName:e.merchantWallets.gcash.accountName})})).ok)throw new Error("Failed to save GCash settings");if(!(await fetch(`${Cr}/api/settings/merchant-wallets`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({provider:"paymaya",enabled:e.merchantWallets.paymaya.enabled,accountNumber:e.merchantWallets.paymaya.accountNumber,accountName:e.merchantWallets.paymaya.accountName})})).ok)throw new Error("Failed to save PayMaya settings");console.log("Saving PayMongo settings:",e.paymentGateways.paymongo),console.log("Full PayMongo object being sent:",JSON.stringify(e.paymentGateways.paymongo,null,2));const Q=await fetch(`${Cr}/api/settings/payment-gateways`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify({paymongo:e.paymentGateways.paymongo})});if(!Q.ok){const Y=await Q.text();throw console.error("PayMongo save error:",Y),new Error("Failed to save PayMongo settings")}const H=await Q.json();console.log("PayMongo save result:",H);const J=await fetch(`${Cr}/api/settings/payment-verification`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(e.paymentVerification)});if(!J.ok)throw new Error("Failed to save payment verification settings");(await J.json()).success&&(v(" All payment settings saved successfully!","success"),await U())}catch(D){console.error("Save settings error:",D),v(`Failed to save settings: ${D.message}`,"error")}finally{s(!1)}},U=async()=>{try{const D=localStorage.getItem("authToken"),F=await fetch(`${Cr}/api/settings/merchant-wallets`,{headers:{Authorization:`Bearer ${D}`}});if(!F.ok)throw new Error("Failed to fetch merchant wallet settings");const R=await F.json(),Q=await fetch(`${Cr}/api/settings/payment-verification`,{headers:{Authorization:`Bearer ${D}`}});if(!Q.ok)throw new Error("Failed to fetch payment verification settings");const H=await Q.json(),J=await fetch(`${Cr}/api/settings/payment-gateways`,{headers:{Authorization:`Bearer ${D}`}});if(!J.ok)throw new Error("Failed to fetch payment gateway settings");const V=await J.json();console.log("Loaded gateway settings from backend:",V),console.log("Full gatewaysData structure:",JSON.stringify(V,null,2)),R.success&&H.success&&V.success&&t(Y=>({merchantWallets:R.data||Y.merchantWallets,paymentVerification:H.data||Y.paymentVerification,paymentGateways:V.data||Y.paymentGateways}))}catch(D){console.error("Load settings error:",D),v(`Failed to load settings: ${D.message}`,"error")}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",style:{color:le.colors.muted},children:"Loading settings..."})}):i.jsxs(i.Fragment,{children:[i.jsx(o1e,{message:p.message,type:p.type,isVisible:p.isVisible,onClose:x,duration:5e3}),i.jsxs("div",{className:"p-6 space-y-6",children:[o&&i.jsxs("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200 flex items-center gap-2",children:[i.jsx(wi,{className:"text-red-600"}),i.jsx("span",{className:"text-red-800",children:o})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:le.colors.primary},children:"Merchant Wallet Configuration"}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"border-b pb-6",style:{borderColor:le.colors.muted+"30"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>T("gcash"),children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:le.colors.secondary},children:"GCash"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.merchantWallets.gcash.enabled,onChange:()=>B("gcash"),className:"sr-only"}),i.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${e.merchantWallets.gcash.enabled?"bg-green-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform ${e.merchantWallets.gcash.enabled?"translate-x-7 translate-y-1":"translate-x-1 translate-y-1"}`})}),i.jsx("span",{className:"ml-3 text-sm",style:{color:le.colors.primary},children:e.merchantWallets.gcash.enabled?"Enabled":"Disabled"})]}),f.gcash?i.jsx(dA,{className:"text-xl",style:{color:le.colors.primary}}):i.jsx(ud,{className:"text-xl",style:{color:le.colors.primary}})]})]}),f.gcash&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"Account Name"}),i.jsx("input",{type:"text",value:e.merchantWallets.gcash.accountName,onChange:D=>w("gcash","accountName",D.target.value),placeholder:"Juan Dela Cruz",className:"w-full px-4 py-2 rounded-lg border",style:{borderColor:le.colors.muted},disabled:!e.merchantWallets.gcash.enabled})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"Account Number"}),i.jsx("input",{type:"text",value:e.merchantWallets.gcash.accountNumber,onChange:D=>w("gcash","accountNumber",D.target.value),placeholder:"09XX XXX XXXX",className:"w-full px-4 py-2 rounded-lg border",style:{borderColor:le.colors.muted},disabled:!e.merchantWallets.gcash.enabled})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"QR Code"}),e.merchantWallets.gcash.qrCodeUrl&&e.merchantWallets.gcash.qrCodeUrl.trim()!==""?i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("img",{src:`${Cr}${e.merchantWallets.gcash.qrCodeUrl}`,alt:"GCash QR Code",className:"w-48 h-48 object-contain border rounded-lg"}),i.jsx("button",{onClick:()=>O("gcash"),className:"p-2 rounded-full hover:bg-red-100 transition-colors",title:"Delete QR Code",children:i.jsx(Py,{className:"text-red-600"})})]}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",style:{borderColor:le.colors.muted},children:[i.jsx("input",{type:"file",accept:"image/*",onChange:D=>N("gcash",D.target.files[0]),className:"hidden",id:"gcash-qr-upload",disabled:!e.merchantWallets.gcash.enabled||u.gcash}),i.jsxs("label",{htmlFor:"gcash-qr-upload",className:`cursor-pointer inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${!e.merchantWallets.gcash.enabled||u.gcash?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[i.jsx(L6,{}),u.gcash?"Uploading...":"Upload QR Code"]}),i.jsx("p",{className:"text-sm mt-2",style:{color:le.colors.muted},children:"PNG, JPG or WEBP (max 5MB)"})]})]})]})]}),i.jsxs("div",{className:"pb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 cursor-pointer",onClick:()=>T("paymaya"),children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:le.colors.secondary},children:"PayMaya"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.merchantWallets.paymaya.enabled,onChange:()=>B("paymaya"),className:"sr-only"}),i.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${e.merchantWallets.paymaya.enabled?"bg-green-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform ${e.merchantWallets.paymaya.enabled?"translate-x-7 translate-y-1":"translate-x-1 translate-y-1"}`})}),i.jsx("span",{className:"ml-3 text-sm",style:{color:le.colors.primary},children:e.merchantWallets.paymaya.enabled?"Enabled":"Disabled"})]}),f.paymaya?i.jsx(dA,{className:"text-xl",style:{color:le.colors.primary}}):i.jsx(ud,{className:"text-xl",style:{color:le.colors.primary}})]})]}),f.paymaya&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"Account Name"}),i.jsx("input",{type:"text",value:e.merchantWallets.paymaya.accountName,onChange:D=>w("paymaya","accountName",D.target.value),placeholder:"Juan Dela Cruz",className:"w-full px-4 py-2 rounded-lg border",style:{borderColor:le.colors.muted},disabled:!e.merchantWallets.paymaya.enabled})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"Account Number"}),i.jsx("input",{type:"text",value:e.merchantWallets.paymaya.accountNumber,onChange:D=>w("paymaya","accountNumber",D.target.value),placeholder:"09XX XXX XXXX",className:"w-full px-4 py-2 rounded-lg border",style:{borderColor:le.colors.muted},disabled:!e.merchantWallets.paymaya.enabled})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"QR Code"}),e.merchantWallets.paymaya.qrCodeUrl&&e.merchantWallets.paymaya.qrCodeUrl.trim()!==""?i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("img",{src:`${Cr}${e.merchantWallets.paymaya.qrCodeUrl}`,alt:"PayMaya QR Code",className:"w-48 h-48 object-contain border rounded-lg"}),i.jsx("button",{onClick:()=>O("paymaya"),className:"p-2 rounded-full hover:bg-red-100 transition-colors",title:"Delete QR Code",children:i.jsx(Py,{className:"text-red-600"})})]}):i.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",style:{borderColor:le.colors.muted},children:[i.jsx("input",{type:"file",accept:"image/*",onChange:D=>N("paymaya",D.target.files[0]),className:"hidden",id:"paymaya-qr-upload",disabled:!e.merchantWallets.paymaya.enabled||u.paymaya}),i.jsxs("label",{htmlFor:"paymaya-qr-upload",className:`cursor-pointer inline-flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${!e.merchantWallets.paymaya.enabled||u.paymaya?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600"}`,children:[i.jsx(L6,{}),u.paymaya?"Uploading...":"Upload QR Code"]}),i.jsx("p",{className:"text-sm mt-2",style:{color:le.colors.muted},children:"PNG, JPG or WEBP (max 5MB)"})]})]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:le.colors.primary},children:"PayMongo Payment Gateway"}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-blue-600 mt-0.5",children:""}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-blue-800 font-semibold mb-1",children:"About PayMongo Gateway"}),i.jsx("p",{className:"text-blue-700 text-sm leading-relaxed",children:"PayMongo provides secure online payment processing for GCash and PayMaya. When enabled, customers can pay directly through PayMongo's secure checkout page instead of manual transfers. This eliminates the need for manual payment verification and provides instant payment confirmation."})]})]})}),(e.merchantWallets.gcash.enabled||e.merchantWallets.paymaya.enabled)&&i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-amber-600 mt-0.5",children:""}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-amber-800 font-semibold mb-1",children:"Payment Method Conflict"}),i.jsx("p",{className:"text-amber-700 text-sm leading-relaxed",children:"Manual payment methods (GCash/PayMaya wallets) are currently enabled. Enabling PayMongo will automatically disable manual payment methods to avoid conflicts."})]})]})}),e.paymentGateways.paymongo.enabled&&i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"text-green-600 mt-0.5",children:""}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-green-800 font-semibold mb-1",children:"PayMongo Active"}),i.jsx("p",{className:"text-green-700 text-sm leading-relaxed",children:"PayMongo gateway is enabled. Customers can now pay securely online through PayMongo's checkout. Manual payment methods are automatically disabled."})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:le.colors.secondary},children:"Enable PayMongo Gateway"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Allow customers to pay through PayMongo's secure payment system"})]}),i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.paymentGateways.paymongo.enabled,onChange:_,className:"sr-only"}),i.jsx("div",{className:`w-14 h-8 rounded-full transition-colors ${e.paymentGateways.paymongo.enabled?"bg-green-500":"bg-gray-300"}`,children:i.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform ${e.paymentGateways.paymongo.enabled?"translate-x-7 translate-y-1":"translate-x-1 translate-y-1"}`})}),i.jsx("span",{className:"ml-3 text-sm font-medium",style:{color:le.colors.primary},children:e.paymentGateways.paymongo.enabled?"Enabled":"Disabled"})]})]}),e.paymentGateways.paymongo.enabled&&i.jsx("div",{className:"space-y-4 pl-4 border-l-4 border-blue-200",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h5",{className:"text-yellow-800 font-semibold mb-2",children:" Important Notes"}),i.jsxs("ul",{className:"text-yellow-700 text-sm space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"PayMongo gateway works independently from manual wallet transfers"}),i.jsx("li",{children:"Customers can choose between manual transfer or PayMongo gateway"}),i.jsx("li",{children:"PayMongo payments are automatically verified (no manual verification needed)"}),i.jsx("li",{children:"All payments are processed in live mode with real transactions"}),i.jsx("li",{children:"Supports both GCash and PayMaya payments through unified checkout"})]})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h2",{className:"text-xl font-bold mb-6",style:{color:le.colors.primary},children:"Payment Verification Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:le.colors.primary},children:"Timeout Period (minutes)"}),i.jsx("input",{type:"number",value:e.paymentVerification.timeoutMinutes,onChange:D=>j("timeoutMinutes",parseInt(D.target.value)),min:"30",max:"240",className:"w-full md:w-64 px-4 py-2 rounded-lg border",style:{borderColor:le.colors.muted}}),i.jsx("p",{className:"text-sm mt-1",style:{color:le.colors.muted},children:"Orders will auto-cancel after this duration (default: 120 minutes)"})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:e.paymentVerification.autoCancel,onChange:D=>j("autoCancel",D.target.checked),className:"w-5 h-5 rounded",style:{accentColor:le.colors.accent}}),i.jsx("span",{className:"ml-3",style:{color:le.colors.primary},children:"Automatically cancel orders after timeout"})]})})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:P,disabled:a,className:"px-6 py-3 rounded-lg font-medium text-white flex items-center gap-2 transition-colors",style:{backgroundColor:a?le.colors.muted:le.colors.accent,opacity:a?.7:1},children:[i.jsx(rb,{}),a?"Saving...":"Save Settings"]})})]})]})},mu=Object.create(null);mu.open="0";mu.close="1";mu.ping="2";mu.pong="3";mu.message="4";mu.upgrade="5";mu.noop="6";const sb=Object.create(null);Object.keys(mu).forEach(e=>{sb[mu[e]]=e});const RE={type:"error",data:"parser error"},FV=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",PV=typeof ArrayBuffer=="function",LV=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,__=({type:e,data:t},r,n)=>FV&&t instanceof Blob?r?n(t):UR(t,n):PV&&(t instanceof ArrayBuffer||LV(t))?r?n(t):UR(new Blob([t]),n):n(mu[e]+(t||"")),UR=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function IR(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let qS;function c1e(e,t){if(FV&&e.data instanceof Blob)return e.data.arrayBuffer().then(IR).then(t);if(PV&&(e.data instanceof ArrayBuffer||LV(e.data)))return t(IR(e.data));__(e,!1,r=>{qS||(qS=new TextEncoder),t(qS.encode(r))})}const DR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<DR.length;e++)zg[DR.charCodeAt(e)]=e;const u1e=e=>{let t=e.length*.75,r=e.length,n,a=0,s,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const A=new ArrayBuffer(t),f=new Uint8Array(A);for(n=0;n<r;n+=4)s=zg[e.charCodeAt(n)],o=zg[e.charCodeAt(n+1)],l=zg[e.charCodeAt(n+2)],u=zg[e.charCodeAt(n+3)],f[a++]=s<<2|o>>4,f[a++]=(o&15)<<4|l>>2,f[a++]=(l&3)<<6|u&63;return A},A1e=typeof ArrayBuffer=="function",T_=(e,t)=>{if(typeof e!="string")return{type:"message",data:UV(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:d1e(e.substring(1),t)}:sb[r]?e.length>1?{type:sb[r],data:e.substring(1)}:{type:sb[r]}:RE},d1e=(e,t)=>{if(A1e){const r=u1e(e);return UV(r,t)}else return{base64:!0,data:e}},UV=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},IV="",f1e=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach((s,o)=>{__(s,!1,l=>{n[o]=l,++a===r&&t(n.join(IV))})})},h1e=(e,t)=>{const r=e.split(IV),n=[];for(let a=0;a<r.length;a++){const s=T_(r[a],t);if(n.push(s),s.type==="error")break}return n};function m1e(){return new TransformStream({transform(e,t){c1e(e,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const s=new DataView(a.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{a=new Uint8Array(9);const s=new DataView(a.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(r)})}})}let VS;function Ax(e){return e.reduce((t,r)=>t+r.length,0)}function dx(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let a=0;a<t;a++)r[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function p1e(e,t){VS||(VS=new TextDecoder);const r=[];let n=0,a=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Ax(r)<1)break;const u=dx(r,1);s=(u[0]&128)===128,a=u[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Ax(r)<2)break;const u=dx(r,2);a=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(Ax(r)<8)break;const u=dx(r,8),A=new DataView(u.buffer,u.byteOffset,u.length),f=A.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(RE);break}a=f*Math.pow(2,32)+A.getUint32(4),n=3}else{if(Ax(r)<a)break;const u=dx(r,a);l.enqueue(T_(s?u:VS.decode(u),t)),n=0}if(a===0||a>e){l.enqueue(RE);break}}}})}const DV=4;function Li(e){if(e)return g1e(e)}function g1e(e){for(var t in Li.prototype)e[t]=Li.prototype[t];return e}Li.prototype.on=Li.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Li.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Li.prototype.off=Li.prototype.removeListener=Li.prototype.removeAllListeners=Li.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===t||n.fn===t){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Li.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,t)}return this};Li.prototype.emitReserved=Li.prototype.emit;Li.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Li.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ww=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Nl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),y1e="arraybuffer";function MV(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const v1e=Nl.setTimeout,x1e=Nl.clearTimeout;function Yw(e,t){t.useNativeTimers?(e.setTimeoutFn=v1e.bind(Nl),e.clearTimeoutFn=x1e.bind(Nl)):(e.setTimeoutFn=Nl.setTimeout.bind(Nl),e.clearTimeoutFn=Nl.clearTimeout.bind(Nl))}const b1e=1.33;function w1e(e){return typeof e=="string"?C1e(e):Math.ceil((e.byteLength||e.size)*b1e)}function C1e(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function RV(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function B1e(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function j1e(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class S1e extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class O_ extends Li{constructor(t){super(),this.writable=!1,Yw(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new S1e(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=T_(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=B1e(t);return r.length?"?"+r:""}}class N1e extends O_{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};h1e(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,f1e(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=RV()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let QV=!1;try{QV=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const E1e=QV;function k1e(){}class _1e extends N1e{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(a,s)=>{this.onError("xhr post error",a,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Au extends Li{constructor(t,r,n){super(),this.createRequest=t,Yw(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=MV(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Au.requestsCount++,Au.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=k1e,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Au.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Au.requestsCount=0;Au.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",MR);else if(typeof addEventListener=="function"){const e="onpagehide"in Nl?"pagehide":"unload";addEventListener(e,MR,!1)}}function MR(){for(let e in Au.requests)Au.requests.hasOwnProperty(e)&&Au.requests[e].abort()}const T1e=function(){const e=HV({xdomain:!1});return e&&e.responseType!==null}();class O1e extends _1e{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=T1e&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Au(HV,this.uri(),t)}}function HV(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||E1e))return new XMLHttpRequest}catch{}if(!t)try{return new Nl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const $V=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class F1e extends O_{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=$V?{}:MV(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;__(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}a&&Ww(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=RV()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const KS=Nl.WebSocket||Nl.MozWebSocket;class P1e extends F1e{createSocket(t,r,n){return $V?new KS(t,r,n):r?new KS(t,r):new KS(t)}doWrite(t,r){this.ws.send(r)}}class L1e extends O_{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=p1e(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),a=m1e();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const s=()=>{n.read().then(({done:l,value:u})=>{l||(this.onPacket(u),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],a=r===t.length-1;this._writer.write(n).then(()=>{a&&Ww(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const U1e={websocket:P1e,webtransport:L1e,polling:O1e},I1e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,D1e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function QE(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=I1e.exec(e||""),s={},o=14;for(;o--;)s[D1e[o]]=a[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=M1e(s,s.path),s.queryKey=R1e(s,s.query),s}function M1e(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function R1e(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,s){a&&(r[a]=s)}),r}const HE=typeof addEventListener=="function"&&typeof removeEventListener=="function",ob=[];HE&&addEventListener("offline",()=>{ob.forEach(e=>e())},!1);class xd extends Li{constructor(t,r){if(super(),this.binaryType=y1e,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=QE(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=QE(r.host).host);Yw(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=j1e(this.opts.query)),HE&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ob.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=DV,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&xd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",xd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=w1e(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ww(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(xd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),HE&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=ob.indexOf(this._offlineEventListener);n!==-1&&ob.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}xd.protocol=DV;class Q1e extends xd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;xd.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;xd.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}const o=h=>{const p=new Error("probe error: "+h);p.transport=r.name,s(),this.emitReserved("upgradeError",p)};function l(){o("transport closed")}function u(){o("socket closed")}function A(h){r&&h.name!==r.name&&s()}const f=()=>{r.removeListener("open",a),r.removeListener("error",o),r.removeListener("close",l),this.off("close",u),this.off("upgrading",A)};r.once("open",a),r.once("error",o),r.once("close",l),this.once("close",u),this.once("upgrading",A),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let H1e=class extends Q1e{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>U1e[a]).filter(a=>!!a)),super(t,n)}};function $1e(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=QE(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const z1e=typeof ArrayBuffer=="function",q1e=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,zV=Object.prototype.toString,V1e=typeof Blob=="function"||typeof Blob<"u"&&zV.call(Blob)==="[object BlobConstructor]",K1e=typeof File=="function"||typeof File<"u"&&zV.call(File)==="[object FileConstructor]";function F_(e){return z1e&&(e instanceof ArrayBuffer||q1e(e))||V1e&&e instanceof Blob||K1e&&e instanceof File}function lb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(lb(e[r]))return!0;return!1}if(F_(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return lb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&lb(e[r]))return!0;return!1}function G1e(e){const t=[],r=e.data,n=e;return n.data=$E(r,t),n.attachments=t.length,{packet:n,buffers:t}}function $E(e,t){if(!e)return e;if(F_(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=$E(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=$E(e[n],t));return r}return e}function W1e(e,t){return e.data=zE(e.data,t),delete e.attachments,e}function zE(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=zE(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=zE(e[r],t));return e}const Y1e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],X1e=5;var Ln;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Ln||(Ln={}));class J1e{constructor(t){this.replacer=t}encode(t){return(t.type===Ln.EVENT||t.type===Ln.ACK)&&lb(t)?this.encodeAsBinary({type:t.type===Ln.EVENT?Ln.BINARY_EVENT:Ln.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Ln.BINARY_EVENT||t.type===Ln.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=G1e(t),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}function RR(e){return Object.prototype.toString.call(e)==="[object Object]"}class P_ extends Li{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Ln.BINARY_EVENT;n||r.type===Ln.BINARY_ACK?(r.type=n?Ln.EVENT:Ln.ACK,this.reconstructor=new Z1e(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(F_(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Ln[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Ln.BINARY_EVENT||n.type===Ln.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const a=t.charAt(r+1);if(a!==""&&Number(a)==a){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(P_.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Ln.CONNECT:return RR(r);case Ln.DISCONNECT:return r===void 0;case Ln.CONNECT_ERROR:return typeof r=="string"||RR(r);case Ln.EVENT:case Ln.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Y1e.indexOf(r[0])===-1);case Ln.ACK:case Ln.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Z1e{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=W1e(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const ewe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:P_,Encoder:J1e,get PacketType(){return Ln},protocol:X1e},Symbol.toStringTag,{value:"Module"}));function hc(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const twe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qV extends Li{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[hc(t,"open",this.onopen.bind(this)),hc(t,"packet",this.onpacket.bind(this)),hc(t,"error",this.onerror.bind(this)),hc(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,a,s;if(twe.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Ln.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,h=r.pop();this._registerAckCallback(f,h),o.id=f}const l=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,u=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,a)=>{const s=(o,l)=>o?a(o):n(l);s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...s)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Ln.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Ln.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ln.EVENT:case Ln.BINARY_EVENT:this.onevent(t);break;case Ln.ACK:case Ln.BINARY_ACK:this.onack(t);break;case Ln.DISCONNECT:this.ondisconnect();break;case Ln.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:Ln.ACK,id:t,data:a}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ln.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Cp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Cp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Cp.prototype.reset=function(){this.attempts=0};Cp.prototype.setMin=function(e){this.ms=e};Cp.prototype.setMax=function(e){this.max=e};Cp.prototype.setJitter=function(e){this.jitter=e};class qE extends Li{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yw(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Cp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const a=r.parser||ewe;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new H1e(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=hc(r,"open",function(){n.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=hc(r,"error",s);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{a(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(hc(t,"ping",this.onping.bind(this)),hc(t,"data",this.ondata.bind(this)),hc(t,"error",this.onerror.bind(this)),hc(t,"close",this.onclose.bind(this)),hc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Ww(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new qV(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Tg={};function du(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=$1e(e,t.path||"/socket.io"),n=r.source,a=r.id,s=r.path,o=Tg[a]&&s in Tg[a].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return l?u=new qE(n,t):(Tg[a]||(Tg[a]=new qE(n,t)),u=Tg[a]),r.query&&!t.query&&(t.query=r.queryKey),u.socket(r.path,t)}Object.assign(du,{Manager:qE,Socket:qV,io:du,connect:du});const VV=()=>{var Y,ee,ie,z,W,L,q,G,Z,te,fe,we,he;const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(null),[o,l]=k.useState("all"),[u,A]=k.useState(""),[f,h]=k.useState(null),[p,g]=k.useState(!1),[v,x]=k.useState("all"),[b,w]=k.useState("pending"),[B,j]=k.useState(null),[_,N]=k.useState(""),[O,T]=k.useState(!1),P=k.useRef(null);k.useEffect(()=>{const ce=localStorage.getItem("token")||localStorage.getItem("authToken"),xe=du(Cr,{auth:{token:ce}});return P.current=xe,xe.on("connect",()=>{console.log("Payment Verification Dashboard connected - Authenticated:",xe.auth.token?"Yes":"No")}),xe.on("newPaymentOrder",ge=>{console.log("New payment order received:",ge),U()}),xe.on("paymentVerified",ge=>{console.log("Payment verified:",ge),U()}),xe.on("paymentRejected",ge=>{console.log("Payment rejected:",ge),U()}),xe.on("userLoggedOut",ge=>{console.log("[PaymentVerificationDashboard] User logged out event received:",ge),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("userPosition"),localStorage.removeItem("userRole"),window.location.href="/"}),()=>{xe.close()}},[]),k.useEffect(()=>{U()},[b]);const U=async()=>{try{n(!0);const ce=localStorage.getItem("authToken"),xe=new URLSearchParams;b!=="all"&&xe.append("verificationStatus",b);const ge=`${Cr}/api/orders/pending-verification${xe.toString()?"?"+xe.toString():""}`,Pe=await fetch(ge,{headers:{Authorization:`Bearer ${ce}`}});if(!Pe.ok)throw new Error("Failed to fetch orders");const ke=await Pe.json();ke.success&&t(ke.data.map(se=>{var Et,Qt;return{...se,createdAt:new Date(se.createdAt),"proofOfPayment.uploadedAt":(Et=se.proofOfPayment)!=null&&Et.uploadedAt?new Date(se.proofOfPayment.uploadedAt):null,"proofOfPayment.expiresAt":(Qt=se.proofOfPayment)!=null&&Qt.expiresAt?new Date(se.proofOfPayment.expiresAt):null}}))}catch(ce){s(ce.message)}finally{n(!1)}},D=e.filter(ce=>{var It,nt,ye,re,_e;const xe=new Date(ce.createdAt),ge=new Date;ge.setHours(0,0,0,0);const Pe=new Date;Pe.setDate(Pe.getDate()-7),Pe.setHours(0,0,0,0);const ke=new Date;ke.setMonth(ke.getMonth()-1),ke.setHours(0,0,0,0);let se=!0;o==="today"?se=xe>=ge:o==="week"?se=xe>=Pe:o==="month"&&(se=xe>=ke);const Et=v==="all"||((It=ce.paymentDetails)==null?void 0:It.eWalletProvider)===v,Qt=u===""||ce.receiptNumber.toLowerCase().includes(u.toLowerCase())||((ye=(nt=ce.proofOfPayment)==null?void 0:nt.transactionReference)==null?void 0:ye.toLowerCase().includes(u.toLowerCase()))||((_e=(re=ce.proofOfPayment)==null?void 0:re.accountName)==null?void 0:_e.toLowerCase().includes(u.toLowerCase()));return se&&Et&&Qt}).sort((ce,xe)=>{var se,Et,Qt,It,nt,ye,re,_e,Oe;const ge={pending:0,verified:1,rejected:2},Pe=ge[(se=ce.proofOfPayment)==null?void 0:se.verificationStatus]||3,ke=ge[(Et=xe.proofOfPayment)==null?void 0:Et.verificationStatus]||3;if(Pe!==ke)return Pe-ke;if(((Qt=ce.proofOfPayment)==null?void 0:Qt.verificationStatus)==="pending"){const Ke=((It=ce.proofOfPayment)==null?void 0:It.expiresAt)||new Date,Me=((nt=xe.proofOfPayment)==null?void 0:nt.expiresAt)||new Date;return Ke-Me}else{const Ke=((ye=ce.proofOfPayment)==null?void 0:ye.verifiedAt)||((re=ce.proofOfPayment)==null?void 0:re.rejectedAt)||new Date(0);return(((_e=xe.proofOfPayment)==null?void 0:_e.verifiedAt)||((Oe=xe.proofOfPayment)==null?void 0:Oe.rejectedAt)||new Date(0))-Ke}}),F=ce=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(ce),R=ce=>ce?ce.toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Q=ce=>{if(!ce)return null;const xe=new Date,Pe=new Date(ce)-xe;if(Pe<=0)return{expired:!0,text:"Expired",color:"red"};const ke=Math.floor(Pe/(1e3*60*60)),se=Math.floor(Pe%(1e3*60*60)/(1e3*60)),Et=ke*60+se;let Qt="green";return Et<=15?Qt="red":Et<=30?Qt="orange":Et<=60&&(Qt="yellow"),{expired:!1,text:`${ke}h ${se}m`,color:Qt,urgent:Et<=15}},H=async ce=>{if(window.confirm("Confirm payment verification?"))try{T(!0);const xe=localStorage.getItem("authToken"),ge=await fetch(`${Cr}/api/orders/${ce}/verify-payment`,{method:"PUT",headers:{Authorization:`Bearer ${xe}`}});if(!ge.ok)throw new Error("Failed to verify payment");(await ge.json()).success&&(alert("Payment verified successfully!"),h(null),U())}catch(xe){alert(`Error: ${xe.message}`)}finally{T(!1)}},J=async ce=>{if(!_.trim()){alert("Please provide a rejection reason");return}if(window.confirm("Confirm payment rejection?"))try{T(!0);const xe=localStorage.getItem("authToken"),ge=await fetch(`${Cr}/api/orders/${ce}/reject-payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xe}`},body:JSON.stringify({reason:_})});if(!ge.ok)throw new Error("Failed to reject payment");(await ge.json()).success&&(alert("Payment rejected successfully"),h(null),N(""),j(null),U())}catch(xe){alert(`Error: ${xe.message}`)}finally{T(!1)}},V=ce=>{const xe={pending:{bg:"#FFF3CD",color:"#856404",text:"Pending"},verified:{bg:"#D4EDDA",color:"#155724",text:"Verified"},rejected:{bg:"#F8D7DA",color:"#721C24",text:"Rejected"}},ge=xe[ce]||xe.pending;return i.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:ge.bg,color:ge.color},children:ge.text})};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-lg",style:{color:le.colors.muted},children:"Loading orders..."})}):a?i.jsxs("div",{className:"p-6 text-red-600",children:["Error: ",a]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>g(!p),className:"px-4 py-2 rounded-lg flex items-center gap-2 bg-gray-100 text-gray-700",children:[i.jsx(fp,{}),"Filter by Date",i.jsx(dA,{})]}),p&&i.jsx("div",{className:"absolute top-full mt-1 bg-white border rounded-lg shadow-lg z-10 w-48",children:i.jsx("div",{className:"p-2 space-y-1",children:["all","today","week","month"].map(ce=>i.jsx("button",{onClick:()=>{l(ce),g(!1)},className:`px-3 py-2 rounded-lg w-full text-left ${o===ce?"bg-orange-500 text-white":"hover:bg-gray-100"}`,children:ce==="all"?"All Time":ce==="today"?"Today":ce==="week"?"This Week":"This Month"},ce))})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:b,onChange:ce=>w(ce.target.value),className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 border-none",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"verified",children:"Verified"}),i.jsx("option",{value:"rejected",children:"Rejected"})]}),i.jsxs("select",{value:v,onChange:ce=>x(ce.target.value),className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 border-none",children:[i.jsx("option",{value:"all",children:"All Payment Methods"}),i.jsx("option",{value:"gcash",children:"GCash"}),i.jsx("option",{value:"paymaya",children:"PayMaya"})]})]}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(_m,{className:"text-gray-400"})}),i.jsx("input",{type:"text",value:u,onChange:ce=>A(ce.target.value),placeholder:"Search by receipt number, reference, or account name...",className:"pl-10 px-4 py-2 rounded-lg bg-gray-100 w-full"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{style:{backgroundColor:le.colors.activeBg},children:[i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Receipt #"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Date"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Type"}),i.jsx("th",{className:"text-right p-4",style:{color:le.colors.primary},children:"Total"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Payment"}),i.jsx("th",{className:"text-center p-4",style:{color:le.colors.primary},children:"Time Left"}),i.jsx("th",{className:"text-center p-4",style:{color:le.colors.primary},children:"Status"}),i.jsx("th",{className:"text-center p-4",style:{color:le.colors.primary},children:"Actions"})]})}),i.jsx("tbody",{children:D.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"8",className:"text-center p-8",style:{color:le.colors.muted},children:"No orders found matching your filters."})}):D.map(ce=>{var ge,Pe,ke,se,Et;const xe=Q((ge=ce.proofOfPayment)==null?void 0:ge.expiresAt);return i.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",style:{borderColor:le.colors.muted+"20"},onClick:()=>h(ce),children:[i.jsx("td",{className:"p-4",style:{color:le.colors.primary},children:ce.receiptNumber}),i.jsx("td",{className:"p-4",style:{color:le.colors.secondary},children:R(ce.createdAt)}),i.jsx("td",{className:"p-4 capitalize",style:{color:le.colors.primary},children:(Pe=ce.fulfillmentType)==null?void 0:Pe.replace("_","-")}),i.jsx("td",{className:"p-4 text-right",style:{color:le.colors.primary},children:F(ce.totals.total)}),i.jsx("td",{className:"p-4 capitalize",style:{color:le.colors.secondary},children:(ke=ce.paymentDetails)==null?void 0:ke.eWalletProvider}),i.jsx("td",{className:"p-4 text-center",children:xe&&i.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${xe.expired?"bg-red-100 text-red-800":xe.urgent?"bg-red-100 text-red-800 animate-pulse":"text-gray-700"}`,children:xe.expired?"Expired":`${xe.text}`})}),i.jsx("td",{className:"p-4 text-center",children:V(((se=ce.proofOfPayment)==null?void 0:se.verificationStatus)||"pending")}),i.jsx("td",{className:"p-4",children:((Et=ce.proofOfPayment)==null?void 0:Et.verificationStatus)==="pending"&&i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{onClick:Qt=>{Qt.stopPropagation(),h(ce),j("verify")},className:"p-2 rounded-full hover:bg-green-100",title:"Verify Payment",children:i.jsx(gd,{className:"text-green-600",size:20})}),i.jsx("button",{onClick:Qt=>{Qt.stopPropagation(),h(ce),j("reject")},className:"p-2 rounded-full hover:bg-red-100",title:"Reject Payment",children:i.jsx(wi,{className:"text-red-600",size:20})})]})})]},ce._id)})})]})})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold",style:{color:le.colors.primary},children:["Order #",f.receiptNumber]}),i.jsx("button",{onClick:()=>{h(null),j(null),N("")},className:"p-2 rounded-full hover:bg-gray-100",children:i.jsx(wi,{size:24,style:{color:le.colors.primary}})})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-3",style:{color:le.colors.secondary},children:"Order Summary"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Amount:"})," ",F(f.totals.total)]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Method:"})," ",(ee=(Y=f.paymentDetails)==null?void 0:Y.eWalletProvider)==null?void 0:ee.toUpperCase()]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",(ie=f.fulfillmentType)==null?void 0:ie.replace("_","-")]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Time:"})," ",R(f.createdAt)]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold mb-3",style:{color:le.colors.secondary},children:"Items"}),i.jsx("ul",{className:"space-y-2",children:f.items.map((ce,xe)=>i.jsxs("li",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:[ce.quantity,"x ",ce.name," (",ce.selectedSize,")"]}),i.jsx("span",{children:F(ce.quantity*ce.price)})]},xe))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold mb-3",style:{color:le.colors.secondary},children:"Payment Proof"}),((z=f.proofOfPayment)==null?void 0:z.imageUrl)&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(nie,{style:{color:le.colors.accent}}),i.jsx("span",{className:"font-medium",children:"Image Proof:"})]}),i.jsx("img",{src:`${Cr}${f.proofOfPayment.imageUrl}`,alt:"Payment Proof",className:"w-full max-w-md border rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(`${Cr}${f.proofOfPayment.imageUrl}`,"_blank")})]}),(((W=f.proofOfPayment)==null?void 0:W.transactionReference)||((L=f.proofOfPayment)==null?void 0:L.accountName))&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(jd,{style:{color:le.colors.accent}}),i.jsx("span",{className:"font-medium",children:"Text Reference:"})]}),((q=f.proofOfPayment)==null?void 0:q.accountName)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Account Name:"}),i.jsx("span",{className:"ml-2",children:f.proofOfPayment.accountName})]}),((G=f.proofOfPayment)==null?void 0:G.transactionReference)&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium",children:"Reference #:"}),i.jsx("span",{className:"ml-2",children:f.proofOfPayment.transactionReference})]})]})]}),((Z=f.proofOfPayment)==null?void 0:Z.verificationStatus)==="pending"&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"font-semibold mb-4",style:{color:le.colors.secondary},children:"Verification Actions"}),B==="reject"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Rejection Reason ",i.jsx("span",{className:"text-red-600",children:"*"})]}),i.jsx("textarea",{value:_,onChange:ce=>N(ce.target.value),placeholder:"Enter reason for rejection...",className:"w-full px-4 py-2 border rounded-lg",rows:"3"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>H(f._id),disabled:O||B==="reject",className:"flex-1 px-6 py-3 rounded-lg font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(gd,{}),O&&B==="verify"?"Verifying...":"Verify Payment"]}),i.jsxs("button",{onClick:()=>J(f._id),disabled:O||!_.trim(),className:"flex-1 px-6 py-3 rounded-lg font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(wi,{}),O&&B==="reject"?"Rejecting...":"Reject Payment"]})]})]}),((te=f.proofOfPayment)==null?void 0:te.verificationStatus)==="verified"&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[i.jsx(gd,{className:"inline text-green-600",size:24}),i.jsx("p",{className:"text-green-800 font-medium mt-2",children:"Payment Verified"}),((fe=f.proofOfPayment)==null?void 0:fe.verifiedAt)&&i.jsx("p",{className:"text-sm text-green-600 mt-1",children:R(new Date(f.proofOfPayment.verifiedAt))})]}),((we=f.proofOfPayment)==null?void 0:we.verificationStatus)==="rejected"&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[i.jsx(wi,{className:"inline text-red-600",size:24}),i.jsx("p",{className:"text-red-800 font-medium mt-2",children:"Payment Rejected"}),((he=f.proofOfPayment)==null?void 0:he.verificationNotes)&&i.jsxs("p",{className:"text-sm text-red-600 mt-2",children:["Reason: ",f.proofOfPayment.verificationNotes]})]})]})})})]})},Ud=()=>{k.useEffect(()=>{const e=t=>{t.key==="token"&&t.oldValue&&!t.newValue&&(console.log("[MultiTabLogout] Token removed in another tab, logging out..."),window.location.href="/"),t.key==="authToken"&&t.oldValue&&!t.newValue&&(console.log("[MultiTabLogout] AuthToken removed in another tab, logging out..."),window.location.href="/")};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[])};function rwe(){const[e,t]=k.useState("overview");Ud();const r=()=>e==="overview"?"Dashboard Overview":e==="verification"?"Payment Verification":"Payment Settings";return i.jsx(nr.div,{className:"min-h-screen p-4 sm:p-6 lg:p-8 pt-16 md:pt-4 transition-all duration-300",style:{backgroundColor:Ze.background},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[i.jsx(nr.h1,{className:"text-2xl font-bold text-primary",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:r()}),i.jsxs(nr.div,{className:"flex mt-4 md:mt-0",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[i.jsx(nr.button,{onClick:()=>t("overview"),className:`px-6 py-2 rounded-tl-lg rounded-bl-lg font-medium ${e==="overview"?`bg-${le.colors.primary} text-white`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:e==="overview"?{backgroundColor:le.colors.primary}:{},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:"Overview"}),i.jsxs(nr.button,{onClick:()=>t("verification"),className:`px-6 py-2 font-medium flex items-center gap-2 ${e==="verification"?`bg-${le.colors.primary} text-white`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:e==="verification"?{backgroundColor:le.colors.primary}:{},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[i.jsx(wc,{}),"Verification"]}),i.jsxs(nr.button,{onClick:()=>t("settings"),className:`px-6 py-2 rounded-tr-lg rounded-br-lg font-medium flex items-center gap-2 ${e==="settings"?`bg-${le.colors.primary} text-white`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:e==="settings"?{backgroundColor:le.colors.primary}:{},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:17},children:[i.jsx(oie,{}),"Settings"]})]})]}),i.jsx(nr.div,{className:"bg-white rounded-lg shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.jsxs(Ss,{mode:"wait",children:[e==="overview"&&i.jsx(nr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"p-4",style:{color:Ze.primary},children:i.jsx(s1e,{})},"overview"),e==="verification"&&i.jsx(nr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:i.jsx(VV,{})},"verification"),e==="settings"&&i.jsx(nr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:i.jsx(l1e,{})},"settings")]})})]})})}function nwe({title:e,titleId:t,...r},n){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?k.createElement("title",{id:t},e):null,k.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06l-6.22-6.22V21a.75.75 0 0 1-1.5 0V4.81l-6.22 6.22a.75.75 0 1 1-1.06-1.06l7.5-7.5Z",clipRule:"evenodd"}))}const awe=k.forwardRef(nwe),iwe=({imagePath:e,alt:t="Image",size:r=80,className:n="",type:a="menu",placeholderImage:s=null,baseUrl:o="http://localhost:5000"})=>{const[l,u]=k.useState(!1),[A,f]=k.useState("");k.useEffect(()=>{if(!e||e===""){const v=h(a);f(v);return}if(e.startsWith("data:")){f(e);return}if(e.startsWith("http")){f(e);return}const g=e.startsWith("/")?e:`/${e}`;f(`${o}${g}`),console.log(`[${new Date().toISOString()}] ImageDisplay - Setting image source to: ${o}${g} (from: ${e})`)},[e,a,s,o]);const h=g=>{if(s)return s;switch(g){case"staff":return"/placeholders/staff.png";case"menu":return"/placeholders/meal.png";case"beverage":return"/placeholders/drinks.png";default:return"/placeholders/image.png"}},p=()=>{console.error(`Failed to load image: ${A}`),u(!0),f(h(a))};return i.jsx("div",{className:`overflow-hidden ${n}`,style:{width:r,height:r,borderRadius:"4px",position:"relative"},children:i.jsx("img",{src:A,alt:t,onError:p,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"center"}})})},VE=({image:e,category:t,alt:r="Menu item",size:n=80,className:a=""})=>{const s=l=>(l==null?void 0:l.toLowerCase())==="beverages"?"/placeholders/drinks.png":"/placeholders/meal.png",o=!e||e===""?null:e;return i.jsx(iwe,{imagePath:o,alt:r,size:n,className:a,type:"menu",placeholderImage:s(t)})},zu=e=>{if(!e)return"english";const t=e.toLowerCase(),r=[/kumusta/i,/kamusta/i,/ano/i,/saan/i,/kailan/i,/bakit/i,/paano/i,/salamat/i,/maraming salamat/i,/po\b/i,/opo/i,/gusto ko/i,/pwede/i,/kape/i,/pagkain/i,/masarap/i,/gutom/i,/uhaw/i,/mainit/i,/malamig/i,/magkano/i,/presyo/i,/pesos/i,/tanghali/i,/umaga/i,/gabi/i,/magandang umaga/i,/magandang hapon/i,/magandang gabi/i,/mabuhay/i,/makakakuha/i,/makakaorder/i,/makakabili/i,/meron ba/i,/wala ba/i,/ngayon/i,/bukas/i,/kahapon/i,/ako/i,/ikaw/i,/siya/i,/tayo/i,/kami/i,/orderin/i,/umorder/i,/bili/i,/bumili/i,/kain/i,/kumain/i,/inom/i,/uminom/i,/lang\b/i,/yung\b/i,/na\b/i,/pa\b/i,/naman/i,/talaga/i,/kasi/i,/nga/i,/lamang/i,/marami/i,/konti/i,/rin/i,/din/i,/sige/i,/ayos/i,/paki/i,/pakiusap/i,/malamang/i,/siguro/i,/baka/i,/sarap/i,/dito/i,/doon/i,/diyan/i,/atin/i];let n=0;for(const s of r)s.test(t)&&n++;return n>=1||["ikaw","ako","siya","kain","inom","gusto","ayaw","dito","diyan","po","opo","salamat","kamusta","kumusta"].includes(t.trim())?"tagalog":"english"},swe=(e,t)=>{if(!e||typeof e!="string")return console.warn("findBestMenuItemMatch: itemText is null, undefined, or not a string:",e),null;const r=e.toLowerCase(),n=t.find(o=>o.name.toLowerCase()===r);if(n)return{...n,confidence:"high"};const a=t.find(o=>r.includes(o.name.toLowerCase())||o.name.toLowerCase().includes(r));if(a)return{...a,confidence:"medium"};for(const o of t){const l=o.name.toLowerCase().split(/\s+/),u=r.split(/\s+/);if(l.some(f=>u.includes(f)&&f.length>2))return{...o,confidence:"low"}}const s=t.map(o=>{const l=o.name.toLowerCase(),u=GS(r,l),A=Math.max(r.length,l.length),f=1-u/A,h=l.split(/\s+/),p=h.reduce((x,b)=>{if(b.length<3)return x;const w=GS(r,b),B=Math.max(r.length,b.length),j=1-w/B;return j>x?j:x},0),g=Math.max(f,p),v=Math.min(u,h.map(x=>GS(r,x)).reduce((x,b)=>Math.min(x,b),1/0));return{item:o,similarity:g,distance:v}}).filter(o=>o.similarity>=.6&&o.distance<=3&&Math.abs(r.length-o.item.name.length)<=6).sort((o,l)=>l.similarity-o.similarity);if(s.length>0){const o=s[0];return{...o.item,confidence:o.similarity>=.8?"medium":"low"}}return null};function GS(e,t){const r=e.length,n=t.length,a=Array(r+1).fill(null).map(()=>Array(n+1).fill(0));for(let s=0;s<=r;s++)a[s][0]=s;for(let s=0;s<=n;s++)a[0][s]=s;for(let s=1;s<=r;s++)for(let o=1;o<=n;o++)e[s-1]===t[o-1]?a[s][o]=a[s-1][o-1]:a[s][o]=Math.min(a[s-1][o]+1,a[s][o-1]+1,a[s-1][o-1]+1);return a[r][n]}const owe=async(e,t,r=[],n="english")=>{var l;const a=e.toLowerCase();if(console.log("AI Order Detection - checking message:",a),a.length<2||a.endsWith("?")&&!a.includes("can i get")&&!a.includes("can i have")||a.includes("what")&&!a.includes("what about")&&!a.includes("ok")&&!a.includes("sure")||a.includes("how much")||a.includes("how many")||a.includes("why")||a.includes("what drinks")&&!a.includes("ok")&&!a.includes("sure")||a.includes("what beverages")&&!a.includes("ok")&&!a.includes("sure")||a.includes("partner it with")&&!a.includes("ok")&&!a.includes("sure")||a.includes("to partner it with")&&!a.includes("ok")&&!a.includes("sure")||a.includes("pair it with")&&!a.includes("ok")&&!a.includes("sure")||a.includes("goes with")&&!a.includes("ok")&&!a.includes("sure")||a.includes("go with")&&!a.includes("ok")&&!a.includes("sure")||a.includes("complement")&&!a.includes("ok")&&!a.includes("sure")||a.includes("to pair")&&!a.includes("ok")&&!a.includes("sure")||a.includes("drinks you have")&&!a.includes("ok")&&!a.includes("sure"))return console.log(" AI Order Detection - rejected as non-order (pairing question)"),{hasOrderIntent:!1,items:[]};console.log("AI Order Detection - passed early checks, proceeding to AI analysis");const s={role:"system",content:`You are an order intent classifier for a caf. Analyze if this message indicates a customer wanting to order items.
    
    Available menu items:
    ${t.map(u=>`- ${u.name} (${u.category||"Uncategorized"})`).join(`
`)}
      Instructions:
    1. ONLY identify actual ordering intent (customer wants to add items to their order)
    2. Asking about an item is NOT an order intent
    3. Simple mentions of menu items are NOT orders
    4. Questions about pairings, recommendations, or "what goes with" are NOT orders
    5. Look for phrases like "I want", "I'll have", "give me", "can I get", "add", "order", etc.
    6. Return a structured response with confidence level
    7. If ordering intent is detected, extract the specific items, quantities, and sizes
    8. Be generous with "high" confidence for clear ordering phrases
    9. Use "medium" confidence for implicit orders (just item names with quantities)
    10. Only use "low" confidence when uncertain`},o={role:"user",content:`Message: "${e}"
      Examples of HIGH confidence orders:
    - "I want 2 milkteas"
    - "Give me a burger"
    - "I'll have 3 coffees"
    - "Can I get pizza"
    - "Add a sandwich"
    - "Order milktea"
    - "2 milkteas please"
    - "milktea medium"
    - "ok blueberry fruit soda"
    - "sure, 1 coffee"
    - "yes, milktea"
    
    Examples of MEDIUM confidence orders:
    - "milktea" (just item name)
    - "2 milkteas" (quantity + item)
    - "large coffee" (size + item)
      Examples of NO order intent:
    - "What's in the burger?"
    - "How much is coffee?"
    - "Do you have milktea?"
    - "boneless bangsilog what drinks you have to partner it with"
    - "what drinks go with chicken stew"
    - "what do you recommend with pizza"
    - "what pairs well with the sandwich"
    - "what beverages complement the meal"
    
    Respond ONLY with valid JSON in this exact format:
    {
      "hasOrderIntent": true/false,
      "confidence": "high/medium/low", 
      "items": [
        {
          "name": "exact menu item name",
          "quantity": "number",
          "size": "size if specified or null",
          "confidence": "high/medium/low"
        }
      ]
    }
    
    If no order intent, return empty items array.`};try{const A=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gemini-2.5-flash",messages:[s,o],temperature:.2,max_tokens:350})});if(!A.ok)return console.error("Error detecting order intent with AI:",A.status,await A.text()),{hasOrderIntent:!1,items:[]};const f=await A.json();if(!f.choices||!f.choices[0]||!f.choices[0].message||!f.choices[0].message.content)return console.error("Invalid AI response structure:",f),{hasOrderIntent:!1,items:[]};const h=f.choices[0].message.content;let p=h;if(h.includes("```json"))p=h.split("```json")[1].split("```")[0].trim();else if(h.includes("{")){const v=h.indexOf("{"),x=h.lastIndexOf("}");if(v!==-1&&x!==-1&&x>v)p=h.substring(v,x+1);else return console.error("Could not extract JSON from AI response:",h),{hasOrderIntent:!1,items:[]}}else return console.error("No JSON found in AI response:",h),{hasOrderIntent:!1,items:[]};const g=JSON.parse(p);return g.hasOrderIntent&&((l=g.items)==null?void 0:l.length)>0&&(g.items=g.items.map(v=>{if(!v.name||typeof v.name!="string")return console.warn("AI detected item with invalid name:",v),null;const x=swe(v.name,t);if(x){const b=x.pricing?Object.keys(x.pricing):["base"],w=b.length>1;let B=v.size,j=!1;if(B){const N=b.find(O=>O.toLowerCase()===B.toLowerCase()||O.toLowerCase().includes(B.toLowerCase())||B.toLowerCase().includes(O.toLowerCase().replace(/[()]/g,"")));N&&(B=N)}if(!B)if(w){const N=x.defaultSize||null;N&&b.includes(N)?B=N:(j=!0,B=null)}else B=b[0]||"base";let _=1;if(v.quantity){if(typeof v.quantity=="number")_=v.quantity;else if(typeof v.quantity=="string"){const N={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,a:1,an:1},O=v.quantity.toLowerCase().trim();N[O]?_=N[O]:_=parseInt(v.quantity,10)||1}}return console.log(`AI detected order item: ${_}x ${x.name}, size: ${B||"to be specified"}`),{menuItem:x,quantity:_,size:B,confidence:v.confidence||"medium",needsSizeSelection:j,availableSizes:b}}return null}).filter(v=>v!==null)),g}catch(u){return console.error("Error in AI order intent detection (parsing or network):",u),{hasOrderIntent:!1,items:[]}}},XA=(e,t="english")=>{var n,a;const r={orderAdded:{english:"I've started an order for you. You can say 'show my cart' anytime to see your current order.",tagalog:"Na-start ko na yung order mo. Sabihin mo lang 'show my cart' kung gusto mong makita yung order mo anytime."},noItemsInCart:{english:"You don't have any items in your order yet. Would you like to see our menu?",tagalog:"Wala ka pang items sa cart mo. Gusto mo bang makita yung menu namin?"},itemsInCart:{english:s=>`You have ${s} item${s>1?"s":""} in your order. You can view your cart below.`,tagalog:s=>`May ${s} item${s>1?"s":""} ka sa cart mo. Nasa baba yung order mo para ma-check mo.`},checkoutDetails:{english:"Great! I'll need a few details to process your order.",tagalog:"Perfect! Kailangan ko lang ng konting details para ma-process natin yung order mo."},orderCancelled:{english:"I've canceled your current order. Feel free to start over whenever you're ready!",tagalog:"Na-cancel ko na yung order mo. Just start over nalang kapag ready ka na ulit!"},noOrderToCancel:{english:"You don't have an active order to cancel.",tagalog:"Wala ka pang active order na pwedeng i-cancel."},itemAdded:{english:s=>`Added ${s} to your order. Would you like anything else?`,tagalog:s=>`Na-add ko na yung ${s} sa order mo. May gusto ka pa bang iba?`}};return((n=r[e])==null?void 0:n[t])||((a=r[e])==null?void 0:a.english)||`Missing translation for ${e}:${t}`},lwe=()=>`id_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,cwe=(e,t,r="base",n=1,a=lwe)=>{if(!t)return console.error("Cannot add undefined item to order"),e;let s;if(typeof n=="number"&&!isNaN(n))s=n>0?n:1;else{const l=parseInt(n,10);s=!isNaN(l)&&l>0?l:1}console.log(`Adding to order: ${s}x ${t.name} (${r})`);const o=e.findIndex(l=>l.name===t.name&&l.selectedSize===r);if(o!==-1){const l=[...e];return l[o].quantity+=s,l}else{const l=t.pricing&&t.pricing[r]?t.pricing[r]:t.pricing&&Object.values(t.pricing)[0]||0;return[...e,{id:a(),name:t.name,selectedSize:r,price:l,quantity:s,image:t.image||""}]}};function uwe(){const e=()=>`id-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;k.useRef({});const t=()=>i.jsx("div",{className:"w-8 h-8 mr-3 flex-shrink-0 rounded-full overflow-hidden",children:i.jsx("img",{src:o$,alt:"Ring & Wing Logo",className:"object-cover w-full h-full"})}),[r,n]=k.useState([{id:1,text:"Hello! I'm the Ring & Wing Caf assistant. How can I help you today?",sender:"bot",timestamp:new Date}]);k.useEffect(()=>{r.length===1&&r[0].id===1&&n([{id:1,text:"Hello! I'm the Ring & Wing Caf assistant. How can I help you today?",sender:"bot",timestamp:new Date}])},[r.length]);const[a,s]=k.useState(""),[o,l]=k.useState(!1),[u,A]=k.useState([]),[f,h]=k.useState(null),p=k.useRef(null),[g,v]=k.useState(""),x=k.useRef(Date.now()),[b,w]=k.useState(!1),B=k.useRef(null),[j,_]=k.useState("english"),[N,O]=k.useState(null),[T,P]=k.useState([]),[U,D]=k.useState([]),[F,R]=k.useState(!1),[Q,H]=k.useState({name:"",phone:"",tableNumber:""}),[J,V]=k.useState(!1),[Y,ee]=k.useState([]),[ie,z]=k.useState(null),W=()=>u.filter(Be=>Be.isAvailable!==!1),[L,q]=k.useState(null),G=[{id:1,text:"What's today's special?"},{id:2,text:"What do you recommend?"},{id:3,text:"Place an order"},{id:4,text:"Where's my order?"},{id:5,text:"Can i see the full menu?"}];k.useEffect(()=>{var Be;(Be=p.current)==null||Be.scrollIntoView({behavior:"smooth"})},[r]),k.useEffect(()=>{const Be=new AbortController,Re=async()=>{try{const yt=(await(await fetch("http://localhost:5000/api/menu?limit=1000",{signal:Be.signal})).json()).items||[];if(A(yt),console.log(`Successfully loaded ${yt.length} menu items for chatbot`),yt.length>0){const Ht=Z().substring(0,200)+"...";console.log("Sample menu context loaded:",Ht)}else console.error("No menu items loaded from the database!")}catch(Qe){Qe.name!=="AbortError"&&console.error("Error fetching menu items:",Qe)}},Ue=async()=>{try{const Ve=await(await fetch("http://localhost:5000/api/revenue/weekly",{signal:Be.signal})).json();Ve.success&&(h(Ve.data),console.log("Successfully loaded revenue data for recommendations"))}catch(Qe){Qe.name!=="AbortError"&&console.error("Error fetching revenue data:",Qe)}};return Re(),Ue(),()=>Be.abort()},[]),k.useEffect(()=>()=>{B.current&&B.current.abort()},[]);const Z=()=>{const Be=W();return Be.length?Be.map(Re=>{const Ue=Re.pricing?Object.entries(Re.pricing).map(([Qe,Ve])=>`${Qe}: ${Ve}`).join(", "):"Price not available";return`- ${Re.name}: ${Re.description||"No description"}. Prices: ${Ue}. Category: ${Re.category||"Uncategorized"}`}).join(`
`):"No menu items available"},te=(Be,Re="")=>{var gt;if(!Be||Be.trim().length<2)return"Let me check that for you...";const Ue=Be.replace(/\*/g,""),Qe=Ue.toLowerCase(),Ve=Re.toLowerCase(),yt=zu(Re),ze=["i can help with","how can i assist","what would you like to know about","i'm an ai assistant"].some(et=>Qe.includes(et));if(yt!=="english")return Ue;const Ge=W(),St=Ge.map(et=>et.name.toLowerCase()),Rt=Ue.split(/[\s.,]+/).filter(et=>St.includes(et.toLowerCase())),sr=Ge.filter(et=>et.category==="Beverages"&&(et.subCategory==="Cold Drinks"||et.name.toLowerCase().includes("iced")||et.name.toLowerCase().includes("cold")||et.name.toLowerCase().includes("frappe")||et.name.toLowerCase().includes("milkshake")||et.name.toLowerCase().includes("milktea"))),Ye=Ge.filter(et=>et.category==="Desserts"||et.name.toLowerCase().includes("cake")||et.name.toLowerCase().includes("ice cream")),pt=Ge.filter(et=>et.category==="Food"&&(et.subCategory==="Sandwiches"||et.subCategory==="Salads"||et.name.toLowerCase().includes("wrap")));if(Ve.includes("hot")||Ve.includes("warm")||Ve.includes("heat")||Ve.includes("sunny")){const ft=sr.sort(()=>.5-Math.random()).slice(0,Math.min(3,sr.length)).map(tr=>tr.name);let ut="For this hot day, I'd recommend something refreshing! ";if(ft.length>0&&(ut+=`Our ${ft.join(", ")} would be perfect to cool you down. `),Ye.length>0){const tr=Ye[Math.floor(Math.random()*Ye.length)];ut+=`You might also enjoy our ${tr.name} for a sweet treat.`}else if(pt.length>0){const tr=pt[Math.floor(Math.random()*pt.length)];ut+=`Pair it with our ${tr.name} for a light, refreshing meal.`}return ut}if(Ve.includes("cold")||Ve.includes("chilly")||Ve.includes("rainy")||Ve.includes("rain")){const et=Ge.filter(Ct=>Ct.category==="Beverages"&&(Ct.subCategory==="Hot Drinks"||Ct.subCategory==="Coffee"||Ct.name.toLowerCase().includes("hot")||Ct.name.toLowerCase().includes("tea")&&!Ct.name.toLowerCase().includes("iced"))),ft=Ge.filter(Ct=>Ct.category==="Food"&&(Ct.name.toLowerCase().includes("soup")||Ct.name.toLowerCase().includes("stew")||Ct.name.toLowerCase().includes("pasta")||Ct.subCategory==="Main Dishes")),ut=et.sort(()=>.5-Math.random()).slice(0,Math.min(2,et.length)).map(Ct=>Ct.name),tr=ft.sort(()=>.5-Math.random()).slice(0,Math.min(2,ft.length)).map(Ct=>Ct.name);let Kt="For this cold weather, I'd suggest something warming! ";return ut.length>0&&(Kt+=`Our ${ut.join(" or ")} would warm you right up. `),tr.length>0&&(Kt+=`It pairs perfectly with our ${tr.join(" or ")} for a comforting meal.`),Kt}if(Ve.includes("breakfast")||Ve.includes("morning")){const et=Ge.filter(ut=>ut.subCategory==="Breakfast"||ut.name.toLowerCase().includes("breakfast")||ut.name.toLowerCase().includes("egg")||ut.name.toLowerCase().includes("bacon")||ut.name.toLowerCase().includes("toast")),ft=Ge.filter(ut=>ut.category==="Beverages"&&(ut.subCategory==="Coffee"||ut.name.toLowerCase().includes("juice")||ut.name.toLowerCase().includes("tea")));if(et.length>0||ft.length>0){const ut=et.slice(0,Math.min(2,et.length)).map(Ct=>Ct.name),tr=ft.slice(0,Math.min(2,ft.length)).map(Ct=>Ct.name);let Kt="For a delicious morning meal, ";return ut.length>0&&(Kt+=`I recommend our ${ut.join(" or ")}. `),tr.length>0&&(Kt+=`Pair it with a refreshing ${tr.join(" or ")} to start your day right!`),Kt}}if(ze&&Qe.includes("special")){const et=u.find(ft=>ft.isSpecial)||u[0];return`Today's special is ${et.name} - ${et.description}. It's a customer favorite and I highly recommend it!`}if(Rt.length===0&&(Ve.includes("recommend")||Ve.includes("suggest"))||Ve.includes("popular")||Ve.includes("best seller")||Ve.includes("bestseller"))if(((gt=f==null?void 0:f.topItems)==null?void 0:gt.length)>0){const et=f.topItems.slice(0,3);let ft="Based on what our customers love most, I'd recommend: ";return et.forEach((ut,tr)=>{ft+=`${ut.name}`;const Kt=u.find(Ct=>Ct.name===ut.name);if(Kt&&Kt.description){const Ct=Kt.description.split(".")[0];ft+=` (${Ct})`}tr<et.length-2?ft+=", ":tr===et.length-2&&(ft+=" and ")}),ft+=". Would you like to try any of these today?",ft}else{const et=[...new Set(Ge.map(tr=>tr.category))];let ft="I'd be happy to recommend some of our most popular items! ";const ut=[];for(const tr of et){const Kt=Ge.filter(Ct=>Ct.category===tr);if(Kt.length>0){const Ct=Kt[Math.floor(Math.random()*Kt.length)];if(ut.push({name:Ct.name,category:tr}),ut.length>=3)break}}if(ut.length>0)ft+="From our menu, I suggest trying: ",ut.forEach((tr,Kt)=>{ft+=`${tr.name} from our ${tr.category} selection`,Kt<ut.length-2?ft+=", ":Kt===ut.length-2&&(ft+=" and ")}),ft+=". These are customer favorites!";else{const tr=u.slice(0,3).map(Kt=>Kt.name);ft+=`Some great choices would be: ${tr.join(", ")}.`}return ft}if(Ve.includes("vegetarian")||Ve.includes("vegan")||Ve.includes("gluten free")||Ve.includes("gluten-free")||Ve.includes("healthy")){let et="";Ve.includes("vegetarian")?et="vegetarian":Ve.includes("vegan")?et="vegan":Ve.includes("gluten")?et="gluten-free":et="healthy";const ft=Ge.filter(ut=>ut.tags&&ut.tags.includes(et)||ut.description&&ut.description.toLowerCase().includes(et)||et==="healthy"&&(ut.category==="Salads"||ut.description&&(ut.description.toLowerCase().includes("fresh")||ut.description.toLowerCase().includes("healthy")||ut.description.toLowerCase().includes("nutritious"))));if(ft.length>0){const ut=ft.sort(()=>.5-Math.random()).slice(0,Math.min(3,ft.length)).map(tr=>tr.name);return`For ${et} options, I recommend: ${ut.join(", ")}. Would you like to know more about any of these items?`}}return Ue},fe=async(Be,Re=[],Ue=null)=>{var Ge;const Qe=zu(Be);console.log("Detected language:",Qe);let Ve="";((Ge=f==null?void 0:f.topItems)==null?void 0:Ge.length)>0&&(Ve=`

Our current best-selling items are: ${f.topItems.slice(0,3).map(Rt=>`${Rt.name} (${Rt.quantity} sold, ${Math.round(Rt.revenue)} revenue)`).join(", ")}.`);let yt="";Qe==="tagalog"?yt=`
6. Language preferences:
   - Respond with natural Taglish (mixed Tagalog and English)
   - CRITICAL: Never acknowledge or mention language changes - continue conversation naturally
   - Use a 60% Tagalog, 40% English mix that sounds authentic and conversational 
   - Mix languages mid-sentence as Filipinos naturally do in everyday speech
   - Keep tone casual and friendly - like talking to a friend or colleague
   - Use Tagalog for conversational phrases, but keep menu items in English
   - Examples of natural Taglish:
     * "Ang bestseller namin is yung Caramel Macchiato. Gusto mo bang i-try?"
     * "Masarap din yung Signature Blend Coffee namin with our Chocolate Cake."
     * "Available pa rin yung seasonal drinks namin hanggang next week."
   - Avoid using formal terms like "po" and "opo" to maintain a friendly atmosphere   - Keep monetary values as: "99"
   - DO NOT say things like "Oh, you're speaking Tagalog!" or anything that acknowledges the language`:yt=`
6. Language preferences:
   - Respond in English by default
   - If the customer switches to another language, switch seamlessly without any acknowledgment
   - For Tagalog, use natural Taglish (mixed Tagalog-English) as it's more authentic
   - CRITICAL: Never comment on language changes in your response - maintain conversational flow`;const ze={model:"gemini-2.5-flash",messages:[{role:"system",content:`You are Ring & Wing Caf's helpful, friendly, and attentive assistant. Here are your guidelines:

1. Available menu items (only talk about these actual items):
${Z()}

2. Conversation style:
   - Be warm, personable, and sound like a knowledgeable caf staff member
   - Keep responses friendly, professional, and concise (2-3 sentences max)
   - Use a conversational tone that's engaging but not overly casual
   - Add character with occasional caf-appropriate expressions like "Absolutely!" or "Perfect choice!"

3. Contextual awareness:
   - For weather-related queries (hot/cold days), recommend appropriate items
   - For time-of-day queries, suggest fitting menu items (breakfast/lunch/dinner)
   - Consider dietary needs when mentioned (vegetarian/vegan/gluten-free)

4. Formatting and content rules:
   - Do not use asterisks or markdown formatting
   - Never mention competitor restaurants or cafes
   - Format prices as: "Small: 99 | Medium: 120"
   - If asked about unavailable items, say: "I'm sorry, that item isn't available. Would you like me to suggest something similar from our menu?"

5. Recommendations:
   - Always recommend specific items from our actual menu
   - If suggesting multiple items, recommend complementary pairings (drink + food)
   - Highlight special features or ingredients when relevant

${yt}

${Ve}`},...Re,{role:"user",content:Be}],temperature:.7,max_tokens:1e3};try{console.log("Sending chat request with payload:",{model:ze.model,messageCount:ze.messages.length,temperature:ze.temperature,max_tokens:ze.max_tokens});const St=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ze),signal:Ue});if(!St.ok){console.error(`API error: Status ${St.status}`);const Ye=await St.text();throw console.error("Error response:",Ye),new Error(`API error: ${St.status} - ${Ye}`)}const Rt=await St.json();if(console.log("Chat API response:",Rt),Rt.error)return console.error("Gemini API error:",Rt.error),"Sorry, I'm having trouble answering that question. Could you try rephrasing?";if(!Rt.choices||!Rt.choices[0]||!Rt.choices[0].message)return console.error("Invalid response format from API:",Rt),"Sorry, I received an invalid response format. Please try again.";let sr=Rt.choices[0].message.content;return console.log("Raw AI response:",sr),Qe!=="english"?(console.log(`Preserving ${Qe} response without extra sanitization`),sr.replace(/\*/g,"")):(sr=te(sr,Be),console.log("Sanitized AI response:",sr),sr)}catch(St){return St.name==="AbortError"?(console.log("AI request was cancelled"),null):(console.error("Error with AI service:",St),"Sorry, I'm having trouble connecting to the AI service. Please try again in a moment.")}},we=(Be,Re="base",Ue=1,Qe=!0)=>{if(!Be){console.error("Cannot add undefined item to order");return}P(Ve=>cwe(Ve,Be,Re,Ue,e)),Qe&&R(!0)},he=Be=>{if(T.length===0){const Re=Be!=null&&Be.text?zu(Be.text):"english";n(Ue=>[...Ue,{id:e(),text:XA("orderAdded",Re),sender:"bot",timestamp:new Date}])}},ce=(Be,Re)=>{const Ue=T.map(Qe=>{if(Qe.id===Be){const Ve=Qe.quantity+Re;return Ve>0?{...Qe,quantity:Ve}:null}return Qe}).filter(Boolean);P(Ue)},xe=Be=>{P(T.filter(Re=>Re.id!==Be))},ge=()=>T.reduce((Be,Re)=>Be+Re.price*Re.quantity,0),Pe=()=>{let Be=5;const Re=new Set(T.map(Ve=>Ve.name));Be+=Re.size,T.reduce((Ve,yt)=>Ve+yt.quantity,0)>5&&(Be+=2);const Qe=Math.floor(Math.random()*4);return Be+Qe},ke=(Be,Re=1)=>{if(!Be||!Be.name){console.error("Attempted to order an invalid item:",Be);return}const Ue=Be.pricing&&Object.keys(Be.pricing).length>0?Object.keys(Be.pricing)[0]:"base",Qe=u.find(ze=>ze.name===Be.name)||Be;let Ve;if(typeof Re=="number"&&!isNaN(Re))Ve=Re>0?Re:1;else{const ze=parseInt(Re,10);Ve=!isNaN(ze)&&ze>0?ze:1}console.log(`handleOrderItem: Adding ${Ve}x ${Qe.name} (${Ue})`),we(Qe,Ue,Ve);const yt={id:e(),text:`I'd like to order ${Ve>1?Ve+" ":""}${Be.name}`,sender:"user",timestamp:new Date};n(ze=>[...ze,yt]),l(!0);const Ht=zu(yt.text);setTimeout(()=>{const ze=Ve>1?`${Ve} `:"";n(Ge=>[...Ge,{id:e(),text:XA("itemAdded",Ht)(`${ze}${Be.name}`),sender:"bot",timestamp:new Date}]),l(!1)},1e3)},se=()=>{R(!0),l(!1);const Be=r.filter(Ue=>Ue.sender==="user").pop(),Re=Be?zu(Be.text):"english";T.length===0?n(Ue=>[...Ue,{id:e(),text:XA("noItemsInCart",Re),sender:"bot",timestamp:new Date}]):n(Ue=>[...Ue,{id:e(),text:XA("itemsInCart",Re)(T.length),sender:"bot",timestamp:new Date}])},Et=()=>{const Be=r.filter(Ue=>Ue.sender==="user").pop(),Re=Be?zu(Be.text):"english";if(T.length===0){n(Ue=>[...Ue,{id:e(),text:XA("noItemsInCart",Re),sender:"bot",timestamp:new Date}]);return}V(!0),n(Ue=>[...Ue,{id:e(),text:XA("checkoutDetails",Re),sender:"bot",timestamp:new Date}])},Qt=async(Be,Re=null)=>{console.log("Sending order to backend:",Be);const Ue={items:Be.items.map(Qe=>({name:Qe.name,price:Qe.price,quantity:Qe.quantity,selectedSize:Qe.selectedSize})),totals:{subtotal:Be.total,discount:0,total:Be.total},paymentMethod:"pending",orderType:"chatbot",status:"pending"};try{const Qe=await fetch("http://localhost:5000/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ue),signal:Re});if(!Qe.ok)throw new Error(`HTTP error! status: ${Qe.status}`);const Ve=await Qe.json();return console.log("Order submitted successfully:",Ve),Ve.data.receiptNumber}catch(Qe){return Qe.name==="AbortError"?(console.log("Order submission was cancelled"),null):(console.error("Error submitting order:",Qe),alert("There was a problem submitting your order. Please try again."),null)}},It=()=>{if(T.length===0){alert("You need to add items to your order first.");return}if(!Q.name||!Q.phone){alert("Please fill in your name and phone number.");return}const Be=`RNW-${Date.now().toString().slice(-6)}`,Re=Pe(),Ue={id:Be,items:[...T],customer:{...Q},total:ge(),status:"pending",paymentMethod:"pending",orderType:"chatbot",estimatedMinutes:Re,placedAt:new Date,updatedAt:new Date};D(Qe=>[...Qe,Ue]),Qt(Ue),P([]),V(!1),R(!1),n(Qe=>[...Qe,{id:e(),text:`Thank you for your order! Your order #${Be} has been placed successfully. Please proceed to the counter for payment. After payment, your order should be ready in approximately ${Re} minutes. You can ask "Where's my order?" anytime to check the status.`,sender:"bot",timestamp:new Date,type:"order-confirmation",order:Ue}])},nt=()=>{if(U.length===0){n(ze=>[...ze,{id:e(),text:"You don't have any recent orders to track. Would you like to place an order?",sender:"bot",timestamp:new Date}]);return}const Be=U[U.length-1],Re=new Date,Ue=new Date(Be.placedAt),Qe=Math.floor((Re-Ue)/6e4);let Ve=Be.status,yt=Be.estimatedMinutes-Qe;yt<=0?Ve="ready":Qe>=2&&(Ve="preparing"),Ve!==Be.status&&D(ze=>ze.map(Ge=>Ge.id===Be.id?{...Ge,status:Ve,updatedAt:new Date}:Ge));let Ht="";switch(Ve){case"received":Ht=`Your order #${Be.id} has been received and will be prepared soon! Estimated wait time: ${yt} minutes.`;break;case"preparing":Ht=`Your order #${Be.id} is being prepared right now! It should be ready in about ${yt>0?yt:"a few"} minutes.`;break;case"ready":Ht=`Great news! Your order #${Be.id} is ready for pickup. Please show this message to our staff.`;break;default:Ht=`Your order #${Be.id} status is: ${Ve}`}n(ze=>[...ze,{id:e(),text:Ht,sender:"bot",timestamp:new Date,type:"order-status",status:Ve,order:Be}])},ye=()=>{const Be=r.filter(Ue=>Ue.sender==="user").pop(),Re=Be?zu(Be.text):"english";if(T.length===0){n(Ue=>[...Ue,{id:e(),text:XA("noOrderToCancel",Re),sender:"bot",timestamp:new Date}]);return}P([]),R(!1),V(!1),n(Ue=>[...Ue,{id:e(),text:XA("orderCancelled",Re),sender:"bot",timestamp:new Date}])},re=()=>!F||T.length===0?null:i.jsxs("div",{className:"fixed bottom-16 right-4 w-64 md:w-72 bg-white rounded-lg shadow-lg p-3 max-h-[60vh] overflow-y-auto z-10",style:{border:`1px solid ${Ze.muted}`},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-sm font-bold",style:{color:Ze.primary},children:"Your Order"}),i.jsx("button",{onClick:()=>R(!1),className:"text-xs p-1",style:{color:Ze.muted},children:"Close"})]}),i.jsx("div",{className:"space-y-2 mb-3",children:T.map(Be=>i.jsxs("div",{className:"flex items-center justify-between text-sm p-1 border-b",style:{borderColor:Ze.muted+"50"},children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{style:{color:Ze.primary},children:[Be.name," (",Be.selectedSize,")"]}),i.jsxs("p",{style:{color:Ze.secondary},children:["",Be.price.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>ce(Be.id,-1),className:"p-1 text-xs rounded-full",style:{backgroundColor:Ze.muted+"20",color:Ze.primary},children:"-"}),i.jsx("span",{className:"mx-1 text-xs",style:{color:Ze.primary},children:Be.quantity}),i.jsx("button",{onClick:()=>ce(Be.id,1),className:"p-1 text-xs rounded-full",style:{backgroundColor:Ze.accent+"20",color:Ze.primary},children:"+"}),i.jsx("button",{onClick:()=>xe(Be.id),className:"ml-2 p-1 text-xs rounded-full",style:{backgroundColor:"#f8d7da",color:"#721c24"},children:""})]})]},Be.id))}),i.jsxs("div",{className:"flex justify-between font-bold text-sm mb-3",style:{color:Ze.primary},children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:["",ge().toFixed(2)]})]}),i.jsx("button",{onClick:Et,className:"w-full py-2 text-sm rounded-full font-medium",style:{backgroundColor:Ze.accent,color:Ze.background},children:"Proceed to Checkout"})]}),_e={english:{completeOrder:"Complete Your Order",yourName:"Your Name",phoneNumber:"Phone Number",tableNumber:"Table Number (if dining in)",orderSummary:"Order Summary",estimatedTime:"Estimated preparation time",minutes:"minutes",cancel:"Cancel",placeOrder:"Place Order",namePlaceholder:"Enter your name",phonePlaceholder:"Enter your phone number",tablePlaceholder:"Optional"},tagalog:{completeOrder:"Complete Your Order",yourName:"Name mo",phoneNumber:"Phone Number mo",tableNumber:"Table Number (kung dine-in ka)",orderSummary:"Order Summary",estimatedTime:"Estimated preparation time",minutes:"minutes",cancel:"Cancel",placeOrder:"Place Order",namePlaceholder:"Enter your name",phonePlaceholder:"Enter your phone number",tablePlaceholder:"Optional"}},Oe=()=>{if(!J)return null;const Be=r.filter(Qe=>Qe.sender==="user").pop(),Re=Be?zu(Be.text):"english",Ue=_e[Re]||_e.english;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-20",children:i.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:Ze.primary},children:Ue.completeOrder}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",style:{color:Ze.secondary},children:Ue.yourName}),i.jsx("input",{type:"text",value:Q.name,onChange:Qe=>H({...Q,name:Qe.target.value}),className:"w-full p-2 border rounded",style:{borderColor:Ze.muted},placeholder:Ue.namePlaceholder,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",style:{color:Ze.secondary},children:Ue.phoneNumber}),i.jsx("input",{type:"tel",value:Q.phone,onChange:Qe=>H({...Q,phone:Qe.target.value}),className:"w-full p-2 border rounded",style:{borderColor:Ze.muted},placeholder:Ue.phonePlaceholder,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",style:{color:Ze.secondary},children:Ue.tableNumber}),i.jsx("input",{type:"text",value:Q.tableNumber,onChange:Qe=>H({...Q,tableNumber:Qe.target.value}),className:"w-full p-2 border rounded",style:{borderColor:Ze.muted},placeholder:Ue.tablePlaceholder})]})]}),i.jsxs("div",{className:"border-t pt-3 mb-3",style:{borderColor:Ze.muted},children:[i.jsx("h3",{className:"font-bold mb-2",style:{color:Ze.primary},children:Ue.orderSummary}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto mb-2",children:T.map(Qe=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{style:{color:Ze.primary},children:[Qe.quantity,"  ",Qe.name," (",Qe.selectedSize,")"]}),i.jsxs("span",{style:{color:Ze.secondary},children:["",(Qe.price*Qe.quantity).toFixed(2)]})]},Qe.id))}),i.jsxs("div",{className:"flex justify-between font-bold",style:{color:Ze.primary},children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:["",ge().toFixed(2)]})]}),i.jsxs("div",{className:"text-xs mt-1",style:{color:Ze.secondary},children:[Ue.estimatedTime,": ",Pe()," ",Ue.minutes]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 rounded border text-sm",style:{borderColor:Ze.muted,color:Ze.primary},children:Ue.cancel}),i.jsx("button",{onClick:It,className:"px-4 py-2 rounded text-sm",style:{backgroundColor:Ze.accent,color:Ze.background},children:Ue.placeOrder})]})]})})},Ke=Be=>{var gt;if(!Y.length)return null;if(ie&&Date.now()-ie>3e5)return ee([]),null;const Re=Be.trim().toLowerCase();if(Re.includes("what drinks")||Re.includes("what beverages")||Re.includes("partner it with")||Re.includes("to partner it with")||Re.includes("pair it with")||Re.includes("goes with")||Re.includes("go with")||Re.includes("complement")||Re.includes("to pair")||Re.includes("drinks you have")||Re.includes("drinks to")||Re.includes("beverage to"))return console.log(" detectOrderFromSuggestion - rejected as pairing question"),null;const Ue=[/(?:i'?ll\s+)?(?:take|get|want|have|order|need|give\s+me)\s+(?:that|those|it|them)/i,/(?:yes|yeah|yep|sure|okay|ok|alright),?\s*(?:i'?ll\s+)?(?:take|get|want|have|order|need|give\s+me)?/i,/(?:i\s+)?(?:want|need|like)\s+(?:that|those|it|them)/i,/(?:add|put)\s+(?:that|those|it|them)\s+(?:to\s+)?(?:my\s+)?(?:order|cart)/i,/(?:the\s+)?(?:first|second|third|1st|2nd|3rd|\d+(?:st|nd|rd|th)?)\s+(?:one|item|option)/i,/(?:number|#)\s*(\d+)/i,/(?:\d+\s+)?(?:of\s+)?(?:that|those|it|them)/i,/(?:ok|okay)\s+(?:add|get|take)\s+(?:that|it)/i,/add\s+(?:that|it|them)/i,/(?:all|everything|both)\s+(?:small|medium|large|regular|hot|cold|float)/i,/(?:make\s+)?(?:it|them|those|that)\s+(?:all\s+)?(?:small|medium|large|regular|hot|cold|float)/i,/(?:small|medium|large|regular|hot|cold|float)\s+(?:for\s+)?(?:all|everything|both|them|those)/i,/(?:small|medium|large|regular|hot|cold|float)\s+(?:please|pls|plz)/i],Qe=[/(?:how\s+much|what'?s\s+the\s+price|price|cost)\s+(?:for|of)?\s*(?:\d+\s+)?(?:of\s+)?(?:that|those|it|them)/i,/(?:how\s+much)\s+(?:is|are|would|will|does|do)\s*(?:\d+\s+)?(?:of\s+)?(?:that|those|it|them)/i,/(?:what\s+does)\s*(?:\d+\s+)?(?:of\s+)?(?:that|those|it|them)\s+cost/i],Ve=Ue.some(et=>et.test(Re)),yt=Qe.some(et=>et.test(Re));let Ht=!1;if(!Ve&&!yt&&(Ht=Y.some(et=>{const ft=et.name.toLowerCase(),ut=Re.trim();return ft===ut||ft.includes(ut)||ut.includes(ft)})),!Ve&&!yt&&!Ht)return console.log("detectOrderFromSuggestion - no confirmation/pricing/direct mention patterns matched"),null;const ze={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,all:"all",everything:"all",both:"all"};let Ge=1;const St=Re.match(/(\d+|one|two|three|four|five|six|seven|eight|nine|ten|all|everything|both)/i);if(St){const et=St[1].toLowerCase();et==="all"?Ge="all":Ge=ze[et]||parseInt(et)||1}const Rt=Re.match(/(small|medium|large|regular|hot|cold|float)/i);let sr=Rt?Rt[1].toLowerCase():null,Ye=null;const pt=Re.match(/(?:the\s+)?(?:first|second|third|fourth|fifth|1st|2nd|3rd|4th|5th|\d+(?:st|nd|rd|th)?)/i);if(pt){let et=0;const ft=pt[0].toLowerCase();if(ft.includes("first")||ft.includes("1st"))et=0;else if(ft.includes("second")||ft.includes("2nd"))et=1;else if(ft.includes("third")||ft.includes("3rd"))et=2;else if(ft.includes("fourth")||ft.includes("4th"))et=3;else if(ft.includes("fifth")||ft.includes("5th"))et=4;else{const ut=parseInt((gt=ft.match(/\d+/))==null?void 0:gt[0]);ut&&(et=ut-1)}et>=0&&et<Y.length&&(Ye=Y[et])}if(!Ye&&Ht&&(Ye=Y.find(et=>{const ft=et.name.toLowerCase(),ut=Re.trim();return ft===ut||ft.includes(ut)||ut.includes(ft)}),console.log("Found direct item mention:",Ye==null?void 0:Ye.name)),!Ye&&Y.length===1&&(Ye=Y[0],(!St&&Ye.suggestedQuantity&&(Re.includes("yes")||Re.includes("ok")||Re.includes("add that")||Re.includes("medium")||Re.includes("large")||Re.includes("small")||Re.includes("hot")||Re.includes("cold")||Re.includes("float"))||Ge==="all"&&Ye.suggestedQuantity)&&(Ge=Ye.suggestedQuantity),!Rt&&Ye.suggestedSize&&(sr=Ye.suggestedSize)),!Ye&&Y.length>1)return{type:"clarification",message:"Which item would you like? Please specify by number (e.g., 'the first one' or 'number 2')."};if(Ye){const et=Ye.fullItem||u.find(ft=>ft.name===Ye.name);if(et&&et.pricing){const ft=Object.keys(et.pricing);let ut=sr,tr=Ge;return(Rt&&!St&&Ye.suggestedQuantity||Ge==="all"&&Ye.suggestedQuantity)&&(tr=Ye.suggestedQuantity),tr==="all"&&(tr=1),!ut&&ft.length>0&&(ut=ft[0]),ft.includes(ut)||(ut=ft[0]),{type:yt?"pricing":"order",item:et,itemName:Ye.name,quantity:tr,size:ut,availableSizes:ft,pricing:et.pricing}}}return null},Me=(Be,Re)=>{var Rt,sr,Ye;const Ue=Be.toLowerCase(),Qe={small:["small","sm","s","smol","smaller"],medium:["medium","med","m","middle","mid","regular"],large:["large","lg","l","big","biggest","grande"],regular:["regular","reg","normal","standard"],hot:["hot","heated","warm"],cold:["cold","iced","ice","cool","chilled"],float:["float","floating"]},Ve=[],yt=[],Ht=Be.match(/\d+/g),ze=Ht?parseInt(Ht[0],10):null,Ge=Ue.includes("all")||Ue.includes("everything")||Ue.includes("both")||Ue.includes("each");console.log(`Size selection input: "${Be}", detected quantity: ${ze}, all indicator: ${Ge}`);for(const pt of Re){if(!pt.needsSizeSelection){Ve.push(pt);continue}let gt=null;const et=pt.availableSizes.map(ut=>ut.toLowerCase());for(const ut of Ue.split(/\s+/)){const tr=ut.toLowerCase().trim();if(tr){const Kt=et.findIndex(Ct=>Ct===tr||Ct.replace(/[()]/g,"")===tr);if(Kt>=0){gt=pt.availableSizes[Kt];break}}}if(!gt)for(const[ut,tr]of Object.entries(Qe)){const Kt=pt.availableSizes.find(Ct=>Ct.toLowerCase()===ut.toLowerCase()||Ct.toLowerCase().includes(ut.toLowerCase()));if(Kt&&tr.some(Ct=>Ue.includes(Ct))){gt=Kt;break}}!gt&&pt.availableSizes.length===1&&(gt=pt.availableSizes[0]);let ft=pt.quantity;if((typeof ft!="number"||isNaN(ft))&&(ft=parseInt(ft,10)||1),ze!==null&&(ft=ze),console.log(`Processing item: ${(Rt=pt.menuItem)==null?void 0:Rt.name}, original quantity: ${pt.quantity}, final quantity: ${ft}`),gt)console.log(`Found size match: "${gt}" for ${(sr=pt.menuItem)==null?void 0:sr.name}`),Ve.push({...pt,size:gt,quantity:ft,needsSizeSelection:!1});else if(Ue.includes("medium")||Ue.includes("med")||Ue.includes("m")){const ut=pt.availableSizes.find(tr=>tr.toLowerCase()==="medium"||tr.toLowerCase().includes("medium")||tr.toLowerCase().includes("med")||tr==="Medium"||tr==="M"||tr.includes("(M)"));ut?(console.log(`Using medium size: "${ut}" for ${(Ye=pt.menuItem)==null?void 0:Ye.name}`),Ve.push({...pt,size:ut,quantity:ft,needsSizeSelection:!1})):yt.push(pt)}else yt.push(pt)}return yt.length===0?{success:!0,items:Ve}:{success:!1,message:`I still need to know the sizes for:

${yt.map(pt=>{const gt=pt.availableSizes.map(et=>`${et} (${pt.menuItem.pricing[et]})`).join(", ");return`For ${pt.quantity} ${pt.menuItem.name}: ${gt}`}).join(`
`)}

Please specify the sizes.`}},bt=async Be=>{var Rt,sr;if(Be.preventDefault(),!a.trim())return;const Re=Date.now(),Ue=Re-x.current;if(Ue<1500){const Ye=(1500-Ue)/1e3;v(`Just a moment... (${Ye.toFixed(1)}s)`),l(!0),setTimeout(()=>{l(!1),v("")},1500-Ue);return}x.current=Re;const Qe=zu(a);Qe!==j&&(console.log(`Language changed from ${j} to ${Qe}`),_(Qe));const Ve={id:e(),text:a,sender:"user",timestamp:new Date};n(Ye=>[...Ye,Ve]),s(""),l(!0),a.toLowerCase();const yt=[/(.+?)\s+what\s+drinks?\s+(?:you\s+have\s+)?(?:to\s+)?partner\s+(?:it\s+)?with/i,/(.+?)\s+what\s+beverages?\s+(?:you\s+have\s+)?(?:to\s+)?partner\s+(?:it\s+)?with/i,/(.+?)\s+what\s+drinks?\s+(?:go\s+with|goes\s+with)/i,/(.+?)\s+what\s+drinks?\s+(?:pair\s+with|pairs\s+with)/i,/what\s+drinks?\s+(?:go\s+with|pair\s+with)\s+(.+)/i];let Ht=null;for(const Ye of yt){const pt=a.match(Ye);if(pt){Ht=pt[1].trim(),console.log("Detected pairing question for:",Ht),q({mainItem:Ht,timestamp:Date.now()});break}}const ze=[...r,Ve].slice(-5).filter(Ye=>Ye.sender==="user"||Ye.sender==="bot").map(Ye=>({role:Ye.sender==="user"?"user":"assistant",content:Ye.text})),Ge=Ve.text.toLowerCase();let St=!1;if(N&&N.length>0)if(N.some(pt=>pt.needsSizeSelection)){const pt=Me(Ge,N);if(pt.success){St=!0;const gt=T.length===0;for(const ft of pt.items){const ut=typeof ft.quantity=="number"?ft.quantity:parseInt(ft.quantity,10)||1;console.log(`From size selection, adding ${ut}x ${ft.menuItem.name} (${ft.size})`),we(ft.menuItem,ft.size,ut)}const et=pt.items.map(ft=>`${typeof ft.quantity=="number"?ft.quantity:parseInt(ft.quantity,10)||1} ${ft.menuItem.name} (${ft.size})`);gt&&he(Ve),n(ft=>[...ft,{id:e(),text:`Added ${et.join(", ")} to your order. Would you like anything else?`,sender:"bot",timestamp:new Date}]),O(null),l(!1);return}else{n(gt=>[...gt,{id:e(),text:pt.message,sender:"bot",timestamp:new Date}]),l(!1);return}}else{const pt=["yes","yeah","yep","correct","right","sure","ok","okay","confirm"],gt=["no","nope","wrong","incorrect","cancel"],et=pt.some(ut=>Ge.includes(ut)),ft=gt.some(ut=>Ge.includes(ut));if(et){Jt(!0);return}else if(ft){Jt(!1);return}}if(!St&&Y.length>0){console.log("Checking suggestions for input:",Ge,"Recent items:",Y.length);const Ye=Ke(Ge);if(Ye){if(console.log("Suggestion order detected:",Ye.type),Ye.type==="clarification"){n(pt=>[...pt,{id:e(),text:Ye.message,sender:"bot",timestamp:new Date}]),l(!1);return}else if(Ye.type==="pricing"){const{item:pt,itemName:gt,quantity:et,availableSizes:ft}=Ye;if(ft.length>1){const ut=ft.map(Kt=>`${Kt}: ${pt.pricing[Kt]}`).join(", "),tr=ft.map(Kt=>`${et} ${Kt}: ${pt.pricing[Kt]*et}`).join(", ");n(Kt=>[...Kt,{id:e(),text:`Our ${gt} pricing: ${ut}. For ${et} pieces: ${tr}. Which size would you like?`,sender:"bot",timestamp:new Date}])}else{const ut=ft[0],tr=pt.pricing[ut],Kt=tr*et,Ct=[{name:pt.name,price:`${tr}`,description:pt.description||"",image:pt.image||"",category:pt.category||"",fullItem:pt,suggestedQuantity:et,suggestedSize:ut}];ee(Ct),z(Date.now()),n($r=>[...$r,{id:e(),text:`${et} ${gt} (${ut}) would be ${Kt} (${tr} each). Would you like to add this to your order?`,sender:"bot",timestamp:new Date}])}l(!1);return}else if(Ye.type==="order"){const{item:pt,itemName:gt,quantity:et,size:ft}=Ye;let ut=ft,tr=0;if(pt.pricing){const Kt=Object.keys(pt.pricing);!ut&&Kt.length>0&&(ut=Kt[0]),tr=pt.pricing[ut]||0;const Ct=T.length===0;we(pt,ut,et);let $r=!1;if(L&&L.timestamp&&Date.now()-L.timestamp<3e5){const lr=u.find(cr=>cr.name.toLowerCase().includes(L.mainItem.toLowerCase())||L.mainItem.toLowerCase().includes(cr.name.toLowerCase()));if(lr&&!T.some(cr=>cr.name===lr.name)){console.log("Adding main item from pairing context:",lr.name);const cr=lr.pricing?Object.keys(lr.pricing)[0]:"base";we(lr,cr,1),$r=!0}q(null)}Ct&&he(Ve);const qr=$r?`Added ${et} ${gt} (${ut}) and 1 ${(L==null?void 0:L.mainItem)||"main dish"} to your order. Perfect pairing! Would you like anything else?`:`Added ${et} ${gt} (${ut}) to your order. That's ${tr*et}. Would you like anything else?`;n(lr=>[...lr,{id:e(),text:qr,sender:"bot",timestamp:new Date}]),ee([])}l(!1);return}}}try{const Ye=await owe(Ve.text,u,ze,Qe);if(Ye.hasOrderIntent&&((Rt=Ye.items)==null?void 0:Rt.length)>0){const pt=Ye.items.filter(et=>et.needsSizeSelection),gt=Ye.items.filter(et=>!et.needsSizeSelection&&(et.confidence==="high"||et.confidence==="medium"));if(pt.length>0){const et=pt.map(ft=>{const ut=ft.availableSizes.map(tr=>`${tr} (${ft.menuItem.pricing[tr]})`).join(", ");return`For ${ft.quantity} ${ft.menuItem.name}: ${ut}`}).join(`
`);n(ft=>[...ft,{id:e(),text:`I'd be happy to add those items to your order! Just need to know which sizes you'd prefer:

${et}

Please let me know your size preferences.`,sender:"bot",timestamp:new Date}]);for(const ft of gt){const{menuItem:ut}=ft;let tr=ft.quantity;typeof tr!="number"&&(tr=parseInt(tr,10)||1);let Kt=ft.size;if(Kt&&ut.pricing){const Ct=Object.keys(ut.pricing);let $r=Ct.find(qr=>qr.toLowerCase()===Kt.toLowerCase());$r||($r=Ct.find(qr=>qr.toLowerCase().includes(Kt.toLowerCase())||Kt.toLowerCase().includes(qr.toLowerCase().replace(/[()\s]/g,"")))),$r&&(Kt=$r)}we(ut,Kt,tr,!1)}O(pt),l(!1),St=!0}else if(gt.length>0){for(const Kt of gt){const{menuItem:Ct}=Kt;let $r=Kt.quantity;typeof $r!="number"&&($r=parseInt($r,10)||1);let qr=Kt.size;if(qr&&Ct.pricing){const lr=Object.keys(Ct.pricing);let cr=lr.find(Zt=>Zt.toLowerCase()===qr.toLowerCase());cr||(cr=lr.find(Zt=>Zt.toLowerCase().includes(qr.toLowerCase())||qr.toLowerCase().includes(Zt.toLowerCase().replace(/[()\s]/g,"")))),cr&&(qr=cr)}console.log(`From AI intent detection, adding ${$r}x ${Ct.name} (${qr})`),we(Ct,qr,$r)}let et=!1,ft="";if(L&&L.timestamp&&Date.now()-L.timestamp<3e5){const Kt=u.find(Ct=>Ct.name.toLowerCase().includes(L.mainItem.toLowerCase())||L.mainItem.toLowerCase().includes(Ct.name.toLowerCase()));if(Kt&&!T.some(Ct=>Ct.name===Kt.name)){console.log("Adding main item from pairing context (AI path):",Kt.name);const Ct=Kt.pricing?Object.keys(Kt.pricing)[0]:"base";we(Kt,Ct,1),et=!0,ft=Kt.name}q(null)}T.length===0&&he(Ve);const ut=gt.map(Kt=>{let Ct=Kt.quantity;return typeof Ct!="number"&&(Ct=parseInt(Ct,10)||1),`${Ct} ${Kt.menuItem.name} (${Kt.size})`}),tr=et?`Added ${ut.join(", ")} and 1 ${ft} to your order. Perfect pairing! Would you like anything else?`:`Added ${ut.join(", ")} to your order. Would you like anything else?`;n(Kt=>[...Kt,{id:e(),text:tr,sender:"bot",timestamp:new Date}]),l(!1),St=!0}else if(Ye.items.length>0){O(Ye.items);const et=Ye.items.map(ft=>`${ft.quantity}  ${ft.menuItem.name} (${ft.size||"size to be specified"})`).join(`
`);n(ft=>[...ft,{id:e(),text:`I think you want to order:
${et}

Is that correct? Please confirm.`,sender:"bot",timestamp:new Date,type:"order-confirmation-request"}]),l(!1),St=!0}}}catch(Ye){console.error("Error in AI order detection:",Ye)}if(Ge.includes("show")&&(Ge.includes("cart")||Ge.includes("order"))){se(),St=!0;return}else if(Ge.includes("place order")||Ge.includes("checkout")){Et(),St=!0;return}else if(Ge.includes("where")&&Ge.includes("order")){nt(),St=!0;return}else if((Ge.includes("clear")||Ge.includes("cancel"))&&Ge.includes("order")){ye(),St=!0;return}else if(Ge.includes("menu")){B.current&&B.current.abort(),B.current=new AbortController;const Ye=await fe(Ve.text,ze,B.current.signal);if(Ye===null)return;n(gt=>[...gt,{id:e(),text:Ye,sender:"bot",timestamp:new Date}]);const pt={id:e(),text:"",sender:"bot",type:"menu-items",items:u.map(gt=>({name:gt.name,price:gt.pricing?""+Object.values(gt.pricing)[0]:"",description:gt.description||"",image:gt.image||""})),timestamp:new Date};n(gt=>[...gt,pt]),l(!1),St=!0}else if(Ge.includes("coffee")){const Ye=u.filter(pt=>pt.category==="Beverages"&&pt.subCategory==="Coffee").map(pt=>({name:pt.name,prices:pt.pricing?Object.entries(pt.pricing).map(([gt,et])=>({size:gt,price:`${et}`})):[],description:pt.description||"",image:pt.image||""}));if(Ye.length===0)n(pt=>[...pt,{id:e(),text:"We currently don't have coffee items available. Please check back later!",sender:"bot",timestamp:new Date}]),l(!1),St=!0;else{B.current&&B.current.abort(),B.current=new AbortController;const pt=await fe(Ve.text,ze,B.current.signal);if(pt===null)return;n(gt=>[...gt,{id:e(),text:pt,sender:"bot",timestamp:new Date},{id:e(),text:"",sender:"bot",type:"menu-items",items:Ye,timestamp:new Date}]),l(!1),St=!0}}if(!St)try{let Ye=Ve.text;const pt=new Date().getHours();if(pt>=6&&pt<11&&!Ye.toLowerCase().includes("breakfast")&&!Ye.toLowerCase().includes("morning")?Ye=`[Context: Morning time] ${Ye}`:pt>=11&&pt<15&&!Ye.toLowerCase().includes("lunch")?Ye=`[Context: Lunch time] ${Ye}`:pt>=17&&pt<21&&!Ye.toLowerCase().includes("dinner")&&(Ye=`[Context: Dinner time] ${Ye}`),U.length>0){const qr=U[U.length-1].items.map(lr=>lr.name).filter((lr,cr,Zt)=>Zt.indexOf(lr)===cr);qr.length>0&&(Ye.toLowerCase().includes("recommend")||Ye.toLowerCase().includes("suggest")||Ye.toLowerCase().includes("like"))&&(Ye=`[Context: Customer previously ordered ${qr.join(", ")}] ${Ye}`)}console.log("Enhanced input with context:",Ye),B.current&&B.current.abort(),B.current=new AbortController;const gt=await fe(Ye,ze,B.current.signal);if(gt===null)return;const et=Ye.toLowerCase().includes("recommend")||Ye.toLowerCase().includes("suggest")||Ye.toLowerCase().includes("menu")||Ye.toLowerCase().includes("what")&&Ye.toLowerCase().includes("have"),ft=qr=>{const lr=[],cr=qr.toLowerCase();return console.log("AI Response Text:",qr),console.log("Lowercase Response:",cr),u.forEach(Zt=>{const mr=Zt.name.toLowerCase();cr.includes(mr)&&(console.log(`Found mentioned item: ${Zt.name}`),lr.push({name:Zt.name,price:Zt.pricing?""+Object.values(Zt.pricing)[0]:"",description:Zt.description||"",image:Zt.image||"",category:Zt.category||"",fullItem:Zt}))}),console.log("Total mentioned items found:",lr.length),lr},ut=ft(gt);let tr=!1;const Kt=Ye.toLowerCase().includes("recommend")||Ye.toLowerCase().includes("suggest"),Ct=Ye.toLowerCase().includes("what")&&Ye.toLowerCase().includes("have");ut.length>0?(console.log("AI mentioned specific items:",ut.map(qr=>qr.name)),ee(ut),z(Date.now()),Kt||Ct?(console.log("Request with mentioned items - will show enhanced carousel"),tr=!1):tr=!0):Kt||Ct?(console.log("Menu browsing request detected - will show menu carousel for easier browsing"),tr=!1):console.log("No mentioned items found in AI response");const $r={id:e(),text:gt,sender:"bot",timestamp:new Date};if(n(qr=>[...qr,$r]),console.log("Menu card conditions:",{shouldShowMenuItems:et,staticResponseSent:St,shouldShowCarousel:tr,finalCondition:et&&!St&&!tr}),et&&!St&&!tr){console.log("Second system triggered - showing menu carousel because shouldShowCarousel is false");const qr=ft(gt);console.log("AI mentioned items for carousel:",qr.map(Zt=>Zt.name));const lr=Ye.toLowerCase();let cr=[];if(lr.includes("drink")||lr.includes("beverage")||lr.includes("thirsty"))cr=availableItems.filter(Zt=>Zt.category==="Beverages");else if(lr.includes("food")||lr.includes("meal")||lr.includes("hungry"))cr=availableItems.filter(Zt=>Zt.category==="Food");else if(lr.includes("dessert")||lr.includes("sweet"))cr=availableItems.filter(Zt=>Zt.category==="Desserts");else if(lr.includes("hot")||lr.includes("warm"))cr=availableItems.filter(Zt=>Zt.category==="Beverages"&&(Zt.name.toLowerCase().includes("iced")||Zt.name.toLowerCase().includes("cold"))||Zt.category==="Desserts");else if(lr.includes("cold"))cr=availableItems.filter(Zt=>Zt.category==="Beverages"&&(Zt.name.toLowerCase().includes("hot")||Zt.subCategory==="Coffee")||Zt.category==="Food"&&Zt.subCategory==="Main Dishes");else if(lr.includes("recommend")||lr.includes("suggest")||lr.includes("what")&&lr.includes("have")){console.log("Building diverse menu carousel for browsing request"),qr.length>0&&(cr=[...qr.map(mr=>mr.fullItem||mr)],console.log("Added mentioned items to carousel first:",cr.map(mr=>mr.name)));let Zt=null;if(lr.includes("drink")||lr.includes("beverage")?Zt="Beverages":(lr.includes("food")||lr.includes("meal"))&&(Zt="Meals"),Zt){console.log(`Filtering for category: ${Zt}`);const mr=availableItems.filter(Ur=>Ur.category===Zt&&!cr.some(Vr=>Vr.name===Ur.name)),on=mr.sort(()=>.5-Math.random()).slice(0,Math.min(6-cr.length,mr.length));cr.push(...on)}else{const mr=[...new Set(availableItems.map(Ur=>Ur.category))],on=1;for(const Ur of mr){if(cr.length>=6)break;const Vr=availableItems.filter(dn=>dn.category===Ur&&!cr.some(Yn=>Yn.name===dn.name));if(Vr.length>0){const dn=Vr.sort(()=>.5-Math.random()).slice(0,Math.min(on,Vr.length));cr.push(...dn)}}}}else if(((sr=f==null?void 0:f.topItems)==null?void 0:sr.length)>0){const Zt=f.topItems.map(mr=>mr.name);cr=availableItems.filter(mr=>Zt.includes(mr.name))}else{const Zt=[...new Set(availableItems.map(mr=>mr.category))];for(const mr of Zt){const on=availableItems.filter(Ur=>Ur.category===mr);if(on.length>0){const Ur=on.sort(()=>.5-Math.random()).slice(0,Math.min(2,on.length));cr.push(...Ur)}}}if(cr=cr.slice(0,Math.min(6,cr.length)),console.log("Building carousel with",cr.length,"items:",cr.map(Zt=>Zt.name)),cr.length>0){const Zt=cr.map(mr=>({name:mr.name,price:mr.pricing?""+Object.values(mr.pricing)[0]:"",description:mr.description||"",image:mr.image||"",category:mr.category||"",fullItem:mr}));console.log("Carousel items prepared:",Zt.map(mr=>mr.name)),ee(Zt),z(Date.now()),setTimeout(()=>{console.log("Adding menu carousel to messages");const mr={id:e(),text:"",sender:"bot",type:"menu-items",items:Zt,timestamp:new Date};n(on=>[...on,mr])},800)}else console.log("No relevant items found for carousel")}}catch(Ye){console.error("Error getting AI response:",Ye),n(pt=>[...pt,{id:e(),text:"I'm sorry, I'm having trouble processing your request right now. Please try again later.",sender:"bot",timestamp:new Date}])}finally{l(!1)}},Jt=Be=>{if(!(!N||N.length===0)){if(Be){for(const Ue of N){const{menuItem:Qe}=Ue;let Ve=Ue.quantity;typeof Ve!="number"&&(Ve=parseInt(Ve,10)||1);let yt=Ue.size;if(yt&&Qe.pricing){const ze=Object.keys(Qe.pricing).find(Ge=>Ge.toLowerCase()===yt.toLowerCase());ze&&(yt=ze)}console.log(`From order confirmation, adding ${Ve}x ${Qe.name} (${yt||"default size"})`),we(Qe,yt||"medium",Ve)}const Re=N.map(Ue=>{let Qe=Ue.quantity;return typeof Qe!="number"&&(Qe=parseInt(Qe,10)||1),`${Qe} ${Ue.menuItem.name} (${Ue.size||"medium"})`});n(Ue=>[...Ue,{id:e(),text:`Great! I've added ${Re.join(", ")} to your order.`,sender:"bot",timestamp:new Date}])}else n(Re=>[...Re,{id:e(),text:"No problem. What would you like to order instead?",sender:"bot",timestamp:new Date}]);O(null),ee([])}},Vt=Be=>{s(Be)};return i.jsxs("div",{className:"flex flex-col h-screen",style:{backgroundColor:Ze.background},children:[i.jsxs("header",{className:"flex items-center justify-between p-4 border-b",style:{backgroundColor:Ze.primary,borderColor:Ze.muted},children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(t,{}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold",style:{color:Ze.background},children:"Caf Assistant"}),i.jsx("p",{className:"text-xs",style:{color:Ze.muted},children:"Powered by Ring & Wing"})]}),"        "]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center relative",children:[i.jsx("span",{className:"h-3 w-3 rounded-full mr-1 absolute -left-5",style:{backgroundColor:"#4ade80",animation:"ping 1.5s cubic-bezier(0, 0, 0.2, 1) infinite"}}),i.jsx("span",{className:"text-sm",style:{color:Ze.background},children:"Online"})]})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.map(Be=>i.jsxs("div",{className:`flex mb-4 items-start ${Be.sender==="user"?"justify-end":"justify-start"}`,children:[Be.sender==="bot"&&i.jsx(t,{}),i.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 ${Be.sender==="user"?"rounded-tr-none":"rounded-tl-none"}`,style:{backgroundColor:Be.sender==="user"?Ze.accent:Ze.muted+"30",color:Be.sender==="user"?Ze.background:Ze.primary},children:[i.jsx("p",{style:{whiteSpace:"pre-wrap"},children:Be.text}),"                ",Be.type==="menu-items"&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("h3",{className:"font-medium text-sm",style:{color:Ze.primary},children:"Menu Items"}),i.jsxs("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:Ze.accent+"20",color:Ze.accent},children:[Be.items.length," items"]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"overflow-x-scroll pb-4 hide-scrollbar",style:{scrollBehavior:"smooth",WebkitOverflowScrolling:"touch"},children:i.jsx("div",{className:"flex space-x-3",style:{width:`${Be.items.length*220}px`},children:Be.items.map((Re,Ue)=>i.jsxs("div",{className:"w-52 rounded-lg overflow-hidden shadow-md flex-shrink-0 transition-all hover:shadow-lg",style:{backgroundColor:Ze.background,border:`1px solid ${Ze.muted}30`,transform:"scale(1)",transition:"all 0.2s ease",scrollSnapAlign:"start"},children:[i.jsxs("div",{className:"h-32 overflow-hidden relative",children:[i.jsx(VE,{image:Re.image,category:Re.category,alt:Re.name,size:"100%",className:"w-full h-full"}),i.jsx("div",{className:"absolute top-0 right-0 m-2 px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:Ze.accent,color:Ze.background},children:Re.price})]}),i.jsxs("div",{className:"p-3",children:[i.jsx("h4",{className:"font-semibold truncate",style:{color:Ze.primary},children:Re.name}),i.jsx("p",{className:"text-xs mt-1 h-8 overflow-hidden",style:{color:Ze.secondary},children:Re.description||"No description available"}),"                                ",i.jsx("button",{onClick:()=>ke(Re,Re.suggestedQuantity||1),className:"w-full mt-2 py-1.5 text-sm font-medium rounded-md transition-all",style:{backgroundColor:Ze.accent,color:Ze.background,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Add to Order"})]})]},`menu-item-${Ue}-${Re.name}`))})}),i.jsx("button",{className:"absolute top-1/2 -left-4 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-white shadow-lg cursor-pointer hover:bg-gray-50 border border-gray-200 z-10",onClick:Re=>{const Ue=Re.currentTarget.parentElement.querySelector(".overflow-x-scroll");Ue.scrollLeft-=220},children:i.jsx(Y9,{className:"w-5 h-5 text-gray-600"})}),i.jsx("button",{className:"absolute top-1/2 -right-4 transform -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full bg-white shadow-lg cursor-pointer hover:bg-gray-50 border border-gray-200 z-10",onClick:Re=>{const Ue=Re.currentTarget.parentElement.querySelector(".overflow-x-scroll");Ue.scrollLeft+=220},children:i.jsx(ud,{className:"w-5 h-5 text-gray-600"})})]})]}),Be.type==="order-confirmation"&&i.jsxs("div",{className:"mt-3 p-3 rounded-lg border",style:{backgroundColor:Ze.accent+"10",borderColor:Ze.accent+"30"},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 font-medium",style:{color:Ze.accent},children:[i.jsx(_y,{}),i.jsx("span",{children:"Order Confirmed!"})]}),i.jsxs("p",{className:"text-sm mb-2",style:{color:Ze.primary},children:["Order #",Be.order.id]}),i.jsxs("div",{className:"text-xs",style:{color:Ze.secondary},children:[i.jsxs("p",{children:[" ",Be.order.items.length," items"]}),i.jsxs("p",{children:[" Total: ",Be.order.total.toFixed(2)]}),i.jsxs("p",{children:[" Estimated ready in ",Be.order.estimatedMinutes," mins"]})]})]}),Be.type==="order-status"&&i.jsxs("div",{className:"mt-3 p-3 rounded-lg border",style:{backgroundColor:Be.status==="ready"?"#d1e7dd":Be.status==="preparing"?"#fff3cd":Ze.muted+"20",borderColor:Be.status==="ready"?"#badbcc":Be.status==="preparing"?"#ffecb5":Ze.muted},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 font-medium",style:{color:Be.status==="ready"?"#0f5132":Be.status==="preparing"?"#856404":Ze.primary},children:[Be.status==="ready"?i.jsx(_y,{}):i.jsx(Es,{}),i.jsxs("span",{children:["Order #",Be.order.id]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:Be.status==="ready"?"#0f5132":Be.status==="preparing"?"#856404":Ze.accent}}),i.jsx("span",{className:"text-sm uppercase",style:{color:Be.status==="ready"?"#0f5132":Be.status==="preparing"?"#856404":Ze.primary},children:Be.status})]}),i.jsx("span",{className:"text-xs",style:{color:Ze.secondary},children:new Date(Be.order.updatedAt).toLocaleTimeString()})]}),i.jsxs("div",{className:"text-xs space-y-1",style:{color:Ze.secondary},children:[Be.order.items.slice(0,2).map((Re,Ue)=>i.jsxs("p",{children:[" ",Re.quantity," ",Re.name]},Ue)),Be.order.items.length>2&&i.jsxs("p",{children:[" ...and ",Be.order.items.length-2," more item(s)"]})]})]}),i.jsx("p",{className:"text-xs mt-1",style:{color:Be.sender==="user"?"#fefdfd":Ze.primary+"aa",textAlign:Be.sender==="user"?"right":"left"},children:Be.timestamp.toLocaleTimeString("en-PH",{hour:"numeric",minute:"2-digit",hour12:!0})})]})]},Be.id)),o&&i.jsxs("div",{className:"flex mb-4 justify-start items-center",children:[i.jsx(t,{}),i.jsx("div",{className:"rounded-lg rounded-tl-none px-4 py-2 flex items-center",style:{backgroundColor:Ze.muted+"30",animation:g?"none":"pulse 1.5s cubic-bezier(0, 0, 0.6, 1) infinite",minWidth:"80px"},children:g?i.jsx("span",{className:"italic text-sm",style:{color:Ze.muted},children:g}):i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ze.accent}}),i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ze.accent}}),i.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:Ze.accent}})]})})]})]}),i.jsx("div",{ref:p})]}),i.jsx(re,{}),i.jsx(Oe,{}),"      ",i.jsx("div",{className:"px-4 pb-2",children:i.jsx("div",{className:"max-w-3xl mx-auto flex flex-wrap gap-2",children:G.map(Be=>i.jsx("button",{onClick:()=>Vt(Be.text),className:"suggestion-btn",style:{backgroundColor:Ze.muted+"20",color:Ze.primary,border:`1px solid ${Ze.muted}`},children:Be.text},Be.id))})}),i.jsxs("form",{onSubmit:bt,className:"p-4 border-t",style:{borderColor:Ze.muted},children:[i.jsxs("div",{className:"max-w-3xl mx-auto flex",children:["          ",i.jsx("input",{type:"text",value:a,onChange:Be=>s(Be.target.value),placeholder:"Type your message or choose a suggestion below...",className:"chat-input",style:{backgroundColor:Ze.background,border:`1px solid ${Ze.muted}`,color:Ze.primary}}),i.jsx("button",{type:"submit",disabled:!a.trim()||o,className:`send-button ${b?"processing":""}`,style:{backgroundColor:Ze.accent,color:Ze.background,opacity:!a.trim()||o?.7:1,cursor:!a.trim()||o?"not-allowed":"pointer"},children:i.jsx(awe,{className:"w-4 h-4"})})]}),"      "]}),i.jsx("style",{children:`
        @keyframes ping {
          0% { transform: scale(1); opacity: 1; }
          100% { transform: scale(2.5); opacity: 0; }
        }
        @keyframes pulse {
          0%, 100% { opacity: 1; }
          50% { opacity: 0.5; }
        }
        .suggestion-btn {
          font-size: 0.875rem;
          padding: 0.25rem 0.75rem;
          border-radius: 9999px;
          transition: all 0.2s ease;
        }
        .suggestion-btn:hover {
          background-color: ${Ze.accent}20 !important;
          border-color: ${Ze.accent} !important;
        }
        .chat-input {
          flex: 1;
          padding: 0.5rem 1rem;
          border-radius: 0.5rem 0 0 0.5rem;
          outline: none;
          transition: all 0.2s ease;
          border-right: none;
        }
        .chat-input:focus {
          border-color: ${Ze.accent};
          box-shadow: 0 0 0 1px ${Ze.accent};
        }
        .send-button {
          padding: 0.5rem 1rem;
          border-radius: 0 0.5rem 0.5rem 0;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          border: none;
          cursor: pointer;
        }
        .send-button:hover:not(:disabled) {
          opacity: 0.9 !important;
        }
        .add-to-order-btn {
          transition: all 0.2s ease;
          margin-top: 0.5rem;
          padding: 0.25rem 0.75rem;
          border-radius: 9999px;
          font-size: 0.75rem;
        }
        .add-to-order-btn:hover {
          background-color: ${Ze.accent}dd !important;
        }
        .hide-scrollbar {
          -ms-overflow-style: none;  /* IE and Edge */
          scrollbar-width: none;  /* Firefox */
        }        .hide-scrollbar::-webkit-scrollbar {
          display: none; /* Chrome, Safari, Opera */
        }
      `})]})}var cb={exports:{}},Awe=cb.exports,QR;function dwe(){return QR||(QR=1,function(e,t){(function(r,n){n()})(Awe,function(){function r(A,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}function n(A,f,h){var p=new XMLHttpRequest;p.open("GET",A),p.responseType="blob",p.onload=function(){u(p.response,f,h)},p.onerror=function(){console.error("could not download file")},p.send()}function a(A){var f=new XMLHttpRequest;f.open("HEAD",A,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cd=="object"&&cd.global===cd?cd:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(A,f,h){var p=o.URL||o.webkitURL,g=document.createElement("a");f=f||A.name||"download",g.download=f,g.rel="noopener",typeof A=="string"?(g.href=A,g.origin===location.origin?s(g):a(g.href)?n(A,f,h):s(g,g.target="_blank")):(g.href=p.createObjectURL(A),setTimeout(function(){p.revokeObjectURL(g.href)},4e4),setTimeout(function(){s(g)},0))}:"msSaveOrOpenBlob"in navigator?function(A,f,h){if(f=f||A.name||"download",typeof A!="string")navigator.msSaveOrOpenBlob(r(A,h),f);else if(a(A))n(A,f,h);else{var p=document.createElement("a");p.href=A,p.target="_blank",setTimeout(function(){s(p)})}}:function(A,f,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof A=="string")return n(A,f,h);var g=A.type==="application/octet-stream",v=/constructor/i.test(o.HTMLElement)||o.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||g&&v||l)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var j=b.result;j=x?j:j.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=j:location=j,p=null},b.readAsDataURL(A)}else{var w=o.URL||o.webkitURL,B=w.createObjectURL(A);p?p.location=B:location.href=B,p=null,setTimeout(function(){w.revokeObjectURL(B)},4e4)}});o.saveAs=u.saveAs=u,e.exports=u})}(cb)),cb.exports}var fwe=dwe();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var KE=function(e,t){return KE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},KE(e,t)};function kc(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");KE(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var GE=function(){return GE=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},GE.apply(this,arguments)};function ao(e,t,r,n){function a(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{A(n.next(f))}catch(h){o(h)}}function u(f){try{A(n.throw(f))}catch(h){o(h)}}function A(f){f.done?s(f.value):a(f.value).then(l,u)}A((n=n.apply(e,[])).next())})}function Hs(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,a,s,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(A){return function(f){return u([A,f])}}function u(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(s=A[0]&2?a.return:A[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,A[1])).done)return s;switch(a=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,a=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){r.label=A[1];break}if(A[0]===6&&r.label<s[1]){r.label=s[1],s=A;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(A);break}s[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(f){A=[6,f],a=0}finally{n=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function fx(e,t,r){if(arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var pA=function(){function e(t,r,n,a){this.left=t,this.top=r,this.width=n,this.height=a}return e.prototype.add=function(t,r,n,a){return new e(this.left+t,this.top+r,this.width+n,this.height+a)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Xw=function(e,t){return pA.fromClientRect(e,t.getBoundingClientRect())},hwe=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),a=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new pA(0,0,n,a)},Jw=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},gi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},HR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mwe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hx=0;hx<HR.length;hx++)mwe[HR.charCodeAt(hx)]=hx;var $R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mx=0;mx<$R.length;mx++)qg[$R.charCodeAt(mx)]=mx;var pwe=function(e){var t=e.length*.75,r=e.length,n,a=0,s,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)s=qg[e.charCodeAt(n)],o=qg[e.charCodeAt(n+1)],l=qg[e.charCodeAt(n+2)],u=qg[e.charCodeAt(n+3)],f[a++]=s<<2|o>>4,f[a++]=(o&15)<<4|l>>2,f[a++]=(l&3)<<6|u&63;return A},gwe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},ywe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Mf=5,L_=11,WS=2,vwe=L_-Mf,KV=65536>>Mf,xwe=1<<Mf,YS=xwe-1,bwe=1024>>Mf,wwe=KV+bwe,Cwe=wwe,Bwe=32,jwe=Cwe+Bwe,Swe=65536>>L_,Nwe=1<<vwe,Ewe=Nwe-1,zR=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},kwe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},_we=function(e,t){var r=pwe(e),n=Array.isArray(r)?ywe(r):new Uint32Array(r),a=Array.isArray(r)?gwe(r):new Uint16Array(r),s=24,o=zR(a,s/2,n[4]/2),l=n[5]===2?zR(a,(s+n[4])/2):kwe(n,Math.ceil((s+n[4])/4));return new Twe(n[0],n[1],n[2],n[3],o,l)},Twe=function(){function e(t,r,n,a,s,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Mf],r=(r<<WS)+(t&YS),this.data[r];if(t<=65535)return r=this.index[KV+(t-55296>>Mf)],r=(r<<WS)+(t&YS),this.data[r];if(t<this.highStart)return r=jwe-Swe+(t>>L_),r=this.index[r],r+=t>>Mf&Ewe,r=this.index[r],r=(r<<WS)+(t&YS),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),qR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Owe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var px=0;px<qR.length;px++)Owe[qR.charCodeAt(px)]=px;var Fwe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",VR=50,Pwe=1,GV=2,WV=3,Lwe=4,Uwe=5,KR=7,YV=8,GR=9,fd=10,WE=11,WR=12,YE=13,Iwe=14,Vg=15,XE=16,gx=17,Og=18,Dwe=19,YR=20,JE=21,Fg=22,XS=23,$h=24,Ko=25,Kg=26,Gg=27,zh=28,Mwe=29,vf=30,Rwe=31,yx=32,vx=33,ZE=34,ek=35,tk=36,g0=37,rk=38,ub=39,Ab=40,JS=41,XV=42,Qwe=43,Hwe=[9001,65288],JV="!",On="",xx="",nk=_we(Fwe),qu=[vf,tk],ak=[Pwe,GV,WV,Uwe],ZV=[fd,YV],XR=[Gg,Kg],$we=ak.concat(ZV),JR=[rk,ub,Ab,ZE,ek],zwe=[Vg,YE],qwe=function(e,t){t===void 0&&(t="strict");var r=[],n=[],a=[];return e.forEach(function(s,o){var l=nk.get(s);if(l>VR?(a.push(!0),l-=VR):a.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(o),r.push(XE);if(l===Lwe||l===WE){if(o===0)return n.push(o),r.push(vf);var u=r[o-1];return $we.indexOf(u)===-1?(n.push(n[o-1]),r.push(u)):(n.push(o),r.push(vf))}if(n.push(o),l===Rwe)return r.push(t==="strict"?JE:g0);if(l===XV||l===Mwe)return r.push(vf);if(l===Qwe)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(g0):r.push(vf);r.push(l)}),[n,r,a]},ZS=function(e,t,r,n){var a=n[r];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=r;s<=n.length;){s++;var o=n[s];if(o===t)return!0;if(o!==fd)break}if(a===fd)for(var s=r;s>0;){s--;var l=n[s];if(Array.isArray(e)?e.indexOf(l)!==-1:e===l)for(var u=r;u<=n.length;){u++;var o=n[u];if(o===t)return!0;if(o!==fd)break}if(l!==fd)break}return!1},ZR=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===fd)r--;else return n}return 0},Vwe=function(e,t,r,n,a){if(r[n]===0)return On;var s=n-1;if(Array.isArray(a)&&a[s]===!0)return On;var o=s-1,l=s+1,u=t[s],A=o>=0?t[o]:0,f=t[l];if(u===GV&&f===WV)return On;if(ak.indexOf(u)!==-1)return JV;if(ak.indexOf(f)!==-1||ZV.indexOf(f)!==-1)return On;if(ZR(s,t)===YV)return xx;if(nk.get(e[s])===WE||(u===yx||u===vx)&&nk.get(e[l])===WE||u===KR||f===KR||u===GR||[fd,YE,Vg].indexOf(u)===-1&&f===GR||[gx,Og,Dwe,$h,zh].indexOf(f)!==-1||ZR(s,t)===Fg||ZS(XS,Fg,s,t)||ZS([gx,Og],JE,s,t)||ZS(WR,WR,s,t))return On;if(u===fd)return xx;if(u===XS||f===XS)return On;if(f===XE||u===XE)return xx;if([YE,Vg,JE].indexOf(f)!==-1||u===Iwe||A===tk&&zwe.indexOf(u)!==-1||u===zh&&f===tk||f===YR||qu.indexOf(f)!==-1&&u===Ko||qu.indexOf(u)!==-1&&f===Ko||u===Gg&&[g0,yx,vx].indexOf(f)!==-1||[g0,yx,vx].indexOf(u)!==-1&&f===Kg||qu.indexOf(u)!==-1&&XR.indexOf(f)!==-1||XR.indexOf(u)!==-1&&qu.indexOf(f)!==-1||[Gg,Kg].indexOf(u)!==-1&&(f===Ko||[Fg,Vg].indexOf(f)!==-1&&t[l+1]===Ko)||[Fg,Vg].indexOf(u)!==-1&&f===Ko||u===Ko&&[Ko,zh,$h].indexOf(f)!==-1)return On;if([Ko,zh,$h,gx,Og].indexOf(f)!==-1)for(var h=s;h>=0;){var p=t[h];if(p===Ko)return On;if([zh,$h].indexOf(p)!==-1)h--;else break}if([Gg,Kg].indexOf(f)!==-1)for(var h=[gx,Og].indexOf(u)!==-1?o:s;h>=0;){var p=t[h];if(p===Ko)return On;if([zh,$h].indexOf(p)!==-1)h--;else break}if(rk===u&&[rk,ub,ZE,ek].indexOf(f)!==-1||[ub,ZE].indexOf(u)!==-1&&[ub,Ab].indexOf(f)!==-1||[Ab,ek].indexOf(u)!==-1&&f===Ab||JR.indexOf(u)!==-1&&[YR,Kg].indexOf(f)!==-1||JR.indexOf(f)!==-1&&u===Gg||qu.indexOf(u)!==-1&&qu.indexOf(f)!==-1||u===$h&&qu.indexOf(f)!==-1||qu.concat(Ko).indexOf(u)!==-1&&f===Fg&&Hwe.indexOf(e[l])===-1||qu.concat(Ko).indexOf(f)!==-1&&u===Og)return On;if(u===JS&&f===JS){for(var g=r[s],v=1;g>0&&(g--,t[g]===JS);)v++;if(v%2!==0)return On}return u===yx&&f===vx?On:xx},Kwe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=qwe(e,t.lineBreak),n=r[0],a=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(a=a.map(function(l){return[Ko,vf,XV].indexOf(l)!==-1?g0:l}));var o=t.wordBreak==="keep-all"?s.map(function(l,u){return l&&e[u]>=19968&&e[u]<=40959}):void 0;return[n,a,o]},Gwe=function(){function e(t,r,n,a){this.codePoints=t,this.required=r===JV,this.start=n,this.end=a}return e.prototype.slice=function(){return gi.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Wwe=function(e,t){var r=Jw(e),n=Kwe(r,t),a=n[0],s=n[1],o=n[2],l=r.length,u=0,A=0;return{next:function(){if(A>=l)return{done:!0,value:null};for(var f=On;A<l&&(f=Vwe(r,s,a,++A,o))===On;);if(f!==On||A===l){var h=new Gwe(r,f,u,A);return u=A,{value:h,done:!1}}return{done:!0,value:null}}}},Ywe=1,Xwe=2,K0=4,e8=8,L1=10,t8=47,dy=92,Jwe=9,Zwe=32,bx=34,Pg=61,e2e=35,t2e=36,r2e=37,wx=39,Cx=40,Lg=41,n2e=95,Bo=45,a2e=33,i2e=60,s2e=62,o2e=64,l2e=91,c2e=93,u2e=61,A2e=123,Bx=63,d2e=125,r8=124,f2e=126,h2e=128,n8=65533,eN=42,kf=43,m2e=44,p2e=58,g2e=59,y0=46,y2e=0,v2e=8,x2e=11,b2e=14,w2e=31,C2e=127,Xc=-1,eK=48,tK=97,rK=101,B2e=102,j2e=117,S2e=122,nK=65,aK=69,iK=70,N2e=85,E2e=90,qs=function(e){return e>=eK&&e<=57},k2e=function(e){return e>=55296&&e<=57343},qh=function(e){return qs(e)||e>=nK&&e<=iK||e>=tK&&e<=B2e},_2e=function(e){return e>=tK&&e<=S2e},T2e=function(e){return e>=nK&&e<=E2e},O2e=function(e){return _2e(e)||T2e(e)},F2e=function(e){return e>=h2e},jx=function(e){return e===L1||e===Jwe||e===Zwe},U1=function(e){return O2e(e)||F2e(e)||e===n2e},a8=function(e){return U1(e)||qs(e)||e===Bo},P2e=function(e){return e>=y2e&&e<=v2e||e===x2e||e>=b2e&&e<=w2e||e===C2e},id=function(e,t){return e!==dy?!1:t!==L1},Sx=function(e,t,r){return e===Bo?U1(t)||id(t,r):U1(e)?!0:!!(e===dy&&id(e,t))},tN=function(e,t,r){return e===kf||e===Bo?qs(t)?!0:t===y0&&qs(r):qs(e===y0?t:e)},L2e=function(e){var t=0,r=1;(e[t]===kf||e[t]===Bo)&&(e[t]===Bo&&(r=-1),t++);for(var n=[];qs(e[t]);)n.push(e[t++]);var a=n.length?parseInt(gi.apply(void 0,n),10):0;e[t]===y0&&t++;for(var s=[];qs(e[t]);)s.push(e[t++]);var o=s.length,l=o?parseInt(gi.apply(void 0,s),10):0;(e[t]===aK||e[t]===rK)&&t++;var u=1;(e[t]===kf||e[t]===Bo)&&(e[t]===Bo&&(u=-1),t++);for(var A=[];qs(e[t]);)A.push(e[t++]);var f=A.length?parseInt(gi.apply(void 0,A),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,u*f)},U2e={type:2},I2e={type:3},D2e={type:4},M2e={type:13},R2e={type:8},Q2e={type:21},H2e={type:9},$2e={type:10},z2e={type:11},q2e={type:12},V2e={type:14},Nx={type:23},K2e={type:1},G2e={type:25},W2e={type:24},Y2e={type:26},X2e={type:27},J2e={type:28},Z2e={type:29},eCe={type:31},ik={type:32},sK=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Jw(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==ik;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case bx:return this.consumeStringToken(bx);case e2e:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(a8(r)||id(n,a)){var s=Sx(r,n,a)?Xwe:Ywe,o=this.consumeName();return{type:5,value:o,flags:s}}break;case t2e:if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),M2e;break;case wx:return this.consumeStringToken(wx);case Cx:return U2e;case Lg:return I2e;case eN:if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),V2e;break;case kf:if(tN(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case m2e:return D2e;case Bo:var l=t,u=this.peekCodePoint(0),A=this.peekCodePoint(1);if(tN(l,u,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Sx(l,u,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(u===Bo&&A===s2e)return this.consumeCodePoint(),this.consumeCodePoint(),W2e;break;case y0:if(tN(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case t8:if(this.peekCodePoint(0)===eN)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===eN&&(f=this.consumeCodePoint(),f===t8))return this.consumeToken();if(f===Xc)return this.consumeToken()}break;case p2e:return Y2e;case g2e:return X2e;case i2e:if(this.peekCodePoint(0)===a2e&&this.peekCodePoint(1)===Bo&&this.peekCodePoint(2)===Bo)return this.consumeCodePoint(),this.consumeCodePoint(),G2e;break;case o2e:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(Sx(h,p,g)){var o=this.consumeName();return{type:7,value:o}}break;case l2e:return J2e;case dy:if(id(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case c2e:return Z2e;case u2e:if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),R2e;break;case A2e:return z2e;case d2e:return q2e;case j2e:case N2e:var v=this.peekCodePoint(0),x=this.peekCodePoint(1);return v===kf&&(qh(x)||x===Bx)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case r8:if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),H2e;if(this.peekCodePoint(0)===r8)return this.consumeCodePoint(),Q2e;break;case f2e:if(this.peekCodePoint(0)===Pg)return this.consumeCodePoint(),$2e;break;case Xc:return ik}return jx(t)?(this.consumeWhiteSpace(),eCe):qs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):U1(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:gi(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();qh(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Bx&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(gi.apply(void 0,t.map(function(u){return u===Bx?eK:u})),16),s=parseInt(gi.apply(void 0,t.map(function(u){return u===Bx?iK:u})),16);return{type:30,start:a,end:s}}var o=parseInt(gi.apply(void 0,t),16);if(this.peekCodePoint(0)===Bo&&qh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];qh(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var s=parseInt(gi.apply(void 0,l),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Cx?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cx?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===wx||r===bx){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Xc||this.peekCodePoint(0)===Lg)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Nx)}for(;;){var a=this.consumeCodePoint();if(a===Xc||a===Lg)return{type:22,value:gi.apply(void 0,t)};if(jx(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Xc||this.peekCodePoint(0)===Lg?(this.consumeCodePoint(),{type:22,value:gi.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Nx);if(a===bx||a===wx||a===Cx||P2e(a))return this.consumeBadUrlRemnants(),Nx;if(a===dy)if(id(a,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Nx;else t.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;jx(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Lg||t===Xc)return;id(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var a=Math.min(r,t);n+=gi.apply(void 0,this._value.splice(0,a)),t-=a}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var a=this._value[n];if(a===Xc||a===void 0||a===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===L1)return this._value.splice(0,n),K2e;if(a===dy){var s=this._value[n+1];s!==Xc&&s!==void 0&&(s===L1?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):id(a,s)&&(r+=this.consumeStringSlice(n),r+=gi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=K0,n=this.peekCodePoint(0);for((n===kf||n===Bo)&&t.push(this.consumeCodePoint());qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===y0&&qs(a))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=e8;qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===aK||n===rK)&&((a===kf||a===Bo)&&qs(s)||qs(a)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=e8;qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[L2e(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],a=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Sx(a,s,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===r2e?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(qh(t)){for(var r=gi(t);qh(this.peekCodePoint(0))&&r.length<6;)r+=gi(this.consumeCodePoint());jx(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||k2e(n)||n>1114111?n8:n}return t===Xc?n8:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(a8(r))t+=gi(r);else if(id(r,this.peekCodePoint(0)))t+=gi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),oK=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new sK;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||rCe(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ik:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),G0=function(e){return e.type===15},Bp=function(e){return e.type===17},fa=function(e){return e.type===20},tCe=function(e){return e.type===0},sk=function(e,t){return fa(e)&&e.value===t},lK=function(e){return e.type!==31},ap=function(e){return e.type!==31&&e.type!==4},yu=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},rCe=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},Nd=function(e){return e.type===17||e.type===15},Pi=function(e){return e.type===16||Nd(e)},cK=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ns={type:17,number:0,flags:K0},U_={type:16,number:50,flags:K0},hd={type:16,number:100,flags:K0},Wg=function(e,t,r){var n=e[0],a=e[1];return[ja(n,t),ja(typeof a<"u"?a:n,r)]},ja=function(e,t){if(e.type===16)return e.number/100*t;if(G0(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},uK="deg",AK="grad",dK="rad",fK="turn",Zw={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case uK:return Math.PI*t.number/180;case AK:return Math.PI/200*t.number;case dK:return t.number;case fK:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},hK=function(e){return e.type===15&&(e.unit===uK||e.unit===AK||e.unit===dK||e.unit===fK)},mK=function(e){var t=e.filter(fa).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ns,Ns];case"to top":case"bottom":return Fl(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ns,hd];case"to right":case"left":return Fl(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[hd,hd];case"to bottom":case"top":return Fl(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[hd,Ns];case"to left":case"right":return Fl(270)}return 0},Fl=function(e){return Math.PI*e/180},bd={name:"color",parse:function(e,t){if(t.type===18){var r=nCe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3);return md(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),a=t.value.substring(1,2),s=t.value.substring(2,3),o=t.value.substring(3,4);return md(parseInt(n+n,16),parseInt(a+a,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6);return md(parseInt(n,16),parseInt(a,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),a=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8);return md(parseInt(n,16),parseInt(a,16),parseInt(s,16),parseInt(o,16)/255)}}if(t.type===20){var l=oA[t.value.toUpperCase()];if(typeof l<"u")return l}return oA.TRANSPARENT}},wd=function(e){return(255&e)===0},as=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,a=255&e>>24;return t<255?"rgba("+a+","+n+","+r+","+t/255+")":"rgb("+a+","+n+","+r+")"},md=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},i8=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},s8=function(e,t){var r=t.filter(ap);if(r.length===3){var n=r.map(i8),a=n[0],s=n[1],o=n[2];return md(a,s,o,1)}if(r.length===4){var l=r.map(i8),a=l[0],s=l[1],o=l[2],u=l[3];return md(a,s,o,u)}return 0};function rN(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var o8=function(e,t){var r=t.filter(ap),n=r[0],a=r[1],s=r[2],o=r[3],l=(n.type===17?Fl(n.number):Zw.parse(e,n))/(Math.PI*2),u=Pi(a)?a.number/100:0,A=Pi(s)?s.number/100:0,f=typeof o<"u"&&Pi(o)?ja(o,1):1;if(u===0)return md(A*255,A*255,A*255,1);var h=A<=.5?A*(u+1):A+u-A*u,p=A*2-h,g=rN(p,h,l+1/3),v=rN(p,h,l),x=rN(p,h,l-1/3);return md(g*255,v*255,x*255,f)},nCe={hsl:o8,hsla:o8,rgb:s8,rgba:s8},fy=function(e,t){return bd.parse(e,oK.create(t).parseComponentValue())},oA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},aCe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(fa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},iCe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},e2=function(e,t){var r=bd.parse(e,t[0]),n=t[1];return n&&Pi(n)?{color:r,stop:n}:{color:r,stop:null}},l8=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=Ns),n.stop===null&&(n.stop=hd);for(var a=[],s=0,o=0;o<e.length;o++){var l=e[o].stop;if(l!==null){var u=ja(l,t);u>s?a.push(u):a.push(s),s=u}else a.push(null)}for(var A=null,o=0;o<a.length;o++){var f=a[o];if(f===null)A===null&&(A=o);else if(A!==null){for(var h=o-A,p=a[A-1],g=(f-p)/(h+1),v=1;v<=h;v++)a[A+v-1]=g*v;A=null}}return e.map(function(x,b){var w=x.color;return{color:w,stop:Math.max(Math.min(1,a[b]/t),0)}})},sCe=function(e,t,r){var n=t/2,a=r/2,s=ja(e[0],t)-n,o=a-ja(e[1],r);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},oCe=function(e,t,r){var n=typeof e=="number"?e:sCe(e,t,r),a=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,o=r/2,l=a/2,u=Math.sin(n-Math.PI/2)*l,A=Math.cos(n-Math.PI/2)*l;return[a,s-A,s+A,o-u,o+u]},uc=function(e,t){return Math.sqrt(e*e+t*t)},c8=function(e,t,r,n,a){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(o,l){var u=l[0],A=l[1],f=uc(r-u,n-A);return(a?f<o.optimumDistance:f>o.optimumDistance)?{optimumCorner:l,optimumDistance:f}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},lCe=function(e,t,r,n,a){var s=0,o=0;switch(e.size){case 0:e.shape===0?s=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(e.shape===0)s=o=Math.min(uc(t,r),uc(t,r-a),uc(t-n,r),uc(t-n,r-a));else if(e.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(t),Math.abs(t-n)),u=c8(n,a,t,r,!0),A=u[0],f=u[1];s=uc(A-t,(f-r)/l),o=l*s}break;case 1:e.shape===0?s=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-a)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(e.shape===0)s=o=Math.max(uc(t,r),uc(t,r-a),uc(t-n,r),uc(t-n,r-a));else if(e.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(t),Math.abs(t-n)),h=c8(n,a,t,r,!1),A=h[0],f=h[1];s=uc(A-t,(f-r)/l),o=l*s}break}return Array.isArray(e.size)&&(s=ja(e.size[0],n),o=e.size.length===2?ja(e.size[1],a):s),[s,o]},cCe=function(e,t){var r=Fl(180),n=[];return yu(t).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&o.value==="to"){r=mK(a);return}else if(hK(o)){r=Zw.parse(e,o);return}}var l=e2(e,a);n.push(l)}),{angle:r,stops:n,type:1}},Ex=function(e,t){var r=Fl(180),n=[];return yu(t).forEach(function(a,s){if(s===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=mK(a);return}else if(hK(o)){r=(Zw.parse(e,o)+Fl(270))%Fl(360);return}}var l=e2(e,a);n.push(l)}),{angle:r,stops:n,type:1}},uCe=function(e,t){var r=Fl(180),n=[],a=1,s=0,o=3,l=[];return yu(t).forEach(function(u,A){var f=u[0];if(A===0){if(fa(f)&&f.value==="linear"){a=1;return}else if(fa(f)&&f.value==="radial"){a=2;return}}if(f.type===18){if(f.name==="from"){var h=bd.parse(e,f.values[0]);n.push({stop:Ns,color:h})}else if(f.name==="to"){var h=bd.parse(e,f.values[0]);n.push({stop:hd,color:h})}else if(f.name==="color-stop"){var p=f.values.filter(ap);if(p.length===2){var h=bd.parse(e,p[1]),g=p[0];Bp(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:h})}}}}),a===1?{angle:(r+Fl(180))%Fl(360),stops:n,type:a}:{size:o,shape:s,stops:n,position:l,type:a}},pK="closest-side",gK="farthest-side",yK="closest-corner",vK="farthest-corner",xK="circle",bK="ellipse",wK="cover",CK="contain",ACe=function(e,t){var r=0,n=3,a=[],s=[];return yu(t).forEach(function(o,l){var u=!0;if(l===0){var A=!1;u=o.reduce(function(h,p){if(A)if(fa(p))switch(p.value){case"center":return s.push(U_),h;case"top":case"left":return s.push(Ns),h;case"right":case"bottom":return s.push(hd),h}else(Pi(p)||Nd(p))&&s.push(p);else if(fa(p))switch(p.value){case xK:return r=0,!1;case bK:return r=1,!1;case"at":return A=!0,!1;case pK:return n=0,!1;case wK:case gK:return n=1,!1;case CK:case yK:return n=2,!1;case vK:return n=3,!1}else if(Nd(p)||Pi(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return h},u)}if(u){var f=e2(e,o);a.push(f)}}),{size:n,shape:r,stops:a,position:s,type:2}},kx=function(e,t){var r=0,n=3,a=[],s=[];return yu(t).forEach(function(o,l){var u=!0;if(l===0?u=o.reduce(function(f,h){if(fa(h))switch(h.value){case"center":return s.push(U_),!1;case"top":case"left":return s.push(Ns),!1;case"right":case"bottom":return s.push(hd),!1}else if(Pi(h)||Nd(h))return s.push(h),!1;return f},u):l===1&&(u=o.reduce(function(f,h){if(fa(h))switch(h.value){case xK:return r=0,!1;case bK:return r=1,!1;case CK:case pK:return n=0,!1;case gK:return n=1,!1;case yK:return n=2,!1;case wK:case vK:return n=3,!1}else if(Nd(h)||Pi(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return f},u)),u){var A=e2(e,o);a.push(A)}}),{size:n,shape:r,stops:a,position:s,type:2}},dCe=function(e){return e.type===1},fCe=function(e){return e.type===2},I_={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=BK[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function hCe(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!BK[e.name])}var BK={"linear-gradient":cCe,"-moz-linear-gradient":Ex,"-ms-linear-gradient":Ex,"-o-linear-gradient":Ex,"-webkit-linear-gradient":Ex,"radial-gradient":ACe,"-moz-radial-gradient":kx,"-ms-radial-gradient":kx,"-o-radial-gradient":kx,"-webkit-radial-gradient":kx,"-webkit-gradient":uCe},mCe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return ap(n)&&hCe(n)}).map(function(n){return I_.parse(e,n)})}},pCe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(fa(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gCe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return yu(t).map(function(r){return r.filter(Pi)}).map(cK)}},yCe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return yu(t).map(function(r){return r.filter(fa).map(function(n){return n.value}).join(" ")}).map(vCe)}},vCe=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},bm;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(bm||(bm={}));var xCe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return yu(t).map(function(r){return r.filter(bCe)})}},bCe=function(e){return fa(e)||Pi(e)},t2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wCe=t2("top"),CCe=t2("right"),BCe=t2("bottom"),jCe=t2("left"),r2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return cK(r.filter(Pi))}}},SCe=r2("top-left"),NCe=r2("top-right"),ECe=r2("bottom-right"),kCe=r2("bottom-left"),n2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},_Ce=n2("top"),TCe=n2("right"),OCe=n2("bottom"),FCe=n2("left"),a2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return G0(r)?r.number:0}}},PCe=a2("top"),LCe=a2("right"),UCe=a2("bottom"),ICe=a2("left"),DCe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},MCe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},RCe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(fa).reduce(function(r,n){return r|QCe(n.value)},0)}},QCe=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},HCe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$Ce={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},I1;(function(e){e.NORMAL="normal",e.STRICT="strict"})(I1||(I1={}));var zCe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return I1.STRICT;case"normal":default:return I1.NORMAL}}},qCe={name:"line-height",initialValue:"normal",prefix:!1,type:4},u8=function(e,t){return fa(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Pi(e)?ja(e,t):t},VCe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:I_.parse(e,t)}},KCe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},ok={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},i2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},GCe=i2("top"),WCe=i2("right"),YCe=i2("bottom"),XCe=i2("left"),JCe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(fa).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ZCe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},s2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},eBe=s2("top"),tBe=s2("right"),rBe=s2("bottom"),nBe=s2("left"),aBe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},iBe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sBe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&sk(t[0],"none")?[]:yu(t).map(function(r){for(var n={color:oA.TRANSPARENT,offsetX:Ns,offsetY:Ns,blur:Ns},a=0,s=0;s<r.length;s++){var o=r[s];Nd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=bd.parse(e,o)}return n})}},oBe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},lBe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=ABe[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},cBe=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},uBe=function(e){var t=e.filter(function(u){return u.type===17}).map(function(u){return u.number}),r=t[0],n=t[1];t[2],t[3];var a=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],l=t[13];return t[14],t[15],t.length===16?[r,n,a,s,o,l]:null},ABe={matrix:cBe,matrix3d:uBe},A8={type:16,number:50,flags:K0},dBe=[A8,A8],fBe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Pi);return r.length!==2?dBe:[r[0],r[1]]}},hBe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},hy;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(hy||(hy={}));var mBe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return hy.BREAK_ALL;case"keep-all":return hy.KEEP_ALL;case"normal":default:return hy.NORMAL}}},pBe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Bp(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},jK={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},gBe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Bp(t)?t.number:1}},yBe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vBe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(fa).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},xBe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},bBe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wBe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Bp(t))return t.number;if(fa(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},CBe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(fa).map(function(r){return r.value})}},BBe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gi=function(e,t){return(e&t)!==0},jBe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},SBe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=t.filter(lK),s=0;s<a.length;s++){var o=a[s],l=a[s+1];if(o.type===20){var u=l&&Bp(l)?l.number:1;n.push({counter:o.value,increment:u})}}return n}},NBe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(lK),a=0;a<n.length;a++){var s=n[a],o=n[a+1];if(fa(s)&&s.value!=="none"){var l=o&&Bp(o)?o.number:0;r.push({counter:s.value,reset:l})}}return r}},EBe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(G0).map(function(r){return jK.parse(e,r)})}},kBe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],a=t.filter(tCe);if(a.length%2!==0)return null;for(var s=0;s<a.length;s+=2){var o=a[s].value,l=a[s+1].value;n.push({open:o,close:l})}return n}},d8=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},_Be={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&sk(t[0],"none")?[]:yu(t).map(function(r){for(var n={color:255,offsetX:Ns,offsetY:Ns,blur:Ns,spread:Ns,inset:!1},a=0,s=0;s<r.length;s++){var o=r[s];sk(o,"inset")?n.inset=!0:Nd(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=bd.parse(e,o)}return n})}},TBe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(fa).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},OBe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},FBe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return G0(t)?t.number:0}},PBe=function(){function e(t,r){var n,a;this.animationDuration=wr(t,EBe,r.animationDuration),this.backgroundClip=wr(t,aCe,r.backgroundClip),this.backgroundColor=wr(t,iCe,r.backgroundColor),this.backgroundImage=wr(t,mCe,r.backgroundImage),this.backgroundOrigin=wr(t,pCe,r.backgroundOrigin),this.backgroundPosition=wr(t,gCe,r.backgroundPosition),this.backgroundRepeat=wr(t,yCe,r.backgroundRepeat),this.backgroundSize=wr(t,xCe,r.backgroundSize),this.borderTopColor=wr(t,wCe,r.borderTopColor),this.borderRightColor=wr(t,CCe,r.borderRightColor),this.borderBottomColor=wr(t,BCe,r.borderBottomColor),this.borderLeftColor=wr(t,jCe,r.borderLeftColor),this.borderTopLeftRadius=wr(t,SCe,r.borderTopLeftRadius),this.borderTopRightRadius=wr(t,NCe,r.borderTopRightRadius),this.borderBottomRightRadius=wr(t,ECe,r.borderBottomRightRadius),this.borderBottomLeftRadius=wr(t,kCe,r.borderBottomLeftRadius),this.borderTopStyle=wr(t,_Ce,r.borderTopStyle),this.borderRightStyle=wr(t,TCe,r.borderRightStyle),this.borderBottomStyle=wr(t,OCe,r.borderBottomStyle),this.borderLeftStyle=wr(t,FCe,r.borderLeftStyle),this.borderTopWidth=wr(t,PCe,r.borderTopWidth),this.borderRightWidth=wr(t,LCe,r.borderRightWidth),this.borderBottomWidth=wr(t,UCe,r.borderBottomWidth),this.borderLeftWidth=wr(t,ICe,r.borderLeftWidth),this.boxShadow=wr(t,_Be,r.boxShadow),this.color=wr(t,DCe,r.color),this.direction=wr(t,MCe,r.direction),this.display=wr(t,RCe,r.display),this.float=wr(t,HCe,r.cssFloat),this.fontFamily=wr(t,xBe,r.fontFamily),this.fontSize=wr(t,bBe,r.fontSize),this.fontStyle=wr(t,BBe,r.fontStyle),this.fontVariant=wr(t,CBe,r.fontVariant),this.fontWeight=wr(t,wBe,r.fontWeight),this.letterSpacing=wr(t,$Ce,r.letterSpacing),this.lineBreak=wr(t,zCe,r.lineBreak),this.lineHeight=wr(t,qCe,r.lineHeight),this.listStyleImage=wr(t,VCe,r.listStyleImage),this.listStylePosition=wr(t,KCe,r.listStylePosition),this.listStyleType=wr(t,ok,r.listStyleType),this.marginTop=wr(t,GCe,r.marginTop),this.marginRight=wr(t,WCe,r.marginRight),this.marginBottom=wr(t,YCe,r.marginBottom),this.marginLeft=wr(t,XCe,r.marginLeft),this.opacity=wr(t,gBe,r.opacity);var s=wr(t,JCe,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=wr(t,ZCe,r.overflowWrap),this.paddingTop=wr(t,eBe,r.paddingTop),this.paddingRight=wr(t,tBe,r.paddingRight),this.paddingBottom=wr(t,rBe,r.paddingBottom),this.paddingLeft=wr(t,nBe,r.paddingLeft),this.paintOrder=wr(t,TBe,r.paintOrder),this.position=wr(t,iBe,r.position),this.textAlign=wr(t,aBe,r.textAlign),this.textDecorationColor=wr(t,yBe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=wr(t,vBe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=wr(t,sBe,r.textShadow),this.textTransform=wr(t,oBe,r.textTransform),this.transform=wr(t,lBe,r.transform),this.transformOrigin=wr(t,fBe,r.transformOrigin),this.visibility=wr(t,hBe,r.visibility),this.webkitTextStrokeColor=wr(t,OBe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=wr(t,FBe,r.webkitTextStrokeWidth),this.wordBreak=wr(t,mBe,r.wordBreak),this.zIndex=wr(t,pBe,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return wd(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Gi(this.display,4)||Gi(this.display,33554432)||Gi(this.display,268435456)||Gi(this.display,536870912)||Gi(this.display,67108864)||Gi(this.display,134217728)},e}(),LBe=function(){function e(t,r){this.content=wr(t,jBe,r.content),this.quotes=wr(t,kBe,r.quotes)}return e}(),f8=function(){function e(t,r){this.counterIncrement=wr(t,SBe,r.counterIncrement),this.counterReset=wr(t,NBe,r.counterReset)}return e}(),wr=function(e,t,r){var n=new sK,a=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(a);var s=new oK(n.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,fa(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Zw.parse(e,s.parseComponentValue());case"color":return bd.parse(e,s.parseComponentValue());case"image":return I_.parse(e,s.parseComponentValue());case"length":var l=s.parseComponentValue();return Nd(l)?l:Ns;case"length-percentage":var u=s.parseComponentValue();return Pi(u)?u:Ns;case"time":return jK.parse(e,s.parseComponentValue())}break}},UBe="data-html2canvas-debug",IBe=function(e){var t=e.getAttribute(UBe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},lk=function(e,t){var r=IBe(e);return r===1||t===r},vu=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,lk(r,3))debugger;this.styles=new PBe(t,window.getComputedStyle(r,null)),Ak(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Xw(this.context,r),lk(r,4)&&(this.flags|=16)}return e}(),DBe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",h8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _x=0;_x<h8.length;_x++)Yg[h8.charCodeAt(_x)]=_x;var MBe=function(e){var t=e.length*.75,r=e.length,n,a=0,s,o,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),f=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)s=Yg[e.charCodeAt(n)],o=Yg[e.charCodeAt(n+1)],l=Yg[e.charCodeAt(n+2)],u=Yg[e.charCodeAt(n+3)],f[a++]=s<<2|o>>4,f[a++]=(o&15)<<4|l>>2,f[a++]=(l&3)<<6|u&63;return A},RBe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},QBe=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Rf=5,D_=11,nN=2,HBe=D_-Rf,SK=65536>>Rf,$Be=1<<Rf,aN=$Be-1,zBe=1024>>Rf,qBe=SK+zBe,VBe=qBe,KBe=32,GBe=VBe+KBe,WBe=65536>>D_,YBe=1<<HBe,XBe=YBe-1,m8=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},JBe=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},ZBe=function(e,t){var r=MBe(e),n=Array.isArray(r)?QBe(r):new Uint32Array(r),a=Array.isArray(r)?RBe(r):new Uint16Array(r),s=24,o=m8(a,s/2,n[4]/2),l=n[5]===2?m8(a,(s+n[4])/2):JBe(n,Math.ceil((s+n[4])/4));return new e5e(n[0],n[1],n[2],n[3],o,l)},e5e=function(){function e(t,r,n,a,s,o){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=s,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Rf],r=(r<<nN)+(t&aN),this.data[r];if(t<=65535)return r=this.index[SK+(t-55296>>Rf)],r=(r<<nN)+(t&aN),this.data[r];if(t<this.highStart)return r=GBe-WBe+(t>>D_),r=this.index[r],r+=t>>Rf&XBe,r=this.index[r],r=(r<<nN)+(t&aN),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),p8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Tx=0;Tx<p8.length;Tx++)t5e[p8.charCodeAt(Tx)]=Tx;var r5e=1,iN=2,sN=3,g8=4,y8=5,n5e=7,v8=8,oN=9,lN=10,x8=11,b8=12,w8=13,C8=14,cN=15,a5e=function(e){for(var t=[],r=0,n=e.length;r<n;){var a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((a&1023)<<10)+(s&1023)+65536):(t.push(a),r--)}else t.push(a)}return t},i5e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],a=-1,s="";++a<r;){var o=e[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},s5e=ZBe(DBe),Sl="",uN="",o5e=function(e){return s5e.get(e)},l5e=function(e,t,r){var n=r-2,a=t[n],s=t[r-1],o=t[r];if(s===iN&&o===sN)return Sl;if(s===iN||s===sN||s===g8||o===iN||o===sN||o===g8)return uN;if(s===v8&&[v8,oN,x8,b8].indexOf(o)!==-1||(s===x8||s===oN)&&(o===oN||o===lN)||(s===b8||s===lN)&&o===lN||o===w8||o===y8||o===n5e||s===r5e)return Sl;if(s===w8&&o===C8){for(;a===y8;)a=t[--n];if(a===C8)return Sl}if(s===cN&&o===cN){for(var l=0;a===cN;)l++,a=t[--n];if(l%2===0)return Sl}return uN},c5e=function(e){var t=a5e(e),r=t.length,n=0,a=0,s=t.map(o5e);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=Sl;n<r&&(o=l5e(t,s,++n))===Sl;);if(o!==Sl||n===r){var l=i5e.apply(null,t.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},u5e=function(e){for(var t=c5e(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},A5e=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),s=Math.round(a.height);if(e.body.removeChild(n),s===t)return!0}}return!1},d5e=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,a=Jw(n.data).map(function(u){return gi(u)}),s=0,o={},l=a.every(function(u,A){r.setStart(n,s),r.setEnd(n,s+u.length);var f=r.getBoundingClientRect();s+=u.length;var h=f.x>o.x||f.y>o.y;return o=f,A===0?!0:h});return e.body.removeChild(t),l},f5e=function(){return typeof new Image().crossOrigin<"u"},h5e=function(){return typeof new XMLHttpRequest().responseType=="string"},m5e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},B8=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},p5e=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,s=t.toDataURL();a.src=s;var o=ck(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),j8(o).then(function(l){n.drawImage(l,0,0);var u=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=r+"px",B8(u)?j8(ck(r,r,0,0,A)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),B8(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},ck=function(e,t,r,n,a){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},j8=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},js={get SUPPORT_RANGE_BOUNDS(){var e=A5e(document);return Object.defineProperty(js,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=js.SUPPORT_RANGE_BOUNDS&&d5e(document);return Object.defineProperty(js,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=m5e(document);return Object.defineProperty(js,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?p5e(document):Promise.resolve(!1);return Object.defineProperty(js,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=f5e();return Object.defineProperty(js,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=h5e();return Object.defineProperty(js,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(js,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(js,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},my=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),g5e=function(e,t,r,n){var a=x5e(t,r),s=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(js.SUPPORT_RANGE_BOUNDS){var u=S8(n,o,l.length).getClientRects();if(u.length>1){var A=M_(l),f=0;A.forEach(function(p){s.push(new my(p,pA.fromDOMRectList(e,S8(n,f+o,p.length).getClientRects()))),f+=p.length})}else s.push(new my(l,pA.fromDOMRectList(e,u)))}else{var h=n.splitText(l.length);s.push(new my(l,y5e(e,n))),n=h}else js.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),s},y5e=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var a=t.parentNode;if(a){a.replaceChild(n,t);var s=Xw(e,n);return n.firstChild&&a.replaceChild(n.firstChild,n),s}}return pA.EMPTY},S8=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(e,t),a.setEnd(e,t+r),a},M_=function(e){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return u5e(e)},v5e=function(e,t){if(js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return w5e(e,t)},x5e=function(e,t){return t.letterSpacing!==0?M_(e):v5e(e,t)},b5e=[32,160,4961,65792,65793,4153,4241],w5e=function(e,t){for(var r=Wwe(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],a,s=function(){if(a.value){var o=a.value.slice(),l=Jw(o),u="";l.forEach(function(A){b5e.indexOf(A)===-1?u+=gi(A):(u.length&&n.push(u),n.push(gi(A)),u="")}),u.length&&n.push(u)}};!(a=r.next()).done;)s();return n},C5e=function(){function e(t,r,n){this.text=B5e(r.data,n.textTransform),this.textBounds=g5e(t,this.text,n,r)}return e}(),B5e=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(j5e,S5e);case 2:return e.toUpperCase();default:return e}},j5e=/(^|\s|:|-|\(|\))([a-z])/g,S5e=function(e,t,r){return e.length>0?t+r.toUpperCase():e},NK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t}(vu),EK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t}(vu),kK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=new XMLSerializer,o=Xw(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t}(vu),_K=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(vu),uk=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return t}(vu),N5e=[{type:15,flags:0,unit:"px",number:3}],E5e=[{type:16,flags:0,number:50}],k5e=function(e){return e.width>e.height?new pA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new pA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},_5e=function(e){var t=e.type===T5e?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},D1="checkbox",M1="radio",T5e="password",N8=707406591,R_=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=_5e(n),(a.type===D1||a.type===M1)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=k5e(a.bounds)),a.type){case D1:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=N5e;break;case M1:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=E5e;break}return a}return t}(vu),TK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return a.value=s&&s.text||"",a}return t}(vu),OK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.value=n.value,a}return t}(vu),FK=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=LK(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?fy(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):oA.TRANSPARENT,o=n.contentWindow.document.body?fy(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):oA.TRANSPARENT;a.backgroundColor=wd(s)?wd(o)?a.styles.backgroundColor:o:s}}catch{}return a}return t}(vu),O5e=["OL","UL","MENU"],db=function(e,t,r,n){for(var a=t.firstChild,s=void 0;a;a=s)if(s=a.nextSibling,UK(a)&&a.data.trim().length>0)r.textNodes.push(new C5e(e,a,r.styles));else if(mm(a))if(RK(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return db(e,l,r,n)});else{var o=PK(e,a);o.styles.isVisible()&&(F5e(a,o,n)?o.flags|=4:P5e(o.styles)&&(o.flags|=2),O5e.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?db(e,a.shadowRoot,o,n):!R1(a)&&!IK(a)&&!Q1(a)&&db(e,a,o,n))}},PK=function(e,t){return dk(t)?new NK(e,t):DK(t)?new EK(e,t):IK(t)?new kK(e,t):L5e(t)?new _K(e,t):U5e(t)?new uk(e,t):I5e(t)?new R_(e,t):Q1(t)?new TK(e,t):R1(t)?new OK(e,t):MK(t)?new FK(e,t):new vu(e,t)},LK=function(e,t){var r=PK(e,t);return r.flags|=4,db(e,t,r,r),r},F5e=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Q_(e)&&r.styles.isTransparent()},P5e=function(e){return e.isPositioned()||e.isFloating()},UK=function(e){return e.nodeType===Node.TEXT_NODE},mm=function(e){return e.nodeType===Node.ELEMENT_NODE},Ak=function(e){return mm(e)&&typeof e.style<"u"&&!fb(e)},fb=function(e){return typeof e.className=="object"},L5e=function(e){return e.tagName==="LI"},U5e=function(e){return e.tagName==="OL"},I5e=function(e){return e.tagName==="INPUT"},D5e=function(e){return e.tagName==="HTML"},IK=function(e){return e.tagName==="svg"},Q_=function(e){return e.tagName==="BODY"},DK=function(e){return e.tagName==="CANVAS"},E8=function(e){return e.tagName==="VIDEO"},dk=function(e){return e.tagName==="IMG"},MK=function(e){return e.tagName==="IFRAME"},k8=function(e){return e.tagName==="STYLE"},M5e=function(e){return e.tagName==="SCRIPT"},R1=function(e){return e.tagName==="TEXTAREA"},Q1=function(e){return e.tagName==="SELECT"},RK=function(e){return e.tagName==="SLOT"},_8=function(e){return e.tagName.indexOf("-")>0},R5e=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,a=t.counterReset,s=!0;n!==null&&n.forEach(function(l){var u=r.counters[l.counter];u&&l.increment!==0&&(s=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=l.increment)});var o=[];return s&&a.forEach(function(l){var u=r.counters[l.counter];o.push(l.counter),u||(u=r.counters[l.counter]=[]),u.push(l.reset)}),o},e}(),T8={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},O8={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Q5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},H5e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vh=function(e,t,r,n,a,s){return e<t||e>r?v0(e,a,s.length>0):n.integers.reduce(function(o,l,u){for(;e>=l;)e-=l,o+=n.values[u];return o},"")+s},QK=function(e,t,r,n){var a="";do r||e--,a=n(e)+a,e/=t;while(e*t>=t);return a},mi=function(e,t,r,n,a){var s=r-t+1;return(e<0?"-":"")+(QK(Math.abs(e),s,n,function(o){return gi(Math.floor(o%s)+t)})+a)},ff=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return QK(Math.abs(e),n,!1,function(a){return t[Math.floor(a%n)]})+r},Zh=1,rd=2,nd=4,Xg=8,Vu=function(e,t,r,n,a,s){if(e<-9999||e>9999)return v0(e,4,a.length>0);var o=Math.abs(e),l=a;if(o===0)return t[0]+l;for(var u=0;o>0&&u<=4;u++){var A=o%10;A===0&&Gi(s,Zh)&&l!==""?l=t[A]+l:A>1||A===1&&u===0||A===1&&u===1&&Gi(s,rd)||A===1&&u===1&&Gi(s,nd)&&e>100||A===1&&u>1&&Gi(s,Xg)?l=t[A]+(u>0?r[u-1]:"")+l:A===1&&u>0&&(l=r[u-1]+l),o=Math.floor(o/10)}return(e<0?n:"")+l},F8="",P8="",L8="",AN="",v0=function(e,t,r){var n=r?". ":"",a=r?"":"",s=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=mi(e,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return ff(e,"",a);case 6:return Vh(e,1,3999,T8,3,n).toLowerCase();case 7:return Vh(e,1,3999,T8,3,n);case 8:return mi(e,945,969,!1,n);case 9:return mi(e,97,122,!1,n);case 10:return mi(e,65,90,!1,n);case 11:return mi(e,1632,1641,!0,n);case 12:case 49:return Vh(e,1,9999,O8,3,n);case 35:return Vh(e,1,9999,O8,3,n).toLowerCase();case 13:return mi(e,2534,2543,!0,n);case 14:case 30:return mi(e,6112,6121,!0,n);case 15:return ff(e,"",a);case 16:return ff(e,"",a);case 17:case 48:return Vu(e,"",F8,"",a,rd|nd|Xg);case 47:return Vu(e,"",P8,"",a,Zh|rd|nd|Xg);case 42:return Vu(e,"",F8,"",a,rd|nd|Xg);case 41:return Vu(e,"",P8,"",a,Zh|rd|nd|Xg);case 26:return Vu(e,"","",L8,a,0);case 25:return Vu(e,"","",L8,a,Zh|rd|nd);case 31:return Vu(e,"","",AN,s,Zh|rd|nd);case 33:return Vu(e,"","",AN,s,0);case 32:return Vu(e,"","",AN,s,Zh|rd|nd);case 18:return mi(e,2406,2415,!0,n);case 20:return Vh(e,1,19999,H5e,3,n);case 21:return mi(e,2790,2799,!0,n);case 22:return mi(e,2662,2671,!0,n);case 22:return Vh(e,1,10999,Q5e,3,n);case 23:return ff(e,"");case 24:return ff(e,"");case 27:return mi(e,3302,3311,!0,n);case 28:return ff(e,"",a);case 29:return ff(e,"",a);case 34:return mi(e,3792,3801,!0,n);case 37:return mi(e,6160,6169,!0,n);case 38:return mi(e,4160,4169,!0,n);case 39:return mi(e,2918,2927,!0,n);case 40:return mi(e,1776,1785,!0,n);case 43:return mi(e,3046,3055,!0,n);case 44:return mi(e,3174,3183,!0,n);case 45:return mi(e,3664,3673,!0,n);case 46:return mi(e,3872,3881,!0,n);case 3:default:return mi(e,48,57,!0,n)}},HK="data-html2canvas-ignore",U8=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new R5e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,a=$5e(t,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,l=a.contentWindow,u=l.document,A=V5e(a).then(function(){return ao(n,void 0,void 0,function(){var f,h;return Hs(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(Y5e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),f=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,q5e(u)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(u,h)}).then(function(){return a})]:[2,a]}})})});return u.open(),u.write(G5e(document.doctype)+"<html></html>"),W5e(this.referenceElement.ownerDocument,s,o),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),A},e.prototype.createElementClone=function(t){if(lk(t,2))debugger;if(DK(t))return this.createCanvasClone(t);if(E8(t))return this.createVideoClone(t);if(k8(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return dk(r)&&(dk(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),_8(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return dN(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),a=t.cloneNode(!1);return a.textContent=n,a}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var a=t.cloneNode(!1);try{a.width=t.width,a.height=t.height;var s=t.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var l=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(l){var u=l.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return a},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var a=t.ownerDocument.createElement("canvas");return a.width=t.offsetWidth,a.height=t.offsetHeight,a},e.prototype.appendChildNode=function(t,r,n){(!mm(r)||!M5e(r)&&!r.hasAttribute(HK)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!mm(r)||!k8(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var a=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(mm(s)&&RK(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(UK(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&mm(t)&&(Ak(t)||fb(t))){var a=this.createElementClone(t);a.style.transitionProperty="none";var s=n.getComputedStyle(t),o=n.getComputedStyle(t,":before"),l=n.getComputedStyle(t,":after");this.referenceElement===t&&Ak(a)&&(this.clonedReferenceElement=a),Q_(a)&&Z5e(a);var u=this.counters.parse(new f8(this.context,s)),A=this.resolvePseudoContent(t,a,o,py.BEFORE);_8(t)&&(r=!0),E8(t)||this.cloneChildNodes(t,a,r),A&&a.insertBefore(A,a.firstChild);var f=this.resolvePseudoContent(t,a,l,py.AFTER);return f&&a.appendChild(f),this.counters.pop(u),(s&&(this.options.copyStyles||fb(t))&&!MK(t)||r)&&dN(s,a),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([a,t.scrollLeft,t.scrollTop]),(R1(t)||Q1(t))&&(R1(a)||Q1(a))&&(a.value=t.value),a}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,a){var s=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new f8(this.context,n));var u=new LBe(this.context,n),A=l.createElement("html2canvaspseudoelement");dN(n,A),u.content.forEach(function(h){if(h.type===0)A.appendChild(l.createTextNode(h.value));else if(h.type===22){var p=l.createElement("img");p.src=h.value,p.style.opacity="1",A.appendChild(p)}else if(h.type===18){if(h.name==="attr"){var g=h.values.filter(fa);g.length&&A.appendChild(l.createTextNode(t.getAttribute(g[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(ap),x=v[0],b=v[1];if(x&&fa(x)){var w=s.counters.getCounterValue(x.value),B=b&&fa(b)?ok.parse(s.context,b.value):3;A.appendChild(l.createTextNode(v0(w,B,!1)))}}else if(h.name==="counters"){var j=h.values.filter(ap),x=j[0],_=j[1],b=j[2];if(x&&fa(x)){var N=s.counters.getCounterValues(x.value),O=b&&fa(b)?ok.parse(s.context,b.value):3,T=_&&_.type===0?_.value:"",P=N.map(function(F){return v0(F,O,!1)}).join(T);A.appendChild(l.createTextNode(P))}}}else if(h.type===20)switch(h.value){case"open-quote":A.appendChild(l.createTextNode(d8(u.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(l.createTextNode(d8(u.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(l.createTextNode(h.value))}}),A.className=fk+" "+hk;var f=a===py.BEFORE?" "+fk:" "+hk;return fb(r)?r.className.baseValue+=f:r.className+=f,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),py;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(py||(py={}));var $5e=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(HK,"true"),e.body.appendChild(r),r},z5e=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},q5e=function(e){return Promise.all([].slice.call(e.images,0).map(z5e))},V5e=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},K5e=["all","d","content"],dN=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);K5e.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},G5e=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},W5e=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Y5e=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},X5e=":before",J5e=":after",fk="___html2canvas___pseudoelement_before",hk="___html2canvas___pseudoelement_after",I8=`{
    content: "" !important;
    display: none !important;
}`,Z5e=function(e){eje(e,"."+fk+X5e+I8+`
         .`+hk+J5e+I8)},eje=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},$K=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),tje=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(hN(t)||ije(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return ao(this,void 0,void 0,function(){var r,n,a,s,o=this;return Hs(this,function(l){switch(l.label){case 0:return r=$K.isSameOrigin(t),n=!fN(t)&&this._options.useCORS===!0&&js.SUPPORT_CORS_IMAGES&&!r,a=!fN(t)&&!r&&!hN(t)&&typeof this._options.proxy=="string"&&js.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!fN(t)&&!hN(t)&&!a&&!n?[2]:(s=t,a?[4,this.proxy(s)]:[3,2]);case 1:s=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(u,A){var f=new Image;f.onload=function(){return u(f)},f.onerror=A,(sje(s)||n)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return u(f)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=t.substring(0,256);return new Promise(function(s,o){var l=js.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(l==="text")s(u.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(p){return o(p)},!1),h.readAsDataURL(u.response)}else o("Failed to proxy resource "+a+" with status code "+u.status)},u.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(u.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+l),l!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=l),r._options.imageTimeout){var f=r._options.imageTimeout;u.timeout=f,u.ontimeout=function(){return o("Timed out ("+f+"ms) proxying "+a)}}u.send()})},e}(),rje=/^data:image\/svg\+xml/i,nje=/^data:image\/.*;base64,/i,aje=/^data:image\/.*/i,ije=function(e){return js.SUPPORT_SVG_DRAWING||!oje(e)},fN=function(e){return aje.test(e)},sje=function(e){return nje.test(e)},hN=function(e){return e.substr(0,4)==="blob"},oje=function(e){return e.substr(-3).toLowerCase()==="svg"||rje.test(e)},yr=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Kh=function(e,t,r){return new yr(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Ox=function(){function e(t,r,n,a){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,r){var n=Kh(this.start,this.startControl,t),a=Kh(this.startControl,this.endControl,t),s=Kh(this.endControl,this.end,t),o=Kh(n,a,t),l=Kh(a,s,t),u=Kh(o,l,t);return r?new e(this.start,n,o,u):new e(u,l,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),El=function(e){return e.type===1},lje=function(){function e(t){var r=t.styles,n=t.bounds,a=Wg(r.borderTopLeftRadius,n.width,n.height),s=a[0],o=a[1],l=Wg(r.borderTopRightRadius,n.width,n.height),u=l[0],A=l[1],f=Wg(r.borderBottomRightRadius,n.width,n.height),h=f[0],p=f[1],g=Wg(r.borderBottomLeftRadius,n.width,n.height),v=g[0],x=g[1],b=[];b.push((s+u)/n.width),b.push((v+h)/n.width),b.push((o+x)/n.height),b.push((A+p)/n.height);var w=Math.max.apply(Math,b);w>1&&(s/=w,o/=w,u/=w,A/=w,h/=w,p/=w,v/=w,x/=w);var B=n.width-u,j=n.height-p,_=n.width-h,N=n.height-x,O=r.borderTopWidth,T=r.borderRightWidth,P=r.borderBottomWidth,U=r.borderLeftWidth,D=ja(r.paddingTop,t.bounds.width),F=ja(r.paddingRight,t.bounds.width),R=ja(r.paddingBottom,t.bounds.width),Q=ja(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Ia(n.left+U/3,n.top+O/3,s-U/3,o-O/3,ea.TOP_LEFT):new yr(n.left+U/3,n.top+O/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Ia(n.left+B,n.top+O/3,u-T/3,A-O/3,ea.TOP_RIGHT):new yr(n.left+n.width-T/3,n.top+O/3),this.bottomRightBorderDoubleOuterBox=h>0||p>0?Ia(n.left+_,n.top+j,h-T/3,p-P/3,ea.BOTTOM_RIGHT):new yr(n.left+n.width-T/3,n.top+n.height-P/3),this.bottomLeftBorderDoubleOuterBox=v>0||x>0?Ia(n.left+U/3,n.top+N,v-U/3,x-P/3,ea.BOTTOM_LEFT):new yr(n.left+U/3,n.top+n.height-P/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Ia(n.left+U*2/3,n.top+O*2/3,s-U*2/3,o-O*2/3,ea.TOP_LEFT):new yr(n.left+U*2/3,n.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Ia(n.left+B,n.top+O*2/3,u-T*2/3,A-O*2/3,ea.TOP_RIGHT):new yr(n.left+n.width-T*2/3,n.top+O*2/3),this.bottomRightBorderDoubleInnerBox=h>0||p>0?Ia(n.left+_,n.top+j,h-T*2/3,p-P*2/3,ea.BOTTOM_RIGHT):new yr(n.left+n.width-T*2/3,n.top+n.height-P*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||x>0?Ia(n.left+U*2/3,n.top+N,v-U*2/3,x-P*2/3,ea.BOTTOM_LEFT):new yr(n.left+U*2/3,n.top+n.height-P*2/3),this.topLeftBorderStroke=s>0||o>0?Ia(n.left+U/2,n.top+O/2,s-U/2,o-O/2,ea.TOP_LEFT):new yr(n.left+U/2,n.top+O/2),this.topRightBorderStroke=s>0||o>0?Ia(n.left+B,n.top+O/2,u-T/2,A-O/2,ea.TOP_RIGHT):new yr(n.left+n.width-T/2,n.top+O/2),this.bottomRightBorderStroke=h>0||p>0?Ia(n.left+_,n.top+j,h-T/2,p-P/2,ea.BOTTOM_RIGHT):new yr(n.left+n.width-T/2,n.top+n.height-P/2),this.bottomLeftBorderStroke=v>0||x>0?Ia(n.left+U/2,n.top+N,v-U/2,x-P/2,ea.BOTTOM_LEFT):new yr(n.left+U/2,n.top+n.height-P/2),this.topLeftBorderBox=s>0||o>0?Ia(n.left,n.top,s,o,ea.TOP_LEFT):new yr(n.left,n.top),this.topRightBorderBox=u>0||A>0?Ia(n.left+B,n.top,u,A,ea.TOP_RIGHT):new yr(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||p>0?Ia(n.left+_,n.top+j,h,p,ea.BOTTOM_RIGHT):new yr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||x>0?Ia(n.left,n.top+N,v,x,ea.BOTTOM_LEFT):new yr(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||o>0?Ia(n.left+U,n.top+O,Math.max(0,s-U),Math.max(0,o-O),ea.TOP_LEFT):new yr(n.left+U,n.top+O),this.topRightPaddingBox=u>0||A>0?Ia(n.left+Math.min(B,n.width-T),n.top+O,B>n.width+T?0:Math.max(0,u-T),Math.max(0,A-O),ea.TOP_RIGHT):new yr(n.left+n.width-T,n.top+O),this.bottomRightPaddingBox=h>0||p>0?Ia(n.left+Math.min(_,n.width-U),n.top+Math.min(j,n.height-P),Math.max(0,h-T),Math.max(0,p-P),ea.BOTTOM_RIGHT):new yr(n.left+n.width-T,n.top+n.height-P),this.bottomLeftPaddingBox=v>0||x>0?Ia(n.left+U,n.top+Math.min(N,n.height-P),Math.max(0,v-U),Math.max(0,x-P),ea.BOTTOM_LEFT):new yr(n.left+U,n.top+n.height-P),this.topLeftContentBox=s>0||o>0?Ia(n.left+U+Q,n.top+O+D,Math.max(0,s-(U+Q)),Math.max(0,o-(O+D)),ea.TOP_LEFT):new yr(n.left+U+Q,n.top+O+D),this.topRightContentBox=u>0||A>0?Ia(n.left+Math.min(B,n.width+U+Q),n.top+O+D,B>n.width+U+Q?0:u-U+Q,A-(O+D),ea.TOP_RIGHT):new yr(n.left+n.width-(T+F),n.top+O+D),this.bottomRightContentBox=h>0||p>0?Ia(n.left+Math.min(_,n.width-(U+Q)),n.top+Math.min(j,n.height+O+D),Math.max(0,h-(T+F)),p-(P+R),ea.BOTTOM_RIGHT):new yr(n.left+n.width-(T+F),n.top+n.height-(P+R)),this.bottomLeftContentBox=v>0||x>0?Ia(n.left+U+Q,n.top+N,Math.max(0,v-(U+Q)),x-(P+R),ea.BOTTOM_LEFT):new yr(n.left+U+Q,n.top+n.height-(P+R))}return e}(),ea;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ea||(ea={}));var Ia=function(e,t,r,n,a){var s=4*((Math.sqrt(2)-1)/3),o=r*s,l=n*s,u=e+r,A=t+n;switch(a){case ea.TOP_LEFT:return new Ox(new yr(e,A),new yr(e,A-l),new yr(u-o,t),new yr(u,t));case ea.TOP_RIGHT:return new Ox(new yr(e,t),new yr(e+o,t),new yr(u,A-l),new yr(u,A));case ea.BOTTOM_RIGHT:return new Ox(new yr(u,t),new yr(u,t+l),new yr(e+o,A),new yr(e,A));case ea.BOTTOM_LEFT:default:return new Ox(new yr(u,A),new yr(u-o,A),new yr(e,t+l),new yr(e,t))}},H1=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},cje=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},$1=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},uje=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),Fx=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),Aje=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),dje=function(e){return e.type===0},zK=function(e){return e.type===1},fje=function(e){return e.type===2},D8=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},hje=function(e,t,r,n,a){return e.map(function(s,o){switch(o){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+a);case 3:return s.add(t,r+a)}return s})},qK=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),VK=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new lje(this.container),this.container.styles.opacity<1&&this.effects.push(new Aje(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new uje(n,a,s))}if(this.container.styles.overflowX!==0){var o=H1(this.curves),l=$1(this.curves);D8(o,l)?this.effects.push(new Fx(o,6)):(this.effects.push(new Fx(o,2)),this.effects.push(new Fx(l,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var s=n.effects.filter(function(u){return!zK(u)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=H1(n.curves),l=$1(n.curves);D8(o,l)||a.unshift(new Fx(l,6))}}else a.unshift.apply(a,s);n=n.parent}return a.filter(function(u){return Gi(u.target,t)})},e}(),mk=function(e,t,r,n){e.container.elements.forEach(function(a){var s=Gi(a.flags,4),o=Gi(a.flags,2),l=new VK(a,e);Gi(a.styles.display,2048)&&n.push(l);var u=Gi(a.flags,8)?[]:n;if(s||o){var A=s||a.styles.isPositioned()?r:t,f=new qK(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var p=0;A.negativeZIndex.some(function(v,x){return h>v.element.container.styles.zIndex.order?(p=x,!1):p>0}),A.negativeZIndex.splice(p,0,f)}else if(h>0){var g=0;A.positiveZIndex.some(function(v,x){return h>=v.element.container.styles.zIndex.order?(g=x+1,!1):g>0}),A.positiveZIndex.splice(g,0,f)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else a.styles.isFloating()?A.nonPositionedFloats.push(f):A.nonPositionedInlineLevel.push(f);mk(l,f,s?f:r,u)}else a.styles.isInlineLevel()?t.inlineLevel.push(l):t.nonInlineLevel.push(l),mk(l,t,r,u);Gi(a.flags,8)&&KK(a,u)})},KK=function(e,t){for(var r=e instanceof uk?e.start:1,n=e instanceof uk?e.reversed:!1,a=0;a<t.length;a++){var s=t[a];s.container instanceof _K&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=v0(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},mje=function(e){var t=new VK(e,null),r=new qK(t),n=[];return mk(t,r,r,n),KK(t.container,n),r},M8=function(e,t){switch(t){case 0:return Pl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Pl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Pl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Pl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},pje=function(e,t){switch(t){case 0:return Pl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Pl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Pl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Pl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},gje=function(e,t){switch(t){case 0:return Pl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Pl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Pl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Pl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},yje=function(e,t){switch(t){case 0:return Px(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Px(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Px(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Px(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Px=function(e,t){var r=[];return El(e)?r.push(e.subdivide(.5,!1)):r.push(e),El(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},Pl=function(e,t,r,n){var a=[];return El(e)?a.push(e.subdivide(.5,!1)):a.push(e),El(r)?a.push(r.subdivide(.5,!0)):a.push(r),El(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),El(t)?a.push(t.subdivide(.5,!1).reverse()):a.push(t),a},GK=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},z1=function(e){var t=e.styles,r=e.bounds,n=ja(t.paddingLeft,r.width),a=ja(t.paddingRight,r.width),s=ja(t.paddingTop,r.width),o=ja(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+a),-(t.borderTopWidth+t.borderBottomWidth+s+o))},vje=function(e,t){return e===0?t.bounds:e===2?z1(t):GK(t)},xje=function(e,t){return e===0?t.bounds:e===2?z1(t):GK(t)},mN=function(e,t,r){var n=vje(em(e.styles.backgroundOrigin,t),e),a=xje(em(e.styles.backgroundClip,t),e),s=bje(em(e.styles.backgroundSize,t),r,n),o=s[0],l=s[1],u=Wg(em(e.styles.backgroundPosition,t),n.width-o,n.height-l),A=wje(em(e.styles.backgroundRepeat,t),u,s,n,a),f=Math.round(n.left+u[0]),h=Math.round(n.top+u[1]);return[A,f,h,o,l]},Gh=function(e){return fa(e)&&e.value===bm.AUTO},Lx=function(e){return typeof e=="number"},bje=function(e,t,r){var n=t[0],a=t[1],s=t[2],o=e[0],l=e[1];if(!o)return[0,0];if(Pi(o)&&l&&Pi(l))return[ja(o,r.width),ja(l,r.height)];var u=Lx(s);if(fa(o)&&(o.value===bm.CONTAIN||o.value===bm.COVER)){if(Lx(s)){var A=r.width/r.height;return A<s!=(o.value===bm.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var f=Lx(n),h=Lx(a),p=f||h;if(Gh(o)&&(!l||Gh(l))){if(f&&h)return[n,a];if(!u&&!p)return[r.width,r.height];if(p&&u){var g=f?n:a*s,v=h?a:n/s;return[g,v]}var x=f?n:r.width,b=h?a:r.height;return[x,b]}if(u){var w=0,B=0;return Pi(o)?w=ja(o,r.width):Pi(l)&&(B=ja(l,r.height)),Gh(o)?w=B*s:(!l||Gh(l))&&(B=w/s),[w,B]}var j=null,_=null;if(Pi(o)?j=ja(o,r.width):l&&Pi(l)&&(_=ja(l,r.height)),j!==null&&(!l||Gh(l))&&(_=f&&h?j/n*a:r.height),_!==null&&Gh(o)&&(j=f&&h?_/a*n:r.width),j!==null&&_!==null)return[j,_];throw new Error("Unable to calculate background-size for element")},em=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},wje=function(e,t,r,n,a){var s=t[0],o=t[1],l=r[0],u=r[1];switch(e){case 2:return[new yr(Math.round(n.left),Math.round(n.top+o)),new yr(Math.round(n.left+n.width),Math.round(n.top+o)),new yr(Math.round(n.left+n.width),Math.round(u+n.top+o)),new yr(Math.round(n.left),Math.round(u+n.top+o))];case 3:return[new yr(Math.round(n.left+s),Math.round(n.top)),new yr(Math.round(n.left+s+l),Math.round(n.top)),new yr(Math.round(n.left+s+l),Math.round(n.height+n.top)),new yr(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new yr(Math.round(n.left+s),Math.round(n.top+o)),new yr(Math.round(n.left+s+l),Math.round(n.top+o)),new yr(Math.round(n.left+s+l),Math.round(n.top+o+u)),new yr(Math.round(n.left+s),Math.round(n.top+o+u))];default:return[new yr(Math.round(a.left),Math.round(a.top)),new yr(Math.round(a.left+a.width),Math.round(a.top)),new yr(Math.round(a.left+a.width),Math.round(a.height+a.top)),new yr(Math.round(a.left),Math.round(a.height+a.top))]}},Cje="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",R8="Hidden Text",Bje=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=Cje,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(R8)),n.appendChild(s),n.appendChild(a);var l=a.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(R8)),n.style.lineHeight="normal",a.style.verticalAlign="super";var u=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:u}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),WK=function(){function e(t,r){this.context=t,this.options=r}return e}(),jje=1e4,Sje=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Bje(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},t.prototype.applyEffect=function(r){this.ctx.save(),fje(r)&&(this.ctx.globalAlpha=r.opacity),dje(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),zK(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return ao(this,void 0,void 0,function(){var n;return Hs(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return ao(this,void 0,void 0,function(){return Hs(this,function(n){switch(n.label){case 0:if(Gi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,a){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=M_(r.text);o.reduce(function(l,u){return s.ctx.fillText(u,l,r.bounds.top+a),l+s.ctx.measureText(u).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Tje(r.fontFamily).join(", "),s=G0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,a].join(" "),a,s]},t.prototype.renderTextNode=function(r,n){return ao(this,void 0,void 0,function(){var a,s,o,l,u,A,f,h,p=this;return Hs(this,function(g){return a=this.createFontStyle(n),s=a[0],o=a[1],l=a[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(o,l),A=u.baseline,f=u.middle,h=n.paintOrder,r.textBounds.forEach(function(v){h.forEach(function(x){switch(x){case 0:p.ctx.fillStyle=as(n.color),p.renderTextWithLetterSpacing(v,n.letterSpacing,A);var b=n.textShadow;b.length&&v.text.trim().length&&(b.slice(0).reverse().forEach(function(w){p.ctx.shadowColor=as(w.color),p.ctx.shadowOffsetX=w.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=w.offsetY.number*p.options.scale,p.ctx.shadowBlur=w.blur.number,p.renderTextWithLetterSpacing(v,n.letterSpacing,A)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=as(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(w){switch(w){case 1:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+A),v.bounds.width,1);break;case 2:p.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:p.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+f),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(p.ctx.strokeStyle=as(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+A)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=z1(r),o=$1(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return ao(this,void 0,void 0,function(){var n,a,s,o,l,u,B,B,A,f,h,p,_,g,v,N,x,b,w,B,j,_,N;return Hs(this,function(O){switch(O.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,s=n.styles,o=0,l=n.textNodes,O.label=1;case 1:return o<l.length?(u=l[o],[4,this.renderTextNode(u,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof NK))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return B=O.sent(),this.renderReplacedElement(n,a,B),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof EK&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof kK))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return B=O.sent(),this.renderReplacedElement(n,a,B),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof FK&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:f=O.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),O.label=14;case 14:if(n instanceof R_&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===D1?n.checked&&(this.ctx.save(),this.path([new yr(n.bounds.left+h*.39363,n.bounds.top+h*.79),new yr(n.bounds.left+h*.16,n.bounds.top+h*.5549),new yr(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new yr(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new yr(n.bounds.left+h*.72983,n.bounds.top+h*.23),new yr(n.bounds.left+h*.84,n.bounds.top+h*.34085),new yr(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=as(N8),this.ctx.fill(),this.ctx.restore()):n.type===M1&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=as(N8),this.ctx.fill(),this.ctx.restore())),Nje(n)&&n.value.length){switch(p=this.createFontStyle(s),_=p[0],g=p[1],v=this.fontMetrics.getMetrics(_,g).baseline,this.ctx.font=_,this.ctx.fillStyle=as(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=kje(n.styles.textAlign),N=z1(n),x=0,n.styles.textAlign){case 1:x+=N.width/2;break;case 2:x+=N.width;break}b=N.add(x,0,0,-N.height/2+1),this.ctx.save(),this.path([new yr(N.left,N.top),new yr(N.left+N.width,N.top),new yr(N.left+N.width,N.top+N.height),new yr(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new my(n.value,b),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(w=n.styles.listStyleImage,w.type!==0)return[3,18];B=void 0,j=w.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return B=O.sent(),this.ctx.drawImage(B,n.bounds.left-(B.width+10),n.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(_=this.createFontStyle(s)[0],this.ctx.font=_,this.ctx.fillStyle=as(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new pA(n.bounds.left,n.bounds.top+ja(n.styles.paddingTop,n.bounds.width),n.bounds.width,u8(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new my(r.listValue,N),s.letterSpacing,u8(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return ao(this,void 0,void 0,function(){var n,a,w,s,o,w,l,u,w,A,f,w,h,p,w,g,v,w,x,b,w;return Hs(this,function(B){switch(B.label){case 0:if(Gi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),n=0,a=r.negativeZIndex,B.label=2;case 2:return n<a.length?(w=a[n],[4,this.renderStack(w)]):[3,5];case 3:B.sent(),B.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),s=0,o=r.nonInlineLevel,B.label=7;case 7:return s<o.length?(w=o[s],[4,this.renderNode(w)]):[3,10];case 8:B.sent(),B.label=9;case 9:return s++,[3,7];case 10:l=0,u=r.nonPositionedFloats,B.label=11;case 11:return l<u.length?(w=u[l],[4,this.renderStack(w)]):[3,14];case 12:B.sent(),B.label=13;case 13:return l++,[3,11];case 14:A=0,f=r.nonPositionedInlineLevel,B.label=15;case 15:return A<f.length?(w=f[A],[4,this.renderStack(w)]):[3,18];case 16:B.sent(),B.label=17;case 17:return A++,[3,15];case 18:h=0,p=r.inlineLevel,B.label=19;case 19:return h<p.length?(w=p[h],[4,this.renderNode(w)]):[3,22];case 20:B.sent(),B.label=21;case 21:return h++,[3,19];case 22:g=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return g<v.length?(w=v[g],[4,this.renderStack(w)]):[3,26];case 24:B.sent(),B.label=25;case 25:return g++,[3,23];case 26:x=0,b=r.positiveZIndex,B.label=27;case 27:return x<b.length?(w=b[x],[4,this.renderStack(w)]):[3,30];case 28:B.sent(),B.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(a,s){var o=El(a)?a.start:a;s===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),El(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},t.prototype.renderRepeat=function(r,n,a,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,s),this.ctx.fill(),this.ctx.translate(-a,-s)},t.prototype.resizeImage=function(r,n,a){var s;if(r.width===n&&r.height===a)return r;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var u=l.getContext("2d");return u.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},t.prototype.renderBackgroundImage=function(r){return ao(this,void 0,void 0,function(){var n,a,s,o,l,u;return Hs(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,a=function(f){var h,p,g,D,V,Y,Q,H,P,v,D,V,Y,Q,H,x,b,w,B,j,_,N,O,T,P,U,D,F,R,Q,H,J,V,Y,ee,ie,z,W,L,q,G,Z;return Hs(this,function(te){switch(te.label){case 0:if(f.type!==0)return[3,5];h=void 0,p=f.url,te.label=1;case 1:return te.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return h=te.sent(),[3,4];case 3:return te.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return h&&(g=mN(r,n,[h.width,h.height,h.width/h.height]),D=g[0],V=g[1],Y=g[2],Q=g[3],H=g[4],P=s.ctx.createPattern(s.resizeImage(h,Q,H),"repeat"),s.renderRepeat(D,P,V,Y)),[3,6];case 5:dCe(f)?(v=mN(r,n,[null,null,null]),D=v[0],V=v[1],Y=v[2],Q=v[3],H=v[4],x=oCe(f.angle,Q,H),b=x[0],w=x[1],B=x[2],j=x[3],_=x[4],N=document.createElement("canvas"),N.width=Q,N.height=H,O=N.getContext("2d"),T=O.createLinearGradient(w,j,B,_),l8(f.stops,b).forEach(function(fe){return T.addColorStop(fe.stop,as(fe.color))}),O.fillStyle=T,O.fillRect(0,0,Q,H),Q>0&&H>0&&(P=s.ctx.createPattern(N,"repeat"),s.renderRepeat(D,P,V,Y))):fCe(f)&&(U=mN(r,n,[null,null,null]),D=U[0],F=U[1],R=U[2],Q=U[3],H=U[4],J=f.position.length===0?[U_]:f.position,V=ja(J[0],Q),Y=ja(J[J.length-1],H),ee=lCe(f,V,Y,Q,H),ie=ee[0],z=ee[1],ie>0&&z>0&&(W=s.ctx.createRadialGradient(F+V,R+Y,0,F+V,R+Y,ie),l8(f.stops,ie*2).forEach(function(fe){return W.addColorStop(fe.stop,as(fe.color))}),s.path(D),s.ctx.fillStyle=W,ie!==z?(L=r.bounds.left+.5*r.bounds.width,q=r.bounds.top+.5*r.bounds.height,G=z/ie,Z=1/G,s.ctx.save(),s.ctx.translate(L,q),s.ctx.transform(1,0,0,G,0,0),s.ctx.translate(-L,-q),s.ctx.fillRect(F,Z*(R-q)+q,Q,H*Z),s.ctx.restore()):s.ctx.fill())),te.label=6;case 6:return n--,[2]}})},s=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<l.length?(u=l[o],[5,a(u)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,a){return ao(this,void 0,void 0,function(){return Hs(this,function(s){return this.path(M8(a,n)),this.ctx.fillStyle=as(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,a,s){return ao(this,void 0,void 0,function(){var o,l;return Hs(this,function(u){switch(u.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,s)]:[3,2];case 1:return u.sent(),[2];case 2:return o=pje(s,a),this.path(o),this.ctx.fillStyle=as(r),this.ctx.fill(),l=gje(s,a),this.path(l),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return ao(this,void 0,void 0,function(){var n,a,s,o,l,u,A,f,h=this;return Hs(this,function(p){switch(p.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!wd(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Eje(em(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),wd(n.backgroundColor)||(this.ctx.fillStyle=as(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){h.ctx.save();var v=H1(r.curves),x=g.inset?0:jje,b=hje(v,-x+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(h.path(v),h.ctx.clip(),h.mask(b)):(h.mask(v),h.ctx.clip(),h.path(b)),h.ctx.shadowOffsetX=g.offsetX.number+x,h.ctx.shadowOffsetY=g.offsetY.number,h.ctx.shadowColor=as(g.color),h.ctx.shadowBlur=g.blur.number,h.ctx.fillStyle=g.inset?as(g.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),p.label=2;case 2:l=0,u=0,A=s,p.label=3;case 3:return u<A.length?(f=A[u],f.style!==0&&!wd(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,l,r.curves,3)];case 6:return p.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,l,r.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,l,r.curves)];case 10:p.sent(),p.label=11;case 11:l++,p.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,a,s,o){return ao(this,void 0,void 0,function(){var l,u,A,f,h,p,g,v,x,b,w,B,j,_,N,O,N,O;return Hs(this,function(T){return this.ctx.save(),l=yje(s,a),u=M8(s,a),o===2&&(this.path(u),this.ctx.clip()),El(u[0])?(A=u[0].start.x,f=u[0].start.y):(A=u[0].x,f=u[0].y),El(u[1])?(h=u[1].end.x,p=u[1].end.y):(h=u[1].x,p=u[1].y),a===0||a===2?g=Math.abs(A-h):g=Math.abs(f-p),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(u.slice(0,2)),v=n<3?n*3:n*2,x=n<3?n*2:n,o===3&&(v=n,x=n),b=!0,g<=v*2?b=!1:g<=v*2+x?(w=g/(2*v+x),v*=w,x*=w):(B=Math.floor((g+x)/(v+x)),j=(g-B*v)/(B-1),_=(g-(B+1)*v)/B,x=_<=0||Math.abs(x-j)<Math.abs(x-_)?j:_),b&&(o===3?this.ctx.setLineDash([0,v+x]):this.ctx.setLineDash([v,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=as(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(El(u[0])&&(N=u[3],O=u[0],this.ctx.beginPath(),this.formatPath([new yr(N.end.x,N.end.y),new yr(O.start.x,O.start.y)]),this.ctx.stroke()),El(u[1])&&(N=u[1],O=u[2],this.ctx.beginPath(),this.formatPath([new yr(N.end.x,N.end.y),new yr(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return ao(this,void 0,void 0,function(){var n;return Hs(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=as(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=mje(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(WK),Nje=function(e){return e instanceof OK||e instanceof TK?!0:e instanceof R_&&e.type!==M1&&e.type!==D1},Eje=function(e,t){switch(e){case 0:return H1(t);case 2:return cje(t);case 1:default:return $1(t)}},kje=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},_je=["-apple-system","system-ui"],Tje=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return _je.indexOf(t)===-1}):e},Oje=function(e){kc(t,e);function t(r,n){var a=e.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t.prototype.render=function(r){return ao(this,void 0,void 0,function(){var n,a;return Hs(this,function(s){switch(s.label){case 0:return n=ck(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Fje(n)];case 1:return a=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=as(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(WK),Fje=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Pje=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,fx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,fx([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,fx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,fx([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Lje=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Pje({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new tje(this,t)}return e.instanceCount=1,e}(),x0=function(e,t){return t===void 0&&(t={}),Uje(e,t)};typeof window<"u"&&$K.setContext(window);var Uje=function(e,t){return ao(void 0,void 0,void 0,function(){var r,n,a,s,o,l,u,A,f,h,p,g,v,x,b,w,B,j,_,N,T,O,T,P,U,D,F,R,Q,H,J,V,Y,ee,ie,z,W,L,q,G;return Hs(this,function(Z){switch(Z.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(P=t.allowTaint)!==null&&P!==void 0?P:!1,imageTimeout:(U=t.imageTimeout)!==null&&U!==void 0?U:15e3,proxy:t.proxy,useCORS:(D=t.useCORS)!==null&&D!==void 0?D:!1},s=GE({logging:(F=t.logging)!==null&&F!==void 0?F:!0,cache:t.cache},a),o={windowWidth:(R=t.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(H=t.scrollX)!==null&&H!==void 0?H:n.pageXOffset,scrollY:(J=t.scrollY)!==null&&J!==void 0?J:n.pageYOffset},l=new pA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),u=new Lje(s,l),A=(V=t.foreignObjectRendering)!==null&&V!==void 0?V:!1,f={allowTaint:(Y=t.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},u.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new U8(u,e,f),p=h.clonedReferenceElement,p?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=Z.sent(),v=Q_(p)||D5e(p)?hwe(p.ownerDocument):Xw(u,p),x=v.width,b=v.height,w=v.left,B=v.top,j=Ije(u,p,t.backgroundColor),_={canvas:t.canvas,backgroundColor:j,scale:(ie=(ee=t.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&ie!==void 0?ie:1,x:((z=t.x)!==null&&z!==void 0?z:0)+w,y:((W=t.y)!==null&&W!==void 0?W:0)+B,width:(L=t.width)!==null&&L!==void 0?L:Math.ceil(x),height:(q=t.height)!==null&&q!==void 0?q:Math.ceil(b)},A?(u.logger.debug("Document cloned, using foreign object rendering"),T=new Oje(u,_),[4,T.render(p)]):[3,3];case 2:return N=Z.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+w+","+B+" with size "+x+"x"+b+" using computed rendering"),u.logger.debug("Starting DOM parsing"),O=LK(u,p),j===O.styles.backgroundColor&&(O.styles.backgroundColor=oA.TRANSPARENT),u.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),T=new Sje(u,_),[4,T.render(O)];case 4:N=Z.sent(),Z.label=5;case 5:return(!((G=t.removeContainer)!==null&&G!==void 0)||G)&&(U8.destroy(g)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,N]}})})},Ije=function(e,t,r){var n=t.ownerDocument,a=n.documentElement?fy(e,getComputedStyle(n.documentElement).backgroundColor):oA.TRANSPARENT,s=n.body?fy(e,getComputedStyle(n.body).backgroundColor):oA.TRANSPARENT,o=typeof r=="string"?fy(e,r):r===null?oA.TRANSPARENT:4294967295;return t===n.documentElement?wd(a)?wd(s)?o:s:a:o};const Dje=Object.freeze(Object.defineProperty({__proto__:null,default:x0},Symbol.toStringTag,{value:"Module"})),Mje="modulepreload",Rje=function(e){return"/"+e},Q8={},pN=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(A){return Promise.all(A.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(A=>{if(A=Rje(A),A in Q8)return;Q8[A]=!0;const f=A.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${A}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Mje,f||(p.as="script"),p.crossOrigin="",p.href=A,u&&p.setAttribute("nonce",u),document.head.appendChild(p),f)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${A}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}var Bc=Uint8Array,Jo=Uint16Array,H_=Int32Array,$_=new Bc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z_=new Bc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),H8=new Bc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YK=function(e,t){for(var r=new Jo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new H_(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},XK=YK($_,2),Qje=XK.b,pk=XK.r;Qje[28]=258,pk[258]=28;var Hje=YK(z_,0),$8=Hje.r,gk=new Jo(32768);for(var Pa=0;Pa<32768;++Pa){var JA=(Pa&43690)>>1|(Pa&21845)<<1;JA=(JA&52428)>>2|(JA&13107)<<2,JA=(JA&61680)>>4|(JA&3855)<<4,gk[Pa]=((JA&65280)>>8|(JA&255)<<8)>>1}var gy=function(e,t,r){for(var n=e.length,a=0,s=new Jo(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new Jo(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Jo(1<<t);var u=15-t;for(a=0;a<n;++a)if(e[a])for(var A=a<<4|e[a],f=t-e[a],h=o[e[a]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)l[gk[h]>>u]=A}else for(l=new Jo(n),a=0;a<n;++a)e[a]&&(l[a]=gk[o[e[a]-1]++]>>15-e[a]);return l},Yf=new Bc(288);for(var Pa=0;Pa<144;++Pa)Yf[Pa]=8;for(var Pa=144;Pa<256;++Pa)Yf[Pa]=9;for(var Pa=256;Pa<280;++Pa)Yf[Pa]=7;for(var Pa=280;Pa<288;++Pa)Yf[Pa]=8;var q1=new Bc(32);for(var Pa=0;Pa<32;++Pa)q1[Pa]=5;var $je=gy(Yf,9,0),zje=gy(q1,5,0),JK=function(e){return(e+7)/8|0},qje=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Bc(e.subarray(t,r))},Ku=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Ug=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},gN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:eG,l:0};if(a==1){var o=new Bc(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,O){return N.f-O.f}),r.push({s:-1,f:25001});var l=r[0],u=r[1],A=0,f=1,h=2;for(r[0]={s:-1,f:l.f+u.f,l,r:u};f!=a-1;)l=r[r[A].f<r[h].f?A++:h++],u=r[A!=f&&r[A].f<r[h].f?A++:h++],r[f++]={s:-1,f:l.f+u.f,l,r:u};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var g=new Jo(p+1),v=yk(r[f-1],g,0);if(v>t){var n=0,x=0,b=v-t,w=1<<b;for(s.sort(function(O,T){return g[T.s]-g[O.s]||O.f-T.f});n<a;++n){var B=s[n].s;if(g[B]>t)x+=w-(1<<v-g[B]),g[B]=t;else break}for(x>>=b;x>0;){var j=s[n].s;g[j]<t?x-=1<<t-g[j]++-1:++n}for(;n>=0&&x;--n){var _=s[n].s;g[_]==t&&(--g[_],++x)}v=t}return{t:new Bc(g),l:v}},yk=function(e,t,r){return e.s==-1?Math.max(yk(e.l,t,r+1),yk(e.r,t,r+1)):t[e.s]=r},z8=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jo(++t),n=0,a=e[0],s=1,o=function(u){r[n++]=u},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},Ig=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ZK=function(e,t,r){var n=r.length,a=JK(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},q8=function(e,t,r,n,a,s,o,l,u,A,f){Ku(t,f++,r),++a[256];for(var h=gN(a,15),p=h.t,g=h.l,v=gN(s,15),x=v.t,b=v.l,w=z8(p),B=w.c,j=w.n,_=z8(x),N=_.c,O=_.n,T=new Jo(19),P=0;P<B.length;++P)++T[B[P]&31];for(var P=0;P<N.length;++P)++T[N[P]&31];for(var U=gN(T,7),D=U.t,F=U.l,R=19;R>4&&!D[H8[R-1]];--R);var Q=A+5<<3,H=Ig(a,Yf)+Ig(s,q1)+o,J=Ig(a,p)+Ig(s,x)+o+14+3*R+Ig(T,D)+2*T[16]+3*T[17]+7*T[18];if(u>=0&&Q<=H&&Q<=J)return ZK(t,f,e.subarray(u,u+A));var V,Y,ee,ie;if(Ku(t,f,1+(J<H)),f+=2,J<H){V=gy(p,g,0),Y=p,ee=gy(x,b,0),ie=x;var z=gy(D,F,0);Ku(t,f,j-257),Ku(t,f+5,O-1),Ku(t,f+10,R-4),f+=14;for(var P=0;P<R;++P)Ku(t,f+3*P,D[H8[P]]);f+=3*R;for(var W=[B,N],L=0;L<2;++L)for(var q=W[L],P=0;P<q.length;++P){var G=q[P]&31;Ku(t,f,z[G]),f+=D[G],G>15&&(Ku(t,f,q[P]>>5&127),f+=q[P]>>12)}}else V=$je,Y=Yf,ee=zje,ie=q1;for(var P=0;P<l;++P){var Z=n[P];if(Z>255){var G=Z>>18&31;Ug(t,f,V[G+257]),f+=Y[G+257],G>7&&(Ku(t,f,Z>>23&31),f+=$_[G]);var te=Z&31;Ug(t,f,ee[te]),f+=ie[te],te>3&&(Ug(t,f,Z>>5&8191),f+=z_[te])}else Ug(t,f,V[Z]),f+=Y[Z]}return Ug(t,f,V[256]),f+Y[256]},Vje=new H_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eG=new Bc(0),Kje=function(e,t,r,n,a,s){var o=s.z||e.length,l=new Bc(n+o+5*(1+Math.ceil(o/7e3))+a),u=l.subarray(n,l.length-a),A=s.l,f=(s.r||0)&7;if(t){f&&(u[0]=s.r>>3);for(var h=Vje[t-1],p=h>>13,g=h&8191,v=(1<<r)-1,x=s.p||new Jo(32768),b=s.h||new Jo(v+1),w=Math.ceil(r/3),B=2*w,j=function(ke){return(e[ke]^e[ke+1]<<w^e[ke+2]<<B)&v},_=new H_(25e3),N=new Jo(288),O=new Jo(32),T=0,P=0,U=s.i||0,D=0,F=s.w||0,R=0;U+2<o;++U){var Q=j(U),H=U&32767,J=b[Q];if(x[H]=J,b[Q]=H,F<=U){var V=o-U;if((T>7e3||D>24576)&&(V>423||!A)){f=q8(e,u,0,_,N,O,P,D,R,U-R,f),D=T=P=0,R=U;for(var Y=0;Y<286;++Y)N[Y]=0;for(var Y=0;Y<30;++Y)O[Y]=0}var ee=2,ie=0,z=g,W=H-J&32767;if(V>2&&Q==j(U-W))for(var L=Math.min(p,V)-1,q=Math.min(32767,U),G=Math.min(258,V);W<=q&&--z&&H!=J;){if(e[U+ee]==e[U+ee-W]){for(var Z=0;Z<G&&e[U+Z]==e[U+Z-W];++Z);if(Z>ee){if(ee=Z,ie=W,Z>L)break;for(var te=Math.min(W,Z-2),fe=0,Y=0;Y<te;++Y){var we=U-W+Y&32767,he=x[we],ce=we-he&32767;ce>fe&&(fe=ce,J=we)}}}H=J,J=x[H],W+=H-J&32767}if(ie){_[D++]=268435456|pk[ee]<<18|$8[ie];var xe=pk[ee]&31,ge=$8[ie]&31;P+=$_[xe]+z_[ge],++N[257+xe],++O[ge],F=U+ee,++T}else _[D++]=e[U],++N[e[U]]}}for(U=Math.max(U,F);U<o;++U)_[D++]=e[U],++N[e[U]];f=q8(e,u,A,_,N,O,P,D,R,U-R,f),A||(s.r=f&7|u[f/8|0]<<3,f-=7,s.h=b,s.p=x,s.i=U,s.w=F)}else{for(var U=s.w||0;U<o+A;U+=65535){var Pe=U+65535;Pe>=o&&(u[f/8|0]=A,Pe=o),f=ZK(u,f+1,e.subarray(U,Pe))}s.i=o}return qje(l,0,n+JK(f)+a)},tG=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Gje=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Bc(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return Kje(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},rG=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Wje=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=tG();a.p(t.dictionary),rG(e,2,a.d())}};function vk(e,t){t||(t={});var r=tG();r.p(e);var n=Gje(e,t,t.dictionary?6:2,4);return Wje(n,t),rG(n,n.length-4,r.d()),n}var Yje=typeof TextDecoder<"u"&&new TextDecoder,Xje=0;try{Yje.decode(eG,{stream:!0}),Xje=1}catch{}function Jje(e){if(Array.isArray(e))return e}function Zje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],u=!0,A=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(u=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(f){A=!0,a=f}finally{try{if(!u&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(A)throw a}}return l}}function V8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eSe(e,t){if(e){if(typeof e=="string")return V8(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V8(e,t):void 0}}function tSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8(e,t){return Jje(e)||Zje(e,t)||eSe(e,t)||tSe()}function G8(e,t="utf8"){return new TextDecoder(t).decode(e)}const rSe=new TextEncoder;function nSe(e){return rSe.encode(e)}const aSe=1024*8,iSe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),yN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class q_{constructor(t=aSe,r={}){sa(this,"buffer");sa(this,"byteLength");sa(this,"byteOffset");sa(this,"length");sa(this,"offset");sa(this,"lastWrittenByte");sa(this,"littleEndian");sa(this,"_data");sa(this,"_mark");sa(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,s=t.byteLength-a;let o=a;(ArrayBuffer.isView(t)||t instanceof q_)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=yN[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===iSe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const u=new yN[r](l.buffer);return this.offset+=n,u.reverse(),u}const o=new yN[r](s);return this.offset+=n,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return G8(this.readBytes(t))}decodeText(t=1,r="utf8"){return G8(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(nSe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function jp(e){let t=e.length;for(;--t>=0;)e[t]=0}const sSe=3,oSe=258,nG=29,lSe=256,cSe=lSe+1+nG,aG=30,uSe=512,ASe=new Array((cSe+2)*2);jp(ASe);const dSe=new Array(aG*2);jp(dSe);const fSe=new Array(uSe);jp(fSe);const hSe=new Array(oSe-sSe+1);jp(hSe);const mSe=new Array(nG);jp(mSe);const pSe=new Array(aG);jp(pSe);const gSe=(e,t,r,n)=>{let a=e&65535|0,s=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+t[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var xk=gSe;const ySe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},vSe=new Uint32Array(ySe()),xSe=(e,t,r,n)=>{const a=vSe,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^a[(e^t[o])&255];return e^-1};var Jc=xSe,bk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},iG={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bSe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var wSe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bSe(r,n)&&(e[n]=r[n])}}return e},CSe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,s=e.length;n<s;n++){let o=e[n];r.set(o,a),a+=o.length}return r},sG={assign:wSe,flattenChunks:CSe};let oG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oG=!1}const b0=new Uint8Array(256);for(let e=0;e<256;e++)b0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;b0[254]=b0[254]=1;var BSe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,s,o=e.length,l=0;for(a=0;a<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(l),s=0,a=0;s<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const jSe=(e,t)=>{if(t<65534&&e.subarray&&oG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var SSe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=e[n++];if(o<128){s[a++]=o;continue}let l=b0[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|e[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return jSe(s,a)},NSe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+b0[e[r]]>t?r:t},wk={string2buf:BSe,buf2string:SSe,utf8border:NSe};function ESe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kSe=ESe;const Ux=16209,_Se=16191;var TSe=function(t,r){let n,a,s,o,l,u,A,f,h,p,g,v,x,b,w,B,j,_,N,O,T,P,U,D;const F=t.state;n=t.next_in,U=t.input,a=n+(t.avail_in-5),s=t.next_out,D=t.output,o=s-(r-t.avail_out),l=s+(t.avail_out-257),u=F.dmax,A=F.wsize,f=F.whave,h=F.wnext,p=F.window,g=F.hold,v=F.bits,x=F.lencode,b=F.distcode,w=(1<<F.lenbits)-1,B=(1<<F.distbits)-1;e:do{v<15&&(g+=U[n++]<<v,v+=8,g+=U[n++]<<v,v+=8),j=x[g&w];t:for(;;){if(_=j>>>24,g>>>=_,v-=_,_=j>>>16&255,_===0)D[s++]=j&65535;else if(_&16){N=j&65535,_&=15,_&&(v<_&&(g+=U[n++]<<v,v+=8),N+=g&(1<<_)-1,g>>>=_,v-=_),v<15&&(g+=U[n++]<<v,v+=8,g+=U[n++]<<v,v+=8),j=b[g&B];r:for(;;){if(_=j>>>24,g>>>=_,v-=_,_=j>>>16&255,_&16){if(O=j&65535,_&=15,v<_&&(g+=U[n++]<<v,v+=8,v<_&&(g+=U[n++]<<v,v+=8)),O+=g&(1<<_)-1,O>u){t.msg="invalid distance too far back",F.mode=Ux;break e}if(g>>>=_,v-=_,_=s-o,O>_){if(_=O-_,_>f&&F.sane){t.msg="invalid distance too far back",F.mode=Ux;break e}if(T=0,P=p,h===0){if(T+=A-_,_<N){N-=_;do D[s++]=p[T++];while(--_);T=s-O,P=D}}else if(h<_){if(T+=A+h-_,_-=h,_<N){N-=_;do D[s++]=p[T++];while(--_);if(T=0,h<N){_=h,N-=_;do D[s++]=p[T++];while(--_);T=s-O,P=D}}}else if(T+=h-_,_<N){N-=_;do D[s++]=p[T++];while(--_);T=s-O,P=D}for(;N>2;)D[s++]=P[T++],D[s++]=P[T++],D[s++]=P[T++],N-=3;N&&(D[s++]=P[T++],N>1&&(D[s++]=P[T++]))}else{T=s-O;do D[s++]=D[T++],D[s++]=D[T++],D[s++]=D[T++],N-=3;while(N>2);N&&(D[s++]=D[T++],N>1&&(D[s++]=D[T++]))}}else if((_&64)===0){j=b[(j&65535)+(g&(1<<_)-1)];continue r}else{t.msg="invalid distance code",F.mode=Ux;break e}break}}else if((_&64)===0){j=x[(j&65535)+(g&(1<<_)-1)];continue t}else if(_&32){F.mode=_Se;break e}else{t.msg="invalid literal/length code",F.mode=Ux;break e}break}}while(n<a&&s<l);N=v>>3,n-=N,v-=N<<3,g&=(1<<v)-1,t.next_in=n,t.next_out=s,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=s<l?257+(l-s):257-(s-l),F.hold=g,F.bits=v};const Wh=15,W8=852,Y8=592,X8=0,vN=1,J8=2,OSe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),FSe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),PSe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),LSe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),USe=(e,t,r,n,a,s,o,l)=>{const u=l.bits;let A=0,f=0,h=0,p=0,g=0,v=0,x=0,b=0,w=0,B=0,j,_,N,O,T,P=null,U;const D=new Uint16Array(Wh+1),F=new Uint16Array(Wh+1);let R=null,Q,H,J;for(A=0;A<=Wh;A++)D[A]=0;for(f=0;f<n;f++)D[t[r+f]]++;for(g=u,p=Wh;p>=1&&D[p]===0;p--);if(g>p&&(g=p),p===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&D[h]===0;h++);for(g<h&&(g=h),b=1,A=1;A<=Wh;A++)if(b<<=1,b-=D[A],b<0)return-1;if(b>0&&(e===X8||p!==1))return-1;for(F[1]=0,A=1;A<Wh;A++)F[A+1]=F[A]+D[A];for(f=0;f<n;f++)t[r+f]!==0&&(o[F[t[r+f]]++]=f);if(e===X8?(P=R=o,U=20):e===vN?(P=OSe,R=FSe,U=257):(P=PSe,R=LSe,U=0),B=0,f=0,A=h,T=s,v=g,x=0,N=-1,w=1<<g,O=w-1,e===vN&&w>W8||e===J8&&w>Y8)return 1;for(;;){Q=A-x,o[f]+1<U?(H=0,J=o[f]):o[f]>=U?(H=R[o[f]-U],J=P[o[f]-U]):(H=96,J=0),j=1<<A-x,_=1<<v,h=_;do _-=j,a[T+(B>>x)+_]=Q<<24|H<<16|J|0;while(_!==0);for(j=1<<A-1;B&j;)j>>=1;if(j!==0?(B&=j-1,B+=j):B=0,f++,--D[A]===0){if(A===p)break;A=t[r+o[f]]}if(A>g&&(B&O)!==N){for(x===0&&(x=g),T+=h,v=A-x,b=1<<v;v+x<p&&(b-=D[v+x],!(b<=0));)v++,b<<=1;if(w+=1<<v,e===vN&&w>W8||e===J8&&w>Y8)return 1;N=B&O,a[N]=g<<24|v<<16|T-s|0}}return B!==0&&(a[T+B]=A-x<<24|64<<16|0),l.bits=g,0};var yy=USe;const ISe=0,lG=1,cG=2,{Z_FINISH:Z8,Z_BLOCK:DSe,Z_TREES:Ix,Z_OK:Xf,Z_STREAM_END:MSe,Z_NEED_DICT:RSe,Z_STREAM_ERROR:Dl,Z_DATA_ERROR:uG,Z_MEM_ERROR:AG,Z_BUF_ERROR:QSe,Z_DEFLATED:eQ}=iG,o2=16180,tQ=16181,rQ=16182,nQ=16183,aQ=16184,iQ=16185,sQ=16186,oQ=16187,lQ=16188,cQ=16189,V1=16190,Gu=16191,xN=16192,uQ=16193,bN=16194,AQ=16195,dQ=16196,fQ=16197,hQ=16198,Dx=16199,Mx=16200,mQ=16201,pQ=16202,gQ=16203,yQ=16204,vQ=16205,wN=16206,xQ=16207,bQ=16208,Da=16209,dG=16210,fG=16211,HSe=852,$Se=592,zSe=15,qSe=zSe,wQ=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function VSe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ah=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<o2||t.mode>fG?1:0},hG=e=>{if(ah(e))return Dl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=o2,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(HSe),t.distcode=t.distdyn=new Int32Array($Se),t.sane=1,t.back=-1,Xf},mG=e=>{if(ah(e))return Dl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,hG(e)},pG=(e,t)=>{let r;if(ah(e))return Dl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Dl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,mG(e))},gG=(e,t)=>{if(!e)return Dl;const r=new VSe;e.state=r,r.strm=e,r.window=null,r.mode=o2;const n=pG(e,t);return n!==Xf&&(e.state=null),n},KSe=e=>gG(e,qSe);let CQ=!0,CN,BN;const GSe=e=>{if(CQ){CN=new Int32Array(512),BN=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yy(lG,e.lens,0,288,CN,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yy(cG,e.lens,0,32,BN,0,e.work,{bits:5}),CQ=!1}e.lencode=CN,e.lenbits=9,e.distcode=BN,e.distbits=5},yG=(e,t,r,n)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(t.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},WSe=(e,t)=>{let r,n,a,s,o,l,u,A,f,h,p,g,v,x,b=0,w,B,j,_,N,O,T,P;const U=new Uint8Array(4);let D,F;const R=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ah(e)||!e.output||!e.input&&e.avail_in!==0)return Dl;r=e.state,r.mode===Gu&&(r.mode=xN),o=e.next_out,a=e.output,u=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,A=r.hold,f=r.bits,h=l,p=u,P=Xf;e:for(;;)switch(r.mode){case o2:if(r.wrap===0){r.mode=xN;break}for(;f<16;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(r.wrap&2&&A===35615){r.wbits===0&&(r.wbits=15),r.check=0,U[0]=A&255,U[1]=A>>>8&255,r.check=Jc(r.check,U,2,0),A=0,f=0,r.mode=tQ;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((A&255)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=Da;break}if((A&15)!==eQ){e.msg="unknown compression method",r.mode=Da;break}if(A>>>=4,f-=4,T=(A&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){e.msg="invalid window size",r.mode=Da;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=A&512?cQ:Gu,A=0,f=0;break;case tQ:for(;f<16;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(r.flags=A,(r.flags&255)!==eQ){e.msg="unknown compression method",r.mode=Da;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Da;break}r.head&&(r.head.text=A>>8&1),r.flags&512&&r.wrap&4&&(U[0]=A&255,U[1]=A>>>8&255,r.check=Jc(r.check,U,2,0)),A=0,f=0,r.mode=rQ;case rQ:for(;f<32;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.head&&(r.head.time=A),r.flags&512&&r.wrap&4&&(U[0]=A&255,U[1]=A>>>8&255,U[2]=A>>>16&255,U[3]=A>>>24&255,r.check=Jc(r.check,U,4,0)),A=0,f=0,r.mode=nQ;case nQ:for(;f<16;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=A&255,r.head.os=A>>8),r.flags&512&&r.wrap&4&&(U[0]=A&255,U[1]=A>>>8&255,r.check=Jc(r.check,U,2,0)),A=0,f=0,r.mode=aQ;case aQ:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.length=A,r.head&&(r.head.extra_len=A),r.flags&512&&r.wrap&4&&(U[0]=A&255,U[1]=A>>>8&255,r.check=Jc(r.check,U,2,0)),A=0,f=0}else r.head&&(r.head.extra=null);r.mode=iQ;case iQ:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+g),T)),r.flags&512&&r.wrap&4&&(r.check=Jc(r.check,n,g,s)),l-=g,s+=g,r.length-=g),r.length))break e;r.length=0,r.mode=sQ;case sQ:if(r.flags&2048){if(l===0)break e;g=0;do T=n[s+g++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Jc(r.check,n,g,s)),l-=g,s+=g,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=oQ;case oQ:if(r.flags&4096){if(l===0)break e;g=0;do T=n[s+g++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Jc(r.check,n,g,s)),l-=g,s+=g,T)break e}else r.head&&(r.head.comment=null);r.mode=lQ;case lQ:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(r.wrap&4&&A!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Da;break}A=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Gu;break;case cQ:for(;f<32;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}e.adler=r.check=wQ(A),A=0,f=0,r.mode=V1;case V1:if(r.havedict===0)return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=l,r.hold=A,r.bits=f,RSe;e.adler=r.check=1,r.mode=Gu;case Gu:if(t===DSe||t===Ix)break e;case xN:if(r.last){A>>>=f&7,f-=f&7,r.mode=wN;break}for(;f<3;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}switch(r.last=A&1,A>>>=1,f-=1,A&3){case 0:r.mode=uQ;break;case 1:if(GSe(r),r.mode=Dx,t===Ix){A>>>=2,f-=2;break e}break;case 2:r.mode=dQ;break;case 3:e.msg="invalid block type",r.mode=Da}A>>>=2,f-=2;break;case uQ:for(A>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if((A&65535)!==(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Da;break}if(r.length=A&65535,A=0,f=0,r.mode=bN,t===Ix)break e;case bN:r.mode=AQ;case AQ:if(g=r.length,g){if(g>l&&(g=l),g>u&&(g=u),g===0)break e;a.set(n.subarray(s,s+g),o),l-=g,s+=g,u-=g,o+=g,r.length-=g;break}r.mode=Gu;break;case dQ:for(;f<14;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(r.nlen=(A&31)+257,A>>>=5,f-=5,r.ndist=(A&31)+1,A>>>=5,f-=5,r.ncode=(A&15)+4,A>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Da;break}r.have=0,r.mode=fQ;case fQ:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.lens[R[r.have++]]=A&7,A>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},P=yy(ISe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,P){e.msg="invalid code lengths set",r.mode=Da;break}r.have=0,r.mode=hQ;case hQ:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[A&(1<<r.lenbits)-1],w=b>>>24,B=b>>>16&255,j=b&65535,!(w<=f);){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(j<16)A>>>=w,f-=w,r.lens[r.have++]=j;else{if(j===16){for(F=w+2;f<F;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(A>>>=w,f-=w,r.have===0){e.msg="invalid bit length repeat",r.mode=Da;break}T=r.lens[r.have-1],g=3+(A&3),A>>>=2,f-=2}else if(j===17){for(F=w+3;f<F;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}A>>>=w,f-=w,T=0,g=3+(A&7),A>>>=3,f-=3}else{for(F=w+7;f<F;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}A>>>=w,f-=w,T=0,g=11+(A&127),A>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Da;break}for(;g--;)r.lens[r.have++]=T}}if(r.mode===Da)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Da;break}if(r.lenbits=9,D={bits:r.lenbits},P=yy(lG,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,P){e.msg="invalid literal/lengths set",r.mode=Da;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},P=yy(cG,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,P){e.msg="invalid distances set",r.mode=Da;break}if(r.mode=Dx,t===Ix)break e;case Dx:r.mode=Mx;case Mx:if(l>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=l,r.hold=A,r.bits=f,TSe(e,p),o=e.next_out,a=e.output,u=e.avail_out,s=e.next_in,n=e.input,l=e.avail_in,A=r.hold,f=r.bits,r.mode===Gu&&(r.back=-1);break}for(r.back=0;b=r.lencode[A&(1<<r.lenbits)-1],w=b>>>24,B=b>>>16&255,j=b&65535,!(w<=f);){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(B&&(B&240)===0){for(_=w,N=B,O=j;b=r.lencode[O+((A&(1<<_+N)-1)>>_)],w=b>>>24,B=b>>>16&255,j=b&65535,!(_+w<=f);){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}A>>>=_,f-=_,r.back+=_}if(A>>>=w,f-=w,r.back+=w,r.length=j,B===0){r.mode=vQ;break}if(B&32){r.back=-1,r.mode=Gu;break}if(B&64){e.msg="invalid literal/length code",r.mode=Da;break}r.extra=B&15,r.mode=mQ;case mQ:if(r.extra){for(F=r.extra;f<F;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pQ;case pQ:for(;b=r.distcode[A&(1<<r.distbits)-1],w=b>>>24,B=b>>>16&255,j=b&65535,!(w<=f);){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if((B&240)===0){for(_=w,N=B,O=j;b=r.distcode[O+((A&(1<<_+N)-1)>>_)],w=b>>>24,B=b>>>16&255,j=b&65535,!(_+w<=f);){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}A>>>=_,f-=_,r.back+=_}if(A>>>=w,f-=w,r.back+=w,B&64){e.msg="invalid distance code",r.mode=Da;break}r.offset=j,r.extra=B&15,r.mode=gQ;case gQ:if(r.extra){for(F=r.extra;f<F;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Da;break}r.mode=yQ;case yQ:if(u===0)break e;if(g=p-u,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Da;break}g>r.wnext?(g-=r.wnext,v=r.wsize-g):v=r.wnext-g,g>r.length&&(g=r.length),x=r.window}else x=a,v=o-r.offset,g=r.length;g>u&&(g=u),u-=g,r.length-=g;do a[o++]=x[v++];while(--g);r.length===0&&(r.mode=Mx);break;case vQ:if(u===0)break e;a[o++]=r.length,u--,r.mode=Mx;break;case wN:if(r.wrap){for(;f<32;){if(l===0)break e;l--,A|=n[s++]<<f,f+=8}if(p-=u,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Jc(r.check,a,p,o-p):xk(r.check,a,p,o-p)),p=u,r.wrap&4&&(r.flags?A:wQ(A))!==r.check){e.msg="incorrect data check",r.mode=Da;break}A=0,f=0}r.mode=xQ;case xQ:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,A+=n[s++]<<f,f+=8}if(r.wrap&4&&A!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Da;break}A=0,f=0}r.mode=bQ;case bQ:P=MSe;break e;case Da:P=uG;break e;case dG:return AG;case fG:default:return Dl}return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=l,r.hold=A,r.bits=f,(r.wsize||p!==e.avail_out&&r.mode<Da&&(r.mode<wN||t!==Z8))&&yG(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?Jc(r.check,a,p,e.next_out-p):xk(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Gu?128:0)+(r.mode===Dx||r.mode===bN?256:0),(h===0&&p===0||t===Z8)&&P===Xf&&(P=QSe),P},YSe=e=>{if(ah(e))return Dl;let t=e.state;return t.window&&(t.window=null),e.state=null,Xf},XSe=(e,t)=>{if(ah(e))return Dl;const r=e.state;return(r.wrap&2)===0?Dl:(r.head=t,t.done=!1,Xf)},JSe=(e,t)=>{const r=t.length;let n,a,s;return ah(e)||(n=e.state,n.wrap!==0&&n.mode!==V1)?Dl:n.mode===V1&&(a=1,a=xk(a,t,r,0),a!==n.check)?uG:(s=yG(e,t,r,r),s?(n.mode=dG,AG):(n.havedict=1,Xf))};var ZSe=mG,eNe=pG,tNe=hG,rNe=KSe,nNe=gG,aNe=WSe,iNe=YSe,sNe=XSe,oNe=JSe,lNe="pako inflate (from Nodeca project)",Ju={inflateReset:ZSe,inflateReset2:eNe,inflateResetKeep:tNe,inflateInit:rNe,inflateInit2:nNe,inflate:aNe,inflateEnd:iNe,inflateGetHeader:sNe,inflateSetDictionary:oNe,inflateInfo:lNe};function cNe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var uNe=cNe;const vG=Object.prototype.toString,{Z_NO_FLUSH:ANe,Z_FINISH:dNe,Z_OK:w0,Z_STREAM_END:jN,Z_NEED_DICT:SN,Z_STREAM_ERROR:fNe,Z_DATA_ERROR:BQ,Z_MEM_ERROR:hNe}=iG;function W0(e){this.options=sG.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kSe,this.strm.avail_out=0;let r=Ju.inflateInit2(this.strm,t.windowBits);if(r!==w0)throw new Error(bk[r]);if(this.header=new uNe,Ju.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=wk.string2buf(t.dictionary):vG.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ju.inflateSetDictionary(this.strm,t.dictionary),r!==w0)))throw new Error(bk[r])}W0.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?dNe:ANe,vG.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Ju.inflate(r,o),s===SN&&a&&(s=Ju.inflateSetDictionary(r,a),s===w0?s=Ju.inflate(r,o):s===BQ&&(s=SN));r.avail_in>0&&s===jN&&r.state.wrap>0&&e[r.next_in]!==0;)Ju.inflateReset(r),s=Ju.inflate(r,o);switch(s){case fNe:case BQ:case SN:case hNe:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===jN))if(this.options.to==="string"){let u=wk.utf8border(r.output,r.next_out),A=r.next_out-u,f=wk.buf2string(r.output,u);r.next_out=A,r.avail_out=n-A,A&&r.output.set(r.output.subarray(u,u+A),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===w0&&l===0)){if(s===jN)return s=Ju.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};W0.prototype.onData=function(e){this.chunks.push(e)};W0.prototype.onEnd=function(e){e===w0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function mNe(e,t){const r=new W0(t);if(r.push(e),r.err)throw r.msg||bk[r.err];return r.result}var pNe=W0,gNe=mNe,yNe={Inflate:pNe,inflate:gNe};const{Inflate:vNe,inflate:xNe}=yNe;var jQ=vNe,bNe=xNe;const xG=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;xG[e]=t}const SQ=4294967295;function wNe(e,t,r){let n=e;for(let a=0;a<r;a++)n=xG[(n^t[a])&255]^n>>>8;return n}function CNe(e,t){return(wNe(SQ,e,t)^SQ)>>>0}function NQ(e,t,r){const n=e.readUint32(),a=CNe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function bG(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function wG(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function CG(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function BG(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-a]+r[s]>>1)&255}}function jG(e,t,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+BNe(t[s-a],r[s],r[s-a])&255}}function BNe(e,t,r){const n=e+t-r,a=Math.abs(n-e),s=Math.abs(n-t),o=Math.abs(n-r);return a<=s&&a<=o?e:s<=o?t:r}function jNe(e,t,r,n,a,s){switch(e){case 0:bG(t,r,a);break;case 1:wG(t,r,a,s);break;case 2:CG(t,r,n,a);break;case 3:BG(t,r,n,a,s);break;case 4:jG(t,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const SNe=new Uint16Array([255]),NNe=new Uint8Array(SNe.buffer),ENe=NNe[0]===255;function kNe(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,u=new Uint8Array(n*r*l);let A=0;for(let f=0;f<7;f++){const h=o[f],p=Math.ceil((r-h.x)/h.xStep),g=Math.ceil((n-h.y)/h.yStep);if(p<=0||g<=0)continue;const v=p*l,x=new Uint8Array(v);for(let b=0;b<g;b++){const w=t[A++],B=t.subarray(A,A+v);A+=v;const j=new Uint8Array(v);jNe(w,B,j,x,v,l),x.set(j);for(let _=0;_<p;_++){const N=h.x+_*h.xStep,O=h.y+b*h.yStep;if(!(N>=r||O>=n))for(let T=0;T<l;T++)u[(O*r+N)*l+T]=j[_*l+T]}}}if(s===16){const f=new Uint16Array(u.buffer);if(ENe)for(let h=0;h<f.length;h++)f[h]=_Ne(f[h]);return f}else return u}function _Ne(e){return(e&255)<<8|e>>8&255}const TNe=new Uint16Array([255]),ONe=new Uint8Array(TNe.buffer),FNe=ONe[0]===255,PNe=new Uint8Array(0);function EQ(e){const{data:t,width:r,height:n,channels:a,depth:s}=e,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),u=new Uint8Array(n*l);let A=PNe,f=0,h,p;for(let g=0;g<n;g++){switch(h=t.subarray(f+1,f+1+l),p=u.subarray(g*l,(g+1)*l),t[f]){case 0:bG(h,p,l);break;case 1:wG(h,p,l,o);break;case 2:CG(h,p,A,l);break;case 3:BG(h,p,A,l,o);break;case 4:jG(h,p,A,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}A=p,f+=l+1}if(s===16){const g=new Uint16Array(u.buffer);if(FNe)for(let v=0;v<g.length;v++)g[v]=LNe(g[v]);return g}else return u}function LNe(e){return(e&255)<<8|e>>8&255}const hb=Uint8Array.of(137,80,78,71,13,10,26,10);function kQ(e){if(!UNe(e.readBytes(hb.length)))throw new Error("wrong PNG signature")}function UNe(e){if(e.length<hb.length)return!1;for(let t=0;t<hb.length;t++)if(e[t]!==hb[t])return!1;return!0}const INe="tEXt",DNe=0,SG=new TextDecoder("latin1");function MNe(e){if(QNe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const RNe=/^[\u0000-\u00FF]*$/;function QNe(e){if(!RNe.test(e))throw new Error("invalid latin1 text")}function HNe(e,t,r){const n=NG(t);e[n]=$Ne(t,r-n.length-1)}function NG(e){for(e.mark();e.readByte()!==DNe;);const t=e.offset;e.reset();const r=SG.decode(e.readBytes(t-e.offset-1));return e.skip(1),MNe(r),r}function $Ne(e,t){return SG.decode(e.readBytes(t))}const qo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},NN={UNKNOWN:-1,DEFLATE:0},_Q={UNKNOWN:-1,ADAPTIVE:0},EN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Rx={NONE:0,BACKGROUND:1,PREVIOUS:2},kN={SOURCE:0,OVER:1};class zNe extends q_{constructor(r,n={}){super(r);sa(this,"_checkCrc");sa(this,"_inflator");sa(this,"_png");sa(this,"_apng");sa(this,"_end");sa(this,"_hasPalette");sa(this,"_palette");sa(this,"_hasTransparency");sa(this,"_transparency");sa(this,"_compressionMethod");sa(this,"_filterMethod");sa(this,"_interlaceMethod");sa(this,"_colorType");sa(this,"_isAnimated");sa(this,"_numberOfFrames");sa(this,"_numberOfPlays");sa(this,"_frames");sa(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new jQ,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=NN.UNKNOWN,this._filterMethod=_Q.UNKNOWN,this._interlaceMethod=EN.UNKNOWN,this._colorType=qo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kQ(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(kQ(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case INe:HNe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NQ(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?NQ(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=qNe(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case qo.GREYSCALE:a=1;break;case qo.TRUECOLOUR:a=3;break;case qo.INDEXED_COLOUR:a=1;break;case qo.GREYSCALE_ALPHA:a=2;break;case qo.TRUECOLOUR_ALPHA:a=4;break;case qo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==NN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case qo.GREYSCALE:case qo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case qo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qo.UNKNOWN:case qo.GREYSCALE_ALPHA:case qo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=NG(this),a=this.readUint8();if(a!==NN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:bNe(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=EQ({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Rx.NONE:break;case Rx.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let u=0;u<this._png.channels;u++)a.data[l+u]=0}break;case Rx.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const u=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,A=(o*n.width+l)*this._png.channels;return{index:u,frameIndex:A}};switch(n.blendOp){case kN.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:A}=s(o,l);for(let f=0;f<this._png.channels;f++)r.data[u+f]=n.data[A+f]}break;case kN.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:u,frameIndex:A}=s(o,l);for(let f=0;f<this._png.channels;f++){const h=n.data[A+this._png.channels-1]/a,p=f%(this._png.channels-1)===0?1:n.data[A+f],g=Math.floor(h*p+(1-h)*r.data[u+f]);r.data[u+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==_Q.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===EN.NO_INTERLACE)this._png.data=EQ({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===EN.ADAM7)this._png.data=kNe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Rx.NONE,blendOp:kN.SOURCE,data:r}),this._inflator=new jQ,this._writingDataChunks=!1}}function qNe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var TQ;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(TQ||(TQ={}));function VNe(e,t){return new zNe(e,t).decode()}var nn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function _N(){nn.console&&typeof nn.console.log=="function"&&nn.console.log.apply(nn.console,arguments)}var ga={log:_N,warn:function(e){nn.console&&(typeof nn.console.warn=="function"?nn.console.warn.apply(nn.console,arguments):_N.call(null,arguments))},error:function(e){nn.console&&(typeof nn.console.error=="function"?nn.console.error.apply(nn.console,arguments):_N(e))}};function TN(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){gf(n.response,t,r)},n.onerror=function(){ga.error("could not download file")},n.send()}function OQ(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Qx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gf=nn.saveAs||((typeof window>"u"?"undefined":oa(window))!=="object"||window!==nn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=nn.URL||nn.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?OQ(a.href)?TN(e,t,r):Qx(a,a.target="_blank"):Qx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Qx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(OQ(e))TN(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Qx(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:oa(s)!=="object"&&(ga.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return TN(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(nn.HTMLElement)||nn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":oa(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var u=nn.URL||nn.webkitURL,A=u.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){u.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function EG(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),A=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),A.length==1&&(A="0"+A),"#"+l+u+A}}var mb=nn.atob.bind(nn),FQ=nn.btoa.bind(nn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ON(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ds(r,n,a,s,t[0],7,-680876936),s=Ds(s,r,n,a,t[1],12,-389564586),a=Ds(a,s,r,n,t[2],17,606105819),n=Ds(n,a,s,r,t[3],22,-1044525330),r=Ds(r,n,a,s,t[4],7,-176418897),s=Ds(s,r,n,a,t[5],12,1200080426),a=Ds(a,s,r,n,t[6],17,-1473231341),n=Ds(n,a,s,r,t[7],22,-45705983),r=Ds(r,n,a,s,t[8],7,1770035416),s=Ds(s,r,n,a,t[9],12,-1958414417),a=Ds(a,s,r,n,t[10],17,-42063),n=Ds(n,a,s,r,t[11],22,-1990404162),r=Ds(r,n,a,s,t[12],7,1804603682),s=Ds(s,r,n,a,t[13],12,-40341101),a=Ds(a,s,r,n,t[14],17,-1502002290),r=Ms(r,n=Ds(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ms(s,r,n,a,t[6],9,-1069501632),a=Ms(a,s,r,n,t[11],14,643717713),n=Ms(n,a,s,r,t[0],20,-373897302),r=Ms(r,n,a,s,t[5],5,-701558691),s=Ms(s,r,n,a,t[10],9,38016083),a=Ms(a,s,r,n,t[15],14,-660478335),n=Ms(n,a,s,r,t[4],20,-405537848),r=Ms(r,n,a,s,t[9],5,568446438),s=Ms(s,r,n,a,t[14],9,-1019803690),a=Ms(a,s,r,n,t[3],14,-187363961),n=Ms(n,a,s,r,t[8],20,1163531501),r=Ms(r,n,a,s,t[13],5,-1444681467),s=Ms(s,r,n,a,t[2],9,-51403784),a=Ms(a,s,r,n,t[7],14,1735328473),r=Rs(r,n=Ms(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Rs(s,r,n,a,t[8],11,-2022574463),a=Rs(a,s,r,n,t[11],16,1839030562),n=Rs(n,a,s,r,t[14],23,-35309556),r=Rs(r,n,a,s,t[1],4,-1530992060),s=Rs(s,r,n,a,t[4],11,1272893353),a=Rs(a,s,r,n,t[7],16,-155497632),n=Rs(n,a,s,r,t[10],23,-1094730640),r=Rs(r,n,a,s,t[13],4,681279174),s=Rs(s,r,n,a,t[0],11,-358537222),a=Rs(a,s,r,n,t[3],16,-722521979),n=Rs(n,a,s,r,t[6],23,76029189),r=Rs(r,n,a,s,t[9],4,-640364487),s=Rs(s,r,n,a,t[12],11,-421815835),a=Rs(a,s,r,n,t[15],16,530742520),r=Qs(r,n=Rs(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Qs(s,r,n,a,t[7],10,1126891415),a=Qs(a,s,r,n,t[14],15,-1416354905),n=Qs(n,a,s,r,t[5],21,-57434055),r=Qs(r,n,a,s,t[12],6,1700485571),s=Qs(s,r,n,a,t[3],10,-1894986606),a=Qs(a,s,r,n,t[10],15,-1051523),n=Qs(n,a,s,r,t[1],21,-2054922799),r=Qs(r,n,a,s,t[8],6,1873313359),s=Qs(s,r,n,a,t[15],10,-30611744),a=Qs(a,s,r,n,t[6],15,-1560198380),n=Qs(n,a,s,r,t[13],21,1309151649),r=Qs(r,n,a,s,t[4],6,-145523070),s=Qs(s,r,n,a,t[11],10,-1120210379),a=Qs(a,s,r,n,t[2],15,718787259),n=Qs(n,a,s,r,t[9],21,-343485551),e[0]=pd(r,e[0]),e[1]=pd(n,e[1]),e[2]=pd(a,e[2]),e[3]=pd(s,e[3])}function l2(e,t,r,n,a,s){return t=pd(pd(t,e),pd(n,s)),pd(t<<a|t>>>32-a,r)}function Ds(e,t,r,n,a,s,o){return l2(t&r|~t&n,e,t,a,s,o)}function Ms(e,t,r,n,a,s,o){return l2(t&n|r&~n,e,t,a,s,o)}function Rs(e,t,r,n,a,s,o){return l2(t^r^n,e,t,a,s,o)}function Qs(e,t,r,n,a,s,o){return l2(r^(t|~n),e,t,a,s,o)}function kG(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ON(n,KNe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(ON(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,ON(n,a),n}function KNe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var PQ="0123456789abcdef".split("");function GNe(e){for(var t="",r=0;r<4;r++)t+=PQ[e>>8*r+4&15]+PQ[e>>8*r&15];return t}function WNe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ck(e){return kG(e).map(WNe).join("")}var YNe=function(e){for(var t=0;t<e.length;t++)e[t]=GNe(e[t]);return e.join("")}(kG("hello"))!="5d41402abc4b2a76b9719d911017c592";function pd(e,t){if(YNe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Bk(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),l=[],u=0;u<256;u++)l[u]=u;var A=0;for(u=0;u<256;u++){var f=l[u];A=(A+f+o.charCodeAt(u))%256,l[u]=l[A],l[A]=f}r=e,n=l}else l=n;var h=t.length,p=0,g=0,v="";for(u=0;u<h;u++)g=(g+(f=l[p=(p+1)%256]))%256,l[p]=l[g],l[g]=f,o=l[(l[p]+l[g])%256],v+=String.fromCharCode(t.charCodeAt(u)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LQ={print:4,modify:8,copy:16,"annot-forms":32};function tm(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(LQ.perm!==void 0)throw new Error("Invalid permission: "+l);a+=LQ[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=Ck(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Bk(this.encryptionKey,this.padding)}function rm(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function UQ(e){if(oa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){nn.console&&ga.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function K1(e){if(!(this instanceof K1))return new K1(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function _G(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xf(e,t,r,n,a){if(!(this instanceof xf))return new xf(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,_G.call(this,n,a)}function pm(e,t,r,n,a){if(!(this instanceof pm))return new pm(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,_G.call(this,n,a)}function Fr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,u=16,A="S",f=null;oa(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),A=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=UQ;var v="1.3",x=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(M){v=M};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return b};var w=g.__private__.getPageFormat=function(M){return b[M]};a=a||"a4";var B="compat",j="advanced",_=B;function N(){this.saveGraphicsState(),se(new Ct(Re,0,0,-Re,0,Mi()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),A="n",_=j}function O(){this.restoreGraphicsState(),A="S",_=B}var T=g.__private__.combineFontStyleAndFontWeight=function(M,ae){if(M=="bold"&&ae=="normal"||M=="bold"&&ae==400||M=="normal"&&ae=="italic"||M=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(M=ae==400||ae==="normal"?M==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||M!=="normal"?(ae==700?"bold":ae)+""+M:"bold"),M};g.advancedAPI=function(M){var ae=_===B;return ae&&N.call(this),typeof M!="function"||(M(this),ae&&O.call(this)),this},g.compatAPI=function(M){var ae=_===j;return ae&&O.call(this),typeof M!="function"||(M(this),ae&&N.call(this)),this},g.isAdvancedAPI=function(){return _===j};var P,U=function(M){if(_!==j)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=g.roundToPrecision=g.__private__.roundToPrecision=function(M,ae){var Ne=t||ae;if(isNaN(M)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ne).replace(/0+$/,"")};P=g.hpf=g.__private__.hpf=typeof u=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,u)}:u==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,16)};var F=g.f2=g.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return D(M,2)},R=g.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return D(M,3)},Q=g.scale=g.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return _===B?M*Re:_===j?M:void 0},H=function(M){return Q(function(ae){return _===B?Mi()-ae:_===j?ae:void 0}(M))};g.__private__.setPrecision=g.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(t=parseInt(M,10))};var J,V="00000000000000000000000000000000",Y=g.__private__.getFileId=function(){return V},ee=g.__private__.setFileId=function(M){return V=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&($t=new tm(f.userPermissions,f.userPassword,f.ownerPassword,V)),V};g.setFileId=function(M){return ee(M),this},g.getFileId=function(){return Y()};var ie=g.__private__.convertDateToPDFDate=function(M){var ae=M.getTimezoneOffset(),Ne=ae<0?"+":"-",Fe=Math.floor(Math.abs(ae/60)),Je=Math.abs(ae%60),Lt=[Ne,G(Fe),"'",G(Je),"'"].join("");return["D:",M.getFullYear(),G(M.getMonth()+1),G(M.getDate()),G(M.getHours()),G(M.getMinutes()),G(M.getSeconds()),Lt].join("")},z=g.__private__.convertPDFDateToDate=function(M){var ae=parseInt(M.substr(2,4),10),Ne=parseInt(M.substr(6,2),10)-1,Fe=parseInt(M.substr(8,2),10),Je=parseInt(M.substr(10,2),10),Lt=parseInt(M.substr(12,2),10),Gt=parseInt(M.substr(14,2),10);return new Date(ae,Ne,Fe,Je,Lt,Gt,0)},W=g.__private__.setCreationDate=function(M){var ae;if(M===void 0&&(M=new Date),M instanceof Date)ae=ie(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=M}return J=ae},L=g.__private__.getCreationDate=function(M){var ae=J;return M==="jsDate"&&(ae=z(J)),ae};g.setCreationDate=function(M){return W(M),this},g.getCreationDate=function(M){return L(M)};var q,G=g.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},Z=g.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},te=0,fe=[],we=[],he=0,ce=[],xe=[],ge=!1,Pe=we;g.__private__.setCustomOutputDestination=function(M){ge=!0,Pe=M};var ke=function(M){ge||(Pe=M)};g.__private__.resetCustomOutputDestination=function(){ge=!1,Pe=we};var se=g.__private__.out=function(M){return M=M.toString(),he+=M.length+1,Pe.push(M),Pe},Et=g.__private__.write=function(M){return se(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Qt=g.__private__.getArrayBuffer=function(M){for(var ae=M.length,Ne=new ArrayBuffer(ae),Fe=new Uint8Array(Ne);ae--;)Fe[ae]=M.charCodeAt(ae);return Ne},It=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return It};var nt=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(M){return nt=_===j?M/Re:M,this};var ye,re=g.__private__.getFontSize=g.getFontSize=function(){return _===B?nt:nt*Re},_e=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(M){return _e=M,this},g.__private__.getR2L=g.getR2L=function(){return _e};var Oe,Ke=g.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))ye=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');ye=M}else ye=parseInt(M,10)};g.__private__.getZoomMode=function(){return ye};var Me,bt=g.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Oe=M};g.__private__.getPageMode=function(){return Oe};var Jt=g.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Me=M};g.__private__.getLayoutMode=function(){return Me},g.__private__.setDisplayMode=g.setDisplayMode=function(M,ae,Ne){return Ke(M),Jt(ae),bt(Ne),this};var Vt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(M){if(Object.keys(Vt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vt[M]},g.__private__.getDocumentProperties=function(){return Vt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(M){for(var ae in Vt)Vt.hasOwnProperty(ae)&&M[ae]&&(Vt[ae]=M[ae]);return this},g.__private__.setDocumentProperty=function(M,ae){if(Object.keys(Vt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vt[M]=ae};var Be,Re,Ue,Qe,Ve,yt={},Ht={},ze=[],Ge={},St={},Rt={},sr={},Ye=null,pt=0,gt=[],et=new UQ(g),ft=e.hotfixes||[],ut={},tr={},Kt=[],Ct=function M(ae,Ne,Fe,Je,Lt,Gt){if(!(this instanceof M))return new M(ae,Ne,Fe,Je,Lt,Gt);isNaN(ae)&&(ae=1),isNaN(Ne)&&(Ne=0),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=1),isNaN(Lt)&&(Lt=0),isNaN(Gt)&&(Gt=0),this._matrix=[ae,Ne,Fe,Je,Lt,Gt]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(M)},Ct.prototype.multiply=function(M){var ae=M.sx*this.sx+M.shy*this.shx,Ne=M.sx*this.shy+M.shy*this.sy,Fe=M.shx*this.sx+M.sy*this.shx,Je=M.shx*this.shy+M.sy*this.sy,Lt=M.tx*this.sx+M.ty*this.shx+this.tx,Gt=M.tx*this.shy+M.ty*this.sy+this.ty;return new Ct(ae,Ne,Fe,Je,Lt,Gt)},Ct.prototype.decompose=function(){var M=this.sx,ae=this.shy,Ne=this.shx,Fe=this.sy,Je=this.tx,Lt=this.ty,Gt=Math.sqrt(M*M+ae*ae),Nr=(M/=Gt)*Ne+(ae/=Gt)*Fe;Ne-=M*Nr,Fe-=ae*Nr;var Pr=Math.sqrt(Ne*Ne+Fe*Fe);return Nr/=Pr,M*(Fe/=Pr)<ae*(Ne/=Pr)&&(M=-M,ae=-ae,Nr=-Nr,Gt=-Gt),{scale:new Ct(Gt,0,0,Pr,0,0),translate:new Ct(1,0,0,1,Je,Lt),rotate:new Ct(M,ae,-ae,M,0,0),skew:new Ct(1,0,Nr,1,0,0)}},Ct.prototype.toString=function(M){return this.join(" ")},Ct.prototype.inversed=function(){var M=this.sx,ae=this.shy,Ne=this.shx,Fe=this.sy,Je=this.tx,Lt=this.ty,Gt=1/(M*Fe-ae*Ne),Nr=Fe*Gt,Pr=-ae*Gt,Zr=-Ne*Gt,ln=M*Gt;return new Ct(Nr,Pr,Zr,ln,-Nr*Je-Zr*Lt,-Pr*Je-ln*Lt)},Ct.prototype.applyToPoint=function(M){var ae=M.x*this.sx+M.y*this.shx+this.tx,Ne=M.x*this.shy+M.y*this.sy+this.ty;return new Ws(ae,Ne)},Ct.prototype.applyToRectangle=function(M){var ae=this.applyToPoint(M),Ne=this.applyToPoint(new Ws(M.x+M.w,M.y+M.h));return new na(ae.x,ae.y,Ne.x-ae.x,Ne.y-ae.y)},Ct.prototype.clone=function(){var M=this.sx,ae=this.shy,Ne=this.shx,Fe=this.sy,Je=this.tx,Lt=this.ty;return new Ct(M,ae,Ne,Fe,Je,Lt)},g.Matrix=Ct;var $r=g.matrixMult=function(M,ae){return ae.multiply(M)},qr=new Ct(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=qr;var lr=function(M,ae){if(!St[M]){var Ne=(ae instanceof xf?"Sh":"P")+(Object.keys(Ge).length+1).toString(10);ae.id=Ne,St[M]=Ne,Ge[Ne]=ae,et.publish("addPattern",ae)}};g.ShadingPattern=xf,g.TilingPattern=pm,g.addShadingPattern=function(M,ae){return U("addShadingPattern()"),lr(M,ae),this},g.beginTilingPattern=function(M){U("beginTilingPattern()"),To(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},g.endTilingPattern=function(M,ae){U("endTilingPattern()"),ae.stream=xe[q].join(`
`),lr(M,ae),et.publish("endTilingPattern",ae),Kt.pop().restore()};var cr,Zt=g.__private__.newObject=function(){var M=mr();return on(M,!0),M},mr=g.__private__.newObjectDeferred=function(){return te++,fe[te]=function(){return he},te},on=function(M,ae){return ae=typeof ae=="boolean"&&ae,fe[M]=he,ae&&se(M+" 0 obj"),M},Ur=g.__private__.newAdditionalObject=function(){var M={objId:mr(),content:""};return ce.push(M),M},Vr=mr(),dn=mr(),Yn=g.__private__.decodeColorString=function(M){var ae=M.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length!==5||ae[4]!=="k"&&ae[4]!=="K"||(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Ne=parseFloat(ae[0]);ae=[Ne,Ne,Ne,"r"]}for(var Fe="#",Je=0;Je<3;Je++)Fe+=("0"+Math.floor(255*parseFloat(ae[Je])).toString(16)).slice(-2);return Fe},hn=g.__private__.encodeColorString=function(M){var ae;typeof M=="string"&&(M={ch1:M});var Ne=M.ch1,Fe=M.ch2,Je=M.ch3,Lt=M.ch4,Gt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Nr=new EG(Ne);if(Nr.ok)Ne=Nr.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var Pr=parseInt(Ne.substr(1),16);Ne=Pr>>16&255,Fe=Pr>>8&255,Je=255&Pr}if(Fe===void 0||Lt===void 0&&Ne===Fe&&Fe===Je)ae=typeof Ne=="string"?Ne+" "+Gt[0]:M.precision===2?F(Ne/255)+" "+Gt[0]:R(Ne/255)+" "+Gt[0];else if(Lt===void 0||oa(Lt)==="object"){if(Lt&&!isNaN(Lt.a)&&Lt.a===0)return["1.","1.","1.",Gt[1]].join(" ");ae=typeof Ne=="string"?[Ne,Fe,Je,Gt[1]].join(" "):M.precision===2?[F(Ne/255),F(Fe/255),F(Je/255),Gt[1]].join(" "):[R(Ne/255),R(Fe/255),R(Je/255),Gt[1]].join(" ")}else ae=typeof Ne=="string"?[Ne,Fe,Je,Lt,Gt[2]].join(" "):M.precision===2?[F(Ne),F(Fe),F(Je),F(Lt),Gt[2]].join(" "):[R(Ne),R(Fe),R(Je),R(Lt),Gt[2]].join(" ");return ae},Mn=g.__private__.getFilters=function(){return o},Ha=g.__private__.putStream=function(M){var ae=(M=M||{}).data||"",Ne=M.filters||Mn(),Fe=M.alreadyAppliedFilters||[],Je=M.addLength1||!1,Lt=ae.length,Gt=M.objectId,Nr=function(ri){return ri};if(f!==null&&Gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Nr=$t.encryptor(Gt,0));var Pr={};Ne===!0&&(Ne=["FlateEncode"]);var Zr=M.additionalKeyValues||[],ln=(Pr=Fr.API.processDataByFilters!==void 0?Fr.API.processDataByFilters(ae,Ne):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(Pr.data.length!==0&&(Zr.push({key:"Length",value:Pr.data.length}),Je===!0&&Zr.push({key:"Length1",value:Lt})),ln.length!=0)if(ln.split("/").length-1==1)Zr.push({key:"Filter",value:ln});else{Zr.push({key:"Filter",value:"["+ln+"]"});for(var Fn=0;Fn<Zr.length;Fn+=1)if(Zr[Fn].key==="DecodeParms"){for(var ka=[],ti=0;ti<Pr.reverseChain.split("/").length-1;ti+=1)ka.push("null");ka.push(Zr[Fn].value),Zr[Fn].value="["+ka.join(" ")+"]"}}se("<<");for(var Xn=0;Xn<Zr.length;Xn++)se("/"+Zr[Xn].key+" "+Zr[Xn].value);se(">>"),Pr.data.length!==0&&(se("stream"),se(Nr(Pr.data)),se("endstream"))},Rn=g.__private__.putPage=function(M){var ae=M.number,Ne=M.data,Fe=M.objId,Je=M.contentsObjId;on(Fe,!0),se("<</Type /Page"),se("/Parent "+M.rootDictionaryObjId+" 0 R"),se("/Resources "+M.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(P(M.mediaBox.bottomLeftX))+" "+parseFloat(P(M.mediaBox.bottomLeftY))+" "+P(M.mediaBox.topRightX)+" "+P(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&se("/CropBox ["+P(M.cropBox.bottomLeftX)+" "+P(M.cropBox.bottomLeftY)+" "+P(M.cropBox.topRightX)+" "+P(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&se("/BleedBox ["+P(M.bleedBox.bottomLeftX)+" "+P(M.bleedBox.bottomLeftY)+" "+P(M.bleedBox.topRightX)+" "+P(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&se("/TrimBox ["+P(M.trimBox.bottomLeftX)+" "+P(M.trimBox.bottomLeftY)+" "+P(M.trimBox.topRightX)+" "+P(M.trimBox.topRightY)+"]"),M.artBox!==null&&se("/ArtBox ["+P(M.artBox.bottomLeftX)+" "+P(M.artBox.bottomLeftY)+" "+P(M.artBox.topRightX)+" "+P(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&se("/UserUnit "+M.userUnit),et.publish("putPage",{objId:Fe,pageContext:gt[ae],pageNumber:ae,page:Ne}),se("/Contents "+Je+" 0 R"),se(">>"),se("endobj");var Lt=Ne.join(`
`);return _===j&&(Lt+=`
Q`),on(Je,!0),Ha({data:Lt,filters:Mn(),objectId:Je}),se("endobj"),Fe},bn=g.__private__.putPages=function(){var M,ae,Ne=[];for(M=1;M<=pt;M++)gt[M].objId=mr(),gt[M].contentsObjId=mr();for(M=1;M<=pt;M++)Ne.push(Rn({number:M,data:xe[M],objId:gt[M].objId,contentsObjId:gt[M].contentsObjId,mediaBox:gt[M].mediaBox,cropBox:gt[M].cropBox,bleedBox:gt[M].bleedBox,trimBox:gt[M].trimBox,artBox:gt[M].artBox,userUnit:gt[M].userUnit,rootDictionaryObjId:Vr,resourceDictionaryObjId:dn}));on(Vr,!0),se("<</Type /Pages");var Fe="/Kids [";for(ae=0;ae<pt;ae++)Fe+=Ne[ae]+" 0 R ";se(Fe+"]"),se("/Count "+pt),se(">>"),se("endobj"),et.publish("postPutPages")},Ja=function(M){et.publish("putFont",{font:M,out:se,newObject:Zt,putStream:Ha}),M.isAlreadyPutted!==!0&&(M.objectNumber=Zt(),se("<<"),se("/Type /Font"),se("/BaseFont /"+rm(M.postScriptName)),se("/Subtype /Type1"),typeof M.encoding=="string"&&se("/Encoding /"+M.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},qn=function(M){M.objectNumber=Zt();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[P(M.x),P(M.y),P(M.x+M.width),P(M.y+M.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ne=M.pages[1].join(`
`);Ha({data:Ne,additionalKeyValues:ae,objectId:M.objectNumber}),se("endobj")},Qn=function(M,ae){ae||(ae=21);var Ne=Zt(),Fe=function(Gt,Nr){var Pr,Zr=[],ln=1/(Nr-1);for(Pr=0;Pr<1;Pr+=ln)Zr.push(Pr);if(Zr.push(1),Gt[0].offset!=0){var Fn={offset:0,color:Gt[0].color};Gt.unshift(Fn)}if(Gt[Gt.length-1].offset!=1){var ka={offset:1,color:Gt[Gt.length-1].color};Gt.push(ka)}for(var ti="",Xn=0,ri=0;ri<Zr.length;ri++){for(Pr=Zr[ri];Pr>Gt[Xn+1].offset;)Xn++;var ni=Gt[Xn].offset,Ri=(Pr-ni)/(Gt[Xn+1].offset-ni),Rl=Gt[Xn].color,Fc=Gt[Xn+1].color;ti+=Z(Math.round((1-Ri)*Rl[0]+Ri*Fc[0]).toString(16))+Z(Math.round((1-Ri)*Rl[1]+Ri*Fc[1]).toString(16))+Z(Math.round((1-Ri)*Rl[2]+Ri*Fc[2]).toString(16))}return ti.trim()}(M.colors,ae),Je=[];Je.push({key:"FunctionType",value:"0"}),Je.push({key:"Domain",value:"[0.0 1.0]"}),Je.push({key:"Size",value:"["+ae+"]"}),Je.push({key:"BitsPerSample",value:"8"}),Je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ha({data:Fe,additionalKeyValues:Je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),se("endobj"),M.objectNumber=Zt(),se("<< /ShadingType "+M.type),se("/ColorSpace /DeviceRGB");var Lt="/Coords ["+P(parseFloat(M.coords[0]))+" "+P(parseFloat(M.coords[1]))+" ";M.type===2?Lt+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3])):Lt+=P(parseFloat(M.coords[2]))+" "+P(parseFloat(M.coords[3]))+" "+P(parseFloat(M.coords[4]))+" "+P(parseFloat(M.coords[5])),se(Lt+="]"),M.matrix&&se("/Matrix ["+M.matrix.toString()+"]"),se("/Function "+Ne+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},$a=function(M,ae){var Ne=mr(),Fe=Zt();ae.push({resourcesOid:Ne,objectOid:Fe}),M.objectNumber=Fe;var Je=[];Je.push({key:"Type",value:"/Pattern"}),Je.push({key:"PatternType",value:"1"}),Je.push({key:"PaintType",value:"1"}),Je.push({key:"TilingType",value:"1"}),Je.push({key:"BBox",value:"["+M.boundingBox.map(P).join(" ")+"]"}),Je.push({key:"XStep",value:P(M.xStep)}),Je.push({key:"YStep",value:P(M.yStep)}),Je.push({key:"Resources",value:Ne+" 0 R"}),M.matrix&&Je.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ha({data:M.stream,additionalKeyValues:Je,objectId:M.objectNumber}),se("endobj")},de=function(M){for(var ae in M.objectNumber=Zt(),se("<<"),M)switch(ae){case"opacity":se("/ca "+F(M[ae]));break;case"stroke-opacity":se("/CA "+F(M[ae]))}se(">>"),se("endobj")},st=function(M){on(M.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var ae in se("/Font <<"),yt)yt.hasOwnProperty(ae)&&(h===!1||h===!0&&p.hasOwnProperty(ae))&&se("/"+ae+" "+yt[ae].objectNumber+" 0 R");se(">>")}(),function(){if(Object.keys(Ge).length>0){for(var ae in se("/Shading <<"),Ge)Ge.hasOwnProperty(ae)&&Ge[ae]instanceof xf&&Ge[ae].objectNumber>=0&&se("/"+ae+" "+Ge[ae].objectNumber+" 0 R");et.publish("putShadingPatternDict"),se(">>")}}(),function(ae){if(Object.keys(Ge).length>0){for(var Ne in se("/Pattern <<"),Ge)Ge.hasOwnProperty(Ne)&&Ge[Ne]instanceof g.TilingPattern&&Ge[Ne].objectNumber>=0&&Ge[Ne].objectNumber<ae&&se("/"+Ne+" "+Ge[Ne].objectNumber+" 0 R");et.publish("putTilingPatternDict"),se(">>")}}(M.objectOid),function(){if(Object.keys(Rt).length>0){var ae;for(ae in se("/ExtGState <<"),Rt)Rt.hasOwnProperty(ae)&&Rt[ae].objectNumber>=0&&se("/"+ae+" "+Rt[ae].objectNumber+" 0 R");et.publish("putGStateDict"),se(">>")}}(),function(){for(var ae in se("/XObject <<"),ut)ut.hasOwnProperty(ae)&&ut[ae].objectNumber>=0&&se("/"+ae+" "+ut[ae].objectNumber+" 0 R");et.publish("putXobjectDict"),se(">>")}(),se(">>"),se("endobj")},xt=function(M){Ht[M.fontName]=Ht[M.fontName]||{},Ht[M.fontName][M.fontStyle]=M.id},Pt=function(M,ae,Ne,Fe,Je){var Lt={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:M,fontName:ae,fontStyle:Ne,encoding:Fe,isStandardFont:Je||!1,metadata:{}};return et.publish("addFont",{font:Lt,instance:this}),yt[Lt.id]=Lt,xt(Lt),Lt.id},Ar=g.__private__.pdfEscape=g.pdfEscape=function(M,ae){return function(Ne,Fe){var Je,Lt,Gt,Nr,Pr,Zr,ln,Fn,ka;if(Gt=(Fe=Fe||{}).sourceEncoding||"Unicode",Pr=Fe.outputEncoding,(Fe.autoencode||Pr)&&yt[Be].metadata&&yt[Be].metadata[Gt]&&yt[Be].metadata[Gt].encoding&&(Nr=yt[Be].metadata[Gt].encoding,!Pr&&yt[Be].encoding&&(Pr=yt[Be].encoding),!Pr&&Nr.codePages&&(Pr=Nr.codePages[0]),typeof Pr=="string"&&(Pr=Nr[Pr]),Pr)){for(ln=!1,Zr=[],Je=0,Lt=Ne.length;Je<Lt;Je++)(Fn=Pr[Ne.charCodeAt(Je)])?Zr.push(String.fromCharCode(Fn)):Zr.push(Ne[Je]),Zr[Je].charCodeAt(0)>>8&&(ln=!0);Ne=Zr.join("")}for(Je=Ne.length;ln===void 0&&Je!==0;)Ne.charCodeAt(Je-1)>>8&&(ln=!0),Je--;if(!ln)return Ne;for(Zr=Fe.noBOM?[]:[254,255],Je=0,Lt=Ne.length;Je<Lt;Je++){if((ka=(Fn=Ne.charCodeAt(Je))>>8)>>8)throw new Error("Character at position "+Je+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zr.push(ka),Zr.push(Fn-(ka<<8))}return String.fromCharCode.apply(void 0,Zr)}(M,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kr=g.__private__.beginPage=function(M){xe[++pt]=[],gt[pt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},la(pt),ke(xe[q])},br=function(M,ae){var Ne,Fe,Je;switch(r=ae||r,typeof M=="string"&&(Ne=w(M.toLowerCase()),Array.isArray(Ne)&&(Fe=Ne[0],Je=Ne[1])),Array.isArray(M)&&(Fe=M[0]*Re,Je=M[1]*Re),isNaN(Fe)&&(Fe=a[0],Je=a[1]),(Fe>14400||Je>14400)&&(ga.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Je=Math.min(14400,Je)),a=[Fe,Je],r.substr(0,1)){case"l":Je>Fe&&(a=[Je,Fe]);break;case"p":Fe>Je&&(a=[Je,Fe])}Kr(a),bu(Di),se(hr),_n!==0&&se(_n+" J"),Ea!==0&&se(Ea+" j"),et.publish("addPage",{pageNumber:pt})},Hn=function(M){M>0&&M<=pt&&(xe.splice(M,1),gt.splice(M,1),pt--,q>pt&&(q=pt),this.setPage(q))},la=function(M){M>0&&M<=pt&&(q=M)},Na=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return xe.length-1},za=function(M,ae,Ne){var Fe,Je=void 0;return Ne=Ne||{},M=M!==void 0?M:yt[Be].fontName,ae=ae!==void 0?ae:yt[Be].fontStyle,Fe=M.toLowerCase(),Ht[Fe]!==void 0&&Ht[Fe][ae]!==void 0?Je=Ht[Fe][ae]:Ht[M]!==void 0&&Ht[M][ae]!==void 0?Je=Ht[M][ae]:Ne.disableWarning===!1&&ga.warn("Unable to look up font label for font '"+M+"', '"+ae+"'. Refer to getFontList() for available fonts."),Je||Ne.noFallback||(Je=Ht.times[ae])==null&&(Je=Ht.times.normal),Je},Bi=g.__private__.putInfo=function(){var M=Zt(),ae=function(Fe){return Fe};for(var Ne in f!==null&&(ae=$t.encryptor(M,0)),se("<<"),se("/Producer ("+Ar(ae("jsPDF "+Fr.version))+")"),Vt)Vt.hasOwnProperty(Ne)&&Vt[Ne]&&se("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+Ar(ae(Vt[Ne]))+")");se("/CreationDate ("+Ar(ae(J))+")"),se(">>"),se("endobj")},Za=g.__private__.putCatalog=function(M){var ae=(M=M||{}).rootDictionaryObjId||Vr;switch(Zt(),se("<<"),se("/Type /Catalog"),se("/Pages "+ae+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+ye;Ne.substr(Ne.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&se("/OpenAction [3 0 R /XYZ null null "+F(ye)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Oe&&se("/PageMode /"+Oe),et.publish("putCatalog"),se(">>"),se("endobj")},wn=g.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(te+1)),se("/Root "+te+" 0 R"),se("/Info "+(te-1)+" 0 R"),f!==null&&se("/Encrypt "+$t.oid+" 0 R"),se("/ID [ <"+V+"> <"+V+"> ]"),se(">>")},ra=g.__private__.putHeader=function(){se("%PDF-"+v),se("%")},ue=g.__private__.putXRef=function(){var M="0000000000";se("xref"),se("0 "+(te+1)),se("0000000000 65535 f ");for(var ae=1;ae<=te;ae++)typeof fe[ae]=="function"?se((M+fe[ae]()).slice(-10)+" 00000 n "):fe[ae]!==void 0?se((M+fe[ae]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},He=g.__private__.buildDocument=function(){var M;te=0,he=0,we=[],fe=[],ce=[],Vr=mr(),dn=mr(),ke(we),et.publish("buildDocument"),ra(),bn(),function(){et.publish("putAdditionalObjects");for(var Ne=0;Ne<ce.length;Ne++){var Fe=ce[Ne];on(Fe.objId,!0),se(Fe.content),se("endobj")}et.publish("postPutAdditionalObjects")}(),M=[],function(){for(var Ne in yt)yt.hasOwnProperty(Ne)&&(h===!1||h===!0&&p.hasOwnProperty(Ne))&&Ja(yt[Ne])}(),function(){var Ne;for(Ne in Rt)Rt.hasOwnProperty(Ne)&&de(Rt[Ne])}(),function(){for(var Ne in ut)ut.hasOwnProperty(Ne)&&qn(ut[Ne])}(),function(Ne){var Fe;for(Fe in Ge)Ge.hasOwnProperty(Fe)&&(Ge[Fe]instanceof xf?Qn(Ge[Fe]):Ge[Fe]instanceof pm&&$a(Ge[Fe],Ne))}(M),et.publish("putResources"),M.forEach(st),st({resourcesOid:dn,objectOid:Number.MAX_SAFE_INTEGER}),et.publish("postPutResources"),f!==null&&($t.oid=Zt(),se("<<"),se("/Filter /Standard"),se("/V "+$t.v),se("/R "+$t.r),se("/U <"+$t.toHexString($t.U)+">"),se("/O <"+$t.toHexString($t.O)+">"),se("/P "+$t.P),se(">>"),se("endobj")),Bi(),Za();var ae=he;return ue(),wn(),se("startxref"),se(""+ae),se("%%EOF"),ke(xe[q]),we.join(`
`)},We=g.__private__.getBlob=function(M){return new Blob([Qt(M)],{type:"application/pdf"})},it=g.output=g.__private__.output=(cr=function(M,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",M){case void 0:return He();case"save":g.save(ae.filename);break;case"arraybuffer":return Qt(He());case"blob":return We(He());case"bloburi":case"bloburl":if(nn.URL!==void 0&&typeof nn.URL.createObjectURL=="function")return nn.URL&&nn.URL.createObjectURL(We(He()))||void 0;ga.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Fe=He();try{Ne=FQ(Fe)}catch{Ne=FQ(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Lt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Je=ae.pdfObjectUrl,Lt="");var Gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Je+'"'+Lt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Nr=nn.open();return Nr!==null&&Nr.document.write(Gt),Nr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(nn)==="[object Window]"){var Pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Zr=nn.open();if(Zr!==null){Zr.document.write(Pr);var ln=this;Zr.document.documentElement.querySelector("#pdfViewer").onload=function(){Zr.document.title=ae.filename,Zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ln.output("bloburl"))}}return Zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(nn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',ka=nn.open();if(ka!==null&&(ka.document.write(Fn),ka.document.title=ae.filename),ka||typeof safari>"u")return ka;break;case"datauri":case"dataurl":return nn.document.location.href=this.output("datauristring",ae);default:return null}},cr.foo=function(){try{return cr.apply(this,arguments)}catch(Ne){var M=Ne.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ae="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!nn.console)throw new Error(ae);nn.console.error(ae,Ne),nn.alert&&alert(ae)}},cr.foo.bar=cr,cr.foo),wt=function(M){return Array.isArray(ft)===!0&&ft.indexOf(M)>-1};switch(n){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=wt("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Re=n}var $t=null;W(),ee();var Tt=g.__private__.getPageInfo=g.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:gt[M].objId,pageNumber:M,pageContext:gt[M]}},ve=g.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in gt)if(gt[ae].objId===M)break;return Tt(ae)},at=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:gt[q].objId,pageNumber:q,pageContext:gt[q]}};g.addPage=function(){return br.apply(this,arguments),this},g.setPage=function(){return la.apply(this,arguments),ke.call(this,xe[q]),this},g.insertPage=function(M){return this.addPage(),this.movePage(q,M),this},g.movePage=function(M,ae){var Ne,Fe;if(M>ae){Ne=xe[M],Fe=gt[M];for(var Je=M;Je>ae;Je--)xe[Je]=xe[Je-1],gt[Je]=gt[Je-1];xe[ae]=Ne,gt[ae]=Fe,this.setPage(ae)}else if(M<ae){Ne=xe[M],Fe=gt[M];for(var Lt=M;Lt<ae;Lt++)xe[Lt]=xe[Lt+1],gt[Lt]=gt[Lt+1];xe[ae]=Ne,gt[ae]=Fe,this.setPage(ae)}return this},g.deletePage=function(){return Hn.apply(this,arguments),this},g.__private__.text=g.text=function(M,ae,Ne,Fe,Je){var Lt,Gt,Nr,Pr,Zr,ln,Fn,ka,ti,Xn=(Fe=Fe||{}).scope||this;if(typeof M=="number"&&typeof ae=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var ri=Ne;Ne=ae,ae=M,M=ri}if(arguments[3]instanceof Ct==0?(Nr=arguments[4],Pr=arguments[5],oa(Fn=arguments[3])==="object"&&Fn!==null||(typeof Nr=="string"&&(Pr=Nr,Nr=null),typeof Fn=="string"&&(Pr=Fn,Fn=null),typeof Fn=="number"&&(Nr=Fn,Fn=null),Fe={flags:Fn,angle:Nr,align:Pr})):(U("The transform parameter of text() with a Matrix value"),ti=Je),isNaN(ae)||isNaN(Ne)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Xn;var ni,Ri="",Rl=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:ei,Fc=Xn.internal.scaleFactor;function Sp(ca){return ca=ca.split("	").join(Array(Fe.TabLen||9).join(" ")),Ar(ca,Fn)}function sh(ca){for(var $n,_a=ca.concat(),ha=[],Fo=_a.length;Fo--;)typeof($n=_a.shift())=="string"?ha.push($n):Array.isArray(ca)&&($n.length===1||$n[1]===void 0&&$n[2]===void 0)?ha.push($n[0]):ha.push([$n[0],$n[1],$n[2]]);return ha}function Cu(ca,$n){var _a;if(typeof ca=="string")_a=$n(ca)[0];else if(Array.isArray(ca)){for(var ha,Fo,ju=ca.concat(),Zi=[],dl=ju.length;dl--;)typeof(ha=ju.shift())=="string"?Zi.push($n(ha)[0]):Array.isArray(ha)&&typeof ha[0]=="string"&&(Fo=$n(ha[0],ha[1],ha[2]),Zi.push([Fo[0],Fo[1],Fo[2]]));_a=Zi}return _a}var Oo=!1,Id=!0;if(typeof M=="string")Oo=!0;else if(Array.isArray(M)){var Pc=M.concat();Gt=[];for(var fo,ji=Pc.length;ji--;)(typeof(fo=Pc.shift())!="string"||Array.isArray(fo)&&typeof fo[0]!="string")&&(Id=!1);Oo=Id}if(Oo===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var al=nt/Xn.internal.scaleFactor,il=al*(Rl-1);switch(Fe.baseline){case"bottom":Ne-=il;break;case"top":Ne+=al-il;break;case"hanging":Ne+=al-2*il;break;case"middle":Ne+=al/2-il}if((ln=Fe.maxWidth||0)>0&&(typeof M=="string"?M=Xn.splitTextToSize(M,ln):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(ca,$n){return ca.concat(Xn.splitTextToSize($n,ln))},[]))),Lt={text:M,x:ae,y:Ne,options:Fe,mutex:{pdfEscape:Ar,activeFontKey:Be,fonts:yt,activeFontSize:nt}},et.publish("preProcessText",Lt),M=Lt.text,Nr=(Fe=Lt.options).angle,ti instanceof Ct==0&&Nr&&typeof Nr=="number"){Nr*=Math.PI/180,Fe.rotationDirection===0&&(Nr=-Nr),_===j&&(Nr=-Nr);var Bu=Math.cos(Nr),bA=Math.sin(Nr);ti=new Ct(Bu,bA,-bA,Bu,0,0)}else Nr&&Nr instanceof Ct&&(ti=Nr);_!==j||ti||(ti=qr),(Zr=Fe.charSpace||mn)!==void 0&&(Ri+=P(Q(Zr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ka=Fe.horizontalScale)!==void 0&&(Ri+=P(100*ka)+` Tz
`),Fe.lang;var Ji=-1,Ql=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,wA=Xn.internal.getCurrentPageInfo().pageContext;switch(Ql){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var oh=wA.usedRenderingMode!==void 0?wA.usedRenderingMode:-1;Ji!==-1?Ri+=Ji+` Tr
`:oh!==-1&&(Ri+=`0 Tr
`),Ji!==-1&&(wA.usedRenderingMode=Ji),Pr=Fe.align||"left";var Ai,Js=nt*Rl,CA=Xn.internal.pageSize.getWidth(),Hl=yt[Be];Zr=Fe.charSpace||mn,ln=Fe.maxWidth||0,Fn=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var ho=[],BA=function(ca){return Xn.getStringUnitWidth(ca,{font:Hl,charSpace:Zr,fontSize:nt,doKerning:!1})*nt/Fc};if(Object.prototype.toString.call(M)==="[object Array]"){var Qi;Gt=sh(M),Pr!=="left"&&(Ai=Gt.map(BA));var ds,Lc=0;if(Pr==="right"){ae-=Ai[0],M=[],ji=Gt.length;for(var mo=0;mo<ji;mo++)mo===0?(ds=ks(ae),Qi=Xi(Ne)):(ds=Q(Lc-Ai[mo]),Qi=-Js),M.push([Gt[mo],ds,Qi]),Lc=Ai[mo]}else if(Pr==="center"){ae-=Ai[0]/2,M=[],ji=Gt.length;for(var sl=0;sl<ji;sl++)sl===0?(ds=ks(ae),Qi=Xi(Ne)):(ds=Q((Lc-Ai[sl])/2),Qi=-Js),M.push([Gt[sl],ds,Qi]),Lc=Ai[sl]}else if(Pr==="left"){M=[],ji=Gt.length;for(var jA=0;jA<ji;jA++)M.push(Gt[jA])}else if(Pr==="justify"&&Hl.encoding==="Identity-H"){M=[],ji=Gt.length,ln=ln!==0?ln:CA;for(var $l=0,La=0;La<ji;La++)if(Qi=La===0?Xi(Ne):-Js,ds=La===0?ks(ae):$l,La<ji-1){var Np=Q((ln-Ai[La])/(Gt[La].split(" ").length-1)),ol=Gt[La].split(" ");M.push([ol[0]+" ",ds,Qi]),$l=0;for(var ll=1;ll<ol.length;ll++){var SA=(BA(ol[ll-1]+" "+ol[ll])-BA(ol[ll]))*Fc+Np;ll==ol.length-1?M.push([ol[ll],SA,0]):M.push([ol[ll]+" ",SA,0]),$l-=SA}}else M.push([Gt[La],ds,Qi]);M.push(["",$l,0])}else{if(Pr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],ji=Gt.length,ln=ln!==0?ln:CA,La=0;La<ji;La++)Qi=La===0?Xi(Ne):-Js,ds=La===0?ks(ae):0,La<ji-1?ho.push(P(Q((ln-Ai[La])/(Gt[La].split(" ").length-1)))):ho.push(0),M.push([Gt[La],ds,Qi])}}(typeof Fe.R2L=="boolean"?Fe.R2L:_e)===!0&&(M=Cu(M,function(ca,$n,_a){return[ca.split("").reverse().join(""),$n,_a]})),Lt={text:M,x:ae,y:Ne,options:Fe,mutex:{pdfEscape:Ar,activeFontKey:Be,fonts:yt,activeFontSize:nt}},et.publish("postProcessText",Lt),M=Lt.text,ni=Lt.mutex.isHex||!1;var Dd=yt[Be].encoding;Dd!=="WinAnsiEncoding"&&Dd!=="StandardEncoding"||(M=Cu(M,function(ca,$n,_a){return[Sp(ca),$n,_a]})),Gt=sh(M),M=[];for(var Si,cl,Uc,Ic=Array.isArray(Gt[0])?1:0,ul="",NA=function(ca,$n,_a){var ha="";return _a instanceof Ct?(_a=typeof Fe.angle=="number"?$r(_a,new Ct(1,0,0,1,ca,$n)):$r(new Ct(1,0,0,1,ca,$n),_a),_===j&&(_a=$r(new Ct(1,0,0,-1,0,0),_a)),ha=_a.join(" ")+` Tm
`):ha=P(ca)+" "+P($n)+` Td
`,ha},fs=0;fs<Gt.length;fs++){switch(ul="",Ic){case 1:Uc=(ni?"<":"(")+Gt[fs][0]+(ni?">":")"),Si=parseFloat(Gt[fs][1]),cl=parseFloat(Gt[fs][2]);break;case 0:Uc=(ni?"<":"(")+Gt[fs]+(ni?">":")"),Si=ks(ae),cl=Xi(Ne)}ho!==void 0&&ho[fs]!==void 0&&(ul=ho[fs]+` Tw
`),fs===0?M.push(ul+NA(Si,cl,ti)+Uc):Ic===0?M.push(ul+Uc):Ic===1&&M.push(ul+NA(Si,cl,ti)+Uc)}M=Ic===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Al=`BT
/`;return Al+=Be+" "+nt+` Tf
`,Al+=P(nt*Rl)+` TL
`,Al+=jr+`
`,Al+=Ri,Al+=M,se(Al+="ET"),p[Be]=!0,Xn};var dt=g.__private__.clip=g.clip=function(M){return se(M==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return dt("evenodd")},g.__private__.discardPath=g.discardPath=function(){return se("n"),this};var tt=g.__private__.isValidStyle=function(M){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ae=!0),ae};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(M){return tt(M)&&(A=M),this};var ht=g.__private__.getStyle=g.getStyle=function(M){var ae=A;switch(M){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=M}return ae},jt=g.close=function(){return se("h"),this};g.stroke=function(){return se("S"),this},g.fill=function(M){return kt("f",M),this},g.fillEvenOdd=function(M){return kt("f*",M),this},g.fillStroke=function(M){return kt("B",M),this},g.fillStrokeEvenOdd=function(M){return kt("B*",M),this};var kt=function(M,ae){oa(ae)==="object"?Wt(ae,M):se(M)},Bt=function(M){M===null||_===j&&M===void 0||(M=ht(M),se(M))};function Dt(M,ae,Ne,Fe,Je){var Lt=new pm(ae||this.boundingBox,Ne||this.xStep,Fe||this.yStep,this.gState,Je||this.matrix);Lt.stream=this.stream;var Gt=M+"$$"+this.cloneIndex+++"$$";return lr(Gt,Lt),Lt}var Wt=function(M,ae){var Ne=St[M.key],Fe=Ge[Ne];if(Fe instanceof xf)se("q"),se(pr(ae)),Fe.gState&&g.setGState(Fe.gState),se(M.matrix.toString()+" cm"),se("/"+Ne+" sh"),se("Q");else if(Fe instanceof pm){var Je=new Ct(1,0,0,-1,0,Mi());M.matrix&&(Je=Je.multiply(M.matrix||qr),Ne=Dt.call(Fe,M.key,M.boundingBox,M.xStep,M.yStep,Je).id),se("q"),se("/Pattern cs"),se("/"+Ne+" scn"),Fe.gState&&g.setGState(Fe.gState),se(ae),se("Q")}},pr=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Qr=g.moveTo=function(M,ae){return se(P(Q(M))+" "+P(H(ae))+" m"),this},Vn=g.lineTo=function(M,ae){return se(P(Q(M))+" "+P(H(ae))+" l"),this},Gr=g.curveTo=function(M,ae,Ne,Fe,Je,Lt){return se([P(Q(M)),P(H(ae)),P(Q(Ne)),P(H(Fe)),P(Q(Je)),P(H(Lt)),"c"].join(" ")),this};g.__private__.line=g.line=function(M,ae,Ne,Fe,Je){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||isNaN(Fe)||!tt(Je))throw new Error("Invalid arguments passed to jsPDF.line");return _===B?this.lines([[Ne-M,Fe-ae]],M,ae,[1,1],Je||"S"):this.lines([[Ne-M,Fe-ae]],M,ae,[1,1]).stroke()},g.__private__.lines=g.lines=function(M,ae,Ne,Fe,Je,Lt){var Gt,Nr,Pr,Zr,ln,Fn,ka,ti,Xn,ri,ni,Ri;if(typeof M=="number"&&(Ri=Ne,Ne=ae,ae=M,M=Ri),Fe=Fe||[1,1],Lt=Lt||!1,isNaN(ae)||isNaN(Ne)||!Array.isArray(M)||!Array.isArray(Fe)||!tt(Je)||typeof Lt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Qr(ae,Ne),Gt=Fe[0],Nr=Fe[1],Zr=M.length,ri=ae,ni=Ne,Pr=0;Pr<Zr;Pr++)(ln=M[Pr]).length===2?(ri=ln[0]*Gt+ri,ni=ln[1]*Nr+ni,Vn(ri,ni)):(Fn=ln[0]*Gt+ri,ka=ln[1]*Nr+ni,ti=ln[2]*Gt+ri,Xn=ln[3]*Nr+ni,ri=ln[4]*Gt+ri,ni=ln[5]*Nr+ni,Gr(Fn,ka,ti,Xn,ri,ni));return Lt&&jt(),Bt(Je),this},g.path=function(M){for(var ae=0;ae<M.length;ae++){var Ne=M[ae],Fe=Ne.c;switch(Ne.op){case"m":Qr(Fe[0],Fe[1]);break;case"l":Vn(Fe[0],Fe[1]);break;case"c":Gr.apply(this,Fe);break;case"h":jt()}}return this},g.__private__.rect=g.rect=function(M,ae,Ne,Fe,Je){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||isNaN(Fe)||!tt(Je))throw new Error("Invalid arguments passed to jsPDF.rect");return _===B&&(Fe=-Fe),se([P(Q(M)),P(H(ae)),P(Q(Ne)),P(Q(Fe)),"re"].join(" ")),Bt(Je),this},g.__private__.triangle=g.triangle=function(M,ae,Ne,Fe,Je,Lt,Gt){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||isNaN(Fe)||isNaN(Je)||isNaN(Lt)||!tt(Gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-M,Fe-ae],[Je-Ne,Lt-Fe],[M-Je,ae-Lt]],M,ae,[1,1],Gt,!0),this},g.__private__.roundedRect=g.roundedRect=function(M,ae,Ne,Fe,Je,Lt,Gt){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||isNaN(Fe)||isNaN(Je)||isNaN(Lt)||!tt(Gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Nr=4/3*(Math.SQRT2-1);return Je=Math.min(Je,.5*Ne),Lt=Math.min(Lt,.5*Fe),this.lines([[Ne-2*Je,0],[Je*Nr,0,Je,Lt-Lt*Nr,Je,Lt],[0,Fe-2*Lt],[0,Lt*Nr,-Je*Nr,Lt,-Je,Lt],[2*Je-Ne,0],[-Je*Nr,0,-Je,-Lt*Nr,-Je,-Lt],[0,2*Lt-Fe],[0,-Lt*Nr,Je*Nr,-Lt,Je,-Lt]],M+Je,ae,[1,1],Gt,!0),this},g.__private__.ellipse=g.ellipse=function(M,ae,Ne,Fe,Je){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||isNaN(Fe)||!tt(Je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Lt=4/3*(Math.SQRT2-1)*Ne,Gt=4/3*(Math.SQRT2-1)*Fe;return Qr(M+Ne,ae),Gr(M+Ne,ae-Gt,M+Lt,ae-Fe,M,ae-Fe),Gr(M-Lt,ae-Fe,M-Ne,ae-Gt,M-Ne,ae),Gr(M-Ne,ae+Gt,M-Lt,ae+Fe,M,ae+Fe),Gr(M+Lt,ae+Fe,M+Ne,ae+Gt,M+Ne,ae),Bt(Je),this},g.__private__.circle=g.circle=function(M,ae,Ne,Fe){if(isNaN(M)||isNaN(ae)||isNaN(Ne)||!tt(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ae,Ne,Ne,Fe)},g.setFont=function(M,ae,Ne){return Ne&&(ae=T(ae,Ne)),Be=za(M,ae,{disableWarning:!1}),this};var yn=g.__private__.getFont=g.getFont=function(){return yt[za.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var M,ae,Ne={};for(M in Ht)if(Ht.hasOwnProperty(M))for(ae in Ne[M]=[],Ht[M])Ht[M].hasOwnProperty(ae)&&Ne[M].push(ae);return Ne},g.addFont=function(M,ae,Ne,Fe,Je){var Lt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Lt.indexOf(arguments[3])!==-1?Je=arguments[3]:arguments[3]&&Lt.indexOf(arguments[3])==-1&&(Ne=T(Ne,Fe)),Pt.call(this,M,ae,Ne,Je=Je||"Identity-H")};var ei,Di=e.lineWidth||.200025,Ir=g.__private__.getLineWidth=g.getLineWidth=function(){return Di},bu=g.__private__.setLineWidth=g.setLineWidth=function(M){return Di=M,se(P(Q(M))+" w"),this};g.__private__.setLineDash=Fr.API.setLineDash=Fr.API.setLineDashPattern=function(M,ae){if(M=M||[],ae=ae||0,isNaN(ae)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ne){return P(Q(Ne))}).join(" "),ae=P(Q(ae)),se("["+M+"] "+ae+" d"),this};var Oc=g.__private__.getLineHeight=g.getLineHeight=function(){return nt*ei};g.__private__.getLineHeight=g.getLineHeight=function(){return nt*ei};var wu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(ei=M),this},nl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return ei};wu(e.lineHeight);var ks=g.__private__.getHorizontalCoordinate=function(M){return Q(M)},Xi=g.__private__.getVerticalCoordinate=function(M){return _===j?M:gt[q].mediaBox.topRightY-gt[q].mediaBox.bottomLeftY-Q(M)},Ee=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(M){return P(ks(M))},Mt=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(M){return P(Xi(M))},hr=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Yn(hr)},g.__private__.setStrokeColor=g.setDrawColor=function(M,ae,Ne,Fe){return hr=hn({ch1:M,ch2:ae,ch3:Ne,ch4:Fe,pdfColorType:"draw",precision:2}),se(hr),this};var Yt=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Yn(Yt)},g.__private__.setFillColor=g.setFillColor=function(M,ae,Ne,Fe){return Yt=hn({ch1:M,ch2:ae,ch3:Ne,ch4:Fe,pdfColorType:"fill",precision:2}),se(Yt),this};var jr=e.textColor||"0 g",fr=g.__private__.getTextColor=g.getTextColor=function(){return Yn(jr)};g.__private__.setTextColor=g.setTextColor=function(M,ae,Ne,Fe){return jr=hn({ch1:M,ch2:ae,ch3:Ne,ch4:Fe,pdfColorType:"text",precision:3}),this};var mn=e.charSpace,Wr=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(mn||0)};g.__private__.setCharSpace=g.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return mn=M,this};var _n=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(M){var ae=g.CapJoinStyles[M];if(ae===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _n=ae,se(ae+" J"),this};var Ea=0;g.__private__.setLineJoin=g.setLineJoin=function(M){var ae=g.CapJoinStyles[M];if(ae===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=ae,se(ae+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(P(Q(M))+" M"),this},g.GState=K1,g.setGState=function(M){(M=typeof M=="string"?Rt[sr[M]]:ui(null,M)).equals(Ye)||(se("/"+M.id+" gs"),Ye=M)};var ui=function(M,ae){if(!M||!sr[M]){var Ne=!1;for(var Fe in Rt)if(Rt.hasOwnProperty(Fe)&&Rt[Fe].equals(ae)){Ne=!0;break}if(Ne)ae=Rt[Fe];else{var Je="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Je]=ae,ae.id=Je}return M&&(sr[M]=ae.id),et.publish("addGState",ae),ae}};g.addGState=function(M,ae){return ui(M,ae),this},g.saveGraphicsState=function(){return se("q"),ze.push({key:Be,size:nt,color:jr}),this},g.restoreGraphicsState=function(){se("Q");var M=ze.pop();return Be=M.key,nt=M.size,jr=M.color,Ye=null,this},g.setCurrentTransformationMatrix=function(M){return se(M.toString()+" cm"),this},g.comment=function(M){return se("#"+M),this};var Ws=function(M,ae){var Ne=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(Lt){isNaN(Lt)||(Ne=parseFloat(Lt))}});var Fe=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(Lt){isNaN(Lt)||(Fe=parseFloat(Lt))}});var Je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Je},set:function(Lt){Je=Lt.toString()}}),this},na=function(M,ae,Ne,Fe){Ws.call(this,M,ae),this.type="rect";var Je=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Je},set:function(Gt){isNaN(Gt)||(Je=parseFloat(Gt))}});var Lt=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Lt},set:function(Gt){isNaN(Gt)||(Lt=parseFloat(Gt))}}),this},us=function(){this.page=pt,this.currentPage=q,this.pages=xe.slice(0),this.pagesContext=gt.slice(0),this.x=Ue,this.y=Qe,this.matrix=Ve,this.width=As(q),this.height=Mi(q),this.outputDestination=Pe,this.id="",this.objectNumber=-1};us.prototype.restore=function(){pt=this.page,q=this.currentPage,gt=this.pagesContext,xe=this.pages,Ue=this.x,Qe=this.y,Ve=this.matrix,va(q,this.width),Xs(q,this.height),Pe=this.outputDestination};var To=function(M,ae,Ne,Fe,Je){Kt.push(new us),pt=q=0,xe=[],Ue=M,Qe=ae,Ve=Je,Kr([Ne,Fe])};for(var Ys in g.beginFormObject=function(M,ae,Ne,Fe,Je){return To(M,ae,Ne,Fe,Je),this},g.endFormObject=function(M){return function(ae){if(tr[ae])Kt.pop().restore();else{var Ne=new us,Fe="Xo"+(Object.keys(ut).length+1).toString(10);Ne.id=Fe,tr[ae]=Fe,ut[Fe]=Ne,et.publish("addFormObject",Ne),Kt.pop().restore()}}(M),this},g.doFormObject=function(M,ae){var Ne=ut[tr[M]];return se("q"),se(ae.toString()+" cm"),se("/"+Ne.id+" Do"),se("Q"),this},g.getFormObject=function(M){var ae=ut[tr[M]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},g.save=function(M,ae){return M=M||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(gf(We(He()),M),typeof gf.unload=="function"&&nn.setTimeout&&setTimeout(gf.unload,911),this):new Promise(function(Ne,Fe){try{var Je=gf(We(He()),M);typeof gf.unload=="function"&&nn.setTimeout&&setTimeout(gf.unload,911),Ne(Je)}catch(Lt){Fe(Lt.message)}})},Fr.API)Fr.API.hasOwnProperty(Ys)&&(Ys==="events"&&Fr.API.events.length?function(M,ae){var Ne,Fe,Je;for(Je=ae.length-1;Je!==-1;Je--)Ne=ae[Je][0],Fe=ae[Je][1],M.subscribe.apply(M,[Ne].concat(typeof Fe=="function"?[Fe]:Fe))}(et,Fr.API.events):g[Ys]=Fr.API[Ys]);var As=g.getPageWidth=function(M){return(gt[M=M||q].mediaBox.topRightX-gt[M].mediaBox.bottomLeftX)/Re},va=g.setPageWidth=function(M,ae){gt[M].mediaBox.topRightX=ae*Re+gt[M].mediaBox.bottomLeftX},Mi=g.getPageHeight=function(M){return(gt[M=M||q].mediaBox.topRightY-gt[M].mediaBox.bottomLeftY)/Re},Xs=g.setPageHeight=function(M,ae){gt[M].mediaBox.topRightY=ae*Re+gt[M].mediaBox.bottomLeftY};return g.internal={pdfEscape:Ar,getStyle:ht,getFont:yn,getFontSize:re,getCharSpace:Wr,getTextColor:fr,getLineHeight:Oc,getLineHeightFactor:nl,getLineWidth:Ir,write:Et,getHorizontalCoordinate:ks,getVerticalCoordinate:Xi,getCoordinateString:Ee,getVerticalCoordinateString:Mt,collections:{},newObject:Zt,newAdditionalObject:Ur,newObjectDeferred:mr,newObjectDeferredBegin:on,getFilters:Mn,putStream:Ha,events:et,scaleFactor:Re,pageSize:{getWidth:function(){return As(q)},setWidth:function(M){va(q,M)},getHeight:function(){return Mi(q)},setHeight:function(M){Xs(q,M)}},encryptionOptions:f,encryption:$t,getEncryptor:function(M){return f!==null?$t.encryptor(M,0):function(ae){return ae}},output:it,getNumberOfPages:Na,pages:xe,out:se,f2:F,f3:R,getPageInfo:Tt,getPageInfoByObjId:ve,getCurrentPageInfo:at,getPDFVersion:x,Point:Ws,Rectangle:na,Matrix:Ct,hasHotfix:wt},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return As(q)},set:function(M){va(q,M)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Mi(q)},set:function(M){Xs(q,M)},enumerable:!0,configurable:!0}),(function(M){for(var ae=0,Ne=It.length;ae<Ne;ae++){var Fe=Pt.call(this,M[ae][0],M[ae][1],M[ae][2],It[ae][3],!0);h===!1&&(p[Fe]=!0);var Je=M[ae][0].split("-");xt({id:Fe,fontName:Je[0],fontStyle:Je[1]||""})}et.publish("addFonts",{fonts:yt,dictionary:Ht})}).call(g,It),Be="F1",br(a,r),et.publish("initialized"),g}tm.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},tm.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tm.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},tm.prototype.processOwnerPassword=function(e,t){return Bk(Ck(t).substr(0,5),e)},tm.prototype.encryptor=function(e,t){var r=Ck(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Bk(r,n)}},K1.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||oa(e)!==oa(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Fr.API={events:[]},Fr.version="3.0.2";var oi=Fr.API,V_=1,ih=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},An=function(e){return e.toFixed(2)},ZA=function(e){return e.toFixed(5)};oi.__acroform__={};var _o=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},IQ=function(e){return e*V_},eu=function(e){var t=new OG,r=Tr.internal.getHeight(e)||0,n=Tr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(An(n)),Number(An(r))],t},XNe=oi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},JNe=oi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ZNe=oi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},vi=oi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ZNe(e,t-1)},xi=oi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return XNe(e,t-1)},bi=oi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return JNe(e,t-1)},e4e=oi.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],u={};return u.lowerLeft_X=r(a)||0,u.lowerLeft_Y=n(s+l)||0,u.upperRight_X=r(a+o)||0,u.upperRight_Y=n(s)||0,[Number(An(u.lowerLeft_X)),Number(An(u.lowerLeft_Y)),Number(An(u.upperRight_X)),Number(An(u.upperRight_Y))]},t4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=jk(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+An(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=eu(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},jk=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(F){return F.split(`
`)}):a.map(function(F){return[F]});var s=r,o=Tr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Tr.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(F,R,Q){if(F+1<a.length){var H=R+" "+a[F+1][0];return Hx(H,e,Q).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var A,f,h=Hx("3",e,s).height,p=e.multiline?o-s:(o-h)/2,g=p+=2,v=0,x=0,b=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Hx(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var w="",B=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var _=!1;if(a[j].length!==1&&b!==a[j].length-1){if((h+2)*(B+2)+2>o)continue e;w+=a[j][b],_=!0,x=j,j--}else{w=(w+=a[j][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var N=parseInt(j),O=u(N,w,s),T=j>=a.length-1;if(O&&!T){w+=" ",b=0;continue}if(O||T){if(T)x=N;else if(e.multiline&&(h+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(B+2)+2>o)continue e;x=N}}for(var P="",U=v;U<=x;U++){var D=a[U];if(e.multiline){if(U===x){P+=D[b]+" ",b=(b+1)%D.length;continue}if(U===v){P+=D[D.length-1]+" ";continue}}P+=D[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=Hx(P,e,s).width,e.textAlign){case"right":A=l-f-2;break;case"center":A=(l-f)/2;break;default:A=2}t+=An(A)+" "+An(g)+` Td
`,t+="("+ih(P)+`) Tj
`,t+=-An(A)+` 0 Td
`,g=-(s+2),f=0,v=_?x:x+1,B++,w=""}break}return n.text=t,n.fontSize=s,n},Hx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},r4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},n4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},a4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(_c.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(r4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new FG,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&n4e(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],u=[],A=l.Rect;if(l.Rect&&(l.Rect=e4e(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Tr.createDefaultAppearanceStream(l),oa(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=A,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=t4e(l);u.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var g=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var v=g[o];typeof v=="function"&&(v=v.call(a,l)),h+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(a,l)),h+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);h+=">>"}u.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:l.objId}),a.internal.out("endobj")}s&&function(x,b){for(var w in x)if(x.hasOwnProperty(w)){var B=w,j=x[w];b.internal.newObjectDeferredBegin(j.objId,!0),oa(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete x[B]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},TG=oi.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),oa(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ih(n(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},FN=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+ih(n(e))+")"},au=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};au.prototype.toString=function(){return this.objId+" 0 R"},au.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},au.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:TG(a,this.objId,this.scope)}):a instanceof au?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var OG=function(){au.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_o(OG,au);var FG=function(){au.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ih(r(e))+")"}},set:function(r){e=r}})};_o(FG,au);var _c=function e(){au.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vi(t,3)},set:function(w){w?this.F=xi(t,3):this.F=bi(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof G1)return;s="FieldObject"+e.FieldNum++}var w=function(B){return B};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+ih(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/V_:A},set:function(w){A=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof G1||this instanceof Qf))return FN(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof os==0?FN(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof os==0?w.substr(0,1)==="("?Yh(w.substr(1,w.length-2)):Yh(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Yh(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof os==1?"/"+w:w}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof os==0?FN(g,this.objId,this.scope):g},set:function(w){w=w.toString(),g=this instanceof os==0?w.substr(0,1)==="("?Yh(w.substr(1,w.length-2)):Yh(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof os==1?Yh(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof os==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,1)},set:function(w){w?this.Ff=xi(this.Ff,1):this.Ff=bi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,2)},set:function(w){w?this.Ff=xi(this.Ff,2):this.Ff=bi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,3)},set:function(w){w?this.Ff=xi(this.Ff,3):this.Ff=bi(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};_o(_c,au);var wm=function(){_c.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TG(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var u,A=[];u=o.exec(s);)A.push(u[l]);return A}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,18)},set:function(r){r?this.Ff=xi(this.Ff,18):this.Ff=bi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xi(this.Ff,19):this.Ff=bi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,20)},set:function(r){r?(this.Ff=xi(this.Ff,20),t.sort()):this.Ff=bi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,22)},set:function(r){r?this.Ff=xi(this.Ff,22):this.Ff=bi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(r){r?this.Ff=xi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,27)},set:function(r){r?this.Ff=xi(this.Ff,27):this.Ff=bi(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(wm,_c);var Cm=function(){wm.call(this),this.fontName="helvetica",this.combo=!1};_o(Cm,wm);var Bm=function(){Cm.call(this),this.combo=!0};_o(Bm,Cm);var pb=function(){Bm.call(this),this.edit=!0};_o(pb,Bm);var os=function(){_c.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,15)},set:function(r){r?this.Ff=xi(this.Ff,15):this.Ff=bi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,16)},set:function(r){r?this.Ff=xi(this.Ff,16):this.Ff=bi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,17)},set:function(r){r?this.Ff=xi(this.Ff,17):this.Ff=bi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(r){r?this.Ff=xi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ih(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){oa(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_o(os,_c);var gb=function(){os.call(this),this.pushButton=!0};_o(gb,os);var jm=function(){os.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_o(jm,os);var G1=function(){var e,t;_c.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+ih(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){oa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(G1,_c),jm.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},jm.prototype.createOption=function(e){var t=new G1;return t.Parent=this,t.optionName=e,this.Kids.push(t),i4e.call(this.scope,t),t};var yb=function(){os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tr.CheckBox.createAppearanceStream()};_o(yb,os);var Qf=function(){_c.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,13)},set:function(t){t?this.Ff=xi(this.Ff,13):this.Ff=bi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,21)},set:function(t){t?this.Ff=xi(this.Ff,21):this.Ff=bi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(t){t?this.Ff=xi(this.Ff,23):this.Ff=bi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,24)},set:function(t){t?this.Ff=xi(this.Ff,24):this.Ff=bi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,25)},set:function(t){t?this.Ff=xi(this.Ff,25):this.Ff=bi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(t){t?this.Ff=xi(this.Ff,26):this.Ff=bi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(Qf,_c);var vb=function(){Qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,14)},set:function(e){e?this.Ff=xi(this.Ff,14):this.Ff=bi(this.Ff,14)}}),this.password=!0};_o(vb,Qf);var Tr={CheckBox:{createAppearanceStream:function(){return{N:{On:Tr.CheckBox.YesNormal},D:{On:Tr.CheckBox.YesPushDown,Off:Tr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=jk(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+An(Tr.internal.getWidth(e))+" "+An(Tr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+An(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=eu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Tr.internal.getHeight(e),o=Tr.internal.getWidth(e),l=jk(e,e.caption);return a.push("1 g"),a.push("0 0 "+An(o)+" "+An(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+An(o-1)+" "+An(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+An(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+An(Tr.internal.getWidth(e))+" "+An(Tr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Tr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Tr.RadioButton.Circle.YesNormal,t.D[e]=Tr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=eu(e);t.scope=e.scope;var r=[],n=Tr.internal.getWidth(e)<=Tr.internal.getHeight(e)?Tr.internal.getWidth(e)/4:Tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Tr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ZA(Tr.internal.getWidth(e)/2)+" "+ZA(Tr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=[],n=Tr.internal.getWidth(e)<=Tr.internal.getHeight(e)?Tr.internal.getWidth(e)/4:Tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Tr.internal.Bezier_C).toFixed(5)),o=Number((n*Tr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ZA(Tr.internal.getWidth(e)/2)+" "+ZA(Tr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ZA(Tr.internal.getWidth(e)/2)+" "+ZA(Tr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=[],n=Tr.internal.getWidth(e)<=Tr.internal.getHeight(e)?Tr.internal.getWidth(e)/4:Tr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Tr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ZA(Tr.internal.getWidth(e)/2)+" "+ZA(Tr.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Tr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Tr.RadioButton.Cross.YesNormal,t.D[e]=Tr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=eu(e);t.scope=e.scope;var r=[],n=Tr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+An(Tr.internal.getWidth(e)-2)+" "+An(Tr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(An(n.x1.x)+" "+An(n.x1.y)+" m"),r.push(An(n.x2.x)+" "+An(n.x2.y)+" l"),r.push(An(n.x4.x)+" "+An(n.x4.y)+" m"),r.push(An(n.x3.x)+" "+An(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=Tr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+An(Tr.internal.getWidth(e))+" "+An(Tr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+An(Tr.internal.getWidth(e)-2)+" "+An(Tr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(An(r.x1.x)+" "+An(r.x1.y)+" m"),n.push(An(r.x2.x)+" "+An(r.x2.y)+" l"),n.push(An(r.x4.x)+" "+An(r.x4.y)+" m"),n.push(An(r.x3.x)+" "+An(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=eu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+An(Tr.internal.getWidth(e))+" "+An(Tr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Tr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Tr.internal.getWidth(e),r=Tr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Tr.internal.getWidth=function(e){var t=0;return oa(e)==="object"&&(t=IQ(e.Rect[2])),t},Tr.internal.getHeight=function(e){var t=0;return oa(e)==="object"&&(t=IQ(e.Rect[3])),t};var i4e=oi.addField=function(e){if(a4e(this,e),!(e instanceof _c))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};oi.AcroFormChoiceField=wm,oi.AcroFormListBox=Cm,oi.AcroFormComboBox=Bm,oi.AcroFormEditBox=pb,oi.AcroFormButton=os,oi.AcroFormPushButton=gb,oi.AcroFormRadioButton=jm,oi.AcroFormCheckBox=yb,oi.AcroFormTextField=Qf,oi.AcroFormPasswordField=vb,oi.AcroFormAppearance=Tr,oi.AcroForm={ChoiceField:wm,ListBox:Cm,ComboBox:Bm,EditBox:pb,Button:os,PushButton:gb,RadioButton:jm,CheckBox:yb,TextField:Qf,PasswordField:vb,Appearance:Tr},Fr.AcroForm={ChoiceField:wm,ListBox:Cm,ComboBox:Bm,EditBox:pb,Button:os,PushButton:gb,RadioButton:jm,CheckBox:yb,TextField:Qf,PasswordField:vb,Appearance:Tr};Fr.AcroForm;function PG(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(F,R){var Q,H,J,V,Y,ee=r;if((R=R||r)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(O(F))for(Y in n)for(J=n[Y],Q=0;Q<J.length;Q+=1){for(V=!0,H=0;H<J[Q].length;H+=1)if(J[Q][H]!==void 0&&J[Q][H]!==F[H]){V=!1;break}if(V===!0){ee=Y;break}}else for(Y in n)for(J=n[Y],Q=0;Q<J.length;Q+=1){for(V=!0,H=0;H<J[Q].length;H+=1)if(J[Q][H]!==void 0&&J[Q][H]!==F.charCodeAt(H)){V=!1;break}if(V===!0){ee=Y;break}}return ee===r&&R!==r&&(ee=R),ee},s=function F(R){for(var Q=this.internal.write,H=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:R.width}),V.push({key:"Height",value:R.height}),R.colorSpace===w.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===w.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var Y="",ee=0,ie=R.transparency.length;ee<ie;ee++)Y+=R.transparency[ee]+" "+R.transparency[ee]+" ";V.push({key:"Mask",value:"["+Y+"]"})}R.sMask!==void 0&&V.push({key:"SMask",value:R.objectId+1+" 0 R"});var z=R.filter!==void 0?["/"+R.filter]:void 0;if(H({data:R.data,additionalKeyValues:V,alreadyAppliedFilters:z,objectId:R.objectId}),Q("endobj"),"sMask"in R&&R.sMask!==void 0){var W=(R.predictor!=null?"/Predictor "+R.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+R.width,L={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:W,data:R.sMask};"filter"in R&&(L.filter=R.filter),F.call(this,L)}if(R.colorSpace===w.INDEXED){var q=this.internal.newObject();H({data:P(new Uint8Array(R.palette)),objectId:q}),Q("endobj")}},o=function(){var F=this.internal.collections[t+"images"];for(var R in F)s.call(this,F[R])},l=function(){var F,R=this.internal.collections[t+"images"],Q=this.internal.write;for(var H in R)Q("/I"+(F=R[H]).index,F.objectId,"0","R")},u=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},A=function(){var F=this.internal.collections[t+"images"];return u.call(this),F},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(F){return typeof e["process"+F.toUpperCase()]=="function"},p=function(F){return oa(F)==="object"&&F.nodeType===1},g=function(F,R){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var Q=""+F.getAttribute("src");if(Q.indexOf("data:image/")===0)return mb(unescape(Q).split("base64,").pop());var H=e.loadFile(Q,!0);if(H!==void 0)return H}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var J;switch(R){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;default:J="image/jpeg"}return mb(F.toDataURL(J,1).split("base64,").pop())}},v=function(F){var R=this.internal.collections[t+"images"];if(R){for(var Q in R)if(F===R[Q].alias)return R[Q]}},x=function(F,R,Q){return F||R||(F=-96,R=-96),F<0&&(F=-1*Q.width*72/F/this.internal.scaleFactor),R<0&&(R=-1*Q.height*72/R/this.internal.scaleFactor),F===0&&(F=R*Q.width/Q.height),R===0&&(R=F*Q.height/Q.width),[F,R]},b=function(F,R,Q,H,J,V){var Y=x.call(this,Q,H,J),ee=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,z=A.call(this);if(Q=Y[0],H=Y[1],z[J.index]=J,V){V*=Math.PI/180;var W=Math.cos(V),L=Math.sin(V),q=function(Z){return Z.toFixed(4)},G=[q(W),q(L),q(-1*L),q(W),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,ee(F),ie(R+H),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([ee(Q),"0","0",ee(H),"0","0","cm"].join(" "))):this.internal.write([ee(Q),"0","0",ee(H),ee(F),ie(R+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(F){var R,Q,H=0;if(typeof F=="string")for(Q=F.length,R=0;R<Q;R++)H=(H<<5)-H+F.charCodeAt(R),H|=0;else if(O(F))for(Q=F.byteLength/2,R=0;R<Q;R++)H=(H<<5)-H+F[R],H|=0;return H},_=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var R=!0;return F.length===0&&(R=!1),F.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(R=!1),R},N=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var R=F.indexOf(",");return R<0?null:F.substring(0,R).trim().endsWith("base64")?F.substring(R+1):null};e.__addimage__.isArrayBuffer=function(F){return F instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(F){return F instanceof Int8Array||F instanceof Uint8Array||F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array},T=e.__addimage__.binaryStringToUint8Array=function(F){for(var R=F.length,Q=new Uint8Array(R),H=0;H<R;H++)Q[H]=F.charCodeAt(H);return Q},P=e.__addimage__.arrayBufferToBinaryString=function(F){for(var R="",Q=O(F)?F:new Uint8Array(F),H=0;H<Q.length;H+=8192)R+=String.fromCharCode.apply(null,Q.subarray(H,H+8192));return R};e.addImage=function(){var F,R,Q,H,J,V,Y,ee,ie;if(typeof arguments[1]=="number"?(R=r,Q=arguments[1],H=arguments[2],J=arguments[3],V=arguments[4],Y=arguments[5],ee=arguments[6],ie=arguments[7]):(R=arguments[1],Q=arguments[2],H=arguments[3],J=arguments[4],V=arguments[5],Y=arguments[6],ee=arguments[7],ie=arguments[8]),oa(F=arguments[0])==="object"&&!p(F)&&"imageData"in F){var z=F;F=z.imageData,R=z.format||R||r,Q=z.x||Q||0,H=z.y||H||0,J=z.w||z.width||J,V=z.h||z.height||V,Y=z.alias||Y,ee=z.compression||ee,ie=z.rotation||z.angle||ie}var W=this.internal.getFilters();if(ee===void 0&&W.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(Q)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=U.call(this,F,R,Y,ee);return b.call(this,Q,H,J,V,L,ie),this};var U=function(F,R,Q,H){var J,V,Y;if(typeof F=="string"&&a(F)===r){F=unescape(F);var ee=D(F,!1);(ee!==""||(ee=e.loadFile(F,!0))!==void 0)&&(F=ee)}if(p(F)&&(F=g(F,R)),R=a(F,R),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((Y=Q)==null||Y.length===0)&&(Q=function(ie){return typeof ie=="string"||O(ie)?j(ie):O(ie.data)?j(ie.data):null}(F)),(J=v.call(this,Q))||(F instanceof Uint8Array||R==="RGBA"||(V=F,F=T(F)),J=this["process"+R.toUpperCase()](F,f.call(this),Q,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:B.NONE}(H),V)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},D=e.__addimage__.convertBase64ToBinaryString=function(F,R){R=typeof R!="boolean"||R;var Q,H="";if(typeof F=="string"){var J;Q=(J=N(F))!==null&&J!==void 0?J:F;try{H=mb(Q)}catch(V){if(R)throw _(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(F){var R,Q,H="";if(p(F)&&(F=g(F)),typeof F=="string"&&a(F)===r&&((H=D(F,!1))===""&&(H=e.loadFile(F)||""),F=H),Q=a(F),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(F instanceof Uint8Array||(F=T(F)),!(R=this["process"+Q.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=Q,R}})(Fr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Fr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,f=!1,h=0;h<A.length&&!f;h++)switch((n=A[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<A.length;p++){n=A[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),B=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(w(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+u.objId+" 0 R",s+=" /T ("+g(w(B))+") >>",x.content=s;var j=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(x.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var N=this.annotations._nameMap[n.options.name];n.options.pageNumber=N.page,n.options.top=N.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var O=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(r),y:A(n),w:u(r+a),h:A(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,u=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(A*f)}else l=u,o=A;return this.text(r,n,a,s),a+=.2*A,s.align==="center"&&(n-=u/2),s.align==="right"&&(n-=u),this.link(n,a-A,l,o,s),u},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Fr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(x){return o(x)&&a.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return o(x)&&s(x)&&t[x.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(x){var b=0,w=r,B="",j=0;for(b=0;b<x.length;b+=1)w[x.charCodeAt(b)]!==void 0?(j++,typeof(w=w[x.charCodeAt(b)])=="number"&&(B+=String.fromCharCode(w),w=r,j=0),b===x.length-1&&(w=r,B+=x.charAt(b-(j-1)),b-=j-1,j=0)):(w=r,B+=x.charAt(b-j),b-=j,j=0);return B};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(x,b,w){return o(x)?s(x)===!1?-1:!A(x)||!o(b)&&!o(w)||!o(w)&&l(b)||l(x)&&!o(b)||l(x)&&u(b)||l(x)&&l(b)?0:f(x)&&o(b)&&!l(b)&&o(w)&&A(w)?3:l(x)||!o(w)?1:2:-1},g=function(x){var b=0,w=0,B=0,j="",_="",N="",O=(x=x||"").split("\\s+"),T=[];for(b=0;b<O.length;b+=1){for(T.push(""),w=0;w<O[b].length;w+=1)j=O[b][w],_=O[b][w-1],N=O[b][w+1],o(j)?(B=p(j,_,N),T[b]+=B!==-1?String.fromCharCode(t[j.charCodeAt(0)][B]):j):T[b]+=j;T[b]=h(T[b])}return T.join(" ")},v=e.__arabicParser__.processArabic=e.processArabic=function(){var x,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var B=0;for(w=[],B=0;B<b.length;B+=1)Array.isArray(b[B])?w.push([g(b[B][0]),b[B][1],b[B][2]]):w.push([g(b[B])]);x=w}else x=g(b);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",v])}(Fr.API),Fr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Fr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(x){A=x}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(x){v=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return n.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,A){n.call(this);var f=(A=A||{}).fontSize||this.getFontSize(),h=A.font||this.getFont(),p=A.scaleFactor||this.internal.scaleFactor,g=0,v=0,x=0,b=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var w=A.maxWidth;w>0?typeof u=="string"?u=this.splitTextToSize(u,w):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(j,_){return j.concat(b.splitTextToSize(_,w))},[])):u=Array.isArray(u)?u:[u];for(var B=0;B<u.length;B++)g<(x=this.getStringUnitWidth(u[B],{font:h})*f)&&(g=x);return g!==0&&(v=u.length),{w:g/=p,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var u;u=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===u.lineNumber?(u.x=(A.x||0)+(A.width||0),u.y=A.y||0):A.y+A.height+u.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=h.top,g&&p&&(this.printHeaderRow(u.lineNumber,!0),u.y+=p[0].height)):u.y=A.y+A.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,r===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-f,u.y+f,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+f,{align:"center",baseline:"top",maxWidth:u.width-f-f}):this.text(u.text,u.x+f,u.y+f,{align:"left",baseline:"top",maxWidth:u.width-f-f})),this.internal.__cell__.lastCell=u,this};e.table=function(u,A,f,h,p){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,v,x,b,w=[],B=[],j=[],_={},N={},O=[],T=[],P=(p=p||{}).autoSize||!1,U=p.printHeaders!==!1,D=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,F=p.margins||Object.assign({width:this.getPageWidth()},t),R=typeof p.padding=="number"?p.padding:3,Q=p.headerBackgroundColor||"#c8c8c8",H=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),h==null)B=w=Object.keys(f[0]),j=w.map(function(){return"left"});else if(Array.isArray(h)&&oa(h[0])==="object")for(w=h.map(function(z){return z.name}),B=h.map(function(z){return z.prompt||z.name||""}),j=h.map(function(z){return z.align||"left"}),g=0;g<h.length;g+=1)N[h[g].name]=.7499990551181103*h[g].width;else Array.isArray(h)&&typeof h[0]=="string"&&(B=w=h,j=w.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(g=0;g<w.length;g+=1){for(_[b=w[g]]=f.map(function(z){return z[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(B[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=_[b],this.setFont(void 0,"normal"),x=0;x<v.length;x+=1)O.push(this.getTextDimensions(v[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,O)+R+R,O=[]}if(U){var J={};for(g=0;g<w.length;g+=1)J[w[g]]={},J[w[g]].text=B[g],J[w[g]].align=j[g];var V=l.call(this,J,N);T=w.map(function(z){return new s(u,A,N[z],V,J[z].text,void 0,J[z].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var Y=h.reduce(function(z,W){return z[W.name]=W.align,z},{});for(g=0;g<f.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:f[g]},this);var ee=l.call(this,f[g],N);for(x=0;x<w.length;x+=1){var ie=f[g][w[x]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:x,data:ie},this),o.call(this,new s(u,A,N[w[x]],ee,ie,g+2,Y[w[x]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=A,this};var l=function(u,A){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(u).map(function(g){var v=u[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,A[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*h/p+f+f},this).reduce(function(g,v){return Math.max(g,v)},0)};e.setTableHeaderRow=function(u){n.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),A&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=u;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(Fr.API);var LG={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UG=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Sk=PG(UG),IG=[100,200,300,400,500,600,700,800,900],s4e=PG(IG);function PN(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return LG[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),a=function(s){return typeof Sk[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function DQ(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var o4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},MQ={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RQ(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function QQ(e){return e.trimLeft()}function l4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function c4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $x,HQ,$Q,Xh,zx,zQ,qQ,VQ,LN=["times"];function KQ(e,t,r,n){var a=4,s=WQ;switch(n){case Fr.API.image_compression.FAST:a=1,s=GQ;break;case Fr.API.image_compression.MEDIUM:a=6,s=YQ;break;case Fr.API.image_compression.SLOW:a=9,s=XQ}e=function(l,u,A,f){for(var h,p=l.length/u,g=new Uint8Array(l.length+p),v=[u4e,GQ,WQ,YQ,XQ],x=0;x<p;x+=1){var b=x*u,w=l.subarray(b,b+u);if(f)g.set(f(w,A,h),b+x);else{for(var B=v.length,j=[],_=0;_<B;_+=1)j[_]=v[_](w,A,h);var N=d4e(j.concat());g.set(j[N],b+x)}h=w}return g}(e,t,r,s);var o=vk(e,{level:a});return Fr.API.__addimage__.arrayBufferToBinaryString(o)}function u4e(e){var t=Array.apply([],e);return t.unshift(0),t}function GQ(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=e[a-t]||0;n[a+1]=e[a]-s+256&255}return n}function WQ(e,t,r){var n=e.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=e[s]-o+256&255}return a}function YQ(e,t,r){var n=e.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=e[s-t]||0,l=r&&r[s]||0;a[s+1]=e[s]+256-(o+l>>>1)&255}return a}function XQ(e,t,r){var n=e.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=A4e(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);a[s+1]=e[s]-o+256&255}return a}function A4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=a&&n<=s?e:a<=s?t:r}function d4e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function UN(e,t,r){var n=t*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return DG(e,a)>>s&o}function JQ(e,t,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,u=(t&l)<<o;(function(A,f,h){if(f+1<A.byteLength)A.setUint16(f,h,!1);else{var p=h>>8&255;A.setUint8(f,p)}})(e,s,DG(e,s)&~(l<<o)&65535|u)}function DG(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function f4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<1+(7&a);e[t++],e[t++];var l=null,u=null;s&&(l=t,u=o,t+=3*o);var A=!0,f=[],h=0,p=null,g=0,v=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,v=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&x||(p=null),g=x>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,_=e[t++],N=_>>6&1,O=1<<1+(7&_),T=l,P=u,U=!1;_>>7&&(U=!0,T=t,P=O,t+=3*O);var D=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}f.push({x:b,y:w,width:B,height:j,has_local_palette:U,palette_offset:T,palette_size:P,data_offset:D,data_length:t-D,transparent_index:p,interlaced:!!N,delay:h,disposal:g});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(R){if(R<0||R>=f.length)throw new Error("Frame index out of range.");return f[R]},this.decodeAndBlitFrameBGRA=function(R,Q){var H=this.frameInfo(R),J=H.width*H.height,V=new Uint8Array(J);ZQ(e,H.data_offset,V,J);var Y=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var ie=H.width,z=r-ie,W=ie,L=4*(H.y*r+H.x),q=4*((H.y+H.height)*r+H.x),G=L,Z=4*z;H.interlaced===!0&&(Z+=4*r*7);for(var te=8,fe=0,we=V.length;fe<we;++fe){var he=V[fe];if(W===0&&(W=ie,(G+=Z)>=q&&(Z=4*z+4*r*(te-1),G=L+(ie+z)*(te<<1),te>>=1)),he===ee)G+=4;else{var ce=e[Y+3*he],xe=e[Y+3*he+1],ge=e[Y+3*he+2];Q[G++]=ge,Q[G++]=xe,Q[G++]=ce,Q[G++]=255}--W}},this.decodeAndBlitFrameRGBA=function(R,Q){var H=this.frameInfo(R),J=H.width*H.height,V=new Uint8Array(J);ZQ(e,H.data_offset,V,J);var Y=H.palette_offset,ee=H.transparent_index;ee===null&&(ee=256);var ie=H.width,z=r-ie,W=ie,L=4*(H.y*r+H.x),q=4*((H.y+H.height)*r+H.x),G=L,Z=4*z;H.interlaced===!0&&(Z+=4*r*7);for(var te=8,fe=0,we=V.length;fe<we;++fe){var he=V[fe];if(W===0&&(W=ie,(G+=Z)>=q&&(Z=4*z+4*r*(te-1),G=L+(ie+z)*(te<<1),te>>=1)),he===ee)G+=4;else{var ce=e[Y+3*he],xe=e[Y+3*he+1],ge=e[Y+3*he+2];Q[G++]=ce,Q[G++]=xe,Q[G++]=ge,Q[G++]=255}--W}}}function ZQ(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,u=a+1,A=(1<<u)-1,f=0,h=0,p=0,g=e[t++],v=new Int32Array(4096),x=null;;){for(;f<16&&g!==0;)h|=e[t++]<<f,f+=8,g===1?g=e[t++]:--g;if(f<u)break;var b=h&A;if(h>>=u,f-=u,b!==s){if(b===o)break;for(var w=b<l?b:x,B=0,j=w;j>s;)j=v[j]>>8,++B;var _=j;if(p+B+(w!==b?1:0)>n)return void ga.log("Warning, gif stream longer than expected.");r[p++]=_;var N=p+=B;for(w!==b&&(r[p++]=_),j=w;B--;)j=v[j],r[--N]=255&j,j>>=8;x!==null&&l<4096&&(v[l++]=x<<8|_,l>=A+1&&u<12&&(++u,A=A<<1|1)),x=b}else l=o+1,A=(1<<(u=a+1))-1,x=null}return p!==n&&ga.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function IN(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),u=new Array(64),A=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),x=[],b=0,w=7,B=new Array(64),j=new Array(64),_=new Array(64),N=new Array(256),O=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(L,q){for(var G=0,Z=0,te=new Array,fe=1;fe<=16;fe++){for(var we=1;we<=L[fe];we++)te[q[Z]]=[],te[q[Z]][0]=G,te[q[Z]][1]=fe,Z++,G++;G*=2}return te}function Y(L){for(var q=L[0],G=L[1]-1;G>=0;)q&1<<G&&(b|=1<<w),G--,--w<0&&(b==255?(ee(255),ee(0)):ee(b),w=7,b=0)}function ee(L){x.push(L)}function ie(L){ee(L>>8&255),ee(255&L)}function z(L,q,G,Z,te){for(var fe,we=te[0],he=te[240],ce=function(nt,ye){var re,_e,Oe,Ke,Me,bt,Jt,Vt,Be,Re,Ue=0;for(Be=0;Be<8;++Be){re=nt[Ue],_e=nt[Ue+1],Oe=nt[Ue+2],Ke=nt[Ue+3],Me=nt[Ue+4],bt=nt[Ue+5],Jt=nt[Ue+6];var Qe=re+(Vt=nt[Ue+7]),Ve=re-Vt,yt=_e+Jt,Ht=_e-Jt,ze=Oe+bt,Ge=Oe-bt,St=Ke+Me,Rt=Ke-Me,sr=Qe+St,Ye=Qe-St,pt=yt+ze,gt=yt-ze;nt[Ue]=sr+pt,nt[Ue+4]=sr-pt;var et=.707106781*(gt+Ye);nt[Ue+2]=Ye+et,nt[Ue+6]=Ye-et;var ft=.382683433*((sr=Rt+Ge)-(gt=Ht+Ve)),ut=.5411961*sr+ft,tr=1.306562965*gt+ft,Kt=.707106781*(pt=Ge+Ht),Ct=Ve+Kt,$r=Ve-Kt;nt[Ue+5]=$r+ut,nt[Ue+3]=$r-ut,nt[Ue+1]=Ct+tr,nt[Ue+7]=Ct-tr,Ue+=8}for(Ue=0,Be=0;Be<8;++Be){re=nt[Ue],_e=nt[Ue+8],Oe=nt[Ue+16],Ke=nt[Ue+24],Me=nt[Ue+32],bt=nt[Ue+40],Jt=nt[Ue+48];var qr=re+(Vt=nt[Ue+56]),lr=re-Vt,cr=_e+Jt,Zt=_e-Jt,mr=Oe+bt,on=Oe-bt,Ur=Ke+Me,Vr=Ke-Me,dn=qr+Ur,Yn=qr-Ur,hn=cr+mr,Mn=cr-mr;nt[Ue]=dn+hn,nt[Ue+32]=dn-hn;var Ha=.707106781*(Mn+Yn);nt[Ue+16]=Yn+Ha,nt[Ue+48]=Yn-Ha;var Rn=.382683433*((dn=Vr+on)-(Mn=Zt+lr)),bn=.5411961*dn+Rn,Ja=1.306562965*Mn+Rn,qn=.707106781*(hn=on+Zt),Qn=lr+qn,$a=lr-qn;nt[Ue+40]=$a+bn,nt[Ue+24]=$a-bn,nt[Ue+8]=Qn+Ja,nt[Ue+56]=Qn-Ja,Ue++}for(Be=0;Be<64;++Be)Re=nt[Be]*ye[Be],g[Be]=Re>0?Re+.5|0:Re-.5|0;return g}(L,q),xe=0;xe<64;++xe)v[T[xe]]=ce[xe];var ge=v[0]-G;G=v[0],ge==0?Y(Z[0]):(Y(Z[p[fe=32767+ge]]),Y(h[fe]));for(var Pe=63;Pe>0&&v[Pe]==0;)Pe--;if(Pe==0)return Y(we),G;for(var ke,se=1;se<=Pe;){for(var Et=se;v[se]==0&&se<=Pe;)++se;var Qt=se-Et;if(Qt>=16){ke=Qt>>4;for(var It=1;It<=ke;++It)Y(he);Qt&=15}fe=32767+v[se],Y(te[(Qt<<4)+p[fe]]),Y(h[fe]),se++}return Pe!=63&&Y(we),G}function W(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=o((G[Z]*q+50)/100);te=Math.min(Math.max(te,1),255),l[T[Z]]=te}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var he=o((fe[we]*q+50)/100);he=Math.min(Math.max(he,1),255),u[T[we]]=he}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ge=0;ge<8;ge++)for(var Pe=0;Pe<8;Pe++)A[xe]=1/(l[T[xe]]*ce[ge]*ce[Pe]*8),f[xe]=1/(u[T[xe]]*ce[ge]*ce[Pe]*8),xe++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,q){q&&W(q),x=new Array,b=0,w=7,ie(65496),ie(65504),ie(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),ie(1),ie(1),ee(0),ee(0),function(){ie(65499),ie(132),ee(0);for(var _e=0;_e<64;_e++)ee(l[_e]);ee(1);for(var Oe=0;Oe<64;Oe++)ee(u[Oe])}(),function(_e,Oe){ie(65472),ie(17),ee(8),ie(Oe),ie(_e),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(L.width,L.height),function(){ie(65476),ie(418),ee(0);for(var _e=0;_e<16;_e++)ee(P[_e+1]);for(var Oe=0;Oe<=11;Oe++)ee(U[Oe]);ee(16);for(var Ke=0;Ke<16;Ke++)ee(D[Ke+1]);for(var Me=0;Me<=161;Me++)ee(F[Me]);ee(1);for(var bt=0;bt<16;bt++)ee(R[bt+1]);for(var Jt=0;Jt<=11;Jt++)ee(Q[Jt]);ee(17);for(var Vt=0;Vt<16;Vt++)ee(H[Vt+1]);for(var Be=0;Be<=161;Be++)ee(J[Be])}(),ie(65498),ie(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var G=0,Z=0,te=0;b=0,w=7,this.encode.displayName="_encode_";for(var fe,we,he,ce,xe,ge,Pe,ke,se,Et=L.data,Qt=L.width,It=L.height,nt=4*Qt,ye=0;ye<It;){for(fe=0;fe<nt;){for(xe=nt*ye+fe,Pe=-1,ke=0,se=0;se<64;se++)ge=xe+(ke=se>>3)*nt+(Pe=4*(7&se)),ye+ke>=It&&(ge-=nt*(ye+1+ke-It)),fe+Pe>=nt&&(ge-=fe+Pe-nt+4),we=Et[ge++],he=Et[ge++],ce=Et[ge++],B[se]=(O[we]+O[he+256|0]+O[ce+512|0]>>16)-128,j[se]=(O[we+768|0]+O[he+1024|0]+O[ce+1280|0]>>16)-128,_[se]=(O[we+1280|0]+O[he+1536|0]+O[ce+1792|0]>>16)-128;G=z(B,A,G,t,n),Z=z(j,f,Z,r,a),te=z(_,f,te,r,a),fe+=32}ye+=8}if(w>=0){var re=[];re[1]=w+1,re[0]=(1<<w+1)-1,Y(re)}return ie(65497),new Uint8Array(x)},e=e||50,function(){for(var L=String.fromCharCode,q=0;q<256;q++)N[q]=L(q)}(),t=V(P,U),r=V(R,Q),n=V(D,F),a=V(H,J),function(){for(var L=1,q=2,G=1;G<=15;G++){for(var Z=L;Z<q;Z++)p[32767+Z]=G,h[32767+Z]=[],h[32767+Z][1]=G,h[32767+Z][0]=Z;for(var te=-(q-1);te<=-L;te++)p[32767+te]=G,h[32767+te]=[],h[32767+te][1]=G,h[32767+te][0]=q-1+te;L<<=1,q<<=1}}(),function(){for(var L=0;L<256;L++)O[L]=19595*L,O[L+256|0]=38470*L,O[L+512|0]=7471*L+32768,O[L+768|0]=-11059*L,O[L+1024|0]=-21709*L,O[L+1280|0]=32768*L+8421375,O[L+1536|0]=-27439*L,O[L+1792|0]=-5329*L}(),W(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ic(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function e7(e){function t(U){if(!U)throw Error("assert :P")}function r(U,D,F){for(var R=0;4>R;R++)if(U[D+R]!=F.charCodeAt(R))return!0;return!1}function n(U,D,F,R,Q){for(var H=0;H<Q;H++)U[D+H]=F[R+H]}function a(U,D,F,R){for(var Q=0;Q<R;Q++)U[D+Q]=F}function s(U){return new Int32Array(U)}function o(U,D){for(var F=[],R=0;R<U;R++)F.push(new D);return F}function l(U,D){var F=[];return function R(Q,H,J){for(var V=J[H],Y=0;Y<V&&(Q.push(J.length>H+1?[]:new D),!(J.length<H+1));Y++)R(Q[Y],H+1,J)}(F,0,U),F}var u=function(){var U=this;function D(C,E){for(var $=1<<E-1>>>0;C&$;)$>>>=1;return $?(C&$-1)+$:C}function F(C,E,$,K,ne){t(!(K%$));do C[E+(K-=$)]=ne;while(0<K)}function R(C,E,$,K,ne){if(t(2328>=ne),512>=ne)var oe=s(512);else if((oe=s(ne))==null)return 0;return function(Ae,pe,be,je,Ie,ot){var Se,De,Le=pe,ct=1<<be,Xe=s(16),Nt=s(16);for(t(Ie!=0),t(je!=null),t(Ae!=null),t(0<be),De=0;De<Ie;++De){if(15<je[De])return 0;++Xe[je[De]]}if(Xe[0]==Ie)return 0;for(Nt[1]=0,Se=1;15>Se;++Se){if(Xe[Se]>1<<Se)return 0;Nt[Se+1]=Nt[Se]+Xe[Se]}for(De=0;De<Ie;++De)Se=je[De],0<je[De]&&(ot[Nt[Se]++]=De);if(Nt[15]==1)return(je=new Q).g=0,je.value=ot[0],F(Ae,Le,1,ct,je),ct;var _t,Xt=-1,qt=ct-1,Er=0,gr=1,fn=1,ur=1<<be;for(De=0,Se=1,Ie=2;Se<=be;++Se,Ie<<=1){if(gr+=fn<<=1,0>(fn-=Xe[Se]))return 0;for(;0<Xe[Se];--Xe[Se])(je=new Q).g=Se,je.value=ot[De++],F(Ae,Le+Er,Ie,ur,je),Er=D(Er,Se)}for(Se=be+1,Ie=2;15>=Se;++Se,Ie<<=1){if(gr+=fn<<=1,0>(fn-=Xe[Se]))return 0;for(;0<Xe[Se];--Xe[Se]){if(je=new Q,(Er&qt)!=Xt){for(Le+=ur,_t=1<<(Xt=Se)-be;15>Xt&&!(0>=(_t-=Xe[Xt]));)++Xt,_t<<=1;ct+=ur=1<<(_t=Xt-be),Ae[pe+(Xt=Er&qt)].g=_t+be,Ae[pe+Xt].value=Le-pe-Xt}je.g=Se-be,je.value=ot[De++],F(Ae,Le+(Er>>be),Ie,ur,je),Er=D(Er,Se)}}return gr!=2*Nt[15]-1?0:ct}(C,E,$,K,ne,oe)}function Q(){this.value=this.g=0}function H(){this.value=this.g=0}function J(){this.G=o(5,Q),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(mo,H)}function V(C,E,$,K){t(C!=null),t(E!=null),t(2147483648>K),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=E,C.pa=$,C.Jd=E,C.Yc=$+K,C.Zc=4<=K?$+K-4+1:$,we(C)}function Y(C,E){for(var $=0;0<E--;)$|=ce(C,128)<<E;return $}function ee(C,E){var $=Y(C,E);return he(C)?-$:$}function ie(C,E,$,K){var ne,oe=0;for(t(C!=null),t(E!=null),t(4294967288>K),C.Sb=K,C.Ra=0,C.u=0,C.h=0,4<K&&(K=4),ne=0;ne<K;++ne)oe+=E[$+ne]<<8*ne;C.Ra=oe,C.bb=K,C.oa=E,C.pa=$}function z(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<$l-8>>>0,++C.bb,C.u-=8;Z(C)&&(C.h=1,C.u=0)}function W(C,E){if(t(0<=E),!C.h&&E<=jA){var $=G(C)&sl[E];return C.u+=E,z(C),$}return C.h=1,C.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(C){return C.Ra>>>(C.u&$l-1)>>>0}function Z(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>$l}function te(C,E){C.u=E,C.h=Z(C)}function fe(C){C.u>=La&&(t(C.u>=La),z(C))}function we(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function he(C){return Y(C,1)}function ce(C,E){var $=C.Ca;0>C.b&&we(C);var K=C.b,ne=$*E>>>8,oe=(C.I>>>K>ne)+0;for(oe?($-=ne,C.I-=ne+1<<K>>>0):$=ne+1,K=$,ne=0;256<=K;)ne+=8,K>>=8;return K=7^ne+Np[K],C.b-=K,C.Ca=($<<K)-1,oe}function xe(C,E,$){C[E+0]=$>>24&255,C[E+1]=$>>16&255,C[E+2]=$>>8&255,C[E+3]=255&$}function ge(C,E){return C[E+0]|C[E+1]<<8}function Pe(C,E){return ge(C,E)|C[E+2]<<16}function ke(C,E){return ge(C,E)|ge(C,E+2)<<16}function se(C,E){var $=1<<E;return t(C!=null),t(0<E),C.X=s($),C.X==null?0:(C.Mb=32-E,C.Xa=E,1)}function Et(C,E){t(C!=null),t(E!=null),t(C.Xa==E.Xa),n(E.X,0,C.X,0,1<<E.Xa)}function Qt(){this.X=[],this.Xa=this.Mb=0}function It(C,E,$,K){t($!=null),t(K!=null);var ne=$[0],oe=K[0];return ne==0&&(ne=(C*oe+E/2)/E),oe==0&&(oe=(E*ne+C/2)/C),0>=ne||0>=oe?0:($[0]=ne,K[0]=oe,1)}function nt(C,E){return C+(1<<E)-1>>>E}function ye(C,E){return((4278255360&C)+(4278255360&E)>>>0&4278255360)+((16711935&C)+(16711935&E)>>>0&16711935)>>>0}function re(C,E){U[E]=function($,K,ne,oe,Ae,pe,be){var je;for(je=0;je<Ae;++je){var Ie=U[C](pe[be+je-1],ne,oe+je);pe[be+je]=ye($[K+je],Ie)}}}function _e(){this.ud=this.hd=this.jd=0}function Oe(C,E){return((4278124286&(C^E))>>>1)+(C&E)>>>0}function Ke(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Me(C,E){return Ke(C+(C-E+.5>>1))}function bt(C,E,$){return Math.abs(E-$)-Math.abs(C-$)}function Jt(C,E,$,K,ne,oe,Ae){for(K=oe[Ae-1],$=0;$<ne;++$)oe[Ae+$]=K=ye(C[E+$],K)}function Vt(C,E,$,K,ne){var oe;for(oe=0;oe<$;++oe){var Ae=C[E+oe],pe=Ae>>8&255,be=16711935&(be=(be=16711935&Ae)+((pe<<16)+pe));K[ne+oe]=(4278255360&Ae)+be>>>0}}function Be(C,E){E.jd=255&C,E.hd=C>>8&255,E.ud=C>>16&255}function Re(C,E,$,K,ne,oe){var Ae;for(Ae=0;Ae<K;++Ae){var pe=E[$+Ae],be=pe>>>8,je=pe,Ie=255&(Ie=(Ie=pe>>>16)+((C.jd<<24>>24)*(be<<24>>24)>>>5));je=255&(je=(je+=(C.hd<<24>>24)*(be<<24>>24)>>>5)+((C.ud<<24>>24)*(Ie<<24>>24)>>>5)),ne[oe+Ae]=(4278255360&pe)+(Ie<<16)+je}}function Ue(C,E,$,K,ne){U[E]=function(oe,Ae,pe,be,je,Ie,ot,Se,De){for(be=ot;be<Se;++be)for(ot=0;ot<De;++ot)je[Ie++]=ne(pe[K(oe[Ae++])])},U[C]=function(oe,Ae,pe,be,je,Ie,ot){var Se=8>>oe.b,De=oe.Ea,Le=oe.K[0],ct=oe.w;if(8>Se)for(oe=(1<<oe.b)-1,ct=(1<<Se)-1;Ae<pe;++Ae){var Xe,Nt=0;for(Xe=0;Xe<De;++Xe)Xe&oe||(Nt=K(be[je++])),Ie[ot++]=ne(Le[Nt&ct]),Nt>>=Se}else U["VP8LMapColor"+$](be,je,Le,ct,Ie,ot,Ae,pe,De)}}function Qe(C,E,$,K,ne){for($=E+$;E<$;){var oe=C[E++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=255&oe}}function Ve(C,E,$,K,ne){for($=E+$;E<$;){var oe=C[E++];K[ne++]=oe>>16&255,K[ne++]=oe>>8&255,K[ne++]=255&oe,K[ne++]=oe>>24&255}}function yt(C,E,$,K,ne){for($=E+$;E<$;){var oe=(Ae=C[E++])>>16&240|Ae>>12&15,Ae=240&Ae|Ae>>28&15;K[ne++]=oe,K[ne++]=Ae}}function Ht(C,E,$,K,ne){for($=E+$;E<$;){var oe=(Ae=C[E++])>>16&248|Ae>>13&7,Ae=Ae>>5&224|Ae>>3&31;K[ne++]=oe,K[ne++]=Ae}}function ze(C,E,$,K,ne){for($=E+$;E<$;){var oe=C[E++];K[ne++]=255&oe,K[ne++]=oe>>8&255,K[ne++]=oe>>16&255}}function Ge(C,E,$,K,ne,oe){if(oe==0)for($=E+$;E<$;)xe(K,((oe=C[E++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(K,ne,C,E,$)}function St(C,E){U[E][0]=U[C+"0"],U[E][1]=U[C+"1"],U[E][2]=U[C+"2"],U[E][3]=U[C+"3"],U[E][4]=U[C+"4"],U[E][5]=U[C+"5"],U[E][6]=U[C+"6"],U[E][7]=U[C+"7"],U[E][8]=U[C+"8"],U[E][9]=U[C+"9"],U[E][10]=U[C+"10"],U[E][11]=U[C+"11"],U[E][12]=U[C+"12"],U[E][13]=U[C+"13"],U[E][14]=U[C+"0"],U[E][15]=U[C+"0"]}function Rt(C){return C==Po||C==Lo||C==fl||C==Ah}function sr(){this.eb=[],this.size=this.A=this.fb=0}function Ye(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new sr,this.f.kb=new Ye,this.sd=null}function gt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function ut(C,E){var $=C.T,K=E.ba.f.RGBA,ne=K.eb,oe=K.fb+C.ka*K.A,Ae=ps[E.ba.S],pe=C.y,be=C.O,je=C.f,Ie=C.N,ot=C.ea,Se=C.W,De=E.cc,Le=E.dc,ct=E.Mc,Xe=E.Nc,Nt=C.ka,_t=C.ka+C.T,Xt=C.U,qt=Xt+1>>1;for(Nt==0?Ae(pe,be,null,null,je,Ie,ot,Se,je,Ie,ot,Se,ne,oe,null,null,Xt):(Ae(E.ec,E.fc,pe,be,De,Le,ct,Xe,je,Ie,ot,Se,ne,oe-K.A,ne,oe,Xt),++$);Nt+2<_t;Nt+=2)De=je,Le=Ie,ct=ot,Xe=Se,Ie+=C.Rc,Se+=C.Rc,oe+=2*K.A,Ae(pe,(be+=2*C.fa)-C.fa,pe,be,De,Le,ct,Xe,je,Ie,ot,Se,ne,oe-K.A,ne,oe,Xt);return be+=C.fa,C.j+_t<C.o?(n(E.ec,E.fc,pe,be,Xt),n(E.cc,E.dc,je,Ie,qt),n(E.Mc,E.Nc,ot,Se,qt),$--):1&_t||Ae(pe,be,null,null,je,Ie,ot,Se,je,Ie,ot,Se,ne,oe+K.A,null,null,Xt),$}function tr(C,E,$){var K=C.F,ne=[C.J];if(K!=null){var oe=C.U,Ae=E.ba.S,pe=Ae==ms||Ae==fl;E=E.ba.f.RGBA;var be=[0],je=C.ka;be[0]=C.T,C.Kb&&(je==0?--be[0]:(--je,ne[0]-=C.width),C.j+C.ka+C.T==C.o&&(be[0]=C.o-C.j-je));var Ie=E.eb;je=E.fb+je*E.A,C=Su(K,ne[0],C.width,oe,be,Ie,je+(pe?0:3),E.A),t($==be),C&&Rt(Ae)&&hs(Ie,je,pe,oe,be,E.A)}return 0}function Kt(C){var E=C.ma,$=E.ba.S,K=11>$,ne=$==Kl||$==Nu||$==ms||$==Ts||$==12||Rt($);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Qi(E.Oa,C,ne?11:12))return 0;if(ne&&Rt($)&&Id(),C.da)alert("todo:use_scaling");else{if(K){if(E.Ib=ft,C.Kb){if($=C.U+1>>1,E.memory=s(C.U+2*$),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+C.U,E.Mc=E.cc,E.Nc=E.dc+$,E.Ib=ut,Id()}}else alert("todo:EmitYUV");ne&&(E.Jb=tr,K&&Cu())}if(K&&!Do){for(C=0;256>C;++C)Qc[C]=89858*(C-128)+Vd>>ku,Wl[C]=-22014*(C-128)+Vd,Hc[C]=-45773*(C-128),av[C]=113618*(C-128)+Vd>>ku;for(C=_u;C<Kd;++C)E=76283*(C-16)+Vd>>ku,di[C-_u]=Ai(E,255),hh[C-_u]=Ai(E+8>>4,15);Do=1}return 1}function Ct(C){var E=C.ma,$=C.U,K=C.T;return t(!(1&C.ka)),0>=$||0>=K?0:($=E.Ib(C,E),E.Jb!=null&&E.Jb(C,E,$),E.Dc+=$,1)}function $r(C){C.ma.memory=null}function qr(C,E,$,K){return W(C,8)!=47?0:(E[0]=W(C,14)+1,$[0]=W(C,14)+1,K[0]=W(C,1),W(C,3)!=0?0:!C.h)}function lr(C,E){if(4>C)return C+1;var $=C-2>>1;return(2+(1&C)<<$)+W(E,$)+1}function cr(C,E){return 120<E?E-120:1<=($=(($=Uo[E-1])>>4)*C+(8-(15&$)))?$:1;var $}function Zt(C,E,$){var K=G($),ne=C[E+=255&K].g-8;return 0<ne&&(te($,$.u+8),K=G($),E+=C[E].value,E+=K&(1<<ne)-1),te($,$.u+C[E].g),C[E].value}function mr(C,E,$){return $.g+=C.g,$.value+=C.value<<E>>>0,t(8>=$.g),C.g}function on(C,E,$){var K=C.xc;return t((E=K==0?0:C.vc[C.md*($>>K)+(E>>K)])<C.Wb),C.Ya[E]}function Ur(C,E,$,K){var ne=C.ab,oe=C.c*E,Ae=C.C;E=Ae+E;var pe=$,be=K;for(K=C.Ta,$=C.Ua;0<ne--;){var je=C.gc[ne],Ie=Ae,ot=E,Se=pe,De=be,Le=(be=K,pe=$,je.Ea);switch(t(Ie<ot),t(ot<=je.nc),je.hc){case 2:SA(Se,De,(ot-Ie)*Le,be,pe);break;case 0:var ct=Ie,Xe=ot,Nt=be,_t=pe,Xt=(ur=je).Ea;ct==0&&(ol(Se,De,null,null,1,Nt,_t),Jt(Se,De+1,0,0,Xt-1,Nt,_t+1),De+=Xt,_t+=Xt,++ct);for(var qt=1<<ur.b,Er=qt-1,gr=nt(Xt,ur.b),fn=ur.K,ur=ur.w+(ct>>ur.b)*gr;ct<Xe;){var Cn=fn,qa=ur,cn=1;for(ll(Se,De,Nt,_t-Xt,1,Nt,_t);cn<Xt;){var kr=(cn&~Er)+qt;kr>Xt&&(kr=Xt),(0,Ic[Cn[qa++]>>8&15])(Se,De+ +cn,Nt,_t+cn-Xt,kr-cn,Nt,_t+cn),cn=kr}De+=Xt,_t+=Xt,++ct&Er||(ur+=gr)}ot!=je.nc&&n(be,pe-Le,be,pe+(ot-Ie-1)*Le,Le);break;case 1:for(Le=Se,Xe=De,Xt=(Se=je.Ea)-(_t=Se&~(Nt=(De=1<<je.b)-1)),ct=nt(Se,je.b),qt=je.K,je=je.w+(Ie>>je.b)*ct;Ie<ot;){for(Er=qt,gr=je,fn=new _e,ur=Xe+_t,Cn=Xe+Se;Xe<ur;)Be(Er[gr++],fn),ul(fn,Le,Xe,De,be,pe),Xe+=De,pe+=De;Xe<Cn&&(Be(Er[gr++],fn),ul(fn,Le,Xe,Xt,be,pe),Xe+=Xt,pe+=Xt),++Ie&Nt||(je+=ct)}break;case 3:if(Se==be&&De==pe&&0<je.b){for(Xe=be,Se=Le=pe+(ot-Ie)*Le-(_t=(ot-Ie)*nt(je.Ea,je.b)),De=be,Nt=pe,ct=[],_t=(Xt=_t)-1;0<=_t;--_t)ct[_t]=De[Nt+_t];for(_t=Xt-1;0<=_t;--_t)Xe[Se+_t]=ct[_t];Dd(je,Ie,ot,be,Le,be,pe)}else Dd(je,Ie,ot,Se,De,be,pe)}pe=K,be=$}be!=$&&n(K,$,pe,be,oe)}function Vr(C,E){var $=C.V,K=C.Ba+C.c*C.C,ne=E-C.C;if(t(E<=C.l.o),t(16>=ne),0<ne){var oe=C.l,Ae=C.Ta,pe=C.Ua,be=oe.width;if(Ur(C,ne,$,K),ne=pe=[pe],t(($=C.C)<(K=E)),t(oe.v<oe.va),K>oe.o&&(K=oe.o),$<oe.j){var je=oe.j-$;$=oe.j,ne[0]+=je*be}if($>=K?$=0:(ne[0]+=4*oe.v,oe.ka=$-oe.j,oe.U=oe.va-oe.v,oe.T=K-$,$=1),$){if(pe=pe[0],11>($=C.ca).S){var Ie=$.f.RGBA,ot=(K=$.S,ne=oe.U,oe=oe.T,je=Ie.eb,Ie.A),Se=oe;for(Ie=Ie.fb+C.Ma*Ie.A;0<Se--;){var De=Ae,Le=pe,ct=ne,Xe=je,Nt=Ie;switch(K){case Vl:NA(De,Le,ct,Xe,Nt);break;case Kl:fs(De,Le,ct,Xe,Nt);break;case Po:fs(De,Le,ct,Xe,Nt),hs(Xe,Nt,0,ct,1,0);break;case Qd:$n(De,Le,ct,Xe,Nt);break;case Nu:Ge(De,Le,ct,Xe,Nt,1);break;case Lo:Ge(De,Le,ct,Xe,Nt,1),hs(Xe,Nt,0,ct,1,0);break;case ms:Ge(De,Le,ct,Xe,Nt,0);break;case fl:Ge(De,Le,ct,Xe,Nt,0),hs(Xe,Nt,1,ct,1,0);break;case Ts:Al(De,Le,ct,Xe,Nt);break;case Ah:Al(De,Le,ct,Xe,Nt),Zs(Xe,Nt,ct,1,0);break;case Mc:ca(De,Le,ct,Xe,Nt);break;default:t(0)}pe+=be,Ie+=ot}C.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=$.height)}}C.C=E,t(C.C<=C.i)}function dn(C){var E;if(0<C.ua)return 0;for(E=0;E<C.Wb;++E){var $=C.Ya[E].G,K=C.Ya[E].H;if(0<$[1][K[1]+0].g||0<$[2][K[2]+0].g||0<$[3][K[3]+0].g)return 0}return 1}function Yn(C,E,$,K,ne,oe){if(C.Z!=0){var Ae=C.qd,pe=C.rd;for(t(go[C.Z]!=null);E<$;++E)go[C.Z](Ae,pe,K,ne,K,ne,oe),Ae=K,pe=ne,ne+=oe;C.qd=Ae,C.rd=pe}}function hn(C,E){var $=C.l.ma,K=$.Z==0||$.Z==1?C.l.j:C.C;if(K=C.C<K?K:C.C,t(E<=C.l.o),E>K){var ne=C.l.width,oe=$.ca,Ae=$.tb+ne*K,pe=C.V,be=C.Ba+C.c*K,je=C.gc;t(C.ab==1),t(je[0].hc==3),cl(je[0],K,E,pe,be,oe,Ae),Yn($,K,E,oe,Ae,ne)}C.C=C.Ma=E}function Mn(C,E,$,K,ne,oe,Ae){var pe=C.$/K,be=C.$%K,je=C.m,Ie=C.s,ot=$+C.$,Se=ot;ne=$+K*ne;var De=$+K*oe,Le=280+Ie.ua,ct=C.Pb?pe:16777216,Xe=0<Ie.ua?Ie.Wa:null,Nt=Ie.wc,_t=ot<De?on(Ie,be,pe):null;t(C.C<oe),t(De<=ne);var Xt=!1;e:for(;;){for(;Xt||ot<De;){var qt=0;if(pe>=ct){var Er=ot-$;t((ct=C).Pb),ct.wd=ct.m,ct.xd=Er,0<ct.s.ua&&Et(ct.s.Wa,ct.s.vb),ct=pe+Dp}if(be&Nt||(_t=on(Ie,be,pe)),t(_t!=null),_t.Qb&&(E[ot]=_t.qb,Xt=!0),!Xt)if(fe(je),_t.jc){qt=je,Er=E;var gr=ot,fn=_t.pd[G(qt)&mo-1];t(_t.jc),256>fn.g?(te(qt,qt.u+fn.g),Er[gr]=fn.value,qt=0):(te(qt,qt.u+fn.g-256),t(256<=fn.value),qt=fn.value),qt==0&&(Xt=!0)}else qt=Zt(_t.G[0],_t.H[0],je);if(je.h)break;if(Xt||256>qt){if(!Xt)if(_t.nd)E[ot]=(_t.qb|qt<<8)>>>0;else{if(fe(je),Xt=Zt(_t.G[1],_t.H[1],je),fe(je),Er=Zt(_t.G[2],_t.H[2],je),gr=Zt(_t.G[3],_t.H[3],je),je.h)break;E[ot]=(gr<<24|Xt<<16|qt<<8|Er)>>>0}if(Xt=!1,++ot,++be>=K&&(be=0,++pe,Ae!=null&&pe<=oe&&!(pe%16)&&Ae(C,pe),Xe!=null))for(;Se<ot;)qt=E[Se++],Xe.X[(506832829*qt&4294967295)>>>Xe.Mb]=qt}else if(280>qt){if(qt=lr(qt-256,je),Er=Zt(_t.G[4],_t.H[4],je),fe(je),Er=cr(K,Er=lr(Er,je)),je.h)break;if(ot-$<Er||ne-ot<qt)break e;for(gr=0;gr<qt;++gr)E[ot+gr]=E[ot+gr-Er];for(ot+=qt,be+=qt;be>=K;)be-=K,++pe,Ae!=null&&pe<=oe&&!(pe%16)&&Ae(C,pe);if(t(ot<=ne),be&Nt&&(_t=on(Ie,be,pe)),Xe!=null)for(;Se<ot;)qt=E[Se++],Xe.X[(506832829*qt&4294967295)>>>Xe.Mb]=qt}else{if(!(qt<Le))break e;for(Xt=qt-280,t(Xe!=null);Se<ot;)qt=E[Se++],Xe.X[(506832829*qt&4294967295)>>>Xe.Mb]=qt;qt=ot,t(!(Xt>>>(Er=Xe).Xa)),E[qt]=Er.X[Xt],Xt=!0}Xt||t(je.h==Z(je))}if(C.Pb&&je.h&&ot<ne)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Et(C.s.vb,C.s.Wa);else{if(je.h)break e;Ae!=null&&Ae(C,pe>oe?oe:pe),C.a=0,C.$=ot-$}return 1}return C.a=3,0}function Ha(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var E=C.Wa;E!=null&&(E.X=null),C.vb=null,t(C!=null)}function Rn(){var C=new ka;return C==null?null:(C.a=0,C.xb=Eu,St("Predictor","VP8LPredictors"),St("Predictor","VP8LPredictors_C"),St("PredictorAdd","VP8LPredictorsAdd"),St("PredictorAdd","VP8LPredictorsAdd_C"),SA=Vt,ul=Re,NA=Qe,fs=Ve,Al=yt,ca=Ht,$n=ze,U.VP8LMapColor32b=Si,U.VP8LMapColor8b=Uc,C)}function bn(C,E,$,K,ne){var oe=1,Ae=[C],pe=[E],be=K.m,je=K.s,Ie=null,ot=0;e:for(;;){if($)for(;oe&&W(be,1);){var Se=Ae,De=pe,Le=K,ct=1,Xe=Le.m,Nt=Le.gc[Le.ab],_t=W(Xe,2);if(Le.Oc&1<<_t)oe=0;else{switch(Le.Oc|=1<<_t,Nt.hc=_t,Nt.Ea=Se[0],Nt.nc=De[0],Nt.K=[null],++Le.ab,t(4>=Le.ab),_t){case 0:case 1:Nt.b=W(Xe,3)+2,ct=bn(nt(Nt.Ea,Nt.b),nt(Nt.nc,Nt.b),0,Le,Nt.K),Nt.K=Nt.K[0];break;case 3:var Xt,qt=W(Xe,8)+1,Er=16<qt?0:4<qt?1:2<qt?2:3;if(Se[0]=nt(Nt.Ea,Er),Nt.b=Er,Xt=ct=bn(qt,1,0,Le,Nt.K)){var gr,fn=qt,ur=Nt,Cn=1<<(8>>ur.b),qa=s(Cn);if(qa==null)Xt=0;else{var cn=ur.K[0],kr=ur.w;for(qa[0]=ur.K[0][0],gr=1;gr<1*fn;++gr)qa[gr]=ye(cn[kr+gr],qa[gr-1]);for(;gr<4*Cn;++gr)qa[gr]=0;ur.K[0]=null,ur.K[0]=qa,Xt=1}}ct=Xt;break;case 2:break;default:t(0)}oe=ct}}if(Ae=Ae[0],pe=pe[0],oe&&W(be,1)&&!(oe=1<=(ot=W(be,4))&&11>=ot)){K.a=3;break e}var dr;if(dr=oe)t:{var Oa,rn,Bn,xn=K,jn=Ae,Ni=pe,ua=ot,hi=$,$i=xn.m,aa=xn.s,Sn=[null],zn=1,xa=0,Kn=hl[ua];r:for(;;){if(hi&&W($i,1)){var Ei=W($i,3)+2,vo=nt(jn,Ei),Ua=nt(Ni,Ei),gs=vo*Ua;if(!bn(vo,Ua,0,xn,Sn))break r;for(Sn=Sn[0],aa.xc=Ei,Oa=0;Oa<gs;++Oa){var Jn=Sn[Oa]>>8&65535;Sn[Oa]=Jn,Jn>=zn&&(zn=Jn+1)}}if($i.h)break r;for(rn=0;5>rn;++rn){var Va=es[rn];!rn&&0<ua&&(Va+=1<<ua),xa<Va&&(xa=Va)}var Os=o(zn*Kn,Q),ys=zn,Fs=o(ys,J);if(Fs==null)var Ps=null;else t(65536>=ys),Ps=Fs;var vs=s(xa);if(Ps==null||vs==null||Os==null){xn.a=1;break r}var xs=Os;for(Oa=Bn=0;Oa<zn;++Oa){var ia=Ps[Oa],Ls=ia.G,xo=ia.H,$c=0,ml=1,zi=0;for(rn=0;5>rn;++rn){Va=es[rn],Ls[rn]=xs,xo[rn]=Bn,!rn&&0<ua&&(Va+=1<<ua);a:{var Gd,zc=Va,Wd=xn,qc=vs,gh=xs,sv=Bn,Yd=0,Yl=Wd.m,ov=W(Yl,1);if(a(qc,0,0,zc),ov){var lv=W(Yl,1)+1,cv=W(Yl,1),yh=W(Yl,cv==0?1:8);qc[yh]=1,lv==2&&(qc[yh=W(Yl,8)]=1);var Xd=1}else{var $p=s(19),vh=W(Yl,4)+4;if(19<vh){Wd.a=3;var Jd=0;break a}for(Gd=0;Gd<vh;++Gd)$p[Un[Gd]]=W(Yl,3);var xh=void 0,Zd=void 0,bh=Wd,uv=$p,ef=zc,wh=qc,Ch=0,Xl=bh.m,Av=8,dv=o(128,Q);n:for(;R(dv,0,7,uv,19);){if(W(Xl,1)){var fv=2+2*W(Xl,3);if((xh=2+W(Xl,fv))>ef)break n}else xh=ef;for(Zd=0;Zd<ef&&xh--;){fe(Xl);var OA=dv[0+(127&G(Xl))];te(Xl,Xl.u+OA.g);var Vc=OA.value;if(16>Vc)wh[Zd++]=Vc,Vc!=0&&(Av=Vc);else{var Bh=Vc==16,zp=Vc-16,hv=Ip[zp],Mo=W(Xl,Up[zp])+hv;if(Zd+Mo>ef)break n;for(var Tu=Bh?Av:0;0<Mo--;)wh[Zd++]=Tu}}Ch=1;break n}Ch||(bh.a=3),Xd=Ch}(Xd=Xd&&!Yl.h)&&(Yd=R(gh,sv,8,qc,zc)),Xd&&Yd!=0?Jd=Yd:(Wd.a=3,Jd=0)}if(Jd==0)break r;if(ml&&Hi[rn]==1&&(ml=xs[Bn].g==0),$c+=xs[Bn].g,Bn+=Jd,3>=rn){var bo,Jl=vs[0];for(bo=1;bo<Va;++bo)vs[bo]>Jl&&(Jl=vs[bo]);zi+=Jl}}if(ia.nd=ml,ia.Qb=0,ml&&(ia.qb=(Ls[3][xo[3]+0].value<<24|Ls[1][xo[1]+0].value<<16|Ls[2][xo[2]+0].value)>>>0,$c==0&&256>Ls[0][xo[0]+0].value&&(ia.Qb=1,ia.qb+=Ls[0][xo[0]+0].value<<8)),ia.jc=!ia.Qb&&6>zi,ia.jc){var FA,Ro=ia;for(FA=0;FA<mo;++FA){var Zl=FA,ec=Ro.pd[Zl],pl=Ro.G[0][Ro.H[0]+Zl];256<=pl.value?(ec.g=pl.g+256,ec.value=pl.value):(ec.g=0,ec.value=0,Zl>>=mr(pl,8,ec),Zl>>=mr(Ro.G[1][Ro.H[1]+Zl],16,ec),Zl>>=mr(Ro.G[2][Ro.H[2]+Zl],0,ec),mr(Ro.G[3][Ro.H[3]+Zl],24,ec))}}}aa.vc=Sn,aa.Wb=zn,aa.Ya=Ps,aa.yc=Os,dr=1;break t}dr=0}if(!(oe=dr)){K.a=3;break e}if(0<ot){if(je.ua=1<<ot,!se(je.Wa,ot)){K.a=1,oe=0;break e}}else je.ua=0;var PA=K,qp=Ae,mv=pe,jh=PA.s,LA=jh.xc;if(PA.c=qp,PA.i=mv,jh.md=nt(qp,LA),jh.wc=LA==0?-1:(1<<LA)-1,$){K.xb=nv;break e}if((Ie=s(Ae*pe))==null){K.a=1,oe=0;break e}oe=(oe=Mn(K,Ie,0,Ae,pe,pe,null))&&!be.h;break e}return oe?(ne!=null?ne[0]=Ie:(t(Ie==null),t($)),K.$=0,$||Ha(je)):Ha(je),oe}function Ja(C,E){var $=C.c*C.i,K=$+E+16*E;return t(C.c<=E),C.V=s(K),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+$+E,1)}function qn(C,E){var $=C.C,K=E-$,ne=C.V,oe=C.Ba+C.c*$;for(t(E<=C.l.o);0<K;){var Ae=16<K?16:K,pe=C.l.ma,be=C.l.width,je=be*Ae,Ie=pe.ca,ot=pe.tb+be*$,Se=C.Ta,De=C.Ua;Ur(C,Ae,ne,oe),ch(Se,De,Ie,ot,je),Yn(pe,$,$+Ae,Ie,ot,be),K-=Ae,ne+=Ae*C.c,$+=Ae}t($==E),C.C=C.Ma=E}function Qn(){this.ub=this.yd=this.td=this.Rb=0}function $a(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function de(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function st(){this.Yb=function(){var C=[];return function E($,K,ne){for(var oe=ne[K],Ae=0;Ae<oe&&($.push(ne.length>K+1?[]:0),!(ne.length<K+1));Ae++)E($[Ae],K+1,ne)}(C,0,[3,11]),C}()}function xt(){this.jb=s(3),this.Wc=l([4,8],st),this.Xc=l([4,17],st)}function Pt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ar(){this.ld=this.La=this.dd=this.tc=0}function Kr(){this.Na=this.la=0}function br(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function la(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ar),this.Y=0,this.ya=Array(new Hn),this.aa=0,this.l=new Bi}function Na(){this.y=s(16),this.f=s(8),this.ea=s(8)}function za(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Qn,this.Kc=new $a,this.ed=new Pt,this.Qa=new de,this.Ic=this.$c=this.Aa=0,this.D=new la,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,L),this.ia=0,this.pb=o(4,br),this.Pa=new xt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Na),this.Hd=0,this.rb=Array(new Kr),this.sb=0,this.wa=Array(new Ar),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hn),this.L=this.aa=0,this.gd=l([4,2],Ar),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Bi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Za(){var C=new za;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,kA||(kA=He)),C}function wn(C,E,$){return C.a==0&&(C.a=E,C.sc=$,C.cb=0),0}function ra(C,E,$){return 3<=$&&C[E+0]==157&&C[E+1]==1&&C[E+2]==42}function ue(C,E){if(C==null)return 0;if(C.a=0,C.sc="OK",E==null)return wn(C,2,"null VP8Io passed to VP8GetHeaders()");var $=E.data,K=E.w,ne=E.ha;if(4>ne)return wn(C,7,"Truncated header.");var oe=$[K+0]|$[K+1]<<8|$[K+2]<<16,Ae=C.Od;if(Ae.Rb=!(1&oe),Ae.td=oe>>1&7,Ae.yd=oe>>4&1,Ae.ub=oe>>5,3<Ae.td)return wn(C,3,"Incorrect keyframe parameters.");if(!Ae.yd)return wn(C,4,"Frame not displayable.");K+=3,ne-=3;var pe=C.Kc;if(Ae.Rb){if(7>ne)return wn(C,7,"cannot parse picture header");if(!ra($,K,ne))return wn(C,3,"Bad code word");pe.c=16383&($[K+4]<<8|$[K+3]),pe.Td=$[K+4]>>6,pe.i=16383&($[K+6]<<8|$[K+5]),pe.Ud=$[K+6]>>6,K+=7,ne-=7,C.za=pe.c+15>>4,C.Ub=pe.i+15>>4,E.width=pe.c,E.height=pe.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((oe=C.Pa).jb,0,255,oe.jb.length),t((oe=C.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(Ae.ub>ne)return wn(C,7,"bad partition length");V(oe=C.m,$,K,Ae.ub),K+=Ae.ub,ne-=Ae.ub,Ae.Rb&&(pe.Ld=he(oe),pe.Kd=he(oe)),pe=C.Qa;var be,je=C.Pa;if(t(oe!=null),t(pe!=null),pe.Cb=he(oe),pe.Cb){if(pe.Bb=he(oe),he(oe)){for(pe.Fb=he(oe),be=0;4>be;++be)pe.Zb[be]=he(oe)?ee(oe,7):0;for(be=0;4>be;++be)pe.Lb[be]=he(oe)?ee(oe,6):0}if(pe.Bb)for(be=0;3>be;++be)je.jb[be]=he(oe)?Y(oe,8):255}else pe.Bb=0;if(oe.Ka)return wn(C,3,"cannot parse segment header");if((pe=C.ed).zd=he(oe),pe.Tb=Y(oe,6),pe.wb=Y(oe,3),pe.Pc=he(oe),pe.Pc&&he(oe)){for(je=0;4>je;++je)he(oe)&&(pe.vd[je]=ee(oe,6));for(je=0;4>je;++je)he(oe)&&(pe.od[je]=ee(oe,6))}if(C.L=pe.Tb==0?0:pe.zd?1:2,oe.Ka)return wn(C,3,"cannot parse filter header");var Ie=ne;if(ne=be=K,K=be+Ie,pe=Ie,C.Xb=(1<<Y(C.m,2))-1,Ie<3*(je=C.Xb))$=7;else{for(be+=3*je,pe-=3*je,Ie=0;Ie<je;++Ie){var ot=$[ne+0]|$[ne+1]<<8|$[ne+2]<<16;ot>pe&&(ot=pe),V(C.Jc[+Ie],$,be,ot),be+=ot,pe-=ot,ne+=3}V(C.Jc[+je],$,be,pe),$=be<K?0:5}if($!=0)return wn(C,$,"cannot parse partitions");for($=Y(be=C.m,7),ne=he(be)?ee(be,4):0,K=he(be)?ee(be,4):0,pe=he(be)?ee(be,4):0,je=he(be)?ee(be,4):0,be=he(be)?ee(be,4):0,Ie=C.Qa,ot=0;4>ot;++ot){if(Ie.Cb){var Se=Ie.Zb[ot];Ie.Fb||(Se+=$)}else{if(0<ot){C.pb[ot]=C.pb[0];continue}Se=$}var De=C.pb[ot];De.Sc[0]=Gl[Ai(Se+ne,127)],De.Sc[1]=dh[Ai(Se+0,127)],De.Eb[0]=2*Gl[Ai(Se+K,127)],De.Eb[1]=101581*dh[Ai(Se+pe,127)]>>16,8>De.Eb[1]&&(De.Eb[1]=8),De.Qc[0]=Gl[Ai(Se+je,117)],De.Qc[1]=dh[Ai(Se+be,127)],De.lc=Se+be}if(!Ae.Rb)return wn(C,4,"Not a key frame.");for(he(oe),Ae=C.Pa,$=0;4>$;++$){for(ne=0;8>ne;++ne)for(K=0;3>K;++K)for(pe=0;11>pe;++pe)je=ce(oe,Mp[$][ne][K][pe])?Y(oe,8):zd[$][ne][K][pe],Ae.Wc[$][ne].Yb[K][pe]=je;for(ne=0;17>ne;++ne)Ae.Xc[$][ne]=Ae.Wc[$][rv[ne]]}return C.kc=he(oe),C.kc&&(C.Bd=Y(oe,8)),C.cb=1}function He(C,E,$,K,ne,oe,Ae){var pe=E[ne].Yb[$];for($=0;16>ne;++ne){if(!ce(C,pe[$+0]))return ne;for(;!ce(C,pe[$+1]);)if(pe=E[++ne].Yb[0],$=0,ne==16)return 16;var be=E[ne+1].Yb;if(ce(C,pe[$+2])){var je=C,Ie=0;if(ce(je,(Se=pe)[(ot=$)+3]))if(ce(je,Se[ot+6])){for(pe=0,ot=2*(Ie=ce(je,Se[ot+8]))+(Se=ce(je,Se[ot+9+Ie])),Ie=0,Se=Hd[ot];Se[pe];++pe)Ie+=Ie+ce(je,Se[pe]);Ie+=3+(8<<ot)}else ce(je,Se[ot+7])?(Ie=7+2*ce(je,165),Ie+=ce(je,145)):Ie=5+ce(je,159);else Ie=ce(je,Se[ot+4])?3+ce(je,Se[ot+5]):2;pe=be[2]}else Ie=1,pe=be[1];be=Ae+$d[ne],0>(je=C).b&&we(je);var ot,Se=je.b,De=(ot=je.Ca>>1)-(je.I>>Se)>>31;--je.b,je.Ca+=De,je.Ca|=1,je.I-=(ot+1&De)<<Se,oe[be]=((Ie^De)-De)*K[(0<ne)+0]}return 16}function We(C){var E=C.rb[C.sb-1];E.la=0,E.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function it(C,E,$,K,ne){ne=C[E+$+32*K]+(ne>>3),C[E+$+32*K]=-256&ne?0>ne?0:255:ne}function wt(C,E,$,K,ne,oe){it(C,E,0,$,K+ne),it(C,E,1,$,K+oe),it(C,E,2,$,K-oe),it(C,E,3,$,K-ne)}function $t(C){return(20091*C>>16)+C}function Tt(C,E,$,K){var ne,oe=0,Ae=s(16);for(ne=0;4>ne;++ne){var pe=C[E+0]+C[E+8],be=C[E+0]-C[E+8],je=(35468*C[E+4]>>16)-$t(C[E+12]),Ie=$t(C[E+4])+(35468*C[E+12]>>16);Ae[oe+0]=pe+Ie,Ae[oe+1]=be+je,Ae[oe+2]=be-je,Ae[oe+3]=pe-Ie,oe+=4,E++}for(ne=oe=0;4>ne;++ne)pe=(C=Ae[oe+0]+4)+Ae[oe+8],be=C-Ae[oe+8],je=(35468*Ae[oe+4]>>16)-$t(Ae[oe+12]),it($,K,0,0,pe+(Ie=$t(Ae[oe+4])+(35468*Ae[oe+12]>>16))),it($,K,1,0,be+je),it($,K,2,0,be-je),it($,K,3,0,pe-Ie),oe++,K+=32}function ve(C,E,$,K){var ne=C[E+0]+4,oe=35468*C[E+4]>>16,Ae=$t(C[E+4]),pe=35468*C[E+1]>>16;wt($,K,0,ne+Ae,C=$t(C[E+1]),pe),wt($,K,1,ne+oe,C,pe),wt($,K,2,ne-oe,C,pe),wt($,K,3,ne-Ae,C,pe)}function at(C,E,$,K,ne){Tt(C,E,$,K),ne&&Tt(C,E+16,$,K+4)}function dt(C,E,$,K){ha(C,E+0,$,K,1),ha(C,E+32,$,K+128,1)}function tt(C,E,$,K){var ne;for(C=C[E+0]+4,ne=0;4>ne;++ne)for(E=0;4>E;++E)it($,K,E,ne,C)}function ht(C,E,$,K){C[E+0]&&Zi(C,E+0,$,K),C[E+16]&&Zi(C,E+16,$,K+4),C[E+32]&&Zi(C,E+32,$,K+128),C[E+48]&&Zi(C,E+48,$,K+128+4)}function jt(C,E,$,K){var ne,oe=s(16);for(ne=0;4>ne;++ne){var Ae=C[E+0+ne]+C[E+12+ne],pe=C[E+4+ne]+C[E+8+ne],be=C[E+4+ne]-C[E+8+ne],je=C[E+0+ne]-C[E+12+ne];oe[0+ne]=Ae+pe,oe[8+ne]=Ae-pe,oe[4+ne]=je+be,oe[12+ne]=je-be}for(ne=0;4>ne;++ne)Ae=(C=oe[0+4*ne]+3)+oe[3+4*ne],pe=oe[1+4*ne]+oe[2+4*ne],be=oe[1+4*ne]-oe[2+4*ne],je=C-oe[3+4*ne],$[K+0]=Ae+pe>>3,$[K+16]=je+be>>3,$[K+32]=Ae-pe>>3,$[K+48]=je-be>>3,K+=64}function kt(C,E,$){var K,ne=E-32,oe=_s,Ae=255-C[ne-1];for(K=0;K<$;++K){var pe,be=oe,je=Ae+C[E-1];for(pe=0;pe<$;++pe)C[E+pe]=be[je+C[ne+pe]];E+=32}}function Bt(C,E){kt(C,E,4)}function Dt(C,E){kt(C,E,8)}function Wt(C,E){kt(C,E,16)}function pr(C,E){var $;for($=0;16>$;++$)n(C,E+32*$,C,E-32,16)}function Qr(C,E){var $;for($=16;0<$;--$)a(C,E,C[E-1],16),E+=32}function Vn(C,E,$){var K;for(K=0;16>K;++K)a(E,$+32*K,C,16)}function Gr(C,E){var $,K=16;for($=0;16>$;++$)K+=C[E-1+32*$]+C[E+$-32];Vn(K>>5,C,E)}function yn(C,E){var $,K=8;for($=0;16>$;++$)K+=C[E-1+32*$];Vn(K>>4,C,E)}function ei(C,E){var $,K=8;for($=0;16>$;++$)K+=C[E+$-32];Vn(K>>4,C,E)}function Di(C,E){Vn(128,C,E)}function Ir(C,E,$){return C+2*E+$+2>>2}function bu(C,E){var $,K=E-32;for(K=new Uint8Array([Ir(C[K-1],C[K+0],C[K+1]),Ir(C[K+0],C[K+1],C[K+2]),Ir(C[K+1],C[K+2],C[K+3]),Ir(C[K+2],C[K+3],C[K+4])]),$=0;4>$;++$)n(C,E+32*$,K,0,K.length)}function Oc(C,E){var $=C[E-1],K=C[E-1+32],ne=C[E-1+64],oe=C[E-1+96];xe(C,E+0,16843009*Ir(C[E-1-32],$,K)),xe(C,E+32,16843009*Ir($,K,ne)),xe(C,E+64,16843009*Ir(K,ne,oe)),xe(C,E+96,16843009*Ir(ne,oe,oe))}function wu(C,E){var $,K=4;for($=0;4>$;++$)K+=C[E+$-32]+C[E-1+32*$];for(K>>=3,$=0;4>$;++$)a(C,E+32*$,K,4)}function nl(C,E){var $=C[E-1+0],K=C[E-1+32],ne=C[E-1+64],oe=C[E-1-32],Ae=C[E+0-32],pe=C[E+1-32],be=C[E+2-32],je=C[E+3-32];C[E+0+96]=Ir(K,ne,C[E-1+96]),C[E+1+96]=C[E+0+64]=Ir($,K,ne),C[E+2+96]=C[E+1+64]=C[E+0+32]=Ir(oe,$,K),C[E+3+96]=C[E+2+64]=C[E+1+32]=C[E+0+0]=Ir(Ae,oe,$),C[E+3+64]=C[E+2+32]=C[E+1+0]=Ir(pe,Ae,oe),C[E+3+32]=C[E+2+0]=Ir(be,pe,Ae),C[E+3+0]=Ir(je,be,pe)}function ks(C,E){var $=C[E+1-32],K=C[E+2-32],ne=C[E+3-32],oe=C[E+4-32],Ae=C[E+5-32],pe=C[E+6-32],be=C[E+7-32];C[E+0+0]=Ir(C[E+0-32],$,K),C[E+1+0]=C[E+0+32]=Ir($,K,ne),C[E+2+0]=C[E+1+32]=C[E+0+64]=Ir(K,ne,oe),C[E+3+0]=C[E+2+32]=C[E+1+64]=C[E+0+96]=Ir(ne,oe,Ae),C[E+3+32]=C[E+2+64]=C[E+1+96]=Ir(oe,Ae,pe),C[E+3+64]=C[E+2+96]=Ir(Ae,pe,be),C[E+3+96]=Ir(pe,be,be)}function Xi(C,E){var $=C[E-1+0],K=C[E-1+32],ne=C[E-1+64],oe=C[E-1-32],Ae=C[E+0-32],pe=C[E+1-32],be=C[E+2-32],je=C[E+3-32];C[E+0+0]=C[E+1+64]=oe+Ae+1>>1,C[E+1+0]=C[E+2+64]=Ae+pe+1>>1,C[E+2+0]=C[E+3+64]=pe+be+1>>1,C[E+3+0]=be+je+1>>1,C[E+0+96]=Ir(ne,K,$),C[E+0+64]=Ir(K,$,oe),C[E+0+32]=C[E+1+96]=Ir($,oe,Ae),C[E+1+32]=C[E+2+96]=Ir(oe,Ae,pe),C[E+2+32]=C[E+3+96]=Ir(Ae,pe,be),C[E+3+32]=Ir(pe,be,je)}function Ee(C,E){var $=C[E+0-32],K=C[E+1-32],ne=C[E+2-32],oe=C[E+3-32],Ae=C[E+4-32],pe=C[E+5-32],be=C[E+6-32],je=C[E+7-32];C[E+0+0]=$+K+1>>1,C[E+1+0]=C[E+0+64]=K+ne+1>>1,C[E+2+0]=C[E+1+64]=ne+oe+1>>1,C[E+3+0]=C[E+2+64]=oe+Ae+1>>1,C[E+0+32]=Ir($,K,ne),C[E+1+32]=C[E+0+96]=Ir(K,ne,oe),C[E+2+32]=C[E+1+96]=Ir(ne,oe,Ae),C[E+3+32]=C[E+2+96]=Ir(oe,Ae,pe),C[E+3+64]=Ir(Ae,pe,be),C[E+3+96]=Ir(pe,be,je)}function Mt(C,E){var $=C[E-1+0],K=C[E-1+32],ne=C[E-1+64],oe=C[E-1+96];C[E+0+0]=$+K+1>>1,C[E+2+0]=C[E+0+32]=K+ne+1>>1,C[E+2+32]=C[E+0+64]=ne+oe+1>>1,C[E+1+0]=Ir($,K,ne),C[E+3+0]=C[E+1+32]=Ir(K,ne,oe),C[E+3+32]=C[E+1+64]=Ir(ne,oe,oe),C[E+3+64]=C[E+2+64]=C[E+0+96]=C[E+1+96]=C[E+2+96]=C[E+3+96]=oe}function hr(C,E){var $=C[E-1+0],K=C[E-1+32],ne=C[E-1+64],oe=C[E-1+96],Ae=C[E-1-32],pe=C[E+0-32],be=C[E+1-32],je=C[E+2-32];C[E+0+0]=C[E+2+32]=$+Ae+1>>1,C[E+0+32]=C[E+2+64]=K+$+1>>1,C[E+0+64]=C[E+2+96]=ne+K+1>>1,C[E+0+96]=oe+ne+1>>1,C[E+3+0]=Ir(pe,be,je),C[E+2+0]=Ir(Ae,pe,be),C[E+1+0]=C[E+3+32]=Ir($,Ae,pe),C[E+1+32]=C[E+3+64]=Ir(K,$,Ae),C[E+1+64]=C[E+3+96]=Ir(ne,K,$),C[E+1+96]=Ir(oe,ne,K)}function Yt(C,E){var $;for($=0;8>$;++$)n(C,E+32*$,C,E-32,8)}function jr(C,E){var $;for($=0;8>$;++$)a(C,E,C[E-1],8),E+=32}function fr(C,E,$){var K;for(K=0;8>K;++K)a(E,$+32*K,C,8)}function mn(C,E){var $,K=8;for($=0;8>$;++$)K+=C[E+$-32]+C[E-1+32*$];fr(K>>4,C,E)}function Wr(C,E){var $,K=4;for($=0;8>$;++$)K+=C[E+$-32];fr(K>>3,C,E)}function _n(C,E){var $,K=4;for($=0;8>$;++$)K+=C[E-1+32*$];fr(K>>3,C,E)}function Ea(C,E){fr(128,C,E)}function ui(C,E,$){var K=C[E-$],ne=C[E+0],oe=3*(ne-K)+EA[1020+C[E-2*$]-C[E+$]],Ae=ql[112+(oe+4>>3)];C[E-$]=_s[255+K+ql[112+(oe+3>>3)]],C[E+0]=_s[255+ne-Ae]}function Ws(C,E,$,K){var ne=C[E+0],oe=C[E+$];return Ta[255+C[E-2*$]-C[E-$]]>K||Ta[255+oe-ne]>K}function na(C,E,$,K){return 4*Ta[255+C[E-$]-C[E+0]]+Ta[255+C[E-2*$]-C[E+$]]<=K}function us(C,E,$,K,ne){var oe=C[E-3*$],Ae=C[E-2*$],pe=C[E-$],be=C[E+0],je=C[E+$],Ie=C[E+2*$],ot=C[E+3*$];return 4*Ta[255+pe-be]+Ta[255+Ae-je]>K?0:Ta[255+C[E-4*$]-oe]<=ne&&Ta[255+oe-Ae]<=ne&&Ta[255+Ae-pe]<=ne&&Ta[255+ot-Ie]<=ne&&Ta[255+Ie-je]<=ne&&Ta[255+je-be]<=ne}function To(C,E,$,K){var ne=2*K+1;for(K=0;16>K;++K)na(C,E+K,$,ne)&&ui(C,E+K,$)}function Ys(C,E,$,K){var ne=2*K+1;for(K=0;16>K;++K)na(C,E+K*$,1,ne)&&ui(C,E+K*$,1)}function As(C,E,$,K){var ne;for(ne=3;0<ne;--ne)To(C,E+=4*$,$,K)}function va(C,E,$,K){var ne;for(ne=3;0<ne;--ne)Ys(C,E+=4,$,K)}function Mi(C,E,$,K,ne,oe,Ae,pe){for(oe=2*oe+1;0<ne--;){if(us(C,E,$,oe,Ae))if(Ws(C,E,$,pe))ui(C,E,$);else{var be=C,je=E,Ie=$,ot=be[je-2*Ie],Se=be[je-Ie],De=be[je+0],Le=be[je+Ie],ct=be[je+2*Ie],Xe=27*(_t=EA[1020+3*(De-Se)+EA[1020+ot-Le]])+63>>7,Nt=18*_t+63>>7,_t=9*_t+63>>7;be[je-3*Ie]=_s[255+be[je-3*Ie]+_t],be[je-2*Ie]=_s[255+ot+Nt],be[je-Ie]=_s[255+Se+Xe],be[je+0]=_s[255+De-Xe],be[je+Ie]=_s[255+Le-Nt],be[je+2*Ie]=_s[255+ct-_t]}E+=K}}function Xs(C,E,$,K,ne,oe,Ae,pe){for(oe=2*oe+1;0<ne--;){if(us(C,E,$,oe,Ae))if(Ws(C,E,$,pe))ui(C,E,$);else{var be=C,je=E,Ie=$,ot=be[je-Ie],Se=be[je+0],De=be[je+Ie],Le=ql[112+(4+(ct=3*(Se-ot))>>3)],ct=ql[112+(ct+3>>3)],Xe=Le+1>>1;be[je-2*Ie]=_s[255+be[je-2*Ie]+Xe],be[je-Ie]=_s[255+ot+ct],be[je+0]=_s[255+Se-Le],be[je+Ie]=_s[255+De-Xe]}E+=K}}function M(C,E,$,K,ne,oe){Mi(C,E,$,1,16,K,ne,oe)}function ae(C,E,$,K,ne,oe){Mi(C,E,1,$,16,K,ne,oe)}function Ne(C,E,$,K,ne,oe){var Ae;for(Ae=3;0<Ae;--Ae)Xs(C,E+=4*$,$,1,16,K,ne,oe)}function Fe(C,E,$,K,ne,oe){var Ae;for(Ae=3;0<Ae;--Ae)Xs(C,E+=4,1,$,16,K,ne,oe)}function Je(C,E,$,K,ne,oe,Ae,pe){Mi(C,E,ne,1,8,oe,Ae,pe),Mi($,K,ne,1,8,oe,Ae,pe)}function Lt(C,E,$,K,ne,oe,Ae,pe){Mi(C,E,1,ne,8,oe,Ae,pe),Mi($,K,1,ne,8,oe,Ae,pe)}function Gt(C,E,$,K,ne,oe,Ae,pe){Xs(C,E+4*ne,ne,1,8,oe,Ae,pe),Xs($,K+4*ne,ne,1,8,oe,Ae,pe)}function Nr(C,E,$,K,ne,oe,Ae,pe){Xs(C,E+4,1,ne,8,oe,Ae,pe),Xs($,K+4,1,ne,8,oe,Ae,pe)}function Pr(){this.ba=new pt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Zr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ln(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Fn(){this.ua=0,this.Wa=new Qt,this.vb=new Qt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new J,this.yc=new Q}function ka(){this.xb=this.a=0,this.l=new Bi,this.ca=new pt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Fn,this.ab=0,this.gc=o(4,ln),this.Oc=0}function ti(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Bi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Xn(C,E,$,K,ne,oe,Ae){for(C=C==null?0:C[E+0],E=0;E<Ae;++E)ne[oe+E]=C+$[K+E]&255,C=ne[oe+E]}function ri(C,E,$,K,ne,oe,Ae){var pe;if(C==null)Xn(null,null,$,K,ne,oe,Ae);else for(pe=0;pe<Ae;++pe)ne[oe+pe]=C[E+pe]+$[K+pe]&255}function ni(C,E,$,K,ne,oe,Ae){if(C==null)Xn(null,null,$,K,ne,oe,Ae);else{var pe,be=C[E+0],je=be,Ie=be;for(pe=0;pe<Ae;++pe)je=Ie+(be=C[E+pe])-je,Ie=$[K+pe]+(-256&je?0>je?0:255:je)&255,je=be,ne[oe+pe]=Ie}}function Ri(C,E,$,K){var ne=E.width,oe=E.o;if(t(C!=null&&E!=null),0>$||0>=K||$+K>oe)return null;if(!C.Cc){if(C.ga==null){var Ae;if(C.ga=new ti,(Ae=C.ga==null)||(Ae=E.width*E.o,t(C.Gb.length==0),C.Gb=s(Ae),C.Uc=0,C.Gb==null?Ae=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Ae=1),Ae=!Ae),!Ae){Ae=C.ga;var pe=C.Fa,be=C.P,je=C.qc,Ie=C.mb,ot=C.nb,Se=be+1,De=je-1,Le=Ae.l;if(t(pe!=null&&Ie!=null&&E!=null),go[0]=null,go[1]=Xn,go[2]=ri,go[3]=ni,Ae.ca=Ie,Ae.tb=ot,Ae.c=E.width,Ae.i=E.height,t(0<Ae.c&&0<Ae.i),1>=je)E=0;else if(Ae.$a=3&pe[be+0],Ae.Z=pe[be+0]>>2&3,Ae.Lc=pe[be+0]>>4&3,be=pe[be+0]>>6&3,0>Ae.$a||1<Ae.$a||4<=Ae.Z||1<Ae.Lc||be)E=0;else if(Le.put=Ct,Le.ac=Kt,Le.bc=$r,Le.ma=Ae,Le.width=E.width,Le.height=E.height,Le.Da=E.Da,Le.v=E.v,Le.va=E.va,Le.j=E.j,Le.o=E.o,Ae.$a)e:{t(Ae.$a==1),E=Rn();t:for(;;){if(E==null){E=0;break e}if(t(Ae!=null),Ae.mc=E,E.c=Ae.c,E.i=Ae.i,E.l=Ae.l,E.l.ma=Ae,E.l.width=Ae.c,E.l.height=Ae.i,E.a=0,ie(E.m,pe,Se,De),!bn(Ae.c,Ae.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&dn(E.s)?(Ae.ic=1,pe=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(pe),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(Ae.ic=0,E=Ja(E,Ae.c)),!E))break t;E=1;break e}Ae.mc=null,E=0}else E=De>=Ae.c*Ae.i;Ae=!E}if(Ae)return null;C.ga.Lc!=1?C.Ga=0:K=oe-$}t(C.ga!=null),t($+K<=oe);e:{if(E=(pe=C.ga).c,oe=pe.l.o,pe.$a==0){if(Se=C.rc,De=C.Vc,Le=C.Fa,be=C.P+1+$*E,je=C.mb,Ie=C.nb+$*E,t(be<=C.P+C.qc),pe.Z!=0)for(t(go[pe.Z]!=null),Ae=0;Ae<K;++Ae)go[pe.Z](Se,De,Le,be,je,Ie,E),Se=je,De=Ie,Ie+=E,be+=E;else for(Ae=0;Ae<K;++Ae)n(je,Ie,Le,be,E),Se=je,De=Ie,Ie+=E,be+=E;C.rc=Se,C.Vc=De}else{if(t(pe.mc!=null),E=$+K,t((Ae=pe.mc)!=null),t(E<=Ae.i),Ae.C>=E)E=1;else if(pe.ic||Cu(),pe.ic){pe=Ae.V,Se=Ae.Ba,De=Ae.c;var ct=Ae.i,Xe=(Le=1,be=Ae.$/De,je=Ae.$%De,Ie=Ae.m,ot=Ae.s,Ae.$),Nt=De*ct,_t=De*E,Xt=ot.wc,qt=Xe<_t?on(ot,je,be):null;t(Xe<=Nt),t(E<=ct),t(dn(ot));t:for(;;){for(;!Ie.h&&Xe<_t;){if(je&Xt||(qt=on(ot,je,be)),t(qt!=null),fe(Ie),256>(ct=Zt(qt.G[0],qt.H[0],Ie)))pe[Se+Xe]=ct,++Xe,++je>=De&&(je=0,++be<=E&&!(be%16)&&hn(Ae,be));else{if(!(280>ct)){Le=0;break t}ct=lr(ct-256,Ie);var Er,gr=Zt(qt.G[4],qt.H[4],Ie);if(fe(Ie),!(Xe>=(gr=cr(De,gr=lr(gr,Ie)))&&Nt-Xe>=ct)){Le=0;break t}for(Er=0;Er<ct;++Er)pe[Se+Xe+Er]=pe[Se+Xe+Er-gr];for(Xe+=ct,je+=ct;je>=De;)je-=De,++be<=E&&!(be%16)&&hn(Ae,be);Xe<_t&&je&Xt&&(qt=on(ot,je,be))}t(Ie.h==Z(Ie))}hn(Ae,be>E?E:be);break t}!Le||Ie.h&&Xe<Nt?(Le=0,Ae.a=Ie.h?5:3):Ae.$=Xe,E=Le}else E=Mn(Ae,Ae.V,Ae.Ba,Ae.c,Ae.i,E,qn);if(!E){K=0;break e}}$+K>=oe&&(C.Cc=1),K=1}if(!K)return null;if(C.Cc&&((K=C.ga)!=null&&(K.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+$*ne}function Rl(C,E,$,K,ne,oe){for(;0<ne--;){var Ae,pe=C,be=E+($?1:0),je=C,Ie=E+($?0:3);for(Ae=0;Ae<K;++Ae){var ot=je[Ie+4*Ae];ot!=255&&(ot*=32897,pe[be+4*Ae+0]=pe[be+4*Ae+0]*ot>>23,pe[be+4*Ae+1]=pe[be+4*Ae+1]*ot>>23,pe[be+4*Ae+2]=pe[be+4*Ae+2]*ot>>23)}E+=oe}}function Fc(C,E,$,K,ne){for(;0<K--;){var oe;for(oe=0;oe<$;++oe){var Ae=C[E+2*oe+0],pe=15&(je=C[E+2*oe+1]),be=4369*pe,je=(240&je|je>>4)*be>>16;C[E+2*oe+0]=(240&Ae|Ae>>4)*be>>16&240|(15&Ae|Ae<<4)*be>>16>>4&15,C[E+2*oe+1]=240&je|pe}E+=ne}}function Sp(C,E,$,K,ne,oe,Ae,pe){var be,je,Ie=255;for(je=0;je<ne;++je){for(be=0;be<K;++be){var ot=C[E+be];oe[Ae+4*be]=ot,Ie&=ot}E+=$,Ae+=pe}return Ie!=255}function sh(C,E,$,K,ne){var oe;for(oe=0;oe<ne;++oe)$[K+oe]=C[E+oe]>>8}function Cu(){hs=Rl,Zs=Fc,Su=Sp,ch=sh}function Oo(C,E,$){U[C]=function(K,ne,oe,Ae,pe,be,je,Ie,ot,Se,De,Le,ct,Xe,Nt,_t,Xt){var qt,Er=Xt-1>>1,gr=pe[be+0]|je[Ie+0]<<16,fn=ot[Se+0]|De[Le+0]<<16;t(K!=null);var ur=3*gr+fn+131074>>2;for(E(K[ne+0],255&ur,ur>>16,ct,Xe),oe!=null&&(ur=3*fn+gr+131074>>2,E(oe[Ae+0],255&ur,ur>>16,Nt,_t)),qt=1;qt<=Er;++qt){var Cn=pe[be+qt]|je[Ie+qt]<<16,qa=ot[Se+qt]|De[Le+qt]<<16,cn=gr+Cn+fn+qa+524296,kr=cn+2*(Cn+fn)>>3;ur=kr+gr>>1,gr=(cn=cn+2*(gr+qa)>>3)+Cn>>1,E(K[ne+2*qt-1],255&ur,ur>>16,ct,Xe+(2*qt-1)*$),E(K[ne+2*qt-0],255&gr,gr>>16,ct,Xe+(2*qt-0)*$),oe!=null&&(ur=cn+fn>>1,gr=kr+qa>>1,E(oe[Ae+2*qt-1],255&ur,ur>>16,Nt,_t+(2*qt-1)*$),E(oe[Ae+2*qt+0],255&gr,gr>>16,Nt,_t+(2*qt+0)*$)),gr=Cn,fn=qa}1&Xt||(ur=3*gr+fn+131074>>2,E(K[ne+Xt-1],255&ur,ur>>16,ct,Xe+(Xt-1)*$),oe!=null&&(ur=3*fn+gr+131074>>2,E(oe[Ae+Xt-1],255&ur,ur>>16,Nt,_t+(Xt-1)*$)))}}function Id(){ps[Vl]=qd,ps[Kl]=Rp,ps[Qd]=fh,ps[Nu]=Qp,ps[ms]=Rc,ps[Ts]=Hp,ps[Mc]=TA,ps[Po]=Rp,ps[Lo]=Qp,ps[fl]=Rc,ps[Ah]=Hp}function Pc(C){return C&-16384?0>C?0:255:C>>yo}function fo(C,E){return Pc((19077*C>>8)+(26149*E>>8)-14234)}function ji(C,E,$){return Pc((19077*C>>8)-(6419*E>>8)-(13320*$>>8)+8708)}function al(C,E){return Pc((19077*C>>8)+(33050*E>>8)-17685)}function il(C,E,$,K,ne){K[ne+0]=fo(C,$),K[ne+1]=ji(C,E,$),K[ne+2]=al(C,E)}function Bu(C,E,$,K,ne){K[ne+0]=al(C,E),K[ne+1]=ji(C,E,$),K[ne+2]=fo(C,$)}function bA(C,E,$,K,ne){var oe=ji(C,E,$);E=oe<<3&224|al(C,E)>>3,K[ne+0]=248&fo(C,$)|oe>>5,K[ne+1]=E}function Ji(C,E,$,K,ne){var oe=240&al(C,E)|15;K[ne+0]=240&fo(C,$)|ji(C,E,$)>>4,K[ne+1]=oe}function Ql(C,E,$,K,ne){K[ne+0]=255,il(C,E,$,K,ne+1)}function wA(C,E,$,K,ne){Bu(C,E,$,K,ne),K[ne+3]=255}function oh(C,E,$,K,ne){il(C,E,$,K,ne),K[ne+3]=255}function Ai(C,E){return 0>C?0:C>E?E:C}function Js(C,E,$){U[C]=function(K,ne,oe,Ae,pe,be,je,Ie,ot){for(var Se=Ie+(-2&ot)*$;Ie!=Se;)E(K[ne+0],oe[Ae+0],pe[be+0],je,Ie),E(K[ne+1],oe[Ae+0],pe[be+0],je,Ie+$),ne+=2,++Ae,++be,Ie+=2*$;1&ot&&E(K[ne+0],oe[Ae+0],pe[be+0],je,Ie)}}function CA(C,E,$){return $==0?C==0?E==0?6:5:E==0?4:0:$}function Hl(C,E,$,K,ne){switch(C>>>30){case 3:ha(E,$,K,ne,0);break;case 2:Fo(E,$,K,ne);break;case 1:Zi(E,$,K,ne)}}function ho(C,E){var $,K,ne=E.M,oe=E.Nb,Ae=C.oc,pe=C.pc+40,be=C.oc,je=C.pc+584,Ie=C.oc,ot=C.pc+600;for($=0;16>$;++$)Ae[pe+32*$-1]=129;for($=0;8>$;++$)be[je+32*$-1]=129,Ie[ot+32*$-1]=129;for(0<ne?Ae[pe-1-32]=be[je-1-32]=Ie[ot-1-32]=129:(a(Ae,pe-32-1,127,21),a(be,je-32-1,127,9),a(Ie,ot-32-1,127,9)),K=0;K<C.za;++K){var Se=E.ya[E.aa+K];if(0<K){for($=-1;16>$;++$)n(Ae,pe+32*$-4,Ae,pe+32*$+12,4);for($=-1;8>$;++$)n(be,je+32*$-4,be,je+32*$+4,4),n(Ie,ot+32*$-4,Ie,ot+32*$+4,4)}var De=C.Gd,Le=C.Hd+K,ct=Se.ad,Xe=Se.Hc;if(0<ne&&(n(Ae,pe-32,De[Le].y,0,16),n(be,je-32,De[Le].f,0,8),n(Ie,ot-32,De[Le].ea,0,8)),Se.Za){var Nt=Ae,_t=pe-32+16;for(0<ne&&(K>=C.za-1?a(Nt,_t,De[Le].y[15],4):n(Nt,_t,De[Le+1].y,0,4)),$=0;4>$;$++)Nt[_t+128+$]=Nt[_t+256+$]=Nt[_t+384+$]=Nt[_t+0+$];for($=0;16>$;++$,Xe<<=2)Nt=Ae,_t=pe+iv[$],po[Se.Ob[$]](Nt,_t),Hl(Xe,ct,16*+$,Nt,_t)}else if(Nt=CA(K,ne,Se.Ob[0]),Io[Nt](Ae,pe),Xe!=0)for($=0;16>$;++$,Xe<<=2)Hl(Xe,ct,16*+$,Ae,pe+iv[$]);for($=Se.Gc,Nt=CA(K,ne,Se.Dd),eo[Nt](be,je),eo[Nt](Ie,ot),Xe=ct,Nt=be,_t=je,255&(Se=0|$)&&(170&Se?ju(Xe,256,Nt,_t):dl(Xe,256,Nt,_t)),Se=Ie,Xe=ot,255&($>>=8)&&(170&$?ju(ct,320,Se,Xe):dl(ct,320,Se,Xe)),ne<C.Ub-1&&(n(De[Le].y,0,Ae,pe+480,16),n(De[Le].f,0,be,je+224,8),n(De[Le].ea,0,Ie,ot+224,8)),$=8*oe*C.B,De=C.sa,Le=C.ta+16*K+16*oe*C.R,ct=C.qa,Se=C.ra+8*K+$,Xe=C.Ha,Nt=C.Ia+8*K+$,$=0;16>$;++$)n(De,Le+$*C.R,Ae,pe+32*$,16);for($=0;8>$;++$)n(ct,Se+$*C.B,be,je+32*$,8),n(Xe,Nt+$*C.B,Ie,ot+32*$,8)}}function BA(C,E,$,K,ne,oe,Ae,pe,be){var je=[0],Ie=[0],ot=0,Se=be!=null?be.kd:0,De=be??new Zr;if(C==null||12>$)return 7;De.data=C,De.w=E,De.ha=$,E=[E],$=[$],De.gb=[De.gb];e:{var Le=E,ct=$,Xe=De.gb;if(t(C!=null),t(ct!=null),t(Xe!=null),Xe[0]=0,12<=ct[0]&&!r(C,Le[0],"RIFF")){if(r(C,Le[0]+8,"WEBP")){Xe=3;break e}var Nt=ke(C,Le[0]+4);if(12>Nt||4294967286<Nt){Xe=3;break e}if(Se&&Nt>ct[0]-8){Xe=7;break e}Xe[0]=Nt,Le[0]+=12,ct[0]-=12}Xe=0}if(Xe!=0)return Xe;for(Nt=0<De.gb[0],$=$[0];;){e:{var _t=C;ct=E,Xe=$;var Xt=je,qt=Ie,Er=Le=[0];if((ur=ot=[ot])[0]=0,8>Xe[0])Xe=7;else{if(!r(_t,ct[0],"VP8X")){if(ke(_t,ct[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var gr=ke(_t,ct[0]+8),fn=1+Pe(_t,ct[0]+12);if(2147483648<=fn*(_t=1+Pe(_t,ct[0]+15))){Xe=3;break e}Er!=null&&(Er[0]=gr),Xt!=null&&(Xt[0]=fn),qt!=null&&(qt[0]=_t),ct[0]+=18,Xe[0]-=18,ur[0]=1}Xe=0}}if(ot=ot[0],Le=Le[0],Xe!=0)return Xe;if(ct=!!(2&Le),!Nt&&ot)return 3;if(oe!=null&&(oe[0]=!!(16&Le)),Ae!=null&&(Ae[0]=ct),pe!=null&&(pe[0]=0),Ae=je[0],Le=Ie[0],ot&&ct&&be==null){Xe=0;break}if(4>$){Xe=7;break}if(Nt&&ot||!Nt&&!ot&&!r(C,E[0],"ALPH")){$=[$],De.na=[De.na],De.P=[De.P],De.Sa=[De.Sa];e:{gr=C,Xe=E,Nt=$;var ur=De.gb;Xt=De.na,qt=De.P,Er=De.Sa,fn=22,t(gr!=null),t(Nt!=null),_t=Xe[0];var Cn=Nt[0];for(t(Xt!=null),t(Er!=null),Xt[0]=null,qt[0]=null,Er[0]=0;;){if(Xe[0]=_t,Nt[0]=Cn,8>Cn){Xe=7;break e}var qa=ke(gr,_t+4);if(4294967286<qa){Xe=3;break e}var cn=8+qa+1&-2;if(fn+=cn,0<ur&&fn>ur){Xe=3;break e}if(!r(gr,_t,"VP8 ")||!r(gr,_t,"VP8L")){Xe=0;break e}if(Cn[0]<cn){Xe=7;break e}r(gr,_t,"ALPH")||(Xt[0]=gr,qt[0]=_t+8,Er[0]=qa),_t+=cn,Cn-=cn}}if($=$[0],De.na=De.na[0],De.P=De.P[0],De.Sa=De.Sa[0],Xe!=0)break}$=[$],De.Ja=[De.Ja],De.xa=[De.xa];e:if(ur=C,Xe=E,Nt=$,Xt=De.gb[0],qt=De.Ja,Er=De.xa,gr=Xe[0],_t=!r(ur,gr,"VP8 "),fn=!r(ur,gr,"VP8L"),t(ur!=null),t(Nt!=null),t(qt!=null),t(Er!=null),8>Nt[0])Xe=7;else{if(_t||fn){if(ur=ke(ur,gr+4),12<=Xt&&ur>Xt-12){Xe=3;break e}if(Se&&ur>Nt[0]-8){Xe=7;break e}qt[0]=ur,Xe[0]+=8,Nt[0]-=8,Er[0]=fn}else Er[0]=5<=Nt[0]&&ur[gr+0]==47&&!(ur[gr+4]>>5),qt[0]=Nt[0];Xe=0}if($=$[0],De.Ja=De.Ja[0],De.xa=De.xa[0],E=E[0],Xe!=0)break;if(4294967286<De.Ja)return 3;if(pe==null||ct||(pe[0]=De.xa?2:1),Ae=[Ae],Le=[Le],De.xa){if(5>$){Xe=7;break}pe=Ae,Se=Le,ct=oe,C==null||5>$?C=0:5<=$&&C[E+0]==47&&!(C[E+4]>>5)?(Nt=[0],ur=[0],Xt=[0],ie(qt=new q,C,E,$),qr(qt,Nt,ur,Xt)?(pe!=null&&(pe[0]=Nt[0]),Se!=null&&(Se[0]=ur[0]),ct!=null&&(ct[0]=Xt[0]),C=1):C=0):C=0}else{if(10>$){Xe=7;break}pe=Le,C==null||10>$||!ra(C,E+3,$-3)?C=0:(Se=C[E+0]|C[E+1]<<8|C[E+2]<<16,ct=16383&(C[E+7]<<8|C[E+6]),C=16383&(C[E+9]<<8|C[E+8]),1&Se||3<(Se>>1&7)||!(Se>>4&1)||Se>>5>=De.Ja||!ct||!C?C=0:(Ae&&(Ae[0]=ct),pe&&(pe[0]=C),C=1))}if(!C||(Ae=Ae[0],Le=Le[0],ot&&(je[0]!=Ae||Ie[0]!=Le)))return 3;be!=null&&(be[0]=De,be.offset=E-be.w,t(4294967286>E-be.w),t(be.offset==be.ha-$));break}return Xe==0||Xe==7&&ot&&be==null?(oe!=null&&(oe[0]|=De.na!=null&&0<De.na.length),K!=null&&(K[0]=Ae),ne!=null&&(ne[0]=Le),0):Xe}function Qi(C,E,$){var K=E.width,ne=E.height,oe=0,Ae=0,pe=K,be=ne;if(E.Da=C!=null&&0<C.Da,E.Da&&(pe=C.cd,be=C.bd,oe=C.v,Ae=C.j,11>$||(oe&=-2,Ae&=-2),0>oe||0>Ae||0>=pe||0>=be||oe+pe>K||Ae+be>ne))return 0;if(E.v=oe,E.j=Ae,E.va=oe+pe,E.o=Ae+be,E.U=pe,E.T=be,E.da=C!=null&&0<C.da,E.da){if(!It(pe,be,$=[C.ib],oe=[C.hb]))return 0;E.ib=$[0],E.hb=oe[0]}return E.ob=C!=null&&C.ob,E.Kb=C==null||!C.Sd,E.da&&(E.ob=E.ib<3*K/4&&E.hb<3*ne/4,E.Kb=0),1}function ds(C){if(C==null)return 2;if(11>C.S){var E=C.f.RGBA;E.fb+=(C.height-1)*E.A,E.A=-E.A}else E=C.f.kb,C=C.height,E.O+=(C-1)*E.fa,E.fa=-E.fa,E.N+=(C-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(C-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(C-1)*E.lb,E.lb=-E.lb);return 0}function Lc(C,E,$,K){if(K==null||0>=C||0>=E)return 2;if($!=null){if($.Da){var ne=$.cd,oe=$.bd,Ae=-2&$.v,pe=-2&$.j;if(0>Ae||0>pe||0>=ne||0>=oe||Ae+ne>C||pe+oe>E)return 2;C=ne,E=oe}if($.da){if(!It(C,E,ne=[$.ib],oe=[$.hb]))return 2;C=ne[0],E=oe[0]}}K.width=C,K.height=E;e:{var be=K.width,je=K.height;if(C=K.S,0>=be||0>=je||!(C>=Vl&&13>C))C=2;else{if(0>=K.Rd&&K.sd==null){Ae=oe=ne=E=0;var Ie=(pe=be*ph[C])*je;if(11>C||(oe=(je+1)/2*(E=(be+1)/2),C==12&&(Ae=(ne=be)*je)),(je=s(Ie+2*oe+Ae))==null){C=1;break e}K.sd=je,11>C?((be=K.f.RGBA).eb=je,be.fb=0,be.A=pe,be.size=Ie):((be=K.f.kb).y=je,be.O=0,be.fa=pe,be.Fd=Ie,be.f=je,be.N=0+Ie,be.Ab=E,be.Cd=oe,be.ea=je,be.W=0+Ie+oe,be.Db=E,be.Ed=oe,C==12&&(be.F=je,be.J=0+Ie+2*oe),be.Tc=Ae,be.lb=ne)}if(E=1,ne=K.S,oe=K.width,Ae=K.height,ne>=Vl&&13>ne)if(11>ne)C=K.f.RGBA,E&=(pe=Math.abs(C.A))*(Ae-1)+oe<=C.size,E&=pe>=oe*ph[ne],E&=C.eb!=null;else{C=K.f.kb,pe=(oe+1)/2,Ie=(Ae+1)/2,be=Math.abs(C.fa),je=Math.abs(C.Ab);var ot=Math.abs(C.Db),Se=Math.abs(C.lb),De=Se*(Ae-1)+oe;E&=be*(Ae-1)+oe<=C.Fd,E&=je*(Ie-1)+pe<=C.Cd,E=(E&=ot*(Ie-1)+pe<=C.Ed)&be>=oe&je>=pe&ot>=pe,E&=C.y!=null,E&=C.f!=null,E&=C.ea!=null,ne==12&&(E&=Se>=oe,E&=De<=C.Tc,E&=C.F!=null)}else E=0;C=E?0:2}}return C!=0||$!=null&&$.fd&&(C=ds(K)),C}var mo=64,sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jA=24,$l=32,La=8,Np=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];re("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(C){return C},U.Predictor2=function(C,E,$){return E[$+0]},U.Predictor3=function(C,E,$){return E[$+1]},U.Predictor4=function(C,E,$){return E[$-1]},U.Predictor5=function(C,E,$){return Oe(Oe(C,E[$+1]),E[$+0])},U.Predictor6=function(C,E,$){return Oe(C,E[$-1])},U.Predictor7=function(C,E,$){return Oe(C,E[$+0])},U.Predictor8=function(C,E,$){return Oe(E[$-1],E[$+0])},U.Predictor9=function(C,E,$){return Oe(E[$+0],E[$+1])},U.Predictor10=function(C,E,$){return Oe(Oe(C,E[$-1]),Oe(E[$+0],E[$+1]))},U.Predictor11=function(C,E,$){var K=E[$+0];return 0>=bt(K>>24&255,C>>24&255,(E=E[$-1])>>24&255)+bt(K>>16&255,C>>16&255,E>>16&255)+bt(K>>8&255,C>>8&255,E>>8&255)+bt(255&K,255&C,255&E)?K:C},U.Predictor12=function(C,E,$){var K=E[$+0];return(Ke((C>>24&255)+(K>>24&255)-((E=E[$-1])>>24&255))<<24|Ke((C>>16&255)+(K>>16&255)-(E>>16&255))<<16|Ke((C>>8&255)+(K>>8&255)-(E>>8&255))<<8|Ke((255&C)+(255&K)-(255&E)))>>>0},U.Predictor13=function(C,E,$){var K=E[$-1];return(Me((C=Oe(C,E[$+0]))>>24&255,K>>24&255)<<24|Me(C>>16&255,K>>16&255)<<16|Me(C>>8&255,K>>8&255)<<8|Me(255&C,255&K))>>>0};var ol=U.PredictorAdd0;U.PredictorAdd1=Jt,re("Predictor2","PredictorAdd2"),re("Predictor3","PredictorAdd3"),re("Predictor4","PredictorAdd4"),re("Predictor5","PredictorAdd5"),re("Predictor6","PredictorAdd6"),re("Predictor7","PredictorAdd7"),re("Predictor8","PredictorAdd8"),re("Predictor9","PredictorAdd9"),re("Predictor10","PredictorAdd10"),re("Predictor11","PredictorAdd11"),re("Predictor12","PredictorAdd12"),re("Predictor13","PredictorAdd13");var ll=U.PredictorAdd2;Ue("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Ue("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var SA,Dd=U.ColorIndexInverseTransform,Si=U.MapARGB,cl=U.VP8LColorIndexInverseTransformAlpha,Uc=U.MapAlpha,Ic=U.VP8LPredictorsAdd=[];Ic.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ul,NA,fs,Al,ca,$n,_a,ha,Fo,ju,Zi,dl,lh,Ep,Dc,kp,_p,Tp,J0,Z0,ev,Op,Fp,Pp,hs,Zs,Su,ch,Md=s(511),Rd=s(2041),uh=s(225),zl=s(767),Lp=0,EA=Rd,ql=uh,_s=zl,Ta=Md,Vl=0,Kl=1,Qd=2,Nu=3,ms=4,Ts=5,Mc=6,Po=7,Lo=8,fl=9,Ah=10,Up=[2,3,7],Ip=[3,3,11],es=[280,256,256,256,40],Hi=[0,1,1,1,0],Un=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Dp=8,Gl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],dh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],kA=null,Hd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],$d=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],_A=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],rv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Io=[],po=[],eo=[],nv=1,Eu=2,go=[],ps=[];Oo("UpsampleRgbLinePair",il,3),Oo("UpsampleBgrLinePair",Bu,3),Oo("UpsampleRgbaLinePair",oh,4),Oo("UpsampleBgraLinePair",wA,4),Oo("UpsampleArgbLinePair",Ql,4),Oo("UpsampleRgba4444LinePair",Ji,2),Oo("UpsampleRgb565LinePair",bA,2);var qd=U.UpsampleRgbLinePair,fh=U.UpsampleBgrLinePair,Rp=U.UpsampleRgbaLinePair,Qp=U.UpsampleBgraLinePair,Rc=U.UpsampleArgbLinePair,Hp=U.UpsampleRgba4444LinePair,TA=U.UpsampleRgb565LinePair,ku=16,Vd=1<<ku-1,_u=-227,Kd=482,yo=6,Do=0,Qc=s(256),av=s(256),Hc=s(256),Wl=s(256),di=s(Kd-_u),hh=s(Kd-_u);Js("YuvToRgbRow",il,3),Js("YuvToBgrRow",Bu,3),Js("YuvToRgbaRow",oh,4),Js("YuvToBgraRow",wA,4),Js("YuvToArgbRow",Ql,4),Js("YuvToRgba4444Row",Ji,2),Js("YuvToRgb565Row",bA,2);var iv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mh=[0,2,8],d2=[8,7,6,4,4,2,2,2,1,1,1,1],fi=1;this.WebPDecodeRGBA=function(C,E,$,K,ne){var oe=Kl,Ae=new Pr,pe=new pt;Ae.ba=pe,pe.S=oe,pe.width=[pe.width],pe.height=[pe.height];var be=pe.width,je=pe.height,Ie=new gt;if(Ie==null||C==null)var ot=2;else t(Ie!=null),ot=BA(C,E,$,Ie.width,Ie.height,Ie.Pd,Ie.Qd,Ie.format,null);if(ot!=0?be=0:(be!=null&&(be[0]=Ie.width[0]),je!=null&&(je[0]=Ie.height[0]),be=1),be){pe.width=pe.width[0],pe.height=pe.height[0],K!=null&&(K[0]=pe.width),ne!=null&&(ne[0]=pe.height);e:{if(K=new Bi,(ne=new Zr).data=C,ne.w=E,ne.ha=$,ne.kd=1,E=[0],t(ne!=null),((C=BA(ne.data,ne.w,ne.ha,null,null,null,E,null,ne))==0||C==7)&&E[0]&&(C=4),(E=C)==0){if(t(Ae!=null),K.data=ne.data,K.w=ne.w+ne.offset,K.ha=ne.ha-ne.offset,K.put=Ct,K.ac=Kt,K.bc=$r,K.ma=Ae,ne.xa){if((C=Rn())==null){Ae=1;break e}if(function(Se,De){var Le=[0],ct=[0],Xe=[0];t:for(;;){if(Se==null)return 0;if(De==null)return Se.a=2,0;if(Se.l=De,Se.a=0,ie(Se.m,De.data,De.w,De.ha),!qr(Se.m,Le,ct,Xe)){Se.a=3;break t}if(Se.xb=Eu,De.width=Le[0],De.height=ct[0],!bn(Le[0],ct[0],1,Se,null))break t;return 1}return t(Se.a!=0),0}(C,K)){if(K=(E=Lc(K.width,K.height,Ae.Oa,Ae.ba))==0){t:{K=C;r:for(;;){if(K==null){K=0;break t}if(t(K.s.yc!=null),t(K.s.Ya!=null),t(0<K.s.Wb),t(($=K.l)!=null),t((ne=$.ma)!=null),K.xb!=0){if(K.ca=ne.ba,K.tb=ne.tb,t(K.ca!=null),!Qi(ne.Oa,$,Nu)){K.a=2;break r}if(!Ja(K,$.width)||$.da)break r;if(($.da||Rt(K.ca.S))&&Cu(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Cu()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!se(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Mn(K,K.V,K.Ba,K.c,K.i,$.o,Vr))break r;ne.Dc=K.Ma,K=1;break t}t(K.a!=0),K=0}K=!K}K&&(E=C.a)}else E=C.a}else{if((C=new Za)==null){Ae=1;break e}if(C.Fa=ne.na,C.P=ne.P,C.qc=ne.Sa,ue(C,K)){if((E=Lc(K.width,K.height,Ae.Oa,Ae.ba))==0){if(C.Aa=0,$=Ae.Oa,t((ne=C)!=null),$!=null){if(0<(be=0>(be=$.Md)?0:100<be?255:255*be/100)){for(je=Ie=0;4>je;++je)12>(ot=ne.pb[je]).lc&&(ot.ia=be*d2[0>ot.lc?0:ot.lc]>>3),Ie|=ot.ia;Ie&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=$.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Se,De){if(Se==null)return 0;if(De==null)return wn(Se,2,"NULL VP8Io parameter in VP8Decode().");if(!Se.cb&&!ue(Se,De))return 0;if(t(Se.cb),De.ac==null||De.ac(De)){De.ob&&(Se.L=0);var Le=mh[Se.L];if(Se.L==2?(Se.yb=0,Se.zb=0):(Se.yb=De.v-Le>>4,Se.zb=De.j-Le>>4,0>Se.yb&&(Se.yb=0),0>Se.zb&&(Se.zb=0)),Se.Va=De.o+15+Le>>4,Se.Hb=De.va+15+Le>>4,Se.Hb>Se.za&&(Se.Hb=Se.za),Se.Va>Se.Ub&&(Se.Va=Se.Ub),0<Se.L){var ct=Se.ed;for(Le=0;4>Le;++Le){var Xe;if(Se.Qa.Cb){var Nt=Se.Qa.Lb[Le];Se.Qa.Fb||(Nt+=ct.Tb)}else Nt=ct.Tb;for(Xe=0;1>=Xe;++Xe){var _t=Se.gd[Le][Xe],Xt=Nt;if(ct.Pc&&(Xt+=ct.vd[0],Xe&&(Xt+=ct.od[0])),0<(Xt=0>Xt?0:63<Xt?63:Xt)){var qt=Xt;0<ct.wb&&(qt=4<ct.wb?qt>>2:qt>>1)>9-ct.wb&&(qt=9-ct.wb),1>qt&&(qt=1),_t.dd=qt,_t.tc=2*Xt+qt,_t.ld=40<=Xt?2:15<=Xt?1:0}else _t.tc=0;_t.La=Xe}}}Le=0}else wn(Se,6,"Frame setup failed"),Le=Se.a;if(Le=Le==0){if(Le){Se.$c=0,0<Se.Aa||(Se.Ic=fi);t:{Le=Se.Ic,ct=4*(qt=Se.za);var Er=32*qt,gr=qt+1,fn=0<Se.L?qt*(0<Se.Aa?2:1):0,ur=(Se.Aa==2?2:1)*qt;if((_t=ct+832+(Xe=3*(16*Le+mh[Se.L])/2*Er)+(Nt=Se.Fa!=null&&0<Se.Fa.length?Se.Kc.c*Se.Kc.i:0))!=_t)Le=0;else{if(_t>Se.Vb){if(Se.Vb=0,Se.Ec=s(_t),Se.Fc=0,Se.Ec==null){Le=wn(Se,1,"no memory during frame initialization.");break t}Se.Vb=_t}_t=Se.Ec,Xt=Se.Fc,Se.Ac=_t,Se.Bc=Xt,Xt+=ct,Se.Gd=o(Er,Na),Se.Hd=0,Se.rb=o(gr+1,Kr),Se.sb=1,Se.wa=fn?o(fn,Ar):null,Se.Y=0,Se.D.Nb=0,Se.D.wa=Se.wa,Se.D.Y=Se.Y,0<Se.Aa&&(Se.D.Y+=qt),t(!0),Se.oc=_t,Se.pc=Xt,Xt+=832,Se.ya=o(ur,Hn),Se.aa=0,Se.D.ya=Se.ya,Se.D.aa=Se.aa,Se.Aa==2&&(Se.D.aa+=qt),Se.R=16*qt,Se.B=8*qt,qt=(Er=mh[Se.L])*Se.R,Er=Er/2*Se.B,Se.sa=_t,Se.ta=Xt+qt,Se.qa=Se.sa,Se.ra=Se.ta+16*Le*Se.R+Er,Se.Ha=Se.qa,Se.Ia=Se.ra+8*Le*Se.B+Er,Se.$c=0,Xt+=Xe,Se.mb=Nt?_t:null,Se.nb=Nt?Xt:null,t(Xt+Nt<=Se.Fc+Se.Vb),We(Se),a(Se.Ac,Se.Bc,0,ct),Le=1}}if(Le){if(De.ka=0,De.y=Se.sa,De.O=Se.ta,De.f=Se.qa,De.N=Se.ra,De.ea=Se.Ha,De.Vd=Se.Ia,De.fa=Se.R,De.Rc=Se.B,De.F=null,De.J=0,!Lp){for(Le=-255;255>=Le;++Le)Md[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)Rd[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)uh[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)zl[255+Le]=0>Le?0:255<Le?255:Le;Lp=1}_a=jt,ha=at,ju=dt,Zi=tt,dl=ht,Fo=ve,lh=M,Ep=ae,Dc=Je,kp=Lt,_p=Ne,Tp=Fe,J0=Gt,Z0=Nr,ev=To,Op=Ys,Fp=As,Pp=va,po[0]=wu,po[1]=Bt,po[2]=bu,po[3]=Oc,po[4]=nl,po[5]=Xi,po[6]=ks,po[7]=Ee,po[8]=hr,po[9]=Mt,Io[0]=Gr,Io[1]=Wt,Io[2]=pr,Io[3]=Qr,Io[4]=yn,Io[5]=ei,Io[6]=Di,eo[0]=mn,eo[1]=Dt,eo[2]=Yt,eo[3]=jr,eo[4]=_n,eo[5]=Wr,eo[6]=Ea,Le=1}else Le=0}Le&&(Le=function(Cn,qa){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var cn,kr=Cn.Jc[Cn.M&Cn.Xb],dr=Cn.m,Oa=Cn;for(cn=0;cn<Oa.za;++cn){var rn=dr,Bn=Oa,xn=Bn.Ac,jn=Bn.Bc+4*cn,Ni=Bn.zc,ua=Bn.ya[Bn.aa+cn];if(Bn.Qa.Bb?ua.$b=ce(rn,Bn.Pa.jb[0])?2+ce(rn,Bn.Pa.jb[2]):ce(rn,Bn.Pa.jb[1]):ua.$b=0,Bn.kc&&(ua.Ad=ce(rn,Bn.Bd)),ua.Za=!ce(rn,145)+0,ua.Za){var hi=ua.Ob,$i=0;for(Bn=0;4>Bn;++Bn){var aa,Sn=Ni[0+Bn];for(aa=0;4>aa;++aa){Sn=tv[xn[jn+aa]][Sn];for(var zn=_A[ce(rn,Sn[0])];0<zn;)zn=_A[2*zn+ce(rn,Sn[zn])];Sn=-zn,xn[jn+aa]=Sn}n(hi,$i,xn,jn,4),$i+=4,Ni[0+Bn]=Sn}}else Sn=ce(rn,156)?ce(rn,128)?1:3:ce(rn,163)?2:0,ua.Ob[0]=Sn,a(xn,jn,Sn,4),a(Ni,0,Sn,4);ua.Dd=ce(rn,142)?ce(rn,114)?ce(rn,183)?1:3:2:0}if(Oa.m.Ka)return wn(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(Oa=kr,rn=(dr=Cn).rb[dr.sb-1],xn=dr.rb[dr.sb+dr.ja],cn=dr.ya[dr.aa+dr.ja],jn=dr.kc?cn.Ad:0)rn.la=xn.la=0,cn.Za||(rn.Na=xn.Na=0),cn.Hc=0,cn.Gc=0,cn.ia=0;else{var xa,Kn;if(rn=xn,xn=Oa,jn=dr.Pa.Xc,Ni=dr.ya[dr.aa+dr.ja],ua=dr.pb[Ni.$b],Bn=Ni.ad,hi=0,$i=dr.rb[dr.sb-1],Sn=aa=0,a(Bn,hi,0,384),Ni.Za)var Ei=0,vo=jn[3];else{zn=s(16);var Ua=rn.Na+$i.Na;if(Ua=kA(xn,jn[1],Ua,ua.Eb,0,zn,0),rn.Na=$i.Na=(0<Ua)+0,1<Ua)_a(zn,0,Bn,hi);else{var gs=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)Bn[hi+zn]=gs}Ei=1,vo=jn[0]}var Jn=15&rn.la,Va=15&$i.la;for(zn=0;4>zn;++zn){var Os=1&Va;for(gs=Kn=0;4>gs;++gs)Jn=Jn>>1|(Os=(Ua=kA(xn,vo,Ua=Os+(1&Jn),ua.Sc,Ei,Bn,hi))>Ei)<<7,Kn=Kn<<2|(3<Ua?3:1<Ua?2:Bn[hi+0]!=0),hi+=16;Jn>>=4,Va=Va>>1|Os<<7,aa=(aa<<8|Kn)>>>0}for(vo=Jn,Ei=Va>>4,xa=0;4>xa;xa+=2){for(Kn=0,Jn=rn.la>>4+xa,Va=$i.la>>4+xa,zn=0;2>zn;++zn){for(Os=1&Va,gs=0;2>gs;++gs)Ua=Os+(1&Jn),Jn=Jn>>1|(Os=0<(Ua=kA(xn,jn[2],Ua,ua.Qc,0,Bn,hi)))<<3,Kn=Kn<<2|(3<Ua?3:1<Ua?2:Bn[hi+0]!=0),hi+=16;Jn>>=2,Va=Va>>1|Os<<5}Sn|=Kn<<4*xa,vo|=Jn<<4<<xa,Ei|=(240&Va)<<xa}rn.la=vo,$i.la=Ei,Ni.Hc=aa,Ni.Gc=Sn,Ni.ia=43690&Sn?0:ua.ia,jn=!(aa|Sn)}if(0<dr.L&&(dr.wa[dr.Y+dr.ja]=dr.gd[cn.$b][cn.Za],dr.wa[dr.Y+dr.ja].La|=!jn),Oa.Ka)return wn(Cn,7,"Premature end-of-file encountered.")}if(We(Cn),dr=qa,Oa=1,cn=(kr=Cn).D,rn=0<kr.L&&kr.M>=kr.zb&&kr.M<=kr.Va,kr.Aa==0)t:{if(cn.M=kr.M,cn.uc=rn,ho(kr,cn),Oa=1,cn=(Kn=kr.D).Nb,rn=(Sn=mh[kr.L])*kr.R,xn=Sn/2*kr.B,zn=16*cn*kr.R,gs=8*cn*kr.B,jn=kr.sa,Ni=kr.ta-rn+zn,ua=kr.qa,Bn=kr.ra-xn+gs,hi=kr.Ha,$i=kr.Ia-xn+gs,Va=(Jn=Kn.M)==0,aa=Jn>=kr.Va-1,kr.Aa==2&&ho(kr,Kn),Kn.uc)for(Os=(Ua=kr).D.M,t(Ua.D.uc),Kn=Ua.yb;Kn<Ua.Hb;++Kn){Ei=Kn,vo=Os;var ys=(Fs=(zi=Ua).D).Nb;xa=zi.R;var Fs=Fs.wa[Fs.Y+Ei],Ps=zi.sa,vs=zi.ta+16*ys*xa+16*Ei,xs=Fs.dd,ia=Fs.tc;if(ia!=0)if(t(3<=ia),zi.L==1)0<Ei&&Op(Ps,vs,xa,ia+4),Fs.La&&Pp(Ps,vs,xa,ia),0<vo&&ev(Ps,vs,xa,ia+4),Fs.La&&Fp(Ps,vs,xa,ia);else{var Ls=zi.B,xo=zi.qa,$c=zi.ra+8*ys*Ls+8*Ei,ml=zi.Ha,zi=zi.Ia+8*ys*Ls+8*Ei;ys=Fs.ld,0<Ei&&(Ep(Ps,vs,xa,ia+4,xs,ys),kp(xo,$c,ml,zi,Ls,ia+4,xs,ys)),Fs.La&&(Tp(Ps,vs,xa,ia,xs,ys),Z0(xo,$c,ml,zi,Ls,ia,xs,ys)),0<vo&&(lh(Ps,vs,xa,ia+4,xs,ys),Dc(xo,$c,ml,zi,Ls,ia+4,xs,ys)),Fs.La&&(_p(Ps,vs,xa,ia,xs,ys),J0(xo,$c,ml,zi,Ls,ia,xs,ys))}}if(kr.ia&&alert("todo:DitherRow"),dr.put!=null){if(Kn=16*Jn,Jn=16*(Jn+1),Va?(dr.y=kr.sa,dr.O=kr.ta+zn,dr.f=kr.qa,dr.N=kr.ra+gs,dr.ea=kr.Ha,dr.W=kr.Ia+gs):(Kn-=Sn,dr.y=jn,dr.O=Ni,dr.f=ua,dr.N=Bn,dr.ea=hi,dr.W=$i),aa||(Jn-=Sn),Jn>dr.o&&(Jn=dr.o),dr.F=null,dr.J=null,kr.Fa!=null&&0<kr.Fa.length&&Kn<Jn&&(dr.J=Ri(kr,dr,Kn,Jn-Kn),dr.F=kr.mb,dr.F==null&&dr.F.length==0)){Oa=wn(kr,3,"Could not decode alpha data.");break t}Kn<dr.j&&(Sn=dr.j-Kn,Kn=dr.j,t(!(1&Sn)),dr.O+=kr.R*Sn,dr.N+=kr.B*(Sn>>1),dr.W+=kr.B*(Sn>>1),dr.F!=null&&(dr.J+=dr.width*Sn)),Kn<Jn&&(dr.O+=dr.v,dr.N+=dr.v>>1,dr.W+=dr.v>>1,dr.F!=null&&(dr.J+=dr.v),dr.ka=Kn-dr.j,dr.U=dr.va-dr.v,dr.T=Jn-Kn,Oa=dr.put(dr))}cn+1!=kr.Ic||aa||(n(kr.sa,kr.ta-rn,jn,Ni+16*kr.R,rn),n(kr.qa,kr.ra-xn,ua,Bn+8*kr.B,xn),n(kr.Ha,kr.Ia-xn,hi,$i+8*kr.B,xn))}if(!Oa)return wn(Cn,6,"Output aborted.")}return 1}(Se,De)),De.bc!=null&&De.bc(De),Le&=1}return Le?(Se.cb=0,Le):0})(C,K)||(E=C.a)}}else E=C.a}E==0&&Ae.Oa!=null&&Ae.Oa.fd&&(E=ds(Ae.ba))}Ae=E}oe=Ae!=0?null:11>oe?pe.f.RGBA.eb:pe.f.kb.y}else oe=null;return oe};var ph=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(U,D){for(var F="",R=0;R<4;R++)F+=String.fromCharCode(U[D++]);return F}function f(U,D){return U[D+0]|U[D+1]<<8}function h(U,D){return(U[D+0]|U[D+1]<<8|U[D+2]<<16)>>>0}function p(U,D){return(U[D+0]|U[D+1]<<8|U[D+2]<<16|U[D+3]<<24)>>>0}new u;var g=[0],v=[0],x=[],b=new u,w=e,B=function(U,D){var F={},R=0,Q=!1,H=0,J=0;if(F.frames=[],!function(L,q){for(var G=0;G<4;G++)if(L[q+G]!="RIFF".charCodeAt(G))return!0;return!1}(U,D)){for(p(U,D+=4),D+=8;D<U.length;){var V=A(U,D),Y=p(U,D+=4);D+=4;var ee=Y+(1&Y);switch(V){case"VP8 ":case"VP8L":F.frames[R]===void 0&&(F.frames[R]={}),(W=F.frames[R]).src_off=Q?J:D-8,W.src_size=H+Y+8,R++,Q&&(Q=!1,H=0,J=0);break;case"VP8X":(W=F.header={}).feature_flags=U[D];var ie=D+4;W.canvas_width=1+h(U,ie),ie+=3,W.canvas_height=1+h(U,ie),ie+=3;break;case"ALPH":Q=!0,H=ee+8,J=D-8;break;case"ANIM":(W=F.header).bgcolor=p(U,D),ie=D+4,W.loop_count=f(U,ie),ie+=2;break;case"ANMF":var z,W;(W=F.frames[R]={}).offset_x=2*h(U,D),D+=3,W.offset_y=2*h(U,D),D+=3,W.width=1+h(U,D),D+=3,W.height=1+h(U,D),D+=3,W.duration=h(U,D),D+=3,z=U[D++],W.dispose=1&z,W.blend=z>>1&1}V!="ANMF"&&(D+=ee)}return F}}(w,0);B.response=w,B.rgbaoutput=!0,B.dataurl=!1;var j=B.header?B.header:null,_=B.frames?B.frames:null;if(j){j.loop_counter=j.loop_count,g=[j.canvas_height],v=[j.canvas_width];for(var N=0;N<_.length&&_[N].blend!=0;N++);}var O=_[0],T=b.WebPDecodeRGBA(w,O.src_off,O.src_size,v,g);O.rgba=T,O.imgwidth=v[0],O.imgheight=g[0];for(var P=0;P<v[0]*g[0]*4;P++)x[P]=T[P];return this.width=v,this.height=g,this.data=x,this}(function(e){var t,r,n,a,s,o,l,u,A,f=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new u,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new o,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new o,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,A=new f}]);var h=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=L;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ke){G=!!ke}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(ke){Z=!!ke}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ke){isNaN(ke)||(te=ke)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(ke){isNaN(ke)||(fe=ke)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(ke){var se;typeof ke=="number"?se=[ke,ke,ke,ke]:((se=new Array(4))[0]=ke[0],se[1]=ke.length>=2?ke[1]:se[0],se[2]=ke.length>=3?ke[2]:se[0],se[3]=ke.length>=4?ke[3]:se[1]),A.margin=se}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(ke){we=ke}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(ke){he=ke}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(ke){ce=ke}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(ke){ke instanceof f&&(A=ke)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(ke){A.path=ke}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(ke){xe=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var se;se=p(ke),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var se=p(ke);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var ge=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(ke){ge=null,Pe=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var se;if(this.ctx.font=ke,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Et=se[1];se[2];var Qt=se[3],It=se[4];se[5];var nt=se[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(It)[2];It=Math.floor(ye==="px"?parseFloat(It)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(It)*this.pdf.getFontSize():parseFloat(It)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(It);var re=function(Re){var Ue,Qe,Ve=[],yt=Re.trim();if(yt==="")return LN;if(yt in MQ)return[MQ[yt]];for(;yt!=="";){switch(Qe=null,Ue=(yt=QQ(yt)).charAt(0)){case'"':case"'":Qe=l4e(yt.substring(1),Ue);break;default:Qe=c4e(yt)}if(Qe===null||(Ve.push(Qe[0]),(yt=QQ(Qe[1]))!==""&&yt.charAt(0)!==","))return LN;yt=yt.replace(/^,/,"")}return Ve}(nt);if(this.fontFaces){var _e=function(Re,Ue){if(ge===null){var Qe=function(Ve){var yt=[];return Object.keys(Ve).forEach(function(Ht){Ve[Ht].forEach(function(ze){var Ge=null;switch(ze){case"bold":Ge={family:Ht,weight:"bold"};break;case"italic":Ge={family:Ht,style:"italic"};break;case"bolditalic":Ge={family:Ht,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Ht}}Ge!==null&&(Ge.ref={name:Ht,style:ze},yt.push(Ge))})}),yt}(Re.getFontList());ge=function(Ve){for(var yt={},Ht=0;Ht<Ve.length;++Ht){var ze=PN(Ve[Ht]),Ge=ze.family,St=ze.stretch,Rt=ze.style,sr=ze.weight;yt[Ge]=yt[Ge]||{},yt[Ge][St]=yt[Ge][St]||{},yt[Ge][St][Rt]=yt[Ge][St][Rt]||{},yt[Ge][St][Rt][sr]=ze}return yt}(Qe.concat(Ue))}return ge}(this.pdf,this.fontFaces),Oe=re.map(function(Re){return{family:Re,stretch:"normal",weight:Qt,style:Et}}),Ke=function(Re,Ue,Qe){for(var Ve=(Qe=Qe||{}).defaultFontFamily||"times",yt=Object.assign({},o4e,Qe.genericFontFamilies||{}),Ht=null,ze=null,Ge=0;Ge<Ue.length;++Ge)if(yt[(Ht=PN(Ue[Ge])).family]&&(Ht.family=yt[Ht.family]),Re.hasOwnProperty(Ht.family)){ze=Re[Ht.family];break}if(!(ze=ze||Re[Ve]))throw new Error("Could not find a font-family for the rule '"+RQ(Ht)+"' and default family '"+Ve+"'.");if(ze=function(St,Rt){if(Rt[St])return Rt[St];var sr=Sk[St],Ye=sr<=Sk.normal?-1:1,pt=DQ(Rt,UG,sr,Ye);if(!pt)throw new Error("Could not find a matching font-stretch value for "+St);return pt}(Ht.stretch,ze),ze=function(St,Rt){if(Rt[St])return Rt[St];for(var sr=LG[St],Ye=0;Ye<sr.length;++Ye)if(Rt[sr[Ye]])return Rt[sr[Ye]];throw new Error("Could not find a matching font-style for "+St)}(Ht.style,ze),!(ze=function(St,Rt){if(Rt[St])return Rt[St];if(St===400&&Rt[500])return Rt[500];if(St===500&&Rt[400])return Rt[400];var sr=s4e[St],Ye=DQ(Rt,IG,sr,St<400?-1:1);if(!Ye)throw new Error("Could not find a matching font-weight for value "+St);return Ye}(Ht.weight,ze)))throw new Error("Failed to resolve a font for the rule '"+RQ(Ht)+"'.");return ze}(_e,Oe);this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var Me="";(Qt==="bold"||parseInt(Qt,10)>=700||Et==="bold")&&(Me="bold"),Et==="italic"&&(Me+="italic"),Me.length===0&&(Me="normal");for(var bt="",Jt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<re.length;Vt++){if(this.pdf.internal.getFont(re[Vt],Me,{noFallback:!0,disableWarning:!0})!==void 0){bt=re[Vt];break}if(Me==="bolditalic"&&this.pdf.internal.getFont(re[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=re[Vt],Me="bold";else if(this.pdf.internal.getFont(re[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=re[Vt],Me="normal";break}}if(bt===""){for(var Be=0;Be<re.length;Be++)if(Jt[re[Be]]){bt=Jt[re[Be]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,Me)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};h.prototype.setLineDash=function(L){this.lineDash=L},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(L,q){if(isNaN(L)||isNaN(q))throw ga.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(L,q)},h.prototype.closePath=function(){var L=new o(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&oa(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){L=new o(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(L.x,L.y)},h.prototype.lineTo=function(L,q){if(isNaN(L)||isNaN(q))throw ga.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new o(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(L,q,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(L)||isNaN(q))throw ga.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(G,Z)),fe=this.ctx.transform.applyToPoint(new o(L,q));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.bezierCurveTo=function(L,q,G,Z,te,fe){if(isNaN(te)||isNaN(fe)||isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z))throw ga.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new o(te,fe)),he=this.ctx.transform.applyToPoint(new o(L,q)),ce=this.ctx.transform.applyToPoint(new o(G,Z));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:ce.x,y2:ce.y,x:we.x,y:we.y}),this.ctx.lastPoint=new o(we.x,we.y)},h.prototype.arc=function(L,q,G,Z,te,fe){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z)||isNaN(te))throw ga.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new o(L,q));L=we.x,q=we.y;var he=this.ctx.transform.applyToPoint(new o(0,G)),ce=this.ctx.transform.applyToPoint(new o(0,0));G=Math.sqrt(Math.pow(he.x-ce.x,2)+Math.pow(he.y-ce.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:L,y:q,radius:G,startAngle:Z,endAngle:te,counterclockwise:fe})},h.prototype.arcTo=function(L,q,G,Z,te){throw new Error("arcTo not implemented.")},h.prototype.rect=function(L,q,G,Z){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z))throw ga.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,q),this.lineTo(L+G,q),this.lineTo(L+G,q+Z),this.lineTo(L,q+Z),this.lineTo(L,q),this.lineTo(L+G,q),this.lineTo(L,q)},h.prototype.fillRect=function(L,q,G,Z){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z))throw ga.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,q,G,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},h.prototype.strokeRect=function(L,q,G,Z){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z))throw ga.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,q,G,Z),this.stroke())},h.prototype.clearRect=function(L,q,G,Z){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z))throw ga.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,q,G,Z))},h.prototype.save=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},h.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(L){var q,G,Z,te;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))q=0,G=0,Z=0,te=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(fe!==null)q=parseInt(fe[1]),G=parseInt(fe[2]),Z=parseInt(fe[3]),te=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)q=parseInt(fe[1]),G=parseInt(fe[2]),Z=parseInt(fe[3]),te=parseFloat(fe[4]);else{if(te=1,typeof L=="string"&&L.charAt(0)!=="#"){var we=new EG(L);L=we.ok?we.toHex():"#000000"}L.length===4?(q=L.substring(1,2),q+=q,G=L.substring(2,3),G+=G,Z=L.substring(3,4),Z+=Z):(q=L.substring(1,3),G=L.substring(3,5),Z=L.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:q,g:G,b:Z,a:te,style:L}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(L,q,G,Z){if(isNaN(q)||isNaN(G)||typeof L!="string")throw ga.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!g.call(this)){var te=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;R.call(this,{text:L,x:q,y:G,scale:fe,angle:te,align:this.textAlign,maxWidth:Z})}},h.prototype.strokeText=function(L,q,G,Z){if(isNaN(q)||isNaN(G)||typeof L!="string")throw ga.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Z=isNaN(Z)?void 0:Z;var te=ee(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;R.call(this,{text:L,x:q,y:G,scale:fe,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},h.prototype.measureText=function(L){if(typeof L!="string")throw ga.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,Z=q.internal.getFontSize(),te=q.getStringUnitWidth(L)*Z/q.internal.scaleFactor;return new function(fe){var we=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:te*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(L,q){if(isNaN(L)||isNaN(q))throw ga.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new u(L,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(L){if(isNaN(L))throw ga.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new u(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(L,q){if(isNaN(L)||isNaN(q))throw ga.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new u(1,0,0,1,L,q);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(L,q,G,Z,te,fe){if(isNaN(L)||isNaN(q)||isNaN(G)||isNaN(Z)||isNaN(te)||isNaN(fe))throw ga.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new u(L,q,G,Z,te,fe);this.ctx.transform=this.ctx.transform.multiply(we)},h.prototype.setTransform=function(L,q,G,Z,te,fe){L=isNaN(L)?1:L,q=isNaN(q)?0:q,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,fe=isNaN(fe)?0:fe,this.ctx.transform=new u(L,q,G,Z,te,fe)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(L,q,G,Z,te,fe,we,he,ce){var xe=this.pdf.getImageProperties(L),ge=1,Pe=1,ke=1,se=1;Z!==void 0&&he!==void 0&&(ke=he/Z,se=ce/te,ge=xe.width/Z*he/Z,Pe=xe.height/te*ce/te),fe===void 0&&(fe=q,we=G,q=0,G=0),Z!==void 0&&he===void 0&&(he=Z,ce=te),Z===void 0&&he===void 0&&(he=xe.width,ce=xe.height);for(var Et,Qt=this.ctx.transform.decompose(),It=ee(Qt.rotate.shx),nt=new u,ye=(nt=(nt=(nt=nt.multiply(Qt.translate)).multiply(Qt.skew)).multiply(Qt.scale)).applyToRectangle(new l(fe-q*ke,we-G*se,Z*ge,te*Pe)),re=b.call(this,ye),_e=[],Oe=0;Oe<re.length;Oe+=1)_e.indexOf(re[Oe])===-1&&_e.push(re[Oe]);if(j(_e),this.autoPaging)for(var Ke=_e[0],Me=_e[_e.length-1],bt=Ke;bt<Me+1;bt++){this.pdf.setPage(bt);var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=bt===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=bt===1?0:Be+(bt-2)*Re;if(this.ctx.clip_path.length!==0){var Qe=this.path;Et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Et,this.posX+this.margin[3],-Ue+Vt+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Qe}var Ve=JSON.parse(JSON.stringify(ye));Ve=B([Ve],this.posX+this.margin[3],-Ue+Vt+this.ctx.prevPageLastElemOffset)[0];var yt=(bt>Ke||bt<Me)&&x.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Re,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,It),yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,It)};var b=function(L,q,G){var Z=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Z.push(Math.floor((L.y+te)/G)+1);break;case"arc":Z.push(Math.floor((L.y+te-L.radius)/G)+1),Z.push(Math.floor((L.y+te+L.radius)/G)+1);break;case"qct":var fe=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Z.push(Math.floor((fe.y+te)/G)+1),Z.push(Math.floor((fe.y+fe.h+te)/G)+1);break;case"bct":var we=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Z.push(Math.floor((we.y+te)/G)+1),Z.push(Math.floor((we.y+we.h+te)/G)+1);break;case"rect":Z.push(Math.floor((L.y+te)/G)+1),Z.push(Math.floor((L.y+L.h+te)/G)+1)}for(var he=0;he<Z.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<Z[he];)w.call(this);return Z},w=function(){var L=this.fillStyle,q=this.strokeStyle,G=this.font,Z=this.lineCap,te=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=q,this.font=G,this.lineCap=Z,this.lineWidth=te,this.lineJoin=fe},B=function(L,q,G){for(var Z=0;Z<L.length;Z++)switch(L[Z].type){case"bct":L[Z].x2+=q,L[Z].y2+=G;case"qct":L[Z].x1+=q,L[Z].y1+=G;default:L[Z].x+=q,L[Z].y+=G}return L},j=function(L){return L.sort(function(q,G){return q-G})},_=function(L,q){for(var G,Z,te=this.fillStyle,fe=this.strokeStyle,we=this.lineCap,he=this.lineWidth,ce=Math.abs(he*this.ctx.transform.scaleX),xe=this.lineJoin,ge=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),ke=[],se=0;se<Pe.length;se++)if(Pe[se].x!==void 0)for(var Et=b.call(this,Pe[se]),Qt=0;Qt<Et.length;Qt+=1)ke.indexOf(Et[Qt])===-1&&ke.push(Et[Qt]);for(var It=0;It<ke.length;It++)for(;this.pdf.internal.getNumberOfPages()<ke[It];)w.call(this);if(j(ke),this.autoPaging)for(var nt=ke[0],ye=ke[ke.length-1],re=nt;re<ye+1;re++){this.pdf.setPage(re),this.fillStyle=te,this.strokeStyle=fe,this.lineCap=we,this.lineWidth=ce,this.lineJoin=xe;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Oe=re===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=re===1?0:Ke+(re-2)*Me;if(this.ctx.clip_path.length!==0){var Jt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(G,this.posX+this.margin[3],-bt+Oe+this.ctx.prevPageLastElemOffset),N.call(this,L,!0),this.path=Jt}if(Z=JSON.parse(JSON.stringify(ge)),this.path=B(Z,this.posX+this.margin[3],-bt+Oe+this.ctx.prevPageLastElemOffset),q===!1||re===0){var Vt=(re>nt||re<ye)&&x.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Me,null).clip().discardPath()),N.call(this,L,q),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=ce,N.call(this,L,q),this.lineWidth=he;this.path=ge},N=function(L,q){if((L!=="stroke"||q||!v.call(this))&&(L==="stroke"||q||!g.call(this))){for(var G,Z,te=[],fe=this.path,we=0;we<fe.length;we++){var he=fe[we];switch(he.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:he,deltas:[],abs:[]});break;case"lt":var ce=te.length;if(fe[we-1]&&!isNaN(fe[we-1].x)&&(G=[he.x-fe[we-1].x,he.y-fe[we-1].y],ce>0)){for(;ce>=0;ce--)if(te[ce-1].close!==!0&&te[ce-1].begin!==!0){te[ce-1].deltas.push(G),te[ce-1].abs.push(he);break}}break;case"bct":G=[he.x1-fe[we-1].x,he.y1-fe[we-1].y,he.x2-fe[we-1].x,he.y2-fe[we-1].y,he.x-fe[we-1].x,he.y-fe[we-1].y],te[te.length-1].deltas.push(G);break;case"qct":var xe=fe[we-1].x+2/3*(he.x1-fe[we-1].x),ge=fe[we-1].y+2/3*(he.y1-fe[we-1].y),Pe=he.x+2/3*(he.x1-he.x),ke=he.y+2/3*(he.y1-he.y),se=he.x,Et=he.y;G=[xe-fe[we-1].x,ge-fe[we-1].y,Pe-fe[we-1].x,ke-fe[we-1].y,se-fe[we-1].x,Et-fe[we-1].y],te[te.length-1].deltas.push(G);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(he)}}Z=q?null:L==="stroke"?"stroke":"fill";for(var Qt=!1,It=0;It<te.length;It++)if(te[It].arc)for(var nt=te[It].abs,ye=0;ye<nt.length;ye++){var re=nt[ye];re.type==="arc"?P.call(this,re.x,re.y,re.radius,re.startAngle,re.endAngle,re.counterclockwise,void 0,q,!Qt):Q.call(this,re.x,re.y),Qt=!0}else if(te[It].close===!0)this.pdf.internal.out("h"),Qt=!1;else if(te[It].begin!==!0){var _e=te[It].start.x,Oe=te[It].start.y;H.call(this,te[It].deltas,_e,Oe),Qt=!0}Z&&U.call(this,Z),q&&D.call(this)}},O=function(L){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-G;case"top":return L+q-G;case"hanging":return L+q-2*G;case"middle":return L+q/2-G;default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(q,G){this.colorStops.push([q,G])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(L,q,G,Z,te,fe,we,he,ce){for(var xe=V.call(this,G,Z,te,fe),ge=0;ge<xe.length;ge++){var Pe=xe[ge];ge===0&&(ce?F.call(this,Pe.x1+L,Pe.y1+q):Q.call(this,Pe.x1+L,Pe.y1+q)),J.call(this,L,q,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}he?D.call(this):U.call(this,we)},U=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(L,q){this.pdf.internal.out(r(L)+" "+n(q)+" m")},R=function(L){var q;switch(L.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var G=this.pdf.getTextDimensions(L.text),Z=O.call(this,L.y),te=T.call(this,Z)-G.h,fe=this.ctx.transform.applyToPoint(new o(L.x,Z)),we=this.ctx.transform.decompose(),he=new u;he=(he=(he=he.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var ce,xe,ge,Pe=this.ctx.transform.applyToRectangle(new l(L.x,Z,G.w,G.h)),ke=he.applyToRectangle(new l(L.x,te,G.w,G.h)),se=b.call(this,ke),Et=[],Qt=0;Qt<se.length;Qt+=1)Et.indexOf(se[Qt])===-1&&Et.push(se[Qt]);if(j(Et),this.autoPaging)for(var It=Et[0],nt=Et[Et.length-1],ye=It;ye<nt+1;ye++){this.pdf.setPage(ye);var re=ye===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Oe=this.pdf.internal.pageSize.height-this.margin[2],Ke=Oe-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],bt=Me-this.margin[3],Jt=ye===1?0:_e+(ye-2)*Ke;if(this.ctx.clip_path.length!==0){var Vt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(ce,this.posX+this.margin[3],-1*Jt+re),N.call(this,"fill",!0),this.path=Vt}var Be=B([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Jt+re+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*L.scale),ge=this.lineWidth,this.lineWidth=ge*L.scale);var Re=this.autoPaging!=="text";if(Re||Be.y+Be.h<=Oe){if(Re||Be.y>=re&&Be.x<=Me){var Ue=Re?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Me-Be.x)[0],Qe=B([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-Jt+re+this.ctx.prevPageLastElemOffset)[0],Ve=Re&&(ye>It||ye<nt)&&x.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ke,null).clip().discardPath()),this.pdf.text(Ue,Qe.x,Qe.y,{angle:L.angle,align:q,renderingMode:L.renderingMode}),Ve&&this.pdf.restoreGraphicsState()}}else Be.y<Oe&&(this.ctx.prevPageLastElemOffset+=Oe-Be.y);L.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)}else L.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*L.scale),ge=this.lineWidth,this.lineWidth=ge*L.scale),this.pdf.text(L.text,fe.x+this.posX,fe.y+this.posY,{angle:L.angle,align:q,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ge)},Q=function(L,q,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(r(L+G)+" "+n(q+Z)+" l")},H=function(L,q,G){return this.pdf.lines(L,q,G,null,null)},J=function(L,q,G,Z,te,fe,we,he){this.pdf.internal.out([t(a(G+L)),t(s(Z+q)),t(a(te+L)),t(s(fe+q)),t(a(we+L)),t(s(he+q)),"c"].join(" "))},V=function(L,q,G,Z){for(var te=2*Math.PI,fe=Math.PI/2;q>G;)q-=te;var we=Math.abs(G-q);we<te&&Z&&(we=te-we);for(var he=[],ce=Z?-1:1,xe=q;we>1e-5;){var ge=xe+ce*Math.min(we,fe);he.push(Y.call(this,L,xe,ge)),we-=Math.abs(ge-xe),xe=ge}return he},Y=function(L,q,G){var Z=(G-q)/2,te=L*Math.cos(Z),fe=L*Math.sin(Z),we=te,he=-fe,ce=we*we+he*he,xe=ce+we*te+he*fe,ge=4/3*(Math.sqrt(2*ce*xe)-xe)/(we*fe-he*te),Pe=we-ge*he,ke=he+ge*we,se=Pe,Et=-ke,Qt=Z+q,It=Math.cos(Qt),nt=Math.sin(Qt);return{x1:L*Math.cos(q),y1:L*Math.sin(q),x2:Pe*It-ke*nt,y2:Pe*nt+ke*It,x3:se*It-Et*nt,y3:se*nt+Et*It,x4:L*Math.cos(G),y4:L*Math.sin(G)}},ee=function(L){return 180*L/Math.PI},ie=function(L,q,G,Z,te,fe){var we=L+.5*(G-L),he=q+.5*(Z-q),ce=te+.5*(G-te),xe=fe+.5*(Z-fe),ge=Math.min(L,te,we,ce),Pe=Math.max(L,te,we,ce),ke=Math.min(q,fe,he,xe),se=Math.max(q,fe,he,xe);return new l(ge,ke,Pe-ge,se-ke)},z=function(L,q,G,Z,te,fe,we,he){var ce,xe,ge,Pe,ke,se,Et,Qt,It,nt,ye,re,_e,Oe,Ke=G-L,Me=Z-q,bt=te-G,Jt=fe-Z,Vt=we-te,Be=he-fe;for(xe=0;xe<41;xe++)It=(Et=(ge=L+(ce=xe/40)*Ke)+ce*((ke=G+ce*bt)-ge))+ce*(ke+ce*(te+ce*Vt-ke)-Et),nt=(Qt=(Pe=q+ce*Me)+ce*((se=Z+ce*Jt)-Pe))+ce*(se+ce*(fe+ce*Be-se)-Qt),xe==0?(ye=It,re=nt,_e=It,Oe=nt):(ye=Math.min(ye,It),re=Math.min(re,nt),_e=Math.max(_e,It),Oe=Math.max(Oe,nt));return new l(Math.round(ye),Math.round(re),Math.round(_e-ye),Math.round(Oe-re))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,q,G=(L=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(Fr.API),function(e){var t=function(o){var l,u,A,f,h,p,g,v,x,b;for(u=[],A=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>A;A+=4)(h=(o.charCodeAt(A)<<24)+(o.charCodeAt(A+1)<<16)+(o.charCodeAt(A+2)<<8)+o.charCodeAt(A+3))!==0?(p=(h=((h=((h=((h=(h-(b=h%85))/85)-(x=h%85))/85)-(v=h%85))/85)-(g=h%85))/85)%85,u.push(p+33,g+33,v+33,x+33,b+33)):u.push(122);return function(w,B){for(var j=B;j>0;j--)w.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},r=function(o){var l,u,A,f,h,p=String,g="length",v=255,x="charCodeAt",b="slice",w="replace";for(o[b](-2),o=o[b](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),A=[],f=0,h=(o+=l="uuuuu"[b](o[g]%5||5))[g];h>f;f+=5)u=52200625*(o[x](f)-33)+614125*(o[x](f+1)-33)+7225*(o[x](f+2)-33)+85*(o[x](f+3)-33)+(o[x](f+4)-33),A.push(v&u>>24,v&u>>16,v&u>>8,v&u);return function(B,j){for(var _=j;_>0;_--)B.pop()}(A,l[g]),p.fromCharCode.apply(p,A)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",A=0;A<o.length;A+=2)u+=String.fromCharCode("0x"+(o[A]+o[A+1]));return u},s=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return(l=vk(l)).reduce(function(A,f){return A+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var u=0,A=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=a(A),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:A,reverseChain:f.reverse().join(" ")}}}(Fr.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(u,A,f){var h=new XMLHttpRequest,p=0,g=function(v){var x=v.length,b=[],w=String.fromCharCode;for(p=0;p<x;p+=1)b.push(w(255&v.charCodeAt(p)));return b.join("")};if(h.open("GET",u,!A),h.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(h.onload=function(){h.status===200?f(g(this.responseText)):f(void 0)}),h.send(null),A&&h.status===200)return g(h.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(Fr.API),function(e){function t(){return(nn.html2canvas?Promise.resolve(nn.html2canvas):pN(()=>Promise.resolve().then(()=>Dje),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(nn.DOMPurify?Promise.resolve(nn.DOMPurify):pN(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=oa(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(l,u){var A=document.createElement(l);for(var f in u.className&&(A.className=u.className),u.innerHTML&&u.dompurify&&(A.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)A.style[f]=u.style[f];return A},s=function l(u,A){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)A!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,A));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f},o=function l(u){var A=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),A);return(f=f.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),u){case"string":return this.then(r).then(function(A){return this.set({src:a("div",{innerHTML:l,dompurify:A})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,u(this.prop.container,A)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(u){var A=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var v=f[g],x=v.src.find(function(b){return b.format==="truetype"});x&&A.addFont(x.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,A.context2d.save(!0),u(this.prop.container,p)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(A){if(A in o.template.prop)return function(){this.prop[A]=l[A]};switch(A){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[A]=l[A]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var A=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(A):A})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(A,f){return Math.floor(A*f/72*96)}return this.then(function(){(l=l||Fr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,A,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),A!=null&&(this.progress.n=A),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,A,f){return this.setProgress(l?this.progress.val+l:null,u||null,A?this.progress.n+A:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,u){var A=this;return this.thenCore(l,u,function(f,h){return A.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return A.updateProgress(null,f),p}).then(f,h).then(function(p){return A.updateProgress(1),p})})},o.prototype.thenCore=function(l,u,A){A=A||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),u&&(u=u.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),p=A.call(h,l,u);return o.convert(p,f.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(A){u=u.thenCore(A)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Fr.getPageSize=function(l,u,A){if(oa(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,A=f.format||A}u=u||"mm",A=A||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+A).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+u}var v,x=0,b=0;if(g.hasOwnProperty(p))x=g[p][1]/h,b=g[p][0]/h;else try{x=A[1],b=A[0]}catch{throw new Error("Invalid format: "+A)}if(l==="p"||l==="portrait")l="p",b>x&&(v=b,b=x,x=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",x>b&&(v=b,b=x,x=v)}return{width:b,height:x,unit:u,k:h,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(PN):null;var A=new o(u);return u.worker?A:A.from(l).doCallback()}}(Fr.API),Fr.API.addJS=function(e){return $Q=e,this.internal.events.subscribe("postPutResources",function(){$x=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($x+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HQ=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$Q+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$x!==void 0&&HQ!==void 0&&this.internal.out("/Names <</JavaScript "+$x+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var u=l[1];r.internal.newObjectDeferredBegin(u,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,f=[];for(s=0;s<A;s++){var h=r.internal.newObject();f.push(h);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var u=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(Fr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var u,A=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,u=function(h){for(var p,g=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,x={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=g,t.indexOf(h.charCodeAt(b+1))!==-1){p=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),x={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:p,numcomponents:h.charCodeAt(b+9)};break}g=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),u.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:A,index:n,alias:a}}return f}}(Fr.API),Fr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=VNe(e,{checkCrc:!0}),o=s.width,l=s.height,u=s.channels,A=s.palette,f=s.depth;a=A&&u===1?function(T){for(var P=T.width,U=T.height,D=T.data,F=T.palette,R=T.depth,Q=!1,H=[],J=[],V=void 0,Y=!1,ee=0,ie=0;ie<F.length;ie++){var z=K8(F[ie],4),W=z[0],L=z[1],q=z[2],G=z[3];H.push(W,L,q),G!=null&&(G===0?(ee++,J.length<1&&J.push(ie)):G<255&&(Y=!0))}if(Y||ee>1){Q=!0,J=void 0;var Z=P*U;V=new Uint8Array(Z);for(var te=new DataView(D.buffer),fe=0;fe<Z;fe++){var we=UN(te,fe,R),he=K8(F[we],4)[3];V[fe]=he}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:D,alphaBytes:V,needSMask:Q,palette:H,mask:J}}(s):u===2||u===4?function(T){for(var P=T.data,U=T.width,D=T.height,F=T.channels,R=T.depth,Q=F===2?"DeviceGray":"DeviceRGB",H=F-1,J=U*D,V=H,Y=J*V,ee=1*J,ie=Math.ceil(Y*R/8),z=Math.ceil(ee*R/8),W=new Uint8Array(ie),L=new Uint8Array(z),q=new DataView(P.buffer),G=new DataView(W.buffer),Z=new DataView(L.buffer),te=!1,fe=0;fe<J;fe++){for(var we=fe*F,he=0;he<V;he++)JQ(G,UN(q,we+he,R),fe*V+he,R);var ce=UN(q,we+V,R);ce<(1<<R)-1&&(te=!0),JQ(Z,ce,1*fe,R)}return{colorSpace:Q,colorsPerPixel:H,colorBytes:W,alphaBytes:L,needSMask:te}}(s):function(T){var P=T.data,U=T.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:U,colorsPerPixel:U==="DeviceGray"?1:3,colorBytes:P instanceof Uint8Array?P:new Uint8Array(P.buffer),needSMask:!1}}(s);var h,p,g,v=a,x=v.colorSpace,b=v.colorsPerPixel,w=v.colorBytes,B=v.alphaBytes,j=v.needSMask,_=v.palette,N=v.mask,O=null;return n!==Fr.API.image_compression.NONE&&typeof vk=="function"?(O=function(T){var P;switch(T){case Fr.API.image_compression.FAST:P=11;break;case Fr.API.image_compression.MEDIUM:P=13;break;case Fr.API.image_compression.SLOW:P=14;break;default:P=12}return P}(n),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(O," "),e=KQ(w,o*b,b,n),j&&(g=KQ(B,o,1,n))):(h=void 0,p="",e=w,j&&(g=B)),p+="/Colors ".concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:h,decodeParameters:p,transparency:N,palette:_,sMask:g,predictor:O,width:o,height:l,bitsPerComponent:f,colorSpace:x}}},function(e){e.processGIF89A=function(t,r,n,a){var s=new f4e(t),o=s.width,l=s.height,u=[];s.decodeAndBlitFrameRGBA(0,u);var A={data:u,width:o,height:l},f=new IN(100).encode(A,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(Fr.API),ic.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ic.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){ga.log("bit decode error:"+r)}},ic.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var u=this.palette[s>>7-l&1];this.data[o+4*l]=u.blue,this.data[o+4*l+1]=u.green,this.data[o+4*l+2]=u.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ic.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,u=15&s,A=this.palette[l];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*a+1>=this.width)break;A=this.palette[u],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ic.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ic.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,u=(s>>10&t)/t*255|0,A=s>>15?255:0,f=n*this.width*4+4*a;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=A}this.pos+=e}},ic.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,u=(o>>5&r)/r*255|0,A=(o>>11)/t*255|0,f=a*this.width*4+4*s;this.data[f]=A,this.data[f+1]=u,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},ic.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ic.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},ic.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new ic(t,!1),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},A=new IN(100).encode(u,100);return e.processJPEG.call(this,A,r,n,a)}}(Fr.API),e7.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new e7(t),o=s.width,l=s.height,u={data:s.getData(),width:o,height:l},A=new IN(100).encode(u,100);return e.processJPEG.call(this,A,r,n,a)}}(Fr.API),Fr.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,u=0,A=0;A<a;A+=4){var f=n[A],h=n[A+1],p=n[A+2],g=n[A+3];s[l++]=f,s[l++]=h,s[l++]=p,o[u++]=g}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Fr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Xh=Fr.API,zx=Xh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,u=l.fof?l.fof:1,A=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=A.fof?A.fof:1,h=t.doKerning!==!1,p=0,g=e.length,v=0,x=l[0]||u,b=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(p=h&&oa(A[n])==="object"&&!isNaN(parseInt(A[n][v],10))?A[n][v]/f:0,b.push((l[n]||x)/u+p)),v=n;return b},zQ=Xh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Xh.processArabic&&(e=Xh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:zx.apply(this,arguments).reduce(function(s,o){return s+o},0)},qQ=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var u=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(u,s)),l=0,u=s),l+=t[s],s++;return u!==s&&a.push(e.slice(u,s)),a},VQ=function(e,t,r){r||(r={});var n,a,s,o,l,u,A,f=[],h=[f],p=r.textIndent||0,g=0,v=0,x=e.split(" "),b=zx.apply(this,[" ",r])[0];if(u=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(u).join(" "),B=[];x.map(function(_){(_=_.split(/\s*\n/)).length>1?B=B.concat(_.map(function(N,O){return(O&&N.length?`
`:"")+N})):B.push(_[0])}),x=B,u=zQ.apply(this,[w,r])}for(s=0,o=x.length;s<o;s++){var j=0;if(n=x[s],u&&n[0]==`
`&&(n=n.substr(1),j=1),p+g+(v=(a=zx.apply(this,[n,r])).reduce(function(_,N){return _+N},0))>t||j){if(v>t){for(l=qQ.apply(this,[n,a,t-(p+g),t]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);v=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(_,N){return _+N},0)}else f=[n];h.push(f),p=v+u,g=b}else f.push(n),p+=g+v,g=b}return A=u?function(_,N){return(N?w:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(A)},Xh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,u,A=[];for(l=0,u=n.length;l<u;l++)A=A.concat(VQ.apply(this,[n[l],o,s]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=t[s],a[t[s]]=r[s];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var g,v,x,b,w=["{"];for(var B in p){if(g=p[B],isNaN(parseInt(B,10))?v="'"+B+"'":(B=parseInt(B,10),v=(v=o(B).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof g=="number")g<0?(x=o(g).slice(3),b="-"):(x=o(g).slice(2),b=""),x=b+x.slice(0,-1)+a[x.slice(-1)];else{if(oa(g)!=="object")throw new Error("Don't know what to do with value type "+oa(g)+".");x=l(g)}w.push(v+x)}return w.push("}"),w.join("")},u=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,v,x,b,w={},B=1,j=w,_=[],N="",O="",T=p.length-1,P=1;P<T;P+=1)(b=p[P])=="'"?g?(x=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(_.push([j,x]),j={},x=void 0):b=="}"?((v=_.pop())[0][v[1]]=j,x=void 0,j=v[0]):b=="-"?B=-1:x===void 0?n.hasOwnProperty(b)?(N+=n[b],x=parseInt(N,16)*B,B=1,N=""):N+=b:n.hasOwnProperty(b)?(O+=n[b],j[x]=parseInt(O,16)*B,B=1,x=void 0,O=""):O+=b;return w},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,v=h.Unicode[g.postScriptName];v&&(g.metadata.Unicode={},g.metadata.Unicode.widths=v.widths,g.metadata.Unicode.kerning=v.kerning);var x=f.Unicode[g.postScriptName];x&&(g.metadata.Unicode.encoding=x,g.encoding=x.codePages[0])}])}(Fr.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(mb(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(Fr),Fr.API.addSvgAsImage=function(e,t,r,n,a,s,o,l){if(isNaN(t)||isNaN(r))throw ga.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ga.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=n,u.height=a;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(nn.canvg?Promise.resolve(nn.canvg):pN(()=>import("./index.es-C_j65uIM.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(A,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),t,r,n,a,o,l)})},Fr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Fr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),u=[],A=0,f=0,h=0;function p(v,x){var b,w=!1;for(b=0;b<v.length;b+=1)v[b]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(h=0;h<g;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(oa(e)==="object"){for(a in e)if(s=e[a],p(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&p(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(A=0;A<s.length;A+=1)if(n=!0,s[A].length===1&&typeof s[A][0]=="number")u.push(String(s[A]-1));else if(s[A].length>1){for(f=0;f<s[A].length;f+=1)typeof s[A][f]!="number"&&(n=!1);n===!0&&u.push([s[A][0]-1,s[A][1]-1].join(" "))}r[a].value="["+u.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,x=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?x.push("/"+v+" /"+r[v].value):x.push("/"+v+" "+r[v].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+o.length+l.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+u),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Fr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,u=o.metadata.Unicode.widths,A=["","0","00","000","0000"],f=[""],h=0,p=s.length;h<p;++h){if(l=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(h),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(A[4-l.length],l)}return f.join("")},n=function(s){var o,l,u,A,f,h,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],h=0,p=(l=Object.keys(s).sort(function(g,v){return g-v})).length;h<p;h++)o=l[h],u.length>=100&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(A=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),u.push("<"+o+"><"+A+">"));return u.length&&(f+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,A=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var x=A();f({data:g,addLength1:!0,objectId:x}),u("endobj");var b=A();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),u("endobj");var w=A();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+rm(l.fontName)),u("/FontFile2 "+x+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var B=A();u("<<"),u("/Type /Font"),u("/BaseFont /"+rm(l.fontName)),u("/FontDescriptor "+w+" 0 R"),u("/W "+e.API.PDFObject.convert(h)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=A(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+b+" 0 R"),u("/BaseFont /"+rm(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+B+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,u=o.out,A=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",g=0;g<h.length;g++)p+=String.fromCharCode(h[g]);var v=A();f({data:p,addLength1:!0,objectId:v}),u("endobj");var x=A();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var b=A();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+v+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+rm(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=A();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+rm(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",u=s.x,A=s.y,f=s.options||{},h=s.mutex||{},p=h.pdfEscape,g=h.activeFontKey,v=h.fonts,x=g,b="",w=0,B="",j=v[x].encoding;if(v[x].encoding!=="Identity-H")return{text:l,x:u,y:A,options:f,mutex:h};for(B=l,x=g,Array.isArray(l)&&(B=l[0]),w=0;w<B.length;w+=1)v[x].metadata.hasOwnProperty("cmap")&&(o=v[x].metadata.cmap.unicode.codeMap[B[w].charCodeAt(0)]),o||B[w].charCodeAt(0)<256&&v[x].metadata.hasOwnProperty("Unicode")?b+=B[w]:b+="";var _="";return parseInt(x.slice(1))<14||j==="WinAnsiEncoding"?_=p(b,x).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(_=r(b,v[x])),h.isHex=!0,{text:_,x:u,y:A,options:f,mutex:h}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],u={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?l.push([a(Object.assign({},u,{text:o[A][0]})).text,o[A][1],o[A][2]]):l.push(a(Object.assign({},u,{text:o[A]})).text);s.text=l}else s.text=a(Object.assign({},u,{text:o})).text}])}(Fr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Fr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,u,A,f,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,j=0;this.__bidiEngine__={};var _=function(F){var R=F.charCodeAt(),Q=R>>8,H=x[Q];return H!==void 0?h[256*H+(255&R)]:Q===252||Q===253?"AL":w.test(Q)?"L":Q===8?"R":"N"},N=function(F){for(var R,Q=0;Q<F.length;Q++){if((R=_(F.charAt(Q)))==="L")return!1;if(R==="R")return!0}return!1},O=function(F,R,Q,H){var J,V,Y,ee,ie=R[H];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(ie="AN");break;case"AL":B=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":H<1||H+1>=R.length||(J=Q[H-1])!=="EN"&&J!=="AN"||(V=R[H+1])!=="EN"&&V!=="AN"?ie="N":B&&(V="AN"),ie=V===J?V:"N";break;case"ES":ie=(J=H>0?Q[H-1]:"B")==="EN"&&H+1<R.length&&R[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&Q[H-1]==="EN"){ie="EN";break}if(B){ie="N";break}for(Y=H+1,ee=R.length;Y<ee&&R[Y]==="ET";)Y++;ie=Y<ee&&R[Y]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(ee=R.length,Y=H+1;Y<ee&&R[Y]==="NSM";)Y++;if(Y<ee){var z=F[H],W=z>=1425&&z<=2303||z===64286;if(J=R[Y],W&&(J==="R"||J==="AL")){ie="R";break}}}ie=H<1||(J=R[H-1])==="B"?"N":Q[H-1];break;case"B":B=!1,a=!0,ie=j;break;case"S":s=!0,ie="N"}return ie},T=function(F,R,Q){var H=F.split("");return Q&&P(H,Q,{hiLevel:j}),H.reverse(),R&&R.reverse(),H.join("")},P=function(F,R,Q){var H,J,V,Y,ee,ie=-1,z=F.length,W=0,L=[],q=j?g:p,G=[];for(B=!1,a=!1,s=!1,J=0;J<z;J++)G[J]=_(F[J]);for(V=0;V<z;V++){if(ee=W,L[V]=O(F,G,L,V),H=240&(W=q[ee][v[L[V]]]),W&=15,R[V]=Y=q[W][5],H>0)if(H===16){for(J=ie;J<V;J++)R[J]=1;ie=-1}else ie=-1;if(q[W][6])ie===-1&&(ie=V);else if(ie>-1){for(J=ie;J<V;J++)R[J]=Y;ie=-1}G[V]==="B"&&(R[V]=0),Q.hiLevel|=Y}s&&function(Z,te,fe){for(var we=0;we<fe;we++)if(Z[we]==="S"){te[we]=j;for(var he=we-1;he>=0&&Z[he]==="WS";he--)te[he]=j}}(G,R,z)},U=function(F,R,Q,H,J){if(!(J.hiLevel<F)){if(F===1&&j===1&&!a)return R.reverse(),void(Q&&Q.reverse());for(var V,Y,ee,ie,z=R.length,W=0;W<z;){if(H[W]>=F){for(ee=W+1;ee<z&&H[ee]>=F;)ee++;for(ie=W,Y=ee-1;ie<Y;ie++,Y--)V=R[ie],R[ie]=R[Y],R[Y]=V,Q&&(V=Q[ie],Q[ie]=Q[Y],Q[Y]=V);W=ee}W++}}},D=function(F,R,Q){var H=F.split(""),J={hiLevel:j};return Q||(Q=[]),P(H,Q,J),function(V,Y,ee){if(ee.hiLevel!==0&&f)for(var ie,z=0;z<V.length;z++)Y[z]===1&&(ie=b.indexOf(V[z]))>=0&&(V[z]=b[ie+1])}(H,Q,J),U(2,H,R,Q,J),U(1,H,R,Q,J),H.join("")};return this.__bidiEngine__.doBidiReorder=function(F,R,Q){if(function(J,V){if(V)for(var Y=0;Y<J.length;Y++)V[Y]=Y;l===void 0&&(l=N(J)),A===void 0&&(A=N(J))}(F,R),o||!u||A)if(o&&u&&l^A)j=l?1:0,F=T(F,R,Q);else if(!o&&u&&A)j=l?1:0,F=D(F,R,Q),F=T(F,R);else if(!o||l||u||A){if(o&&!u&&l^A)F=T(F,R),l?(j=0,F=D(F,R,Q)):(j=1,F=D(F,R,Q),F=T(F,R));else if(o&&l&&!u&&A)j=1,F=D(F,R,Q),F=T(F,R);else if(!o&&!u&&l^A){var H=f;l?(j=1,F=D(F,R,Q),j=0,f=!1,F=D(F,R,Q),f=H):(j=0,F=D(F,R,Q),F=T(F,R),j=1,f=!1,F=D(F,R,Q),f=H,F=T(F,R))}}else j=0,F=D(F,R,Q);else j=l?1:0,F=D(F,R,Q);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,u=F.isOutputVisual,l=F.isInputRtl,A=F.isOutputRtl,f=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Fr),Fr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ed(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new E4e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new h4e(this.contents),this.head=new p4e(this),this.name=new b4e(this),this.cmap=new MG(this),this.toUnicode={},this.hhea=new g4e(this),this.maxp=new w4e(this),this.hmtx=new C4e(this),this.post=new v4e(this),this.os2=new y4e(this),this.loca=new N4e(this),this.glyf=new B4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,u,A;for(A=[],o=0,l=(u=this.bbox).length;o<l;o++)t=u[o],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Tc,Ed=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,u;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+u},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),h4e=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,u,A,f,h,p,g,v,x;for(x in g=Object.keys(r).length,u=Math.log(2),h=16*Math.floor(Math.log(g)/u),o=Math.floor(h/u),f=16*g-h,(a=new Ed).writeInt(this.scalarType),a.writeShort(g),a.writeShort(h),a.writeShort(o),a.writeShort(f),s=16*g,A=a.pos+s,l=null,v=[],r)for(p=r[x],a.writeString(x),a.writeInt(e(p)),a.writeInt(A),a.writeInt(p.length),v=v.concat(p),x==="head"&&(l=A),A+=p.length;A%4;)v.push(0),A++;return a.write(v),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=RG.call(r);r.length%4;)r.push(0);for(s=new Ed(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),m4e={}.hasOwnProperty,xu=function(e,t){for(var r in t)m4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Tc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var p4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Ed).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),t7=function(){function e(t,r){var n,a,s,o,l,u,A,f,h,p,g,v,x,b,w,B,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(g=t.readUInt16(),p=g/2,t.pos+=6,s=function(){var _,N;for(N=[],u=_=0;0<=p?_<p:_>p;u=0<=p?++_:--_)N.push(t.readUInt16());return N}(),t.pos+=2,x=function(){var _,N;for(N=[],u=_=0;0<=p?_<p:_>p;u=0<=p?++_:--_)N.push(t.readUInt16());return N}(),A=function(){var _,N;for(N=[],u=_=0;0<=p?_<p:_>p;u=0<=p?++_:--_)N.push(t.readUInt16());return N}(),f=function(){var _,N;for(N=[],u=_=0;0<=p?_<p:_>p;u=0<=p?++_:--_)N.push(t.readUInt16());return N}(),a=(this.length-t.pos+this.offset)/2,l=function(){var _,N;for(N=[],u=_=0;0<=a?_<a:_>a;u=0<=a?++_:--_)N.push(t.readUInt16());return N}(),u=w=0,j=s.length;w<j;u=++w)for(b=s[u],n=B=v=x[u];v<=b?B<=b:B>=b;n=v<=b?++B:--B)f[u]===0?o=n+A[u]:(o=l[f[u]/2+(n-v)-(p-u)]||0)!==0&&(o+=A[u]),this.codeMap[n]=65535&o}t.pos=h}return e.encode=function(t,r){var n,a,s,o,l,u,A,f,h,p,g,v,x,b,w,B,j,_,N,O,T,P,U,D,F,R,Q,H,J,V,Y,ee,ie,z,W,L,q,G,Z,te,fe,we,he,ce,xe,ge;switch(H=new Ed,o=Object.keys(t).sort(function(Pe,ke){return Pe-ke}),r){case"macroman":for(x=0,b=function(){var Pe=[];for(v=0;v<256;++v)Pe.push(0);return Pe}(),B={0:0},s={},J=0,ie=o.length;J<ie;J++)B[he=t[a=o[J]]]==null&&(B[he]=++x),s[a]={old:t[a],new:B[t[a]]},b[a]=B[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(b),{charMap:s,subtable:H.data,maxGlyphID:x+1};case"unicode":for(R=[],h=[],j=0,B={},n={},w=A=null,V=0,z=o.length;V<z;V++)B[N=t[a=o[V]]]==null&&(B[N]=++j),n[a]={old:N,new:B[N]},l=B[N]-a,w!=null&&l===A||(w&&h.push(w),R.push(a),A=l),w=a;for(w&&h.push(w),h.push(65535),R.push(65535),D=2*(U=R.length),P=2*Math.pow(Math.log(U)/Math.LN2,2),p=Math.log(P/2)/Math.LN2,T=2*U-P,u=[],O=[],g=[],v=Y=0,W=R.length;Y<W;v=++Y){if(F=R[v],f=h[v],F===65535){u.push(0),O.push(0);break}if(F-(Q=n[F].new)>=32768)for(u.push(0),O.push(2*(g.length+U-v)),a=ee=F;F<=f?ee<=f:ee>=f;a=F<=f?++ee:--ee)g.push(n[a].new);else u.push(Q-F),O.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*U+2*g.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(P),H.writeUInt16(p),H.writeUInt16(T),fe=0,L=h.length;fe<L;fe++)a=h[fe],H.writeUInt16(a);for(H.writeUInt16(0),we=0,q=R.length;we<q;we++)a=R[we],H.writeUInt16(a);for(ce=0,G=u.length;ce<G;ce++)l=u[ce],H.writeUInt16(l);for(xe=0,Z=O.length;xe<Z;xe++)_=O[xe],H.writeUInt16(_);for(ge=0,te=g.length;ge<te;ge++)x=g[ge],H.writeUInt16(x);return{charMap:n,subtable:H.data,maxGlyphID:j+1}}},e}(),MG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new t7(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=t7.encode(t,r),(a=new Ed).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),g4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),y4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),v4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var o,l,u;for(u=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e}(),x4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},b4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,s,o,l,u,A,f,h,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),l=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},s=f=0,h=n.length;f<h;s=++f)a=n[s],t.pos=a.offset,A=t.readString(a.length),o=new x4e(A,a),u[p=a.nameID]==null&&(u[p]=[]),u[a.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),w4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),C4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,s,o,l,u;for(t.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,f;for(f=[],r=A=0;0<=a?A<a:A>a;r=0<=a?++A:--A)f.push(t.readInt16());return f}(),this.widths=(function(){var A,f,h,p;for(p=[],A=0,f=(h=this.metrics).length;A<f;A++)s=h[A],p.push(s.advance);return p}).call(this),n=this.widths[this.widths.length-1],u=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)u.push(this.widths.push(n));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),RG=[].slice,B4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,s,o,l,u,A,f,h;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,o=(l=new Ed(r.read(a))).readShort(),A=l.readShort(),h=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new S4e(l,A,h,u,f):new j4e(l,o,A,h,u,f),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,s,o,l,u;for(o=[],s=[],l=0,u=r.length;l<u;l++)a=t[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},e}(),j4e=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),S4e=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ed(RG.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),N4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return xu(e,Tc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(a+=u)}for(var A=new Array(4*n.length),f=0;f<n.length;++f)A[4*f+3]=255&n[f],A[4*f+2]=(65280&n[f])>>8,A[4*f+1]=(16711680&n[f])>>16,A[4*f]=(4278190080&n[f])>>24;return A},e}(),E4e=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,u;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in u=this.glyphsFor(r))n=u[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,u,A,f,h,p,g,v,x,b,w;for(a in n=MG.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),g={0:0},w=n.charMap)g[(u=w[a]).old]=u.new;for(v in p=n.maxGlyphID,o)v in g||(g[v]=p++);return f=function(B){var j,_;for(j in _={},B)_[B[j]]=j;return _}(g),h=Object.keys(f).sort(function(B,j){return B-j}),x=function(){var B,j,_;for(_=[],B=0,j=h.length;B<j;B++)l=h[B],_.push(f[l]);return _}(),s=this.font.glyf.encode(o,x,g),A=this.font.loca.encode(s.offsets,x),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},e}();Fr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,u,A;for(A=[],l=0,u=r.length;l<u;l++)n=r[l],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const Or={primary:"#2e0304",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",success:"#10b981",warning:"#f59e0b",danger:"#ef4444"},QG=k.forwardRef(({items:e=[],alerts:t=[],reportDate:r=new Date,className:n=""},a)=>{const s=h=>new Date(h).toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=h=>new Date(h).toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",hour12:!0}),l={totalItems:e.length,totalQuantity:e.reduce((h,p)=>h+(p.totalQuantity||0),0),lowStock:e.filter(h=>h.status==="Low Stock").length,outOfStock:e.filter(h=>h.status==="Out of Stock").length,healthy:e.filter(h=>h.status==="Healthy").length,totalValue:e.reduce((h,p)=>{const g=p.batches||[];return h+g.reduce((v,x)=>v+(x.quantity*x.unitCost||0),0)},0),stockAlerts:t.filter(h=>h.type==="stock").length,expirationAlerts:t.filter(h=>h.type==="expiration").length},u=e.reduce((h,p)=>{const g=p.category||"Uncategorized",v=h.find(x=>x.name===g);return v?(v.value+=p.totalQuantity||0,v.count+=1):h.push({name:g,value:p.totalQuantity||0,count:1}),h},[]),A=e.slice(0,10).map(h=>({name:h.name.length>15?h.name.substring(0,15)+"...":h.name,quantity:h.totalQuantity||0,status:h.status})),f=[{name:"Healthy",value:l.healthy,color:Or.success},{name:"Low Stock",value:l.lowStock,color:Or.warning},{name:"Out of Stock",value:l.outOfStock,color:Or.danger}].filter(h=>h.value>0);return!e||e.length===0?i.jsx("div",{ref:a,className:`bg-white p-8 print:p-4 ${n}`,style:{minHeight:"100vh",color:Or.primary,width:"800px",position:"relative",boxSizing:"border-box"},children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{style:{color:Or.muted},children:"No inventory data available"})})}):i.jsxs("div",{ref:a,"data-testid":"inventory-report",className:`bg-white p-8 print:p-4 ${n}`,style:{minHeight:"100vh",color:Or.primary,width:"800px",position:"relative",boxSizing:"border-box"},children:[i.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:Or.primary},children:"Ring & Wing"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",style:{color:Or.secondary},children:"Inventory Analytics Report"}),i.jsxs("div",{className:"text-sm",style:{color:Or.muted},children:[i.jsxs("div",{children:["Report Generated: ",s(r)," at ",o(r)]}),i.jsxs("div",{children:["Total Items Tracked: ",l.totalItems]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:"Inventory Summary"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.muted},children:"Total Items"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.primary},children:l.totalItems})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.muted},children:"Total Quantity"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.primary},children:l.totalQuantity.toFixed(2)})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.muted},children:"Stock Alerts"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.warning},children:l.stockAlerts})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.muted},children:"Expiration Alerts"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.danger},children:l.expirationAlerts})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.success+"40",backgroundColor:Or.success+"10"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.success},children:"Healthy Stock"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.success},children:l.healthy})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.warning+"40",backgroundColor:Or.warning+"10"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.warning},children:"Low Stock"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.warning},children:l.lowStock})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Or.danger+"40",backgroundColor:Or.danger+"10"},children:[i.jsx("div",{className:"text-sm",style:{color:Or.danger},children:"Out of Stock"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Or.danger},children:l.outOfStock})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[f.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:"Stock Status Distribution"}),i.jsx("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:i.jsx(Ul,{width:"100%",height:200,children:i.jsxs(LR,{children:[i.jsx(hu,{data:f,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:({name:h,percent:p})=>`${h}: ${(p*100).toFixed(0)}%`,children:f.map((h,p)=>i.jsx(ym,{fill:h.color},`cell-${p}`))}),i.jsx(Fi,{}),i.jsx(yd,{})]})})})]}),u.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:"Stock by Category"}),i.jsx("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:i.jsx(Ul,{width:"100%",height:200,children:i.jsxs(LR,{children:[i.jsx(hu,{data:u,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,label:({name:h,percent:p})=>`${h}: ${(p*100).toFixed(0)}%`,children:u.map((h,p)=>i.jsx(ym,{fill:[Or.accent,Or.secondary,"#36A2EB","#FFCE56","#4BC0C0"][p%5]},`cell-${p}`))}),i.jsx(Fi,{}),i.jsx(yd,{})]})})})]})]}),A.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:"Top 10 Items - Current Stock Levels"}),i.jsx("div",{className:"border rounded-lg p-4",style:{borderColor:Or.muted+"40"},children:i.jsx(Ul,{width:"100%",height:300,children:i.jsxs(Df,{data:A,margin:{top:5,right:30,left:20,bottom:60},children:[i.jsx(Ao,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10,fill:"#000000"},axisLine:{stroke:"#000000"},tickLine:{stroke:"#000000"}}),i.jsx(rl,{tick:{fontSize:10,fill:"#000000"},axisLine:{stroke:"#000000"},tickLine:{stroke:"#000000"}}),i.jsx(Fi,{}),i.jsx(tl,{dataKey:"quantity",children:A.map((h,p)=>i.jsx(ym,{fill:h.status==="Out of Stock"?Or.danger:h.status==="Low Stock"?Or.warning:Or.accent},`cell-${p}`))})]})})})]}),t.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:["Active Alerts (",t.length,")"]}),i.jsxs("div",{className:"space-y-2",children:[t.slice(0,15).map((h,p)=>{const g=h.type==="stock",v=h.type==="expiration"&&h.message.includes("expired"),x=g&&h.message.includes("out of stock")?Or.danger:g?Or.warning:v?Or.danger:Or.accent;return i.jsxs("div",{className:"border rounded p-3 text-sm",style:{borderColor:x,borderLeftWidth:"4px"},children:[i.jsx("div",{className:"font-medium",children:h.message}),i.jsxs("div",{className:"text-xs mt-1",style:{color:Or.muted},children:[new Date(h.date).toLocaleDateString("en-PH")," - ",h.type]})]},h.id||p)}),t.length>15&&i.jsxs("div",{className:"text-sm text-center py-2",style:{color:Or.muted},children:["... and ",t.length-15," more alerts"]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Or.primary},children:"Detailed Inventory List"}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-sm",style:{borderCollapse:"collapse"},children:[i.jsx("thead",{children:i.jsxs("tr",{style:{backgroundColor:Or.primary,color:"white"},children:[i.jsx("th",{className:"border p-2 text-left",children:"Item Name"}),i.jsx("th",{className:"border p-2 text-left",children:"Category"}),i.jsx("th",{className:"border p-2 text-center",children:"Quantity"}),i.jsx("th",{className:"border p-2 text-center",children:"Unit"}),i.jsx("th",{className:"border p-2 text-center",children:"Status"})]})}),i.jsx("tbody",{children:e.slice(0,20).map((h,p)=>i.jsxs("tr",{style:{backgroundColor:p%2===0?"white":Or.muted+"10"},children:[i.jsx("td",{className:"border p-2",children:h.name}),i.jsx("td",{className:"border p-2",children:h.category||"N/A"}),i.jsx("td",{className:"border p-2 text-center",children:(h.totalQuantity||0).toFixed(2)}),i.jsx("td",{className:"border p-2 text-center",children:h.unit||"N/A"}),i.jsx("td",{className:"border p-2 text-center",children:i.jsx("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:h.status==="Out of Stock"?Or.danger+"20":h.status==="Low Stock"?Or.warning+"20":Or.success+"20",color:h.status==="Out of Stock"?Or.danger:h.status==="Low Stock"?Or.warning:Or.success},children:h.status})})]},h._id||p))})]}),e.length>20&&i.jsxs("div",{className:"text-sm text-center py-3",style:{color:Or.muted},children:["Showing first 20 of ",e.length," items"]})]})]}),i.jsxs("div",{className:"text-center text-xs mt-8 pt-4 border-t",style:{color:Or.muted},children:[i.jsx("p",{children:"Ring & Wing - Inventory Management System"}),i.jsx("p",{children:"This report is computer-generated and valid without signature"}),i.jsxs("p",{children:["Generated on ",s(r)," at ",o(r)]})]})]})});QG.displayName="PrintableInventoryReport";const or={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},k4e=({alert:e,onRestock:t,onDispose:r})=>{const n=e.type==="stock",a=e.type==="expiration"&&e.message.includes("expired"),o=n&&e.message.includes("out of stock")?{bg:"#fee2e2",border:"#ef4444"}:n?{bg:"#fef3c7",border:"#f59e0b"}:a?{bg:"#fee2e2",border:"#ef4444"}:{bg:"#dbeafe",border:"#3b82f6"};return i.jsxs("div",{className:"border rounded p-3 flex flex-col",style:{backgroundColor:o.bg,borderColor:o.border},children:[i.jsx("div",{className:"font-medium truncate",title:e.message,children:e.message}),"      ",i.jsxs("div",{className:"mt-2 flex justify-between items-center text-xs text-gray-600",children:[i.jsx("span",{children:new Date(e.date).toLocaleDateString()}),i.jsxs("div",{className:"flex gap-2",children:[n&&i.jsx(Br,{onClick:()=>t(e.id),variant:"accent",size:"sm",children:"Restock Now"}),a&&i.jsx(Br,{onClick:()=>r(e.id.split("-")[0],e.id.split("-")[1]),variant:"secondary",size:"sm",children:"Dispose"})]})]})]})},_4e=({alerts:e,onRestock:t,onDispose:r})=>{const[n,a]=k.useState("all"),[s,o]=k.useState(!0),l=n==="all"?e:e.filter(f=>f.type===n),u={all:e.length,stock:e.filter(f=>f.type==="stock").length,expiration:e.filter(f=>f.type==="expiration").length},A=[...l].sort((f,h)=>{const p=g=>g.type==="stock"&&g.message.includes("out of stock")?1:g.type==="expiration"&&g.message.includes("expired")?2:g.type==="stock"?3:4;return p(f)-p(h)});return i.jsx("div",{className:"relative",style:{width:"450px",zIndex:10},children:i.jsxs("div",{className:"border rounded-lg shadow-sm relative",style:{borderColor:or.muted},children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border-b cursor-pointer",style:{borderColor:or.muted},onClick:()=>o(!s),children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("h3",{className:"font-medium",style:{color:or.primary},children:["Inventory Alerts (",e.length,")"]}),i.jsxs("div",{className:"flex items-center ml-2",children:[i.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full text-xs",style:{backgroundColor:or.accent,color:"white"},children:u.stock}),i.jsx("span",{className:"ml-1 text-sm",children:"Stock"}),i.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full text-xs ml-2",style:{backgroundColor:or.secondary,color:"white"},children:u.expiration}),i.jsx("span",{className:"ml-1 text-sm",children:"Expiration"})]})]}),i.jsx("span",{className:"text-gray-500",children:s?"":""})]}),!s&&i.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border rounded-b-lg shadow-lg z-50",style:{borderColor:or.muted},children:[i.jsx("div",{className:"p-3 border-b",style:{borderColor:or.muted},children:i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>a("all"),className:`px-3 py-1 rounded-full text-sm ${n==="all"?"bg-gray-200 font-medium":"hover:bg-gray-100"}`,children:["All (",u.all,")"]}),i.jsxs("button",{onClick:()=>a("stock"),className:`px-3 py-1 rounded-full text-sm ${n==="stock"?"bg-gray-200 font-medium":"hover:bg-gray-100"}`,children:["Stock (",u.stock,")"]}),i.jsxs("button",{onClick:()=>a("expiration"),className:`px-3 py-1 rounded-full text-sm ${n==="expiration"?"bg-gray-200 font-medium":"hover:bg-gray-100"}`,children:["Expiration (",u.expiration,")"]})]})}),"            ",i.jsx("div",{className:"max-h-[400px] overflow-y-auto p-2",children:A.length>0?i.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.map(f=>i.jsx(k4e,{alert:f,onRestock:t,onDispose:r},f.id))}):i.jsx("div",{className:"text-center text-gray-500 py-4",children:"No alerts for the selected type."})})]})]})})},T4e=()=>{Jf();const[e,t]=k.useState(window.innerWidth),[r,n]=k.useState(!0),[a,s]=k.useState(""),[o,l]=k.useState([]),[u,A]=k.useState([]),[f,h]=k.useState(""),[p,g]=k.useState("All"),[v,x]=k.useState(!1),[b,w]=k.useState(!1),[B,j]=k.useState(null),[_,N]=k.useState(!1),[O,T]=k.useState(!1),[P,U]=k.useState([]),[D,F]=k.useState([]),R=k.useRef(),[Q,H]=k.useState({name:"",category:"",unit:"pieces",cost:0,price:0,vendor:"",inventory:[],isCountBased:!0,minimumThreshold:5}),[J,V]=k.useState(!1),[Y,ee]=k.useState(null),[ie,z]=k.useState([]),[W,L]=k.useState(!1),[q,G]=k.useState({value:"",fromUnit:"grams",toUnit:"kilograms"}),[Z,te]=k.useState(null),[fe,we]=k.useState(!1),[he,ce]=k.useState(null),[xe,ge]=k.useState({quantity:"",expirationDate:""}),[Pe,ke]=k.useState(!1),[se,Et]=k.useState([]),[Qt,It]=k.useState([]),[nt,ye]=k.useState(!1),[re,_e]=k.useState([]),[Oe,Ke]=k.useState(!1),[Me,bt]=k.useState({}),[Jt,Vt]=k.useState({}),[Be,Re]=k.useState(!1),Ue=k.useRef(0),[Qe,Ve]=k.useState(null),yt=async()=>{if(!R.current){alert("Report not available. Please try again.");return}try{const de=R.current,st={display:de.style.display,position:de.style.position,left:de.style.left,top:de.style.top,zIndex:de.style.zIndex,width:de.style.width,height:de.style.height,visibility:de.style.visibility,opacity:de.style.opacity};de.style.display="block",de.style.position="absolute",de.style.left="-9999px",de.style.top="0px",de.style.width="800px",de.style.height="auto",de.style.visibility="visible",de.style.opacity="1",de.style.backgroundColor="white",de.offsetHeight,await new Promise(Za=>setTimeout(Za,2e3));const xt=de.scrollHeight;console.log("Capturing inventory report:",de.offsetWidth,"x",xt);const Pt=await x0(de,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!1,width:800,height:xt,scrollX:0,scrollY:0,foreignObjectRendering:!1,onclone:Za=>{Za.querySelectorAll("svg").forEach(ra=>{ra.style.backgroundColor="white",ra.style.overflow="visible",ra.querySelectorAll("text, tspan").forEach(He=>{He.style.fill="#000000",He.setAttribute("fill","#000000")})})}});if(Object.keys(st).forEach(Za=>{de.style[Za]=st[Za]}),!Pt||Pt.width===0||Pt.height===0)throw new Error("Failed to capture content.");const Ar=new Fr("p","mm","a4"),Kr=Pt.toDataURL("image/jpeg",.95),br=210,Hn=297,la=Pt.height*br/Pt.width;let Na=la,za=0;for(Ar.addImage(Kr,"JPEG",0,za,br,la),Na-=Hn;Na>=0;)za=Na-la,Ar.addPage(),Ar.addImage(Kr,"JPEG",0,za,br,la),Na-=Hn;const Bi=`Inventory_Analytics_${new Date().toISOString().split("T")[0]}.pdf`;Ar.save(Bi),rr.success("PDF downloaded successfully!")}catch(de){console.error("Error generating PDF:",de),alert(`Failed to generate PDF: ${de.message}`)}};k.useEffect(()=>{const de=()=>{t(window.innerWidth)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]);const[Ht,ze]=k.useState(!1),[Ge,St]=k.useState({name:"",contact:{email:"",phone:""},address:{street:"",city:"",state:"",zipCode:""},paymentTerms:"NET_30"});k.useEffect(()=>{const de=async()=>{var xt,Pt,Ar;try{const[Kr,br]=await Promise.all([vr.get(`${Cr}/api/items`),vr.get(`${Cr}/api/vendors`)]);l(Kr.data),A(br.data),await Rt(),n(!1)}catch(Kr){console.error("Fetch error:",((xt=Kr.response)==null?void 0:xt.data)||Kr.message),s("Failed to fetch data: "+(((Ar=(Pt=Kr.response)==null?void 0:Pt.data)==null?void 0:Ar.message)||Kr.message)),n(!1)}};de();const st=setInterval(()=>{console.log("Auto-refreshing inventory (fallback polling)..."),de()},10*60*1e3);return()=>clearInterval(st)},[]),k.useEffect(()=>{const de=localStorage.getItem("token")||localStorage.getItem("authToken");if(!de){console.warn("[InventorySystem] No auth token found - socket connection skipped");return}console.log("[InventorySystem] Initializing socket connection...");const st=du(Cr,{auth:{token:de},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});return st.on("connect",()=>{console.log("[InventorySystem] Socket connected - Authenticated: Yes"),console.log("[InventorySystem] Socket ID:",st.id)}),st.on("connect_error",xt=>{console.error("[InventorySystem] Socket connection error:",xt.message)}),st.on("disconnect",xt=>{console.log("[InventorySystem] Socket disconnected:",xt)}),Ve(st),()=>{console.log("[InventorySystem] Cleaning up socket connection..."),st.disconnect()}},[]),k.useEffect(()=>{if(Qe)return console.log("[InventorySystem] Registering socket event listeners..."),Qe.on("stockLevelChanged",de=>{console.log("[InventorySystem] stockLevelChanged event received:",de),l(st=>st.map(xt=>xt._id===de.itemId?{...xt,totalQuantity:de.newStock,inventory:de.inventory||xt.inventory}:xt)),console.log(`[InventorySystem] Updated item ${de.itemId} stock to ${de.newStock} ${de.unit}`)}),Qe.on("reservationCreated",de=>{console.log("[InventorySystem] reservationCreated event received:",de),_e(st=>st.some(Pt=>Pt._id===de.reservation._id)?(console.log("[InventorySystem] Reservation already exists, skipping duplicate"),st):[de.reservation,...st]),console.log(`[InventorySystem] Added new reservation: Order ${de.reservation.orderId}`)}),Qe.on("reservationCompleted",de=>{console.log("[InventorySystem] reservationCompleted event received:",de),_e(st=>st.map(xt=>xt._id===de.reservationId?{...xt,status:"completed",completedAt:new Date().toISOString()}:xt)),console.log(`[InventorySystem] Marked reservation ${de.reservationId} as completed`)}),Qe.on("reservationReleased",de=>{console.log("[InventorySystem] reservationReleased event received:",de),_e(st=>st.filter(xt=>xt._id!==de.reservationId)),console.log(`[InventorySystem] Removed reservation ${de.reservationId} from list`)}),Qe.on("alertTriggered",de=>{var xt,Pt,Ar,Kr,br;console.log("[InventorySystem] alertTriggered event received:",de);const st={id:de.id,type:de.type==="low_stock"?"stock":de.type,message:de.message,date:new Date(de.timestamp).toISOString(),severity:de.severity,itemId:(xt=de.details)==null?void 0:xt.itemId,itemName:(Pt=de.details)==null?void 0:Pt.itemName,currentStock:(Ar=de.details)==null?void 0:Ar.currentStock,unit:(Kr=de.details)==null?void 0:Kr.unit};U(Hn=>Hn.some(Na=>Na.itemId===st.itemId&&Na.type===st.type&&Math.abs(new Date(Na.date).getTime()-new Date(st.date).getTime())<6e4)?(console.log("[InventorySystem] Alert already exists, skipping duplicate"),Hn):[st,...Hn]),console.log(`[InventorySystem] Added critical alert for ${(br=de.details)==null?void 0:br.itemName}`)}),Qe.on("userLoggedOut",de=>{console.log("[InventorySystem] User logged out event received:",de),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("userPosition"),localStorage.removeItem("userRole"),window.location.href="/"}),()=>{console.log("[InventorySystem] Cleaning up socket event listeners..."),Qe.off("stockLevelChanged"),Qe.off("reservationCreated"),Qe.off("reservationCompleted"),Qe.off("reservationReleased"),Qe.off("alertTriggered"),Qe.off("userLoggedOut")}},[Qe]);const Rt=async()=>{var xt;const de=Date.now(),st=5e3;if(de-Ue.current<st){const Pt=Math.ceil((st-(de-Ue.current))/1e3);console.log(`Refresh throttled. Please wait ${Pt} more second(s).`);return}Re(!0),Ue.current=de;try{const Pt=await vr.get(`${Cr}/api/inventory/reservations`);if(console.log("Reservations API response:",Pt.data),Pt.data.success){const Ar=((xt=Pt.data.data)==null?void 0:xt.data)||Pt.data.data||[];console.log("Setting reservations:",Ar.length,"items"),_e(Array.isArray(Ar)?Ar:[])}}catch(Pt){console.error("Error fetching reservations:",Pt)}finally{setTimeout(()=>Re(!1),st)}},sr=async de=>{var st,xt;try{(await vr.delete(`${Cr}/api/inventory/reservations/${de}`)).data.success&&(await Rt(),rr.success("Reservation cancelled successfully"))}catch(Pt){console.error("Error cancelling reservation:",Pt),rr.error("Failed to cancel reservation: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},[Ye,pt]=k.useState(""),[gt,et]=k.useState(!0);k.useEffect(()=>{if(!o.length)return;const de=o.flatMap(xt=>{var Kr;const Pt=[],Ar=xt.minimumThreshold||(xt.unit==="pieces"?5:xt.unit==="grams"?500:xt.unit==="kilograms"?.5:xt.unit==="milliliters"?500:xt.unit==="liters"?.5:5);return xt.totalQuantity<=Ar&&Pt.push({type:"stock",id:xt._id,message:`${xt.name} is ${xt.totalQuantity===0?"out of stock":"low on stock"} (${xt.totalQuantity} ${xt.unit} remaining)`,date:new Date().toISOString()}),(Kr=xt.expirationAlerts)!=null&&Kr.length&&xt.expirationAlerts.forEach(br=>{if(!br.expirationDate||isNaN(new Date(br.expirationDate))){console.error("Invalid expiration date for batch:",br);return}const Hn=new Date(br.expirationDate);Hn.setHours(Hn.getHours()+8);const Na=Hn-new Date,za=Math.ceil(Na/(1e3*3600*24));Pt.push({type:"expiration",id:`${xt._id}-${br._id}`,message:`${xt.name} batch ${za>=0?"expiring in":"expired"} ${Math.abs(za)} day${Math.abs(za)!==1?"s":""} (${Hn.toLocaleDateString("en-PH",{year:"numeric",month:"2-digit",day:"2-digit"})})`,date:br.expirationDate})}),Pt}),st=JSON.stringify(de.map(xt=>xt.id+xt.message));if(gt||st!==Ye&&!gt){const xt=de.filter(Ar=>Ar.type==="stock"),Pt=de.filter(Ar=>Ar.type==="expiration");if(xt.length){const Ar=xt.filter(br=>br.message.includes("out of stock")),Kr=xt.filter(br=>br.message.includes("low on stock"));Ar.length&&(Ar.map(br=>br.message.split(" is ")[0]).join(", "),rr.error(i.jsxs("div",{children:[i.jsx("strong",{children:"Out of Stock Items:"}),i.jsx("br",{}),Ar.map(br=>i.jsxs("div",{className:"mt-1 text-sm",children:[" ",br.message]},br.id))]}),{toastId:"out-of-stock",autoClose:3e3})),Kr.length&&rr.warning(i.jsxs("div",{children:[i.jsx("strong",{children:"Low Stock Items:"}),i.jsx("br",{}),Kr.map(br=>i.jsxs("div",{className:"mt-1 text-sm",children:[" ",br.message]},br.id))]}),{toastId:"low-stock",autoClose:3e3})}if(Pt.length){const Ar=Pt.filter(br=>br.message.includes("expired")),Kr=Pt.filter(br=>!br.message.includes("expired"));Ar.length&&rr.error(i.jsxs("div",{children:[i.jsx("strong",{children:"Expired Items:"}),i.jsx("br",{}),Ar.map(br=>i.jsxs("div",{className:"mt-1 text-sm",children:[" ",br.message]},br.id))]}),{toastId:"expired",autoClose:7e3}),Kr.length&&rr.warning(i.jsxs("div",{children:[i.jsx("strong",{children:"Items Expiring Soon:"}),i.jsx("br",{}),Kr.map(br=>i.jsxs("div",{className:"mt-1 text-sm",children:[" ",br.message]},br.id))]}),{toastId:"expiring-soon",autoClose:3e3})}}pt(st),et(!1),U(de)},[o]);const ft=o.filter(de=>{const st=de.name.toLowerCase().includes(f.toLowerCase())||de.category.toLowerCase().includes(f.toLowerCase()),xt=p==="All"||de.category===p;return st&&xt}),ut=(de,st)=>{F([...D,{id:D.length+1,action:de,itemId:st,user:"admin",timestamp:new Date().toISOString()}])},tr=async de=>{var st,xt;de.preventDefault();try{const Ar={...xe,expirationDate:(br=>{const Hn=new Date(br);return new Date(Date.UTC(Hn.getFullYear(),Hn.getMonth(),Hn.getDate(),16,0,0,0)).toISOString()})(xe.expirationDate)},{data:Kr}=await vr.patch(`${Cr}/api/items/${he._id}/restock`,Ar);l(o.map(br=>br._id===he._id?Kr:br)),we(!1),ge({quantity:"",expirationDate:""}),ut(`Restocked ${xe.quantity} units`,he._id)}catch(Pt){s("Failed to restock item: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},Kt=async de=>{var st,xt;de.preventDefault();try{const{data:Pt}=await vr.post(`${Cr}/api/items/convert`,q);te(Pt)}catch(Pt){s("Failed to convert units: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},Ct=async de=>{var st,xt;de.preventDefault();try{const{data:Pt}=await vr.patch(`${Cr}/api/items/${Y._id}/end-day`,{endQuantities:ie});l(o.map(Ar=>Ar._id===Y._id?Pt:Ar)),V(!1),ee(null),z([]),ut("Updated end-of-day quantities",Y._id)}catch(Pt){console.error("End day update error:",Pt),s("Failed to update end-of-day quantities: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},$r=async de=>{var st,xt;de.preventDefault(),ye(!0);try{const{data:Pt}=await vr.post(`${Cr}/api/items/bulk-end-day`,{itemQuantities:Qt});if(Pt.success){const Ar=[...o];Pt.updated.forEach(Kr=>{const br=Ar.findIndex(Hn=>Hn._id===Kr.itemId);br!==-1&&(Ar[br]={...Ar[br],status:Kr.status})}),l(Ar),ke(!1),Et([]),It([]),ut(`Updated end-of-day quantities for ${Pt.updated.length} items`,"bulk")}else s(`Some items failed to update: ${Pt.message}`)}catch(Pt){console.error("Bulk end day update error:",Pt),s("Failed to update bulk end-of-day quantities: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}finally{ye(!1)}},qr=async()=>{var de,st;try{await vr.post(`${Cr}/api/items/start-day`);const{data:xt}=await vr.get(`${Cr}/api/items`);l(xt),ut("Started day - recorded beginning inventory","all")}catch(xt){s("Failed to record starting inventory: "+(((st=(de=xt.response)==null?void 0:de.data)==null?void 0:st.message)||xt.message))}},lr=async de=>{var st,xt;try{await vr.delete(`${Cr}/api/items/${de}`),l(o.filter(Pt=>Pt._id!==de))}catch(Pt){s("Failed to delete item: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},cr=de=>{const st=JSON.stringify(o,null,2),xt=new Blob([st],{type:`text/${de};charset=utf-8`});fwe.saveAs(xt,`inventory-${new Date().toISOString()}.${de}`)},Zt=async(de,st)=>{var xt,Pt;try{const{data:Ar}=await vr.patch(`${Cr}/api/items/${de}/dispose-expired`,{batchIds:[st]});l(o.map(Kr=>Kr._id===de?{...Ar}:Kr)),rr.success("Successfully disposed of expired batch"),ut("Disposed expired batch",de)}catch(Ar){rr.error("Failed to dispose expired batch: "+(((Pt=(xt=Ar.response)==null?void 0:xt.data)==null?void 0:Pt.message)||Ar.message))}},mr=()=>{H({...Q,inventory:[...Q.inventory,{quantity:0,expirationDate:""}]})},on=de=>{const st=Q.inventory.filter((xt,Pt)=>Pt!==de);H({...Q,inventory:st})},Ur=(de,st,xt)=>{const Pt=[...Q.inventory];Pt[de][st]=xt,H({...Q,inventory:Pt})},Vr=(de,st,xt)=>{const Pt=[...Qt];Pt[de].endQuantities[st].quantity=xt,It(Pt)},dn=()=>{H({name:"",category:"",unit:"pieces",cost:0,price:0,vendor:"",inventory:[],isCountBased:!0,minimumThreshold:5}),j(null),ze(!1)},Yn=de=>{const st=de.target.value;st==="new"?(ze(!0),H({...Q,vendor:""})):(H({...Q,vendor:st}),ze(!1))},hn=async de=>{var st,xt;de.preventDefault();try{if(Q.inventory.length===0)throw new Error("At least one inventory batch is required");const Pt=Q.unit==="pieces",Ar={...Q,isCountBased:Pt,minimumThreshold:Q.minimumThreshold||(Pt?5:Q.unit==="grams"?500:Q.unit==="kilograms"?.5:Q.unit==="milliliters"?500:Q.unit==="liters"?.5:5)},{data:Kr}=await vr.post(`${Cr}/api/items`,Ar);l([...o,Kr]),x(!1),dn()}catch(Pt){s("Failed to add new item: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},Mn=de=>{j(de),H({name:de.name,category:de.category,unit:de.unit,cost:de.cost,price:de.price,vendor:de.vendor,inventory:de.inventory.map(st=>({...st,expirationDate:st.expirationDate?new Date(st.expirationDate).toISOString().split("T")[0]:""})),isCountBased:de.isCountBased,minimumThreshold:de.minimumThreshold}),w(!0)},Ha=async de=>{var st,xt;de.preventDefault();try{if(Q.inventory.length===0)throw new Error("At least one inventory batch is required");const Pt=Q.unit==="pieces",Ar={...Q,isCountBased:Pt,minimumThreshold:Q.minimumThreshold||(Pt?5:Q.unit==="grams"?500:Q.unit==="kilograms"?.5:Q.unit==="milliliters"?500:Q.unit==="liters"?.5:5)},{data:Kr}=await vr.put(`${Cr}/api/items/${B._id}`,Ar);l(o.map(br=>br._id===B._id?Kr:br)),w(!1),dn(),ut(`Updated item: ${Kr.name}`,B._id)}catch(Pt){s("Failed to update item: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}},Rn=async de=>{var st,xt;de.preventDefault();try{const{data:Pt}=await vr.post(`${Cr}/api/vendors`,Ge);A([...u,Pt]),St({name:"",contact:{email:"",phone:""},address:{street:"",city:"",state:"",zipCode:""},paymentTerms:"NET_30"}),ze(!1)}catch(Pt){s("Failed to add new vendor: "+(((xt=(st=Pt.response)==null?void 0:st.data)==null?void 0:xt.message)||Pt.message))}};if(Object.entries(o.reduce((de,st)=>({...de,[st.category]:(de[st.category]||0)+st.totalQuantity}),{})).map(([de,st])=>({name:de,value:st})),r)return i.jsx(I0,{fullScreen:!0,variant:"ring",message:"Loading inventory data..."});const bn=()=>e<768?"0":e>=1920?"8rem":"5rem",Ja=de=>`${parseFloat(de).toFixed(2)}`,qn=de=>{switch(de){case"In Stock":return{bg:"#d1fae5",text:"#047857"};case"Low Stock":return{bg:"#fef3c7",text:"#b45309"};case"Out of Stock":return{bg:"#fee2e2",text:"#b91c1c"};default:return{bg:"#e5e7eb",text:"#374151"}}},Qn=de=>{ee(de),z(de.inventory.map(st=>({batchId:st._id,quantity:st.quantity,expirationDate:new Date(st.expirationDate).toLocaleDateString()}))),V(!0)},$a=()=>{const de=ft.filter(xt=>xt.inventory&&xt.inventory.length>0);Et(de);const st=de.map(xt=>({itemId:xt._id,name:xt.name,unit:xt.unit,endQuantities:xt.inventory.map(Pt=>({batchId:Pt._id,quantity:Pt.quantity,expirationDate:new Date(Pt.expirationDate).toLocaleDateString()}))}));It(st),ke(!0)};return i.jsx("div",{className:"flex min-h-screen",style:{backgroundColor:or.background},children:i.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300",style:{marginLeft:bn(),paddingTop:e<768?"4rem":"0"},children:[a&&i.jsx("div",{className:"p-4 bg-red-100 text-red-700 border-b",children:a}),i.jsxs("div",{className:"px-6 pt-6 pb-2",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",style:{color:or.primary},children:"Ring & Wing Caf Inventory System"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(_4e,{alerts:P,onRestock:de=>{const st=P.find(xt=>xt.id===de);if((st==null?void 0:st.type)==="stock"){const xt=o.find(Pt=>Pt._id===st.id);xt&&(ce(xt),we(!0))}},onDispose:(de,st)=>Zt(de,st)}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-[280px]",children:i.jsx("input",{type:"text",placeholder:"Search items...",value:f,onChange:de=>h(de.target.value),className:"p-2 border rounded w-full",style:{borderColor:or.muted}})}),i.jsxs("select",{value:p,onChange:de=>g(de.target.value),className:"p-2 border rounded w-[200px]",style:{borderColor:or.muted},children:[i.jsx("option",{value:"All",children:"All Categories"}),Array.from(new Set(o.map(de=>de.category))).map(de=>i.jsx("option",{value:de,children:de},de))]}),i.jsx(Br,{onClick:()=>x(!0),variant:"accent",children:"Add New Item"})]})]})]}),i.jsxs("div",{className:"px-6 mb-4 flex flex-wrap gap-2",children:[i.jsx(Br,{onClick:qr,variant:"accent",children:"Start Day (Record Beginning Inventory)"}),i.jsx(Br,{onClick:$a,variant:"accent",children:"Bulk End-of-Day Count"}),i.jsxs(Br,{onClick:()=>Ke(!0),variant:"primary",children:["Inventory Reservations (",re.length,")"]}),i.jsx(Br,{onClick:async()=>{rr.info("Checking for expired items...",{autoClose:1e3});try{const de=await vr.get(`${Cr}/api/items`);l(de.data),rr.success("Inventory refreshed!",{autoClose:2e3})}catch(de){rr.error("Failed to refresh: "+de.message)}},variant:"secondary",title:"Manually refresh inventory to check for newly expired items",children:"Check Expiration"}),i.jsx(Br,{onClick:()=>L(!0),variant:"secondary",children:"Convert Units"}),i.jsx(Br,{onClick:()=>T(!0),variant:"secondary",children:"Analytics"}),i.jsx(Br,{onClick:()=>N(!0),variant:"secondary",children:"Audit Log"}),i.jsx(Br,{onClick:()=>cr("json"),variant:"ghost",children:"Export JSON"}),i.jsx(Br,{onClick:()=>cr("csv"),variant:"ghost",children:"Export CSV"})]}),i.jsx("div",{className:"rounded-lg overflow-hidden border mx-6",style:{borderColor:or.muted},children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{style:{backgroundColor:or.activeBg},children:i.jsx("tr",{children:["Item Name","Category","Status","Quantity","Unit","Cost","Price","Vendor","Actions"].map(de=>i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",style:{color:or.primary},children:de},de))})}),i.jsx("tbody",{children:ft.map(de=>i.jsxs("tr",{className:"border-t",style:{borderColor:or.muted},children:[i.jsx("td",{className:"px-4 py-3",style:{color:or.primary},children:de.name}),i.jsx("td",{className:"px-4 py-3",style:{color:or.secondary},children:de.category}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2 py-1 rounded-full text-sm",style:{backgroundColor:qn(de.status).bg,color:qn(de.status).text},children:de.status})}),i.jsx("td",{className:"px-4 py-3",style:{color:or.primary},children:de.totalQuantity}),i.jsx("td",{className:"px-4 py-3",style:{color:or.secondary},children:de.unit}),i.jsx("td",{className:"px-4 py-3",style:{color:or.primary},children:Ja(de.cost)}),i.jsx("td",{className:"px-4 py-3",style:{color:or.primary},children:Ja(de.price)}),i.jsx("td",{className:"px-4 py-3",style:{color:or.secondary},children:de.vendor}),"                    ",i.jsxs("td",{className:"px-4 py-3 flex gap-2",children:[i.jsx(Br,{onClick:()=>Qn(de),variant:"accent",size:"sm",children:"End-Day Count"}),i.jsx(Br,{onClick:()=>{ce(de),we(!0)},variant:"secondary",size:"sm",children:"Restock"}),i.jsx(Br,{onClick:()=>Mn(de),variant:"primary",size:"sm",children:"Edit"}),i.jsx(Br,{onClick:()=>lr(de._id),variant:"ghost",size:"sm",children:"Delete"})]})]},de._id))})]})})}),v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Inventory Item"}),i.jsxs("form",{onSubmit:hn,className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-1",children:"Item Name"}),i.jsx("input",{type:"text",required:!0,value:Q.name,onChange:de=>H({...Q,name:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Category"}),i.jsxs("select",{required:!0,value:Q.category,onChange:de=>H({...Q,category:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"",children:"Select Category"}),["Food","Beverages","Ingredients","Packaging"].map(de=>i.jsx("option",{value:de,children:de},de))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Vendor"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{required:!0,value:Q.vendor,onChange:de=>H({...Q,vendor:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"",children:"Select Vendor"}),u.map(de=>i.jsx("option",{value:de.name,children:de.name},de._id))]}),i.jsx(Br,{onClick:()=>ze(!Ht),variant:"accent",size:"sm",children:Ht?"":"+"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Unit"}),i.jsxs("select",{required:!0,value:Q.unit,onChange:de=>H({...Q,unit:de.target.value,isCountBased:de.target.value==="pieces",minimumThreshold:de.target.value==="pieces"?5:de.target.value==="grams"?500:de.target.value==="kilograms"?.5:de.target.value==="milliliters"?500:de.target.value==="liters"?.5:5}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"pieces",children:"Pieces"}),i.jsx("option",{value:"grams",children:"Grams"}),i.jsx("option",{value:"kilograms",children:"Kilograms"}),i.jsx("option",{value:"milliliters",children:"Milliliters"}),i.jsx("option",{value:"liters",children:"Liters"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Minimum Threshold"}),i.jsx("input",{type:"number",required:!0,min:"0",step:Q.unit==="kilograms"||Q.unit==="liters"?"0.1":"1",value:Q.minimumThreshold,onChange:de=>H({...Q,minimumThreshold:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}}),i.jsx("small",{className:"text-xs text-gray-500",children:"Low stock warning will appear when quantity falls below this value"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-1",children:"Inventory Batches"}),i.jsx("div",{className:"space-y-2",children:Q.inventory.map((de,st)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"number",required:!0,min:"0",step:Q.unit==="kilograms"||Q.unit==="liters"?"0.1":"1",value:de.quantity,onChange:xt=>Ur(st,"quantity",xt.target.value),className:"p-2 border rounded flex-1",style:{borderColor:or.muted},placeholder:"Quantity"}),i.jsx("input",{type:"date",required:!0,value:de.expirationDate,onChange:xt=>Ur(st,"expirationDate",xt.target.value),className:"p-2 border rounded flex-1",style:{borderColor:or.muted}}),"                          ",i.jsx(Br,{onClick:()=>on(st),variant:"ghost",size:"sm",children:"Remove"})]},st))}),i.jsx(Br,{onClick:mr,variant:"accent",size:"sm",className:"mt-2",children:"Add Batch"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Cost () *"}),i.jsx("input",{type:"number",step:"0.01",required:!0,min:"0",value:Q.cost,onChange:de=>H({...Q,cost:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Price () *"}),i.jsx("input",{type:"number",step:"0.01",required:!0,min:"0",value:Q.price,onChange:de=>H({...Q,price:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]})]}),Ht&&i.jsxs("div",{className:"md:col-span-2 mt-4 p-4 border rounded",style:{borderColor:or.muted},children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"New Vendor Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Vendor Name *"}),i.jsx("input",{type:"text",required:!0,value:Ge.name,onChange:de=>St({...Ge,name:de.target.value}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Email (optional)"}),i.jsx("input",{type:"email",value:Ge.contact.email,onChange:de=>St({...Ge,contact:{...Ge.contact,email:de.target.value}}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Phone (optional)"}),i.jsx("input",{type:"tel",value:Ge.contact.phone,onChange:de=>St({...Ge,contact:{...Ge.contact,phone:de.target.value}}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(Br,{onClick:()=>ze(!1),variant:"ghost",size:"sm",children:"Cancel"}),i.jsx(Br,{onClick:Rn,variant:"accent",size:"sm",children:"Add Vendor"})]})]})]}),"                ",i.jsx("div",{className:"mt-6 flex justify-between",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Br,{onClick:()=>{x(!1),dn()},variant:"secondary",children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"primary",children:"Add Item"})]})})]})]})}),b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Item"}),i.jsxs("form",{onSubmit:Ha,className:"flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-1",children:"Item Name"}),i.jsx("input",{type:"text",required:!0,value:Q.name,onChange:de=>H({...Q,name:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Category"}),i.jsxs("select",{required:!0,value:Q.category,onChange:de=>H({...Q,category:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"",children:"Select Category"}),["Food","Beverages","Ingredients","Packaging"].map(de=>i.jsx("option",{value:de,children:de},de))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Vendor"}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{required:!0,value:Q.vendor,onChange:Yn,className:"flex-1 p-2 border rounded",style:{borderColor:or.muted},children:["                        ",i.jsx("option",{value:"",children:"Select Vendor"}),u.map(de=>i.jsx("option",{value:de.name,children:de.name},de._id)),i.jsx("option",{value:"new",children:"+ Add New Vendor"})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Unit"}),i.jsxs("select",{required:!0,value:Q.unit,onChange:de=>H({...Q,unit:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"",children:"Select Unit"}),["pieces","kilograms","liters","packs"].map(de=>i.jsx("option",{value:de,children:de},de))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Minimum Stock Alert"}),i.jsx("input",{type:"number",required:!0,min:"0",step:Q.unit==="kilograms"||Q.unit==="liters"?"0.1":"1",value:Q.minimumThreshold,onChange:de=>H({...Q,minimumThreshold:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),"                  ",i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-1",children:"Batches"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded",style:{borderColor:or.muted},children:Q.inventory.map((de,st)=>i.jsxs("div",{className:"flex gap-2 items-center p-2 bg-gray-50 rounded",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"number",placeholder:"Quantity",required:!0,min:"0",step:Q.unit==="kilograms"||Q.unit==="liters"?"0.1":"1",value:de.quantity,onChange:xt=>Ur(st,"quantity",parseFloat(xt.target.value)),className:"w-full p-1 border rounded text-sm",style:{borderColor:or.muted}})}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",required:!0,value:de.expirationDate,onChange:xt=>Ur(st,"expirationDate",xt.target.value),className:"w-full p-1 border rounded text-sm",style:{borderColor:or.muted}})}),i.jsx(Br,{onClick:()=>on(st),variant:"ghost",size:"sm",children:"Remove"})]},st))}),i.jsx(Br,{onClick:mr,variant:"accent",size:"sm",className:"mt-2",children:"Add Batch"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Cost () *"}),i.jsx("input",{type:"number",step:"0.01",required:!0,min:"0",value:Q.cost,onChange:de=>H({...Q,cost:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Price () *"}),i.jsx("input",{type:"number",step:"0.01",required:!0,min:"0",value:Q.price,onChange:de=>H({...Q,price:parseFloat(de.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]})]}),Ht&&i.jsxs("div",{className:"md:col-span-2 mt-4 p-4 border rounded",style:{borderColor:or.muted},children:[i.jsx("h3",{className:"text-sm font-medium mb-3",children:"New Vendor Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Vendor Name *"}),i.jsx("input",{type:"text",required:!0,value:Ge.name,onChange:de=>St({...Ge,name:de.target.value}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Email (optional)"}),i.jsx("input",{type:"email",value:Ge.contact.email,onChange:de=>St({...Ge,contact:{...Ge.contact,email:de.target.value}}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1",children:"Phone (optional)"}),i.jsx("input",{type:"tel",value:Ge.contact.phone,onChange:de=>St({...Ge,contact:{...Ge.contact,phone:de.target.value}}),className:"w-full p-2 border rounded text-sm",style:{borderColor:or.muted}})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(Br,{onClick:()=>ze(!1),variant:"ghost",size:"sm",children:"Cancel"}),i.jsx(Br,{onClick:Rn,variant:"accent",size:"sm",children:"Add Vendor"})]})]})]}),"                ",i.jsx("div",{className:"mt-6 flex justify-between",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Br,{onClick:()=>{w(!1),dn()},variant:"secondary",children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"primary",children:"Update Item"})]})})]})]})}),fe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Restock ",he==null?void 0:he.name]}),i.jsxs("form",{onSubmit:tr,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Quantity"}),i.jsx("input",{type:"number",required:!0,min:"1",step:(he==null?void 0:he.unit)==="kilograms"||(he==null?void 0:he.unit)==="liters"?"0.1":"1",value:xe.quantity,onChange:de=>ge({...xe,quantity:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Expiration Date"}),i.jsx("input",{type:"date",required:!0,value:xe.expirationDate,onChange:de=>ge({...xe,expirationDate:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]})]}),"        ",i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Br,{onClick:()=>we(!1),variant:"secondary",children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"primary",children:"Confirm Restock"})]})]})]})}),J&&Y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4",children:["End-of-Day Count: ",Y.name]}),i.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Record the actual remaining quantities for each batch based on your physical count."}),i.jsxs("form",{onSubmit:Ct,children:[i.jsx("div",{className:"space-y-4",children:ie.map((de,st)=>i.jsxs("div",{className:"p-3 border rounded",style:{borderColor:or.muted},children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["Batch #",st+1]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Expires: ",de.expirationDate]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("label",{className:"block text-sm mb-1",children:"End-of-Day Quantity"}),i.jsx("input",{type:"number",required:!0,min:"0",step:Y.unit==="kilograms"||Y.unit==="liters"?"0.1":"1",value:de.quantity,onChange:xt=>{const Pt=[...ie];Pt[st].quantity=xt.target.value,z(Pt)},className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsx("div",{className:"text-sm text-gray-600 pt-6",children:Y.unit})]})]},st))}),"        ",i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Br,{onClick:()=>V(!1),variant:"secondary",children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"primary",children:"Save End-of-Day Count"})]})]})]})}),W&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Unit Conversion"}),i.jsxs("form",{onSubmit:Kt,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Value"}),i.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:q.value,onChange:de=>G({...q,value:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"From Unit"}),i.jsxs("select",{required:!0,value:q.fromUnit,onChange:de=>G({...q,fromUnit:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"grams",children:"Grams"}),i.jsx("option",{value:"kilograms",children:"Kilograms"}),i.jsx("option",{value:"milliliters",children:"Milliliters"}),i.jsx("option",{value:"liters",children:"Liters"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"To Unit"}),i.jsxs("select",{required:!0,value:q.toUnit,onChange:de=>G({...q,toUnit:de.target.value}),className:"w-full p-2 border rounded",style:{borderColor:or.muted},children:[i.jsx("option",{value:"grams",children:"Grams"}),i.jsx("option",{value:"kilograms",children:"Kilograms"}),i.jsx("option",{value:"milliliters",children:"Milliliters"}),i.jsx("option",{value:"liters",children:"Liters"})]})]})]}),Z&&i.jsx("div",{className:"mt-4 p-3 rounded",style:{backgroundColor:or.activeBg},children:i.jsxs("p",{className:"font-medium",style:{color:or.primary},children:[Z.originalValue," ",Z.originalUnit," =",i.jsxs("span",{className:"text-lg ml-2",style:{color:or.accent},children:[Z.convertedValue," ",Z.convertedUnit]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Br,{onClick:()=>L(!1),variant:"secondary",children:"Close"}),i.jsx(Br,{type:"submit",variant:"primary",children:"Convert"})]})]})]})}),Pe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Bulk End-of-Day Inventory Count"}),i.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Record the actual remaining quantities for all items in one go based on your physical count."}),i.jsxs("form",{onSubmit:$r,children:[i.jsx("div",{className:"space-y-6",children:Qt.map((de,st)=>i.jsxs("div",{className:"p-4 border rounded",style:{borderColor:or.muted},children:[i.jsx("h3",{className:"font-medium mb-2",style:{color:or.primary},children:de.name}),i.jsx("div",{className:"space-y-3",children:de.endQuantities.map((xt,Pt)=>i.jsxs("div",{className:"p-3 border rounded bg-gray-50",style:{borderColor:or.muted},children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["Batch #",Pt+1]}),i.jsxs("span",{className:"text-sm text-gray-500",children:["Expires: ",xt.expirationDate]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("label",{className:"block text-sm mb-1",children:"End-of-Day Quantity"}),i.jsx("input",{type:"number",required:!0,min:"0",step:de.unit==="kilograms"||de.unit==="liters"?"0.1":"1",value:xt.quantity,onChange:Ar=>Vr(st,Pt,Ar.target.value),className:"w-full p-2 border rounded",style:{borderColor:or.muted}})]}),i.jsx("div",{className:"text-sm text-gray-600 pt-6",children:de.unit})]})]},xt.batchId))})]},de.itemId))}),"          ",i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx(Br,{onClick:()=>ke(!1),variant:"secondary",disabled:nt,children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"primary",disabled:nt,isLoading:nt,children:"Save All End-of-Day Counts"})]})]})]})}),O&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:9999},children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",style:{color:or.primary},children:"Inventory Analytics"}),i.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:or.primary},children:"Inventory Summary"}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:or.muted},children:"Total Items"}),i.jsx("div",{className:"text-2xl font-bold",style:{color:or.primary},children:o.length})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:or.muted},children:"Total Quantity"}),i.jsx("div",{className:"text-2xl font-bold",style:{color:or.primary},children:o.reduce((de,st)=>de+(st.totalQuantity||0),0).toFixed(0)})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:or.muted},children:"Low Stock"}),i.jsx("div",{className:"text-2xl font-bold",style:{color:or.accent},children:o.filter(de=>de.status==="Low Stock").length})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:or.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:or.muted},children:"Out of Stock"}),i.jsx("div",{className:"text-2xl font-bold",style:{color:"#ef4444"},children:o.filter(de=>de.status==="Out of Stock").length})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:or.primary},children:"Current Inventory"}),i.jsx("div",{className:"overflow-x-auto border rounded-lg",style:{borderColor:or.muted+"40"},children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{style:{backgroundColor:or.primary,color:"white"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left",children:"Item Name"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Category"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Quantity"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Unit"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Total Value"})]})}),i.jsx("tbody",{children:o.map((de,st)=>{const xt=(de.batches||[]).reduce((Pt,Ar)=>Pt+(Ar.quantity*Ar.unitCost||0),0);return i.jsxs("tr",{style:{backgroundColor:st%2===0?"white":or.muted+"10",borderBottom:`1px solid ${or.muted}40`},children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:de.name}),i.jsx("td",{className:"px-4 py-3",children:de.category||"N/A"}),i.jsx("td",{className:"px-4 py-3 text-center",children:(de.totalQuantity||0).toFixed(2)}),i.jsx("td",{className:"px-4 py-3 text-center",children:de.unit||"N/A"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:de.status==="Out of Stock"?"#fee2e2":de.status==="Low Stock"?"#fef3c7":"#d1fae5",color:de.status==="Out of Stock"?"#dc2626":de.status==="Low Stock"?"#d97706":"#059669"},children:de.status})}),i.jsxs("td",{className:"px-4 py-3 text-right font-medium",children:["",xt.toFixed(2)]})]},de._id||st)})}),i.jsx("tfoot",{style:{backgroundColor:or.muted+"20",fontWeight:"bold"},children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:"5",className:"px-4 py-3 text-right",children:"Total Inventory Value:"}),i.jsxs("td",{className:"px-4 py-3 text-right",style:{color:or.primary},children:["",o.reduce((de,st)=>{const xt=(st.batches||[]).reduce((Pt,Ar)=>Pt+(Ar.quantity*Ar.unitCost||0),0);return de+xt},0).toFixed(2)]})]})})]})})]}),i.jsxs("div",{className:"flex gap-3 justify-end pt-4 border-t",children:[i.jsx(Br,{onClick:yt,variant:"accent",children:"Download PDF Report (with Charts)"}),i.jsx(Br,{onClick:()=>T(!1),variant:"secondary",children:"Close"})]})]})}),i.jsx("div",{style:{position:"absolute",left:"-9999px",top:0},children:i.jsx(QG,{ref:R,items:o,alerts:P,reportDate:new Date})}),_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",style:{zIndex:9999},children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",style:{color:or.primary},children:"Audit Log"}),i.jsx("button",{onClick:()=>N(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"sticky top-0",style:{backgroundColor:or.primary,color:"white"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left",children:"Timestamp"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Action"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"User"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Item ID"})]})}),i.jsx("tbody",{children:D.length>0?D.slice().reverse().map((de,st)=>i.jsxs("tr",{className:"border-t",style:{backgroundColor:st%2===0?"white":or.muted+"10"},children:[i.jsx("td",{className:"px-4 py-3",children:new Date(de.timestamp).toLocaleString()}),i.jsx("td",{className:"px-4 py-3 font-medium",children:de.action}),i.jsx("td",{className:"px-4 py-3",children:de.user}),i.jsx("td",{className:"px-4 py-3 font-mono text-xs",children:de.itemId})]},de.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:"4",className:"px-4 py-8 text-center text-gray-500",children:"No audit log entries yet. Actions will appear here as you perform inventory operations."})})})]})}),i.jsx("div",{className:"mt-4 pt-4 border-t flex justify-end",children:i.jsx(Br,{onClick:()=>N(!1),variant:"secondary",children:"Close"})})]})}),Oe&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-6xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Inventory Reservations"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track ingredients reserved for pending orders"})]}),i.jsx(Br,{onClick:()=>Ke(!1),variant:"ghost",children:""})]}),re.length>0&&i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:re.filter(de=>de.status==="reserved").length}),i.jsx("div",{className:"text-xs text-yellow-600 font-medium",children:"Active"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:re.filter(de=>de.status==="consumed").length}),i.jsx("div",{className:"text-xs text-green-600 font-medium",children:"Consumed"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:re.filter(de=>de.status==="released").length}),i.jsx("div",{className:"text-xs text-gray-600 font-medium",children:"Released"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:re.length}),i.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Total"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:re.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left",children:"Order #"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Ingredients Reserved"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Status"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Created"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Expires"}),i.jsx("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),i.jsx("tbody",{children:re.map(de=>i.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:de.orderNumber||`Order ${String(de.orderId).substring(0,8)}`}),i.jsx("td",{className:"px-4 py-3",children:de.items&&de.items.length>0?i.jsx("div",{className:"space-y-1",children:de.items.map((st,xt)=>i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:st.ingredientName||"Unknown"})," ","- ",st.quantity," ",st.unit,st.status&&st.status!=="reserved"&&i.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",st.status,")"]})]},xt))}):i.jsx("span",{className:"text-sm text-gray-400",children:"No items"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${de.status==="reserved"?"bg-yellow-100 text-yellow-800":de.status==="consumed"?"bg-green-100 text-green-800":de.status==="released"?"bg-gray-100 text-gray-800":de.status==="expired"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:de.status})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(de.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:de.expiresAt?i.jsxs(i.Fragment,{children:[new Date(de.expiresAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),new Date(de.expiresAt)<new Date&&i.jsx("span",{className:"ml-1 text-red-600 font-medium",children:"(Expired)"})]}):i.jsx("span",{className:"text-gray-400",children:"N/A"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex gap-2",children:[de.status==="reserved"&&i.jsx(Br,{onClick:()=>sr(de.reservationId),variant:"ghost",size:"sm",title:"Release this reservation",children:"Release"}),(de.status==="consumed"||de.status==="released")&&i.jsx("span",{className:"text-xs text-gray-400 italic",children:"No actions"})]})})]},de.reservationId))})]})}):i.jsx("div",{className:"text-center text-gray-500 py-8",children:"No inventory reservations found"})}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(Br,{onClick:Rt,variant:"secondary",disabled:Be,title:Be?"Please wait 5 seconds between refreshes":"Refresh reservations",children:Be?"Refreshing...":"Refresh"}),i.jsx(Br,{onClick:()=>Ke(!1),variant:"primary",children:"Close"})]})]})})]})})},O4e=()=>{const[e,t]=k.useState([]),[r,n]=k.useState("all"),[a,s]=k.useState("all"),[o,l]=k.useState("today"),[u,A]=k.useState(""),[f,h]=k.useState(""),[p,g]=k.useState(!1),[v,x]=k.useState(""),[b,w]=k.useState(""),[B,j]=k.useState(!1),_=k.useRef(null),[N,O]=k.useState(!0),[T,P]=k.useState(null);Ud();const[U,D]=k.useState(1),[F]=k.useState(12),[R,Q]=k.useState(0),[H,J]=k.useState(null),V=k.useRef(null);k.useEffect(()=>{v!==b&&j(!0);const te=setTimeout(()=>{w(v),j(!1)},300);return()=>clearTimeout(te)},[v,b]),k.useEffect(()=>{D(1)},[r,a,o,b,u,f]),k.useEffect(()=>((()=>{const we=du("http://localhost:5000",{transports:["websocket","polling"],auth:{token:localStorage.getItem("token")||localStorage.getItem("authToken")}});we.on("connect",()=>{console.log("[OrderSystem Socket] Connected to server")}),we.on("disconnect",()=>{console.log("[OrderSystem Socket] Disconnected from server")}),we.on("newPaymentOrder",he=>{console.log("[OrderSystem Socket] New payment order:",he),t(ce=>[...ce,{...he,id:he._id,createdAt:new Date(he.createdAt),updatedAt:he.updatedAt?new Date(he.updatedAt):null,completedAt:he.completedAt?new Date(he.completedAt):null}])}),we.on("orderUpdated",he=>{console.log("[OrderSystem Socket] Order updated:",he),t(ce=>ce.map(xe=>xe.id===he._id?{...xe,...he,id:he._id,createdAt:new Date(he.createdAt),updatedAt:he.updatedAt?new Date(he.updatedAt):null,completedAt:he.completedAt?new Date(he.completedAt):null}:xe))}),we.on("paymentVerified",he=>{console.log("[OrderSystem Socket] Payment verified:",he),t(ce=>ce.map(xe=>xe.id===he.orderId?{...xe,status:he.status,updatedAt:new Date}:xe))}),J(we),V.current=we})(),()=>{V.current&&V.current.disconnect()}),[]),k.useEffect(()=>{(async()=>{try{b!==v||b&&v||O(!0);const we=new URLSearchParams;o==="custom"&&u&&f?(we.append("startDate",u),we.append("endDate",f)):o!=="all"&&we.append("dateFilter",o),b&&b.trim()&&we.append("search",b.trim());const he=`http://localhost:5000/api/orders?${we.toString()}`;console.log("Fetching orders with URL:",he),console.log("Date filter:",o),console.log("Search term:",b),console.log("Params:",we.toString());const ce=await fetch(he);if(!ce.ok)throw new Error("Failed to fetch orders");const{data:xe,success:ge}=await ce.json();if(console.log("Response data:",xe),console.log("Number of orders received:",(xe==null?void 0:xe.length)||0),!ge||!Array.isArray(xe))throw new Error("Invalid server response format");const Pe=xe.map(ke=>({...ke,id:ke._id,createdAt:new Date(ke.createdAt),updatedAt:ke.updatedAt?new Date(ke.updatedAt):null,completedAt:ke.completedAt?new Date(ke.completedAt):null}));t(Pe),v&&_.current&&setTimeout(()=>{var ke;(ke=_.current)==null||ke.focus()},100)}catch(fe){P(fe.message)}finally{O(!1)}})()},[o,u,f,b]);const ee=e.filter(te=>(r==="all"||te.status===r)&&(a==="all"||te.orderType===a)).sort((te,fe)=>fe.createdAt-te.createdAt),ie=Math.ceil(ee.length/F),z=(U-1)*F,W=z+F,L=ee.slice(z,W),q=te=>{D(te),setTimeout(()=>{var fe;(fe=document.querySelector(".orders-grid"))==null||fe.scrollIntoView({behavior:"smooth",block:"start"})},100)},G=async(te,fe)=>{try{const we=await fetch(`http://localhost:5000/api/orders/${te}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:fe})});if(!we.ok){const ce=await we.json();throw new Error(ce.message||"Failed to update status")}const{data:he}=await we.json();t(e.map(ce=>ce.id===he._id?{...ce,status:he.status,updatedAt:new Date(he.updatedAt),...he.completedAt&&{completedAt:new Date(he.completedAt)}}:ce))}catch(we){console.error("Update error:",we),alert(`Status update failed: ${we.message}`)}},Z=te=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(te);return N?i.jsx(I0,{fullScreen:!0,variant:"pulse",message:"Loading orders..."}):T?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-red-600",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Error Loading Orders"}),i.jsx("p",{className:"mb-4",children:T}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 rounded hover:opacity-90 bg-[#f1670f] text-white",children:"Retry"})]}):i.jsx("div",{className:"h-full flex flex-col bg-[#fefdfd]",children:i.jsx("main",{className:"flex-1 overflow-auto bg-[#f9f9f9]",children:i.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 lg:p-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-4 p-3",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 mb-3",children:[i.jsx("div",{className:"flex flex-wrap gap-1",children:["all","received","preparing","ready","completed"].map(te=>i.jsx("button",{className:`py-1.5 px-3 text-xs font-medium rounded-full transition-colors ${r===te?"bg-[#f1670f] text-white":"text-[#2e0304] bg-[#f1670f05] hover:bg-[#f1670f10]"}`,onClick:()=>n(te),children:te.charAt(0).toUpperCase()+te.slice(1)},te))}),i.jsx("div",{className:"flex-1 flex items-center gap-2 min-w-0",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(_m,{className:`absolute left-2 top-1/2 transform -translate-y-1/2 text-sm ${B?"text-[#f1670f] animate-pulse":"text-[#853619]"}`}),i.jsx("input",{ref:_,type:"text",placeholder:"Search orders...",value:v,onChange:te=>x(te.target.value),className:`w-full pl-7 pr-8 py-1.5 border rounded-lg text-xs focus:outline-none focus:ring-1 focus:ring-[#f1670f30] focus:border-[#f1670f] transition-all ${B?"border-[#f1670f30] bg-[#f1670f05]":"border-[#ac9c9b30]"}`,autoComplete:"off"}),B&&i.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"w-3 h-3 border border-[#f1670f] border-t-transparent rounded-full animate-spin"})}),v&&!B&&i.jsx("button",{onClick:()=>{var te;x(""),(te=_.current)==null||te.focus()},className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-[#853619] hover:text-[#f1670f] transition-colors",children:i.jsx(wi,{className:"text-xs"})})]})})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-start lg:items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(vc,{className:"text-[#853619] text-sm"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:[{id:"today",label:"Today"},{id:"yesterday",label:"Yesterday"},{id:"last7days",label:"7d"},{id:"thisMonth",label:"Month"},{id:"all",label:"All"},{id:"custom",label:"Custom"}].map(te=>i.jsx("button",{className:`py-1 px-2 text-xs rounded transition-colors ${o===te.id?"bg-[#f1670f] text-white":"bg-[#85361910] text-[#853619] hover:bg-[#f1670f20]"}`,onClick:()=>{l(te.id),te.id==="custom"?g(!0):g(!1)},children:te.label},te.id))})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs text-[#ac9c9b]",children:"Time:"}),[{id:"last2hours",label:"2h"},{id:"morning",label:"AM"},{id:"afternoon",label:"PM"},{id:"evening",label:"Eve"}].map(te=>i.jsx("button",{className:`py-1 px-1.5 text-xs rounded transition-colors ${o===te.id?"bg-[#f1670f] text-white":"bg-[#85361910] text-[#853619] hover:bg-[#f1670f20]"}`,onClick:()=>l(te.id),children:te.label},te.id))]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(fp,{className:"text-[#853619] text-sm"}),[{id:"all",label:"All"},{id:"counter",label:"POS"},{id:"self_checkout",label:"Self"},{id:"chatbot",label:"Bot"}].map(te=>i.jsx("button",{className:`py-1 px-2 text-xs rounded transition-colors ${a===te.id?"bg-[#f1670f] text-white":"bg-[#85361910] text-[#853619] hover:bg-[#f1670f20]"}`,onClick:()=>s(te.id),children:te.label},te.id))]}),i.jsxs("div",{className:"text-xs text-[#ac9c9b] ml-auto",children:[ee.length," order",ee.length!==1?"s":"",v&&` for "${v}"`,ie>1&&i.jsxs("span",{className:"ml-2",children:[" Page ",U," of ",ie]})]})]}),p&&i.jsx("div",{className:"mt-3 p-3 border border-[#ac9c9b30] rounded-lg bg-[#f9f9f9]",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("label",{className:"text-xs text-[#853619]",children:"From:"}),i.jsx("input",{type:"date",value:u,onChange:te=>A(te.target.value),className:"px-2 py-1 border border-[#ac9c9b30] rounded text-xs"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("label",{className:"text-xs text-[#853619]",children:"To:"}),i.jsx("input",{type:"date",value:f,onChange:te=>h(te.target.value),className:"px-2 py-1 border border-[#ac9c9b30] rounded text-xs"})]}),i.jsx("button",{onClick:()=>g(!1),className:"px-2 py-1 bg-[#f1670f] text-white rounded text-xs hover:bg-[#f1670f90] transition-colors",children:"Apply"})]})})]}),i.jsx("section",{className:"orders-grid grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 mb-6",children:L.map(te=>i.jsxs("div",{className:"bg-white rounded-xl md:rounded-2xl shadow-md hover:shadow-lg transition-all",children:[i.jsxs("div",{className:`p-4 md:p-6 border-b-4 ${te.status==="received"?"border-[#f1670f30]":te.status==="preparing"?"border-[#f1670f50]":te.status==="ready"?"border-[#f1670f]":"border-transparent"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("h2",{className:"font-bold text-lg md:text-xl text-[#2e0304]",children:["Order #",te.receiptNumber]}),te.orderType&&te.orderType!=="counter"&&i.jsx("span",{className:`text-xs px-2 py-1 rounded-full inline-flex items-center w-fit ${te.orderType==="self_checkout"?"bg-[#fbbf2420] text-[#b45309]":te.orderType==="chatbot"?"bg-[#60a5fa20] text-[#1e40af]":"bg-[#f1670f20] text-[#f1670f]"}`,children:te.orderType==="self_checkout"?"Self Checkout":te.orderType==="chatbot"?"Chatbot":te.orderType})]}),i.jsx("span",{className:"text-sm md:text-base px-3 md:px-4 py-1 md:py-2 rounded-full bg-[#85361910] text-[#853619]",children:te.createdAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("div",{className:"space-y-2 md:space-y-3",children:te.items.map((fe,we)=>i.jsxs("div",{className:"flex justify-between items-center text-base md:text-lg",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium text-[#2e0304]",children:[fe.quantity,"x "]}),i.jsx("span",{className:"text-[#853619]",children:fe.name}),fe.selectedSize&&i.jsxs("span",{className:"block text-xs md:text-sm text-[#ac9c9b]",children:["(",fe.selectedSize,")"]})]}),i.jsx("span",{className:"text-[#2e0304]",children:Z(fe.price)})]},we))})]}),i.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center text-xl md:text-2xl font-bold text-[#2e0304]",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:Z(te.totals.total)})]}),te.status!=="completed"&&i.jsx("div",{className:"flex gap-2 md:gap-3 flex-wrap",children:(()=>{switch(te.status){case"received":return["preparing","completed"];case"preparing":return["ready","completed"];case"ready":return["completed"];default:return[]}})().map(fe=>i.jsx("button",{className:`text-sm md:text-base px-4 md:px-6 py-1 md:py-2 rounded-full transition-colors ${te.status===fe?"bg-[#f1670f] text-white":"bg-[#85361910] text-[#853619] hover:bg-[#f1670f20]"}`,onClick:()=>G(te.id,fe),children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))}),te.status==="completed"&&te.completedAt&&i.jsxs("div",{className:"flex items-center gap-2 text-sm md:text-base text-[#853619]",children:[i.jsx(Es,{className:"flex-shrink-0"}),i.jsxs("span",{children:["Completed at ",te.completedAt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]},te.id))}),ie>1&&i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 bg-white rounded-lg p-4 shadow-sm",children:[i.jsxs("div",{className:"text-sm text-[#853619]",children:["Showing ",z+1,"-",Math.min(W,ee.length)," of ",ee.length," orders"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>q(U-1),disabled:U===1,className:`p-2 rounded-lg transition-colors ${U===1?"text-[#ac9c9b] cursor-not-allowed":"text-[#853619] hover:bg-[#f1670f10] hover:text-[#f1670f]"}`,children:i.jsx(Y9,{})}),i.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(5,ie)},(te,fe)=>{let we;return ie<=5||U<=3?we=fe+1:U>=ie-2?we=ie-4+fe:we=U-2+fe,i.jsx("button",{onClick:()=>q(we),className:`w-8 h-8 rounded-lg text-sm transition-colors ${U===we?"bg-[#f1670f] text-white":"text-[#853619] hover:bg-[#f1670f10] hover:text-[#f1670f]"}`,children:we},we)})}),i.jsx("button",{onClick:()=>q(U+1),disabled:U===ie,className:`p-2 rounded-lg transition-colors ${U===ie?"text-[#ac9c9b] cursor-not-allowed":"text-[#853619] hover:bg-[#f1670f10] hover:text-[#f1670f]"}`,children:i.jsx(ud,{})})]}),ie>5&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-[#853619]",children:"Go to:"}),i.jsx("input",{type:"number",min:"1",max:ie,value:U,onChange:te=>{const fe=parseInt(te.target.value);fe>=1&&fe<=ie&&q(fe)},className:"w-16 px-2 py-1 border border-[#ac9c9b30] rounded text-center focus:outline-none focus:ring-1 focus:ring-[#f1670f30] focus:border-[#f1670f]"})]})]}),ee.length===0&&!N&&i.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[i.jsx(Ty,{className:"text-4xl text-[#ac9c9b] mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-[#853619] mb-2",children:"No orders found"}),i.jsx("p",{className:"text-[#ac9c9b]",children:v?`No orders match "${v}"`:"No orders match your current filters"}),(v||r!=="all"||a!=="all"||o!=="all")&&i.jsx("button",{onClick:()=>{x(""),n("all"),s("all"),l("today"),D(1)},className:"mt-4 px-4 py-2 bg-[#f1670f] text-white rounded-lg hover:bg-[#f1670f90] transition-colors",children:"Clear all filters"})]})]})})})},F4e={primary:"#2e0304",accent:"#f1670f",muted:"#ac9c9b",background:"#fefdfd",activeBg:"#f1670f20",iconBrown:"#853619"},P4e=({colors:e=F4e,onTimeClockClick:t,onSidebarToggle:r})=>{var we,he;const n=gA(),a=Jf(),[s,o]=k.useState(!1),[l,u]=k.useState(window.innerWidth),[A,f]=k.useState(null),[h,p]=k.useState(null),[g,v]=k.useState({top:0,left:0}),[x,b]=k.useState(null),[w,B]=k.useState({top:0,left:0}),[j,_]=k.useState(!1);k.useRef({}),k.useEffect(()=>{const ce=()=>{const xe=window.innerWidth;u(xe),xe>=768?o(!0):o(!1)};return window.addEventListener("resize",ce),ce(),()=>window.removeEventListener("resize",ce)},[]),k.useEffect(()=>{r&&r(s,l<768)},[s,l,r]),k.useEffect(()=>{const ce=xe=>{A&&!xe.target.closest("[data-dropdown]")&&!xe.target.closest(".fixed")&&f(null)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[A]),k.useEffect(()=>{const ce=localStorage.getItem("userData");ce&&p(JSON.parse(ce))},[]),k.useEffect(()=>{A&&!n.pathname.startsWith(A)&&f(null)},[n.pathname]);const N=()=>{_(!0)},O=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),localStorage.removeItem("token"),localStorage.removeItem("userPosition"),localStorage.removeItem("userRole"),_(!1),a("/login")},T=()=>{_(!1)},P=(ce,xe)=>{if(b(null),A===ce)f(null);else{const ge=xe.currentTarget.getBoundingClientRect();v({top:ge.top,left:z?ge.right:ge.right+8}),f(ce)}},U=(ce,xe)=>{if(!z){const ge=xe.currentTarget.getBoundingClientRect();B({top:ge.top+ge.height/2,left:ge.right+16}),b(ce)}},D=()=>{b(null)},F=ce=>n.pathname.startsWith(ce),R=ce=>ce.some(xe=>F(xe.path)),Q=l>=1920,H=Q?"8rem":"5rem",J=Q?32:24,V=Q?20:16,Y=Q?"1.875rem":"1.5rem",ee=Q?"1rem":"0.875rem",ie=Q?"14rem":"12rem",z=l<768,W=(h==null?void 0:h.role)||"staff",L=(h==null?void 0:h.position)||"cashier",G=[{path:"/dashboard",icon:i.jsx(rie,{size:J,className:"text-white"}),label:"Dashboard",positions:["shift_manager","general_manager","admin"]},{path:"/pos",icon:i.jsx(cie,{size:J,className:"text-white"}),label:"POS",positions:["cashier","shift_manager","general_manager","admin"]},{path:"/orders",icon:i.jsx(B3,{size:J,className:"text-white"}),label:"Orders",positions:["cashier","shift_manager","general_manager","admin"]},{path:"/payment-verification",icon:i.jsx(Fb,{size:J,className:"text-white"}),label:"Payment Verification",positions:["cashier","shift_manager","general_manager","admin"]},{path:"/inventory-management",icon:i.jsx(Xae,{size:J,className:"text-white"}),label:"Inventory & Menu",positions:["inventory","shift_manager","general_manager","admin"],subItems:[{path:"/inventory",icon:i.jsx(Yae,{size:J,style:{color:e.iconBrown}}),label:"Inventory",positions:["inventory","shift_manager","general_manager","admin"]},{path:"/menu",icon:i.jsx(Wae,{size:J,style:{color:e.iconBrown}}),label:"Menu",positions:["shift_manager","general_manager","admin"]}]},{path:"/timeclock",icon:i.jsx(Es,{size:J,className:"text-white"}),label:"Time Clock",positions:["cashier","inventory","shift_manager","general_manager","admin"]},{path:"/staff",icon:i.jsx(Ly,{size:J,className:"text-white"}),label:"Staff",positions:["shift_manager","general_manager","admin"],subItems:[{path:"/employees",icon:i.jsx(_l,{size:J,style:{color:e.iconBrown}}),label:"Employee Management",positions:["shift_manager","general_manager","admin"]},{path:"/payroll",icon:i.jsx(Fb,{size:J,style:{color:e.iconBrown}}),label:"Payroll System",positions:["shift_manager","general_manager","admin"]}]},{path:"/expenses",icon:i.jsx(j3,{size:J,className:"text-white"}),label:"Expenses",positions:["shift_manager","general_manager","admin"]},{path:"/revenue-reports",icon:i.jsx(fw,{size:J,className:"text-white"}),label:"Revenue Reports",positions:["shift_manager","general_manager","admin"]},{path:"/mobile",icon:i.jsx(e$,{size:J,className:"text-white"}),label:"Mobile Services",positions:["cashier","inventory","shift_manager","general_manager","admin"]}].map(ce=>{if(!ce.positions.includes(L))return null;if(ce.subItems){const xe=ce.subItems.filter(ge=>!ge.positions||ge.positions.includes(L));return xe.length===0?null:{...ce,subItems:xe}}return ce}).filter(Boolean);if(!["/dashboard","/orders","/inventory","/payroll","/chatbot","/menu","/expenses","/pos","/employees","/self-checkout","/timeclock","/sales","/inventory-management","/staff","/revenue-reports","/mobile"].some(ce=>n.pathname.startsWith(ce)))return null;const fe={open:{width:z?"16rem":H,x:0,transition:{type:"spring",stiffness:300,damping:30}},closed:{width:z?"0":H,x:z?"-16rem":0,transition:{type:"spring",stiffness:300,damping:30,when:"afterChildren"}}};return i.jsxs(i.Fragment,{children:["      ",i.jsx("button",{className:"md:hidden fixed top-4 left-4 z-[9999] p-2 rounded-lg shadow-lg",onClick:()=>o(!s),style:{backgroundColor:e.accent,color:e.background},"aria-label":"Toggle menu",children:s?i.jsx(wi,{size:24}):i.jsx(iie,{size:24})}),"      ",i.jsxs(nr.div,{className:`fixed inset-y-0 left-0 z-[9998] flex flex-col
          ${z?"":"md:translate-x-0"}`,style:{backgroundColor:e.primary,borderRight:`1px solid ${e.muted}`},animate:s?"open":"closed",variants:fe,initial:z?"closed":"open",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center h-16 border-b",style:{borderColor:e.muted},children:[i.jsx("div",{className:"font-bold text-white",style:{fontSize:Y},children:"RW"}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx(lie,{size:12,className:"text-white opacity-75 mr-1"}),i.jsx("span",{className:"text-xs text-white opacity-75 capitalize",children:W})]})]}),"          ",i.jsx("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden flex flex-col gap-y-2 py-4 px-2 scrollbar-none",children:G.map((ce,xe)=>i.jsxs("div",{className:"relative",children:["              ",ce.subItems?i.jsxs("div",{className:`group flex ${z?"flex-row items-center px-3":"flex-col items-center"} p-2 rounded-xl cursor-pointer`,style:{backgroundColor:R(ce.subItems)?e.activeBg:"transparent"},onClick:ge=>P(ce.path,ge),onMouseEnter:ge=>U(ce.label,ge),onMouseLeave:D,"data-dropdown":ce.path,children:[i.jsxs("div",{className:"flex items-center",children:[ce.icon,z&&i.jsx("span",{className:"ml-3 text-white font-medium",children:ce.label})]}),i.jsx(dA,{size:V,className:`${z?"ml-auto":"mt-1"} transition-transform text-white ${A===ce.path?"rotate-180":""}`})]}):i.jsxs(eA,{to:ce.path,className:`group flex items-center ${z?"px-3":"justify-center"} p-2 rounded-xl relative`,style:{backgroundColor:F(ce.path)?e.activeBg:"transparent"},onClick:()=>z&&o(!1),onMouseEnter:ge=>U(ce.label,ge),onMouseLeave:D,children:[ce.icon,z&&i.jsx("span",{className:"ml-3 text-white font-medium",children:ce.label})]})]},ce.path))}),i.jsx("div",{className:"sticky bottom-0 bg-inherit flex flex-col items-center gap-y-2 py-4 px-2 border-t mt-auto",style:{borderColor:e.muted},children:i.jsx("button",{onClick:N,className:"rounded-full bg-gray-100 flex items-center justify-center p-2 hover:bg-gray-200",onMouseEnter:ce=>U("Log Out",ce),onMouseLeave:D,children:i.jsx(X9,{size:J,className:"text-gray-900"})})})]}),"      ",z&&s&&i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-[9990]",onClick:()=>o(!1)}),x&&!z&&Gx.createPortal(i.jsxs("div",{className:"fixed bg-white rounded-md shadow-xl border border-gray-200 px-4 py-2 font-semibold text-gray-900 z-[10000] pointer-events-none whitespace-nowrap",style:{top:w.top-12,left:w.left,fontSize:ee,transform:"translateY(-50%)"},children:[i.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 w-2 h-2 bg-white border-l border-t border-gray-200 rotate-45 transform"}),x]}),document.body),A&&Gx.createPortal(i.jsx("div",{className:"fixed bg-white rounded-lg shadow-lg py-2 border border-gray-200 z-[9999]",style:{top:g.top,left:g.left,width:ie,minWidth:ie},children:(he=(we=G.find(ce=>ce.path===A))==null?void 0:we.subItems)==null?void 0:he.map(ce=>i.jsx("div",{children:ce.onClick?i.jsxs("button",{onClick:ce.onClick,className:"flex items-center px-4 py-2 hover:bg-gray-100 text-gray-900 w-full text-left",children:[ce.icon,i.jsx("span",{className:"ml-2 text-sm",children:ce.label})]}):i.jsxs(eA,{to:ce.path,className:"flex items-center px-4 py-2 hover:bg-gray-100 text-gray-900",onClick:()=>{z&&o(!1),f(null)},children:[ce.icon,i.jsx("span",{className:"ml-2 text-sm",children:ce.label})]})},ce.path||ce.label))}),document.body),j&&Gx.createPortal(i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000]",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirm Logout"}),i.jsx("p",{className:"text-gray-600",children:"Are you sure you want to logout? This will close all your open tabs."})]}),i.jsxs("div",{className:"flex gap-3 justify-end",children:[i.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Cancel"}),i.jsx("button",{onClick:O,style:{backgroundColor:e.accent},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Logout"})]})]})}),document.body)]})};var Y0=e=>e.type==="checkbox",_f=e=>e instanceof Date,Co=e=>e==null;const HG=e=>typeof e=="object";var Ii=e=>!Co(e)&&!Array.isArray(e)&&HG(e)&&!_f(e),L4e=e=>Ii(e)&&e.target?Y0(e.target)?e.target.checked:e.target.value:e,U4e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,I4e=(e,t)=>e.has(U4e(t)),D4e=e=>{const t=e.constructor&&e.constructor.prototype;return Ii(t)&&t.hasOwnProperty("isPrototypeOf")},K_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(K_&&(e instanceof Blob||n))&&(r||Ii(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!D4e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=is(e[a]));else return e;return t}var c2=e=>/^\w*$/.test(e),yi=e=>e===void 0,G_=e=>Array.isArray(e)?e.filter(Boolean):[],W_=e=>G_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Lr=(e,t,r)=>{if(!t||!Ii(e))return r;const n=(c2(t)?[t]:W_(t)).reduce((a,s)=>Co(a)?a:a[s],e);return yi(n)||n===e?yi(e[t])?r:e[t]:n},tu=e=>typeof e=="boolean",Ma=(e,t,r)=>{let n=-1;const a=c2(t)?[t]:W_(t),s=a.length,o=s-1;for(;++n<s;){const l=a[n];let u=r;if(n!==o){const A=e[l];u=Ii(A)||Array.isArray(A)?A:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const r7={BLUR:"blur",FOCUS_OUT:"focusout"},gc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Wu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},M4e=Ce.createContext(null);M4e.displayName="HookFormContext";var R4e=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==gc.all&&(t._proxyFormState[o]=!n||gc.all),e[o]}});return a};const Q4e=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;var Xo=e=>typeof e=="string",H4e=(e,t,r,n,a)=>Xo(e)?(n&&t.watch.add(e),Lr(r,e,a)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),Lr(r,s))):(n&&(t.watchAll=!0),r),Nk=e=>Co(e)||!HG(e);function ld(e,t,r=new WeakSet){if(Nk(e)||Nk(t))return e===t;if(_f(e)&&_f(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const s of n){const o=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const l=t[s];if(_f(o)&&_f(l)||Ii(o)&&Ii(l)||Array.isArray(o)&&Array.isArray(l)?!ld(o,l,r):o!==l)return!1}}return!0}var $4e=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},vy=e=>Array.isArray(e)?e:[e],n7=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}};function $G(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],s=t[n];if(a&&Ii(a)&&s){const o=$G(a,s);Ii(o)&&(r[n]=o)}else e[n]&&(r[n]=s)}return r}var io=e=>Ii(e)&&!Object.keys(e).length,Y_=e=>e.type==="file",yc=e=>typeof e=="function",W1=e=>{if(!K_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zG=e=>e.type==="select-multiple",X_=e=>e.type==="radio",z4e=e=>X_(e)||Y0(e),DN=e=>W1(e)&&e.isConnected;function q4e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=yi(e)?n++:e[t[n++]];return e}function V4e(e){for(const t in e)if(e.hasOwnProperty(t)&&!yi(e[t]))return!1;return!0}function Ti(e,t){const r=Array.isArray(t)?t:c2(t)?[t]:W_(t),n=r.length===1?e:q4e(e,r),a=r.length-1,s=r[a];return n&&delete n[s],a!==0&&(Ii(n)&&io(n)||Array.isArray(n)&&V4e(n))&&Ti(e,r.slice(0,-1)),e}var K4e=e=>{for(const t in e)if(yc(e[t]))return!0;return!1};function qG(e){return Array.isArray(e)||Ii(e)&&!K4e(e)}function Ek(e,t={}){for(const r in e)qG(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Ek(e[r],t[r])):yi(e[r])||(t[r]=!0);return t}function nm(e,t,r){r||(r=Ek(t));for(const n in e)qG(e[n])?yi(t)||Nk(r[n])?r[n]=Ek(e[n],Array.isArray(e[n])?[]:{}):nm(e[n],Co(t)?{}:t[n],r[n]):r[n]=!ld(e[n],t[n]);return r}const a7={value:!1,isValid:!1},i7={value:!0,isValid:!0};var VG=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yi(e[0].attributes.value)?yi(e[0].value)||e[0].value===""?i7:{value:e[0].value,isValid:!0}:i7:a7}return a7},KG=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>yi(e)?e:t?e===""?NaN:e&&+e:r&&Xo(e)?new Date(e):n?n(e):e;const s7={isValid:!1,value:null};var GG=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,s7):s7;function o7(e){const t=e.ref;return Y_(t)?t.files:X_(t)?GG(e.refs).value:zG(t)?[...t.selectedOptions].map(({value:r})=>r):Y0(t)?VG(e.refs).value:KG(yi(t.value)?e.ref.value:t.value,e)}var G4e=(e,t,r,n)=>{const a={};for(const s of e){const o=Lr(t,s);o&&Ma(a,s,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Y1=e=>e instanceof RegExp,Dg=e=>yi(e)?e:Y1(e)?e.source:Ii(e)?Y1(e.value)?e.value.source:e.value:e,l7=e=>({isOnSubmit:!e||e===gc.onSubmit,isOnBlur:e===gc.onBlur,isOnChange:e===gc.onChange,isOnAll:e===gc.all,isOnTouch:e===gc.onTouched});const c7="AsyncFunction";var W4e=e=>!!e&&!!e.validate&&!!(yc(e.validate)&&e.validate.constructor.name===c7||Ii(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===c7)),Y4e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),u7=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const xy=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const s=Lr(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(xy(l,t))break}else if(Ii(l)&&xy(l,t))break}}};function A7(e,t,r){const n=Lr(e,r);if(n||c2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),o=Lr(t,s),l=Lr(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};a.pop()}return{name:r}}var X4e=(e,t,r,n)=>{r(e);const{name:a,...s}=e;return io(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||gc.all))},J4e=(e,t,r)=>!e||!t||e===t||vy(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Z4e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,eEe=(e,t)=>!G_(Lr(e,t)).length&&Ti(e,t),tEe=(e,t,r)=>{const n=vy(Lr(e,r));return Ma(n,"root",t[r]),Ma(e,r,n),e};function d7(e,t,r="validate"){if(Xo(e)||Array.isArray(e)&&e.every(Xo)||tu(e)&&!e)return{type:r,message:Xo(e)?e:"",ref:t}}var Jh=e=>Ii(e)&&!Y1(e)?e:{value:e,message:""},f7=async(e,t,r,n,a,s)=>{const{ref:o,refs:l,required:u,maxLength:A,minLength:f,min:h,max:p,pattern:g,validate:v,name:x,valueAsNumber:b,mount:w}=e._f,B=Lr(r,x);if(!w||t.has(x))return{};const j=l?l[0]:o,_=R=>{a&&j.reportValidity&&(j.setCustomValidity(tu(R)?"":R||""),j.reportValidity())},N={},O=X_(o),T=Y0(o),P=O||T,U=(b||Y_(o))&&yi(o.value)&&yi(B)||W1(o)&&o.value===""||B===""||Array.isArray(B)&&!B.length,D=$4e.bind(null,x,n,N),F=(R,Q,H,J=Wu.maxLength,V=Wu.minLength)=>{const Y=R?Q:H;N[x]={type:R?J:V,message:Y,ref:o,...D(R?J:V,Y)}};if(s?!Array.isArray(B)||!B.length:u&&(!P&&(U||Co(B))||tu(B)&&!B||T&&!VG(l).isValid||O&&!GG(l).isValid)){const{value:R,message:Q}=Xo(u)?{value:!!u,message:u}:Jh(u);if(R&&(N[x]={type:Wu.required,message:Q,ref:j,...D(Wu.required,Q)},!n))return _(Q),N}if(!U&&(!Co(h)||!Co(p))){let R,Q;const H=Jh(p),J=Jh(h);if(!Co(B)&&!isNaN(B)){const V=o.valueAsNumber||B&&+B;Co(H.value)||(R=V>H.value),Co(J.value)||(Q=V<J.value)}else{const V=o.valueAsDate||new Date(B),Y=z=>new Date(new Date().toDateString()+" "+z),ee=o.type=="time",ie=o.type=="week";Xo(H.value)&&B&&(R=ee?Y(B)>Y(H.value):ie?B>H.value:V>new Date(H.value)),Xo(J.value)&&B&&(Q=ee?Y(B)<Y(J.value):ie?B<J.value:V<new Date(J.value))}if((R||Q)&&(F(!!R,H.message,J.message,Wu.max,Wu.min),!n))return _(N[x].message),N}if((A||f)&&!U&&(Xo(B)||s&&Array.isArray(B))){const R=Jh(A),Q=Jh(f),H=!Co(R.value)&&B.length>+R.value,J=!Co(Q.value)&&B.length<+Q.value;if((H||J)&&(F(H,R.message,Q.message),!n))return _(N[x].message),N}if(g&&!U&&Xo(B)){const{value:R,message:Q}=Jh(g);if(Y1(R)&&!B.match(R)&&(N[x]={type:Wu.pattern,message:Q,ref:o,...D(Wu.pattern,Q)},!n))return _(Q),N}if(v){if(yc(v)){const R=await v(B,r),Q=d7(R,j);if(Q&&(N[x]={...Q,...D(Wu.validate,Q.message)},!n))return _(Q.message),N}else if(Ii(v)){let R={};for(const Q in v){if(!io(R)&&!n)break;const H=d7(await v[Q](B,r),j,Q);H&&(R={...H,...D(Q,H.message)},_(H.message),n&&(N[x]=R))}if(!io(R)&&(N[x]={ref:j,...R},!n))return N}}return _(!0),N};const rEe={mode:gc.onSubmit,reValidateMode:gc.onChange,shouldFocusError:!0};function nEe(e={}){let t={...rEe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ii(t.defaultValues)||Ii(t.values)?is(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:is(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,A=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const p={array:n7(),state:n7()},g=t.criteriaMode===gc.all,v=ye=>re=>{clearTimeout(A),A=setTimeout(ye,re)},x=async ye=>{if(!t.disabled&&(f.isValid||h.isValid||ye)){const re=t.resolver?io((await T()).errors):await U(n,!0);re!==r.isValid&&p.state.next({isValid:re})}},b=(ye,re)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((ye||Array.from(l.mount)).forEach(_e=>{_e&&(re?Ma(r.validatingFields,_e,re):Ti(r.validatingFields,_e))}),p.state.next({validatingFields:r.validatingFields,isValidating:!io(r.validatingFields)}))},w=(ye,re=[],_e,Oe,Ke=!0,Me=!0)=>{if(Oe&&_e&&!t.disabled){if(o.action=!0,Me&&Array.isArray(Lr(n,ye))){const bt=_e(Lr(n,ye),Oe.argA,Oe.argB);Ke&&Ma(n,ye,bt)}if(Me&&Array.isArray(Lr(r.errors,ye))){const bt=_e(Lr(r.errors,ye),Oe.argA,Oe.argB);Ke&&Ma(r.errors,ye,bt),eEe(r.errors,ye)}if((f.touchedFields||h.touchedFields)&&Me&&Array.isArray(Lr(r.touchedFields,ye))){const bt=_e(Lr(r.touchedFields,ye),Oe.argA,Oe.argB);Ke&&Ma(r.touchedFields,ye,bt)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=nm(a,s)),p.state.next({name:ye,isDirty:F(ye,re),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ma(s,ye,re)},B=(ye,re)=>{Ma(r.errors,ye,re),p.state.next({errors:r.errors})},j=ye=>{r.errors=ye,p.state.next({errors:r.errors,isValid:!1})},_=(ye,re,_e,Oe)=>{const Ke=Lr(n,ye);if(Ke){const Me=Lr(s,ye,yi(_e)?Lr(a,ye):_e);yi(Me)||Oe&&Oe.defaultChecked||re?Ma(s,ye,re?Me:o7(Ke._f)):H(ye,Me),o.mount&&x()}},N=(ye,re,_e,Oe,Ke)=>{let Me=!1,bt=!1;const Jt={name:ye};if(!t.disabled){if(!_e||Oe){(f.isDirty||h.isDirty)&&(bt=r.isDirty,r.isDirty=Jt.isDirty=F(),Me=bt!==Jt.isDirty);const Vt=ld(Lr(a,ye),re);bt=!!Lr(r.dirtyFields,ye),Vt?Ti(r.dirtyFields,ye):Ma(r.dirtyFields,ye,!0),Jt.dirtyFields=r.dirtyFields,Me=Me||(f.dirtyFields||h.dirtyFields)&&bt!==!Vt}if(_e){const Vt=Lr(r.touchedFields,ye);Vt||(Ma(r.touchedFields,ye,_e),Jt.touchedFields=r.touchedFields,Me=Me||(f.touchedFields||h.touchedFields)&&Vt!==_e)}Me&&Ke&&p.state.next(Jt)}return Me?Jt:{}},O=(ye,re,_e,Oe)=>{const Ke=Lr(r.errors,ye),Me=(f.isValid||h.isValid)&&tu(re)&&r.isValid!==re;if(t.delayError&&_e?(u=v(()=>B(ye,_e)),u(t.delayError)):(clearTimeout(A),u=null,_e?Ma(r.errors,ye,_e):Ti(r.errors,ye)),(_e?!ld(Ke,_e):Ke)||!io(Oe)||Me){const bt={...Oe,...Me&&tu(re)?{isValid:re}:{},errors:r.errors,name:ye};r={...r,...bt},p.state.next(bt)}},T=async ye=>{b(ye,!0);const re=await t.resolver(s,t.context,G4e(ye||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(ye),re},P=async ye=>{const{errors:re}=await T(ye);if(ye)for(const _e of ye){const Oe=Lr(re,_e);Oe?Ma(r.errors,_e,Oe):Ti(r.errors,_e)}else r.errors=re;return re},U=async(ye,re,_e={valid:!0})=>{for(const Oe in ye){const Ke=ye[Oe];if(Ke){const{_f:Me,...bt}=Ke;if(Me){const Jt=l.array.has(Me.name),Vt=Ke._f&&W4e(Ke._f);Vt&&f.validatingFields&&b([Me.name],!0);const Be=await f7(Ke,l.disabled,s,g,t.shouldUseNativeValidation&&!re,Jt);if(Vt&&f.validatingFields&&b([Me.name]),Be[Me.name]&&(_e.valid=!1,re))break;!re&&(Lr(Be,Me.name)?Jt?tEe(r.errors,Be,Me.name):Ma(r.errors,Me.name,Be[Me.name]):Ti(r.errors,Me.name))}!io(bt)&&await U(bt,re,_e)}}return _e.valid},D=()=>{for(const ye of l.unMount){const re=Lr(n,ye);re&&(re._f.refs?re._f.refs.every(_e=>!DN(_e)):!DN(re._f.ref))&&fe(ye)}l.unMount=new Set},F=(ye,re)=>!t.disabled&&(ye&&re&&Ma(s,ye,re),!ld(z(),a)),R=(ye,re,_e)=>H4e(ye,l,{...o.mount?s:yi(re)?a:Xo(ye)?{[ye]:re}:re},_e,re),Q=ye=>G_(Lr(o.mount?s:a,ye,t.shouldUnregister?Lr(a,ye,[]):[])),H=(ye,re,_e={})=>{const Oe=Lr(n,ye);let Ke=re;if(Oe){const Me=Oe._f;Me&&(!Me.disabled&&Ma(s,ye,KG(re,Me)),Ke=W1(Me.ref)&&Co(re)?"":re,zG(Me.ref)?[...Me.ref.options].forEach(bt=>bt.selected=Ke.includes(bt.value)):Me.refs?Y0(Me.ref)?Me.refs.forEach(bt=>{(!bt.defaultChecked||!bt.disabled)&&(Array.isArray(Ke)?bt.checked=!!Ke.find(Jt=>Jt===bt.value):bt.checked=Ke===bt.value||!!Ke)}):Me.refs.forEach(bt=>bt.checked=bt.value===Ke):Y_(Me.ref)?Me.ref.value="":(Me.ref.value=Ke,Me.ref.type||p.state.next({name:ye,values:is(s)})))}(_e.shouldDirty||_e.shouldTouch)&&N(ye,Ke,_e.shouldTouch,_e.shouldDirty,!0),_e.shouldValidate&&ie(ye)},J=(ye,re,_e)=>{for(const Oe in re){if(!re.hasOwnProperty(Oe))return;const Ke=re[Oe],Me=ye+"."+Oe,bt=Lr(n,Me);(l.array.has(ye)||Ii(Ke)||bt&&!bt._f)&&!_f(Ke)?J(Me,Ke,_e):H(Me,Ke,_e)}},V=(ye,re,_e={})=>{const Oe=Lr(n,ye),Ke=l.array.has(ye),Me=is(re);Ma(s,ye,Me),Ke?(p.array.next({name:ye,values:is(s)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&_e.shouldDirty&&p.state.next({name:ye,dirtyFields:nm(a,s),isDirty:F(ye,Me)})):Oe&&!Oe._f&&!Co(Me)?J(ye,Me,_e):H(ye,Me,_e),u7(ye,l)&&p.state.next({...r,name:ye}),p.state.next({name:o.mount?ye:void 0,values:is(s)})},Y=async ye=>{o.mount=!0;const re=ye.target;let _e=re.name,Oe=!0;const Ke=Lr(n,_e),Me=Vt=>{Oe=Number.isNaN(Vt)||_f(Vt)&&isNaN(Vt.getTime())||ld(Vt,Lr(s,_e,Vt))},bt=l7(t.mode),Jt=l7(t.reValidateMode);if(Ke){let Vt,Be;const Re=re.type?o7(Ke._f):L4e(ye),Ue=ye.type===r7.BLUR||ye.type===r7.FOCUS_OUT,Qe=!Y4e(Ke._f)&&!t.resolver&&!Lr(r.errors,_e)&&!Ke._f.deps||Z4e(Ue,Lr(r.touchedFields,_e),r.isSubmitted,Jt,bt),Ve=u7(_e,l,Ue);Ma(s,_e,Re),Ue?(!re||!re.readOnly)&&(Ke._f.onBlur&&Ke._f.onBlur(ye),u&&u(0)):Ke._f.onChange&&Ke._f.onChange(ye);const yt=N(_e,Re,Ue),Ht=!io(yt)||Ve;if(!Ue&&p.state.next({name:_e,type:ye.type,values:is(s)}),Qe)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ue&&x():Ue||x()),Ht&&p.state.next({name:_e,...Ve?{}:yt});if(!Ue&&Ve&&p.state.next({...r}),t.resolver){const{errors:ze}=await T([_e]);if(Me(Re),Oe){const Ge=A7(r.errors,n,_e),St=A7(ze,n,Ge.name||_e);Vt=St.error,_e=St.name,Be=io(ze)}}else b([_e],!0),Vt=(await f7(Ke,l.disabled,s,g,t.shouldUseNativeValidation))[_e],b([_e]),Me(Re),Oe&&(Vt?Be=!1:(f.isValid||h.isValid)&&(Be=await U(n,!0)));Oe&&(Ke._f.deps&&(!Array.isArray(Ke._f.deps)||Ke._f.deps.length>0)&&ie(Ke._f.deps),O(_e,Be,Vt,yt))}},ee=(ye,re)=>{if(Lr(r.errors,re)&&ye.focus)return ye.focus(),1},ie=async(ye,re={})=>{let _e,Oe;const Ke=vy(ye);if(t.resolver){const Me=await P(yi(ye)?ye:Ke);_e=io(Me),Oe=ye?!Ke.some(bt=>Lr(Me,bt)):_e}else ye?(Oe=(await Promise.all(Ke.map(async Me=>{const bt=Lr(n,Me);return await U(bt&&bt._f?{[Me]:bt}:bt)}))).every(Boolean),!(!Oe&&!r.isValid)&&x()):Oe=_e=await U(n);return p.state.next({...!Xo(ye)||(f.isValid||h.isValid)&&_e!==r.isValid?{}:{name:ye},...t.resolver||!ye?{isValid:_e}:{},errors:r.errors}),re.shouldFocus&&!Oe&&xy(n,ee,ye?Ke:l.mount),Oe},z=(ye,re)=>{let _e={...o.mount?s:a};return re&&(_e=$G(re.dirtyFields?r.dirtyFields:r.touchedFields,_e)),yi(ye)?_e:Xo(ye)?Lr(_e,ye):ye.map(Oe=>Lr(_e,Oe))},W=(ye,re)=>({invalid:!!Lr((re||r).errors,ye),isDirty:!!Lr((re||r).dirtyFields,ye),error:Lr((re||r).errors,ye),isValidating:!!Lr(r.validatingFields,ye),isTouched:!!Lr((re||r).touchedFields,ye)}),L=ye=>{ye&&vy(ye).forEach(re=>Ti(r.errors,re)),p.state.next({errors:ye?r.errors:{}})},q=(ye,re,_e)=>{const Oe=(Lr(n,ye,{_f:{}})._f||{}).ref,Ke=Lr(r.errors,ye)||{},{ref:Me,message:bt,type:Jt,...Vt}=Ke;Ma(r.errors,ye,{...Vt,...re,ref:Oe}),p.state.next({name:ye,errors:r.errors,isValid:!1}),_e&&_e.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},G=(ye,re)=>yc(ye)?p.state.subscribe({next:_e=>"values"in _e&&ye(R(void 0,re),_e)}):R(ye,re,!0),Z=ye=>p.state.subscribe({next:re=>{J4e(ye.name,re.name,ye.exact)&&X4e(re,ye.formState||f,Qt,ye.reRenderRoot)&&ye.callback({values:{...s},...r,...re,defaultValues:a})}}).unsubscribe,te=ye=>(o.mount=!0,h={...h,...ye.formState},Z({...ye,formState:h})),fe=(ye,re={})=>{for(const _e of ye?vy(ye):l.mount)l.mount.delete(_e),l.array.delete(_e),re.keepValue||(Ti(n,_e),Ti(s,_e)),!re.keepError&&Ti(r.errors,_e),!re.keepDirty&&Ti(r.dirtyFields,_e),!re.keepTouched&&Ti(r.touchedFields,_e),!re.keepIsValidating&&Ti(r.validatingFields,_e),!t.shouldUnregister&&!re.keepDefaultValue&&Ti(a,_e);p.state.next({values:is(s)}),p.state.next({...r,...re.keepDirty?{isDirty:F()}:{}}),!re.keepIsValid&&x()},we=({disabled:ye,name:re})=>{(tu(ye)&&o.mount||ye||l.disabled.has(re))&&(ye?l.disabled.add(re):l.disabled.delete(re))},he=(ye,re={})=>{let _e=Lr(n,ye);const Oe=tu(re.disabled)||tu(t.disabled);return Ma(n,ye,{..._e||{},_f:{..._e&&_e._f?_e._f:{ref:{name:ye}},name:ye,mount:!0,...re}}),l.mount.add(ye),_e?we({disabled:tu(re.disabled)?re.disabled:t.disabled,name:ye}):_(ye,!0,re.value),{...Oe?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:Dg(re.min),max:Dg(re.max),minLength:Dg(re.minLength),maxLength:Dg(re.maxLength),pattern:Dg(re.pattern)}:{},name:ye,onChange:Y,onBlur:Y,ref:Ke=>{if(Ke){he(ye,re),_e=Lr(n,ye);const Me=yi(Ke.value)&&Ke.querySelectorAll&&Ke.querySelectorAll("input,select,textarea")[0]||Ke,bt=z4e(Me),Jt=_e._f.refs||[];if(bt?Jt.find(Vt=>Vt===Me):Me===_e._f.ref)return;Ma(n,ye,{_f:{..._e._f,...bt?{refs:[...Jt.filter(DN),Me,...Array.isArray(Lr(a,ye))?[{}]:[]],ref:{type:Me.type,name:ye}}:{ref:Me}}}),_(ye,!1,void 0,Me)}else _e=Lr(n,ye,{}),_e._f&&(_e._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(I4e(l.array,ye)&&o.action)&&l.unMount.add(ye)}}},ce=()=>t.shouldFocusError&&xy(n,ee,l.mount),xe=ye=>{tu(ye)&&(p.state.next({disabled:ye}),xy(n,(re,_e)=>{const Oe=Lr(n,_e);Oe&&(re.disabled=Oe._f.disabled||ye,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(Ke=>{Ke.disabled=Oe._f.disabled||ye}))},0,!1))},ge=(ye,re)=>async _e=>{let Oe;_e&&(_e.preventDefault&&_e.preventDefault(),_e.persist&&_e.persist());let Ke=is(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:Me,values:bt}=await T();r.errors=Me,Ke=is(bt)}else await U(n);if(l.disabled.size)for(const Me of l.disabled)Ti(Ke,Me);if(Ti(r.errors,"root"),io(r.errors)){p.state.next({errors:{}});try{await ye(Ke,_e)}catch(Me){Oe=Me}}else re&&await re({...r.errors},_e),ce(),setTimeout(ce);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:io(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Pe=(ye,re={})=>{Lr(n,ye)&&(yi(re.defaultValue)?V(ye,is(Lr(a,ye))):(V(ye,re.defaultValue),Ma(a,ye,is(re.defaultValue))),re.keepTouched||Ti(r.touchedFields,ye),re.keepDirty||(Ti(r.dirtyFields,ye),r.isDirty=re.defaultValue?F(ye,is(Lr(a,ye))):F()),re.keepError||(Ti(r.errors,ye),f.isValid&&x()),p.state.next({...r}))},ke=(ye,re={})=>{const _e=ye?is(ye):a,Oe=is(_e),Ke=io(ye),Me=Ke?a:Oe;if(re.keepDefaultValues||(a=_e),!re.keepValues){if(re.keepDirtyValues){const bt=new Set([...l.mount,...Object.keys(nm(a,s))]);for(const Jt of Array.from(bt))Lr(r.dirtyFields,Jt)?Ma(Me,Jt,Lr(s,Jt)):V(Jt,Lr(Me,Jt))}else{if(K_&&yi(ye))for(const bt of l.mount){const Jt=Lr(n,bt);if(Jt&&Jt._f){const Vt=Array.isArray(Jt._f.refs)?Jt._f.refs[0]:Jt._f.ref;if(W1(Vt)){const Be=Vt.closest("form");if(Be){Be.reset();break}}}}if(re.keepFieldsRef)for(const bt of l.mount)V(bt,Lr(Me,bt));else n={}}s=t.shouldUnregister?re.keepDefaultValues?is(a):{}:is(Me),p.array.next({values:{...Me}}),p.state.next({values:{...Me}})}l={mount:re.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!re.keepIsValid||!!re.keepDirtyValues||!t.shouldUnregister&&!io(Me),o.watch=!!t.shouldUnregister,p.state.next({submitCount:re.keepSubmitCount?r.submitCount:0,isDirty:Ke?!1:re.keepDirty?r.isDirty:!!(re.keepDefaultValues&&!ld(ye,a)),isSubmitted:re.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ke?{}:re.keepDirtyValues?re.keepDefaultValues&&s?nm(a,s):r.dirtyFields:re.keepDefaultValues&&ye?nm(a,ye):re.keepDirty?r.dirtyFields:{},touchedFields:re.keepTouched?r.touchedFields:{},errors:re.keepErrors?r.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},se=(ye,re)=>ke(yc(ye)?ye(s):ye,re),Et=(ye,re={})=>{const _e=Lr(n,ye),Oe=_e&&_e._f;if(Oe){const Ke=Oe.refs?Oe.refs[0]:Oe.ref;Ke.focus&&(Ke.focus(),re.shouldSelect&&yc(Ke.select)&&Ke.select())}},Qt=ye=>{r={...r,...ye}},nt={control:{register:he,unregister:fe,getFieldState:W,handleSubmit:ge,setError:q,_subscribe:Z,_runSchema:T,_focusError:ce,_getWatch:R,_getDirty:F,_setValid:x,_setFieldArray:w,_setDisabledField:we,_setErrors:j,_getFieldArray:Q,_reset:ke,_resetDefaultValues:()=>yc(t.defaultValues)&&t.defaultValues().then(ye=>{se(ye,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:xe,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ye){o=ye},get _defaultValues(){return a},get _names(){return l},set _names(ye){l=ye},get _formState(){return r},get _options(){return t},set _options(ye){t={...t,...ye}}},subscribe:te,trigger:ie,register:he,handleSubmit:ge,watch:G,setValue:V,getValues:z,reset:se,resetField:Pe,clearErrors:L,unregister:fe,setError:q,setFocus:Et,getFieldState:W};return{...nt,formControl:nt}}function aEe(e={}){const t=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,a]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:yc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:yc(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!yc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=nEe(e);t.current={...l,formState:n}}const s=t.current.control;return s._options=e,Q4e(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),Ce.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ce.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Ce.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Ce.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Ce.useEffect(()=>{e.values&&!ld(e.values,r.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),r.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=R4e(n,s),t.current}const iEe=(e,t)=>{let r;return function(...a){const s=()=>{clearTimeout(r),e(...a)};clearTimeout(r),r=setTimeout(s,t)}},sEe=async(e,t)=>{const r={role:"system",content:`You are a professional food writer who creates appetizing, appealing food descriptions for cafe menus.
- Keep descriptions between 20-40 words
- Highlight flavors, textures, and key ingredients
- Use vivid, sensory language that makes the dish sound delicious
- Focus on what makes this item special
- Be authentic and accurate to the actual food described
- Never use markdown or special formatting`},n=`Create a short, appealing menu description for "${e}" based on this basic description: "${t}"`,a={model:"gemini-2.5-flash",messages:[r,{role:"user",content:n}],temperature:.7,max_tokens:200};try{const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw new Error(`API error: ${s.status}`);const o=await s.json();if(o.error||!o.choices||!o.choices[0]||!o.choices[0].message)return console.error("Error generating menu description:",o.error||"Invalid response format"),t;const l=o.choices[0].message.content.trim();return console.log("Generated menu description:",l),l}catch(s){return console.error("Error generating menu description:",s),t}},At={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},qx={name:"",category:"Meals",code:"",subCategory:"Rice Meals",pricing:{},description:"",image:"",modifiers:[],preparationTime:15,isAvailable:!0,ingredients:[]},Zc=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Yu=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),oEe=({className:e})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),lEe=({className:e})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),cEe=({className:e,isExpanded:t})=>i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`${e} transition-transform duration-200 ${t?"transform rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),uEe=()=>{var ra;const[e,t]=k.useState(null),[r,n]=k.useState([]),[a,s]=k.useState([]),[o,l]=k.useState(null),[u,A]=k.useState(!1),[f,h]=k.useState(!1),[p,g]=k.useState(null),[v,x]=k.useState(null),[b,w]=k.useState(null),[B,j]=k.useState(!0),[_,N]=k.useState(!1),[O,T]=k.useState(!1),[P,U]=k.useState(null),[D,F]=k.useState(""),[R,Q]=k.useState("All"),[H,J]=k.useState({name:"",price:0,category:"Beverages"}),[V,Y]=k.useState(!1),[ee,ie]=k.useState([]),[z,W]=k.useState({}),[L,q]=k.useState(!1),[G,Z]=k.useState(null),[te,fe]=k.useState(""),[we,he]=k.useState(""),[ce,xe]=k.useState(""),[ge,Pe]=k.useState(!1),[ke,se]=k.useState(null),[Et,Qt]=k.useState(null),[It,nt]=k.useState([]),[ye,re]=k.useState(""),[_e,Oe]=k.useState(""),[Ke,Me]=k.useState([]),[bt,Jt]=k.useState(!1),[Vt,Be]=k.useState([]),[Re,Ue]=k.useState([]),[Qe,Ve]=k.useState([]),[yt,Ht]=k.useState(null),[ze,Ge]=k.useState(!1),[St,Rt]=k.useState({}),[sr,Ye]=k.useState({}),[pt,gt]=k.useState(!1),[et,ft]=k.useState(""),[ut,tr]=k.useState(null),[Kt,Ct]=k.useState(null),{register:$r,handleSubmit:qr,reset:lr,watch:cr,setValue:Zt,getValues:mr,formState:{errors:on}}=aEe({defaultValues:qx}),Ur=cr("category"),Vr=cr("subCategory");k.useEffect(()=>{if(o!=null&&o._id){const ue={...o.pricing};console.log("Raw pricing from database:",ue);const He=Object.keys(ue).some(Tt=>Tt!=="base"&&Tt!=="single"&&Tt!=="_id");!He&&ue.base!==void 0&&(ue.single=ue.base,console.log("Converted base price to single:",ue.base),delete ue.base),Object.keys(ue).filter(Tt=>Tt!=="_id").length===0&&(ue.single="",console.log("No pricing found, initializing single price as empty")),Object.keys(ue).forEach(Tt=>{if(Tt==="_id")return;const ve=ue[Tt];if(ve==null)ue[Tt]="";else if(typeof ve=="number")ue[Tt]=ve;else{const at=parseFloat(ve);ue[Tt]=isNaN(at)?"":at}}),console.log("Initializing edit form with pricing:",ue);const We=ee.find(Tt=>(Tt.name||Tt.category)===o.category);let it=!1;if(We){const Tt=(We.subCategories||We.subcategories||[]).find(ve=>(ve.name||ve.displayName)===o.subCategory);it=(Tt==null?void 0:Tt.sizes)&&Tt.sizes.length>0,console.log(`Subcategory "${o.subCategory}" has sizes:`,it,Tt==null?void 0:Tt.sizes)}const wt=it&&!He,$t={...o,pricing:ue,ignoreSizes:wt};console.log("Resetting form with data:",$t),console.log("Edit form initialized with ignoreSizes:",wt),lr($t),ue.single!==void 0&&ue.single!==null&&setTimeout(()=>{mr("pricing.single")!==ue.single&&(console.warn("Form pricing.single mismatch detected, forcing setValue"),Zt("pricing.single",ue.single))},100)}},[o,lr,ee,Zt,mr]),k.useEffect(()=>{var ue;if(!(o!=null&&o._id)){const He=cr("category"),We=ee.find($t=>($t.name||$t.category)===He);let it=[];We&&(it=(We.subCategories||We.subcategories||[]).map(Tt=>Tt&&(Tt.name||Tt.displayName)||"").filter(Boolean)),it.length===0&&(it=Object.keys(((ue=z[He])==null?void 0:ue.subCategories)||{})),(!it||it.length===0)&&(it=typeof MENU_CONFIG<"u"&&MENU_CONFIG[He]?MENU_CONFIG[He].subCategories||[]:[]);const wt=cr("subCategory");if(!it.includes(wt)){const $t=it[0]||"";lr({...cr(),subCategory:$t})}}},[Ur,lr,o,cr,z,ee]),k.useEffect(()=>{if(ee.length>0&&!(o!=null&&o._id)){const ue=cr("category"),He=cr("subCategory"),We=ee.find(it=>(it.name||it.category)===ue);if(We){const wt=(We.subCategories||We.subcategories||[]).filter($t=>$t.isActive!==!1).map($t=>$t&&($t.name||$t.displayName)||"").filter(Boolean);wt.length>0&&!wt.includes(He)&&Zt("subCategory",wt[0])}}},[ee,o,cr,Zt]),k.useEffect(()=>{var ue,He;if(!(o!=null&&o._id)&&Vr){const We=ee.find($t=>($t.name||$t.category)===Ur);let it=[];if(We){const $t=(We.subCategories||We.subcategories||[]).find(Tt=>(Tt.name||Tt.displayName)===Vr);$t&&$t.sizes&&$t.sizes.length>0&&(it=$t.sizes)}it.length===0&&((He=(ue=z[Ur])==null?void 0:ue.subCategories[Vr])!=null&&He.sizes)&&(it=z[Ur].subCategories[Vr].sizes),cr("pricing");const wt={};it.length>0?(it.forEach($t=>{const Tt=$t.name||$t;wt[Tt]=""}),console.log("Subcategory changed - cleared pricing for new sizes:",Object.keys(wt))):(wt.single="",console.log("Subcategory changed - cleared pricing for single price mode")),Zt("pricing",wt),Zt("ignoreSizes",!1)}},[Vr,o,ee,Ur,z,cr,Zt]);const dn=async()=>{try{const ue=await fetch("http://localhost:5000/api/add-ons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!ue.ok){const We=await ue.json();throw new Error(We.message||"Failed to create add-on")}const He=await ue.json();s(We=>[...We,He]),h(!1),J({name:"",price:0,category:"Beverages"})}catch(ue){console.error("Error creating add-on:",ue),alert(`Error: ${ue.message}`)}},Yn=async ue=>{try{if(!(await fetch(`http://localhost:5000/api/add-ons/${ue}`,{method:"DELETE"})).ok)throw new Error("Failed to delete add-on");s(We=>We.filter(it=>it._id!==ue)),g(null)}catch(He){console.error("Error deleting add-on:",He),alert(`Error: ${He.message}`)}},hn=async(ue=null)=>{var He;try{const We=await fetch("http://localhost:5000/api/menu?limit=1000",{signal:ue});await new Promise(tt=>setTimeout(tt,200));const it=await fetch("http://localhost:5000/api/add-ons",{signal:ue});await new Promise(tt=>setTimeout(tt,200));const wt=await fetch("http://localhost:5000/api/categories",{signal:ue});await new Promise(tt=>setTimeout(tt,200));const $t=await fetch("http://localhost:5000/api/items",{signal:ue});if(!We.ok||!it.ok)throw new Error("Failed to fetch menu or add-ons data");const Tt=await We.json(),ve=await it.json(),at=Array.isArray(Tt)?Tt:Tt.items||[];if(n(at),s(ve),$t.ok){const tt=await $t.json(),ht=Array.isArray(tt)?tt:[];Ue(ht)}const dt=at.map(tt=>tt._id).filter(Boolean);if(dt.length>0){console.log(`[MenuManagement] Batch checking availability for ${dt.length} items...`);try{const tt=await fetch("http://localhost:5000/api/menu/check-availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menuItems:dt.map(ht=>({menuItemId:ht,quantity:1}))})});if(tt.ok){const ht=await tt.json();console.log("[MenuManagement] Batch API response:",ht);const jt=((He=ht.data)==null?void 0:He.itemAvailabilities)||ht.itemAvailabilities||[];if(jt.length>0){const kt={};jt.forEach(Wt=>{kt[Wt.menuItemId]={isAvailable:Wt.isAvailable,hasIngredientTracking:Wt.hasIngredientTracking||!1,insufficientIngredients:Wt.insufficientIngredients||[],timestamp:Date.now()}}),Ye(kt),console.log(`[MenuManagement] Loaded availability for ${Object.keys(kt).length} items`);const Bt=jt.filter(Wt=>Wt.hasIngredientTracking);console.log(`[MenuManagement] Fetching cost analysis for ${Bt.length} tracked items...`);const Dt=5;for(let Wt=0;Wt<Bt.length;Wt+=Dt){const pr=Bt.slice(Wt,Wt+Dt);setTimeout(()=>{pr.forEach(Qr=>{Rn(Qr.menuItemId)})},Wt/Dt*500)}}else console.warn("[MenuManagement] No itemAvailabilities in response")}}catch(tt){console.warn("[MenuManagement] Batch availability check failed:",tt.message)}}if(wt.ok){const tt=await wt.json();console.log("MenuManagement: Loaded dynamic categories",tt),console.log("Raw categories data:",tt.map(Bt=>{var Dt,Wt;return{id:Bt._id,name:Bt.name,category:Bt.category,subCategories:(Dt=Bt.subCategories)==null?void 0:Dt.map(pr=>({id:pr._id,name:pr.name,displayName:pr.displayName,raw:pr,sizes:pr.sizes})),subcategories:(Wt=Bt.subcategories)==null?void 0:Wt.map(pr=>({id:pr._id,name:pr.name,displayName:pr.displayName,raw:pr,sizes:pr.sizes}))}})),tt.forEach(Bt=>{Bt.subcategories&&Bt.subcategories.length>0&&console.log(`${Bt.name} subcategories:`,Bt.subcategories),Bt.subCategories&&Bt.subCategories.length>0&&console.log(`${Bt.name} subCategories:`,Bt.subCategories)});const jt=tt.map(Bt=>({...Bt,name:Bt.name||Bt.category,_id:Bt._id||Bt.category})).sort((Bt,Dt)=>(Bt.sortOrder||0)!==(Dt.sortOrder||0)?(Bt.sortOrder||0)-(Dt.sortOrder||0):Bt.name!==Dt.name?(Bt.name||"").localeCompare(Dt.name||""):(Bt._id||"").toString().localeCompare((Dt._id||"").toString())).map(Bt=>(Bt.subcategories&&Array.isArray(Bt.subcategories)&&(Bt.subcategories=Bt.subcategories.sort((Dt,Wt)=>{if((Dt.sortOrder||0)!==(Wt.sortOrder||0))return(Dt.sortOrder||0)-(Wt.sortOrder||0);const pr=Dt.displayName||Dt.name||Dt.toString(),Qr=Wt.displayName||Wt.name||Wt.toString();return pr.localeCompare(Qr)})),Bt.subCategories&&Array.isArray(Bt.subCategories)&&(Bt.subCategories=Bt.subCategories.sort((Dt,Wt)=>{if((Dt.sortOrder||0)!==(Wt.sortOrder||0))return(Dt.sortOrder||0)-(Wt.sortOrder||0);const pr=Dt.displayName||Dt.name||Dt.toString(),Qr=Wt.displayName||Wt.name||Wt.toString();return pr.localeCompare(Qr)})),Bt));ie(jt),console.log("MenuManagement: Categories FORCE updated with stable order"),console.log("Actual sort order:",jt.map(Bt=>({name:Bt.name,sortOrder:Bt.sortOrder})));const kt={};jt.forEach(Bt=>{const Dt=Bt.name||Bt.category;if(Dt){kt[Dt]={subCategories:{}};const Wt=Bt.subcategories||Bt.subCategories||[];Wt.length>0&&Wt.forEach(pr=>{const Qr=pr.name||pr;if(Qr){const Vn=pr.sizes&&pr.sizes.length>0?pr.sizes.map(yn=>typeof yn=="object"&&yn.name?{name:yn.name,displayName:yn.displayName||yn.name}:{name:yn,displayName:yn}):[],Gr=pr.availableAddons||pr.addons||[];kt[Dt].subCategories[Qr]={sizes:Vn,addons:Gr}}})}}),console.log("MenuManagement: Generated pure database config",kt),W(kt),console.log("MenuManagement: Using database-driven config",kt)}else console.warn("MenuManagement: Failed to fetch categories, using empty config"),W({});U(null)}catch(We){We.name!=="AbortError"&&(console.error("Error fetching data:",We),U(We.message))}finally{j(!1)}};k.useEffect(()=>{const ue=new AbortController;return!r.length&&!ee.length&&hn(ue.signal),()=>ue.abort()},[]),k.useEffect(()=>{const ue="http://localhost:5000",He=localStorage.getItem("token")||localStorage.getItem("authToken"),We=du(ue,{auth:{token:He},transports:["websocket","polling"]});return We.on("connect",()=>{console.log("[MenuManagement] Socket connected - Authenticated:",We.auth.token?"Yes":"No")}),We.on("disconnect",()=>{console.log("[MenuManagement] Socket disconnected")}),Ct(We),()=>{console.log("[MenuManagement] Cleaning up socket connection"),We.disconnect()}},[]),k.useEffect(()=>{if(!Kt)return;const ue=it=>{console.log("[MenuManagement] Ingredient mapping changed:",it),it.menuItemId&&(console.log(`[MenuManagement] Updating cost analysis for ${it.menuItemId} (NO availability refetch)`),Rn(it.menuItemId))},He=it=>{console.log("[MenuManagement] Menu availability changed:",it),it.menuItemId&&(Ye(wt=>({...wt,[it.menuItemId]:{isAvailable:it.isAvailable,reason:it.reason,insufficientIngredients:it.insufficientIngredients||[],hasIngredientTracking:it.insufficientIngredients&&it.insufficientIngredients.length>0||!1,timestamp:Date.now()}})),console.log(`[MenuManagement] Availability updated from socket for ${it.menuItemId}:`,it.isAvailable),n(wt=>wt.map($t=>$t._id===it.menuItemId?{...$t,isAvailable:it.isAvailable}:$t)),(o==null?void 0:o._id)===it.menuItemId&&(console.log(`[MenuManagement] Updating form for currently edited item ${o.name}`),console.log(`[MenuManagement] Setting isAvailable toggle to: ${it.isAvailable}`),Zt("isAvailable",it.isAvailable,{shouldDirty:!0,shouldTouch:!0}),l(wt=>{const $t={...wt,isAvailable:it.isAvailable};return console.log("[MenuManagement] Updated selectedItem:",$t),$t}),setTimeout(()=>{const wt=mr("isAvailable");console.log(`[MenuManagement] Current toggle value after update: ${wt}`)},100)))},We=it=>{console.log("[MenuManagement] User logged out event received:",it),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("userPosition"),localStorage.removeItem("userRole"),window.location.href="/"};return Kt.on("ingredientMappingChanged",ue),Kt.on("menuAvailabilityChanged",He),Kt.on("userLoggedOut",We),console.log("[MenuManagement] Socket event listeners registered"),()=>{Kt.off("ingredientMappingChanged",ue),Kt.off("menuAvailabilityChanged",He),Kt.off("userLoggedOut",We),console.log("[MenuManagement] Socket event listeners removed")}},[Kt]),k.useEffect(()=>{const ue=yt==null?void 0:yt._id,He=o==null?void 0:o._id;ue?(Mn(ue),Rn(ue),bn(ue)):He&&!yt?(Mn(He),Rn(He),bn(He)):Ve([])},[yt==null?void 0:yt._id,o==null?void 0:o._id]);const Mn=async ue=>{try{console.log("Fetching ingredients for menu item:",ue);const He=await fetch(`http://localhost:5000/api/menu/ingredients/${ue}`);if(He.ok){const We=await He.json();if(console.log("Fetched ingredients data:",We),We.success&&We.data&&We.data.ingredients){const it=We.data.ingredients.map(wt=>{const $t=wt.inventoryItemId||wt.ingredientId;return{ingredientId:$t,_id:$t,name:wt.name||"Unknown Item",quantityNeeded:wt.quantity,quantity:wt.quantity,unit:wt.unit,tolerance:wt.tolerance||.1,isRequired:wt.isRequired!==!1,notes:wt.notes||"",currentStock:wt.currentStock||0,unitCost:wt.unitCost||0}});console.log("Transformed ingredients:",it),Ve(it)}else console.log("No ingredients found or invalid data structure"),Ve([])}else console.error("Failed to fetch ingredients, status:",He.status),Ve([])}catch(He){console.error("Error fetching menu item ingredients:",He),Ve([])}},Ha=ue=>{const He=ue.target.files[0];if(!He)return;if(!He.type.startsWith("image/")){alert("Please upload an image file (JPEG, PNG, GIF, WEBP)");return}if(He.size>5*1024*1024){alert("File size must be less than 5MB");return}const We=new FileReader;We.onloadend=()=>x(We.result),We.readAsDataURL(He),w(He)},Rn=async ue=>{try{const He=await fetch(`http://localhost:5000/api/menu/cost-analysis/${ue}`);if(He.ok){const We=await He.json();Rt(it=>({...it,[ue]:We.success?We.data:We}))}else{console.warn(`Cost analysis not available for item ${ue} (Status: ${He.status})`);const We=r.find(it=>it._id===ue);Rt(it=>({...it,[ue]:{menuItemId:ue,menuItemName:(We==null?void 0:We.name)||"Unknown",sellingPrice:parseFloat((We==null?void 0:We.price)||0),totalCost:0,profit:parseFloat((We==null?void 0:We.price)||0),profitMargin:100,ingredientBreakdown:[],hasIngredientMapping:Qe.length>0,fallback:!0}}))}}catch(He){(He.message.includes("Failed to fetch")||He.message.includes("NetworkError")||He.message.includes("timeout"))&&console.error("CONNECTION ISSUE DETECTED during cost analysis:",{error:He.message,menuItemId:ue,timestamp:new Date().toISOString()}),console.warn("Cost analysis service unavailable:",He.message);const it=r.find(wt=>wt._id===ue);Rt(wt=>({...wt,[ue]:{menuItemId:ue,menuItemName:(it==null?void 0:it.name)||"Unknown",sellingPrice:parseFloat((it==null?void 0:it.price)||0),totalCost:0,profit:parseFloat((it==null?void 0:it.price)||0),profitMargin:100,ingredientBreakdown:[],hasIngredientMapping:Qe.length>0,fallback:!0}}))}},bn=async ue=>{try{const He=await fetch("http://localhost:5000/api/menu/check-availability",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menuItems:[{menuItemId:ue,quantity:1}]})});if(He.ok){const We=await He.json();Ye(it=>({...it,[ue]:{...We.success?We.data:We,timestamp:Date.now()}}))}else console.warn(`Availability check failed for item ${ue}`),Ye(We=>({...We,[ue]:{isAvailable:!0,hasIngredientTracking:!1,timestamp:Date.now()}}))}catch(He){console.warn("Availability check service unavailable:",He.message),Ye(We=>({...We,[ue]:{isAvailable:!0,hasIngredientTracking:!1,timestamp:Date.now()}}))}},Ja=(ue,He=1,We="pieces")=>{const it={ingredientId:ue._id,name:ue.name,quantityNeeded:He,unit:We};Ve(wt=>wt.find(Tt=>Tt.ingredientId===ue._id)?wt.map(Tt=>Tt.ingredientId===ue._id?{...Tt,quantityNeeded:He,unit:We}:Tt):[...wt,it])},qn=ue=>{Ve(He=>He.filter(We=>We.ingredientId!==ue))},Qn=async(ue,He)=>{if(Qn.isRunning)return console.warn("Ingredient update already in progress"),!1;Qn.isRunning=!0;try{if(console.log("Updating ingredients for menu item:",ue,He),!ue||!Array.isArray(He))throw new Error("Invalid input: menuItemId and ingredients array required");if(He.length===0)console.log("Removing all ingredient mappings for menu item:",ue);else{if(He.length>20)throw new Error("Too many ingredients. Maximum 20 ingredients allowed.");for(let Tt=0;Tt<He.length;Tt++){const ve=He[Tt];if(!ve.inventoryItemId||!ve.quantity||!ve.unit)throw new Error(`Ingredient ${Tt+1}: Missing required fields (inventoryItemId, quantity, unit)`);if(isNaN(ve.quantity)||ve.quantity<=0)throw new Error(`Ingredient ${Tt+1}: Quantity must be a positive number`)}}const We=new AbortController,it=setTimeout(()=>We.abort(),3e4),wt=await fetch(`http://localhost:5000/api/menu/ingredients/${ue}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:He}),signal:We.signal});clearTimeout(it);const $t=await wt.json();if(console.log("Update response:",$t),wt.ok&&$t.success!==!1)return setTimeout(()=>{try{Rn(ue),bn(ue)}catch(Tt){console.warn("Error refreshing data after ingredient update:",Tt)}},1e3),!0;{let Tt=$t.message||"Unknown error";return wt.status===429?Tt="Too many requests. Please wait a moment before trying again.":wt.status===408?Tt="Request timed out. Please try again.":wt.status===503&&(Tt="Database temporarily unavailable. Please try again in a moment."),console.error("Failed to update ingredients:",Tt),alert("Error: "+Tt),!1}}catch(We){console.error("Error updating menu item ingredients:",We),(We.message.includes("Failed to fetch")||We.message.includes("NetworkError")||We.message.includes("timeout")||We.name==="AbortError")&&console.error("CONNECTION ISSUE DETECTED during ingredient mapping:",{error:We.message,errorName:We.name,menuItemId:ue,ingredientCount:He.length,timestamp:new Date().toISOString(),stack:We.stack});let wt=We.message;return We.name==="AbortError"?wt="Request timed out. Please check your connection and try again.":We.message.includes("Failed to fetch")&&(wt="Connection lost. Please check your network connection and try again."),alert("Error updating ingredients: "+wt),!1}finally{Qn.isRunning=!1}},$a=async ue=>{var We,it,wt;if(O)return;T(!0);const He=new AbortController;try{const $t=ee.find(Wt=>(Wt.name||Wt.category)===ue.category);if(!$t&&!z[ue.category])throw new Error(`Invalid category: ${ue.category}`);const ve=($t?$t.subCategories||$t.subcategories||[]:[]).find(Wt=>(Wt.name||Wt.displayName)===ue.subCategory);if(!ve&&$t)throw new Error(`Invalid subcategory: ${ue.subCategory}`);const at=ve||((it=(We=z[ue.category])==null?void 0:We.subCategories)==null?void 0:it[ue.subCategory]);if(!at)throw new Error(`Invalid subcategory: ${ue.subCategory}`);const dt={},tt=(ve==null?void 0:ve.sizes)||at.sizes||[];if(ue.ignoreSizes||tt.length===0){const Wt=parseFloat((wt=ue.pricing)==null?void 0:wt.single);if(isNaN(Wt))throw new Error("Invalid price: Please enter a valid single price");dt.base=Wt}else{const Wt=[];if(tt.forEach(pr=>{var yn;const Qr=pr.name||pr,Vn=(yn=ue.pricing)==null?void 0:yn[Qr],Gr=parseFloat(Vn);if(Vn==null||Vn==="")Wt.push(pr.displayName||Qr);else{if(isNaN(Gr))throw new Error(`Invalid price for ${pr.displayName||Qr}: "${Vn}" is not a valid number`);dt[Qr]=Gr}}),Wt.length>0)throw new Error(`Missing prices for: ${Wt.join(", ")}. Please fill in all size prices.`)}const ht=new FormData;ht.append("code",ue.code.toUpperCase().trim()),ht.append("name",ue.name.trim()),ht.append("category",ue.category),ht.append("subCategory",ue.subCategory),ht.append("description",ue.description.trim()),ht.append("pricing",JSON.stringify(dt)),ht.append("modifiers",JSON.stringify(ue.modifiers||[])),ht.append("preparationTime",ue.preparationTime.toString()),ht.append("isAvailable",ue.isAvailable.toString()),ht.append("ignoreSizes",ue.ignoreSizes?"true":"false"),ht.append("ingredients",JSON.stringify(Qe)),b&&ht.append("image",b);const jt=o!=null&&o._id?"PUT":"POST",kt=o!=null&&o._id?`http://localhost:5000/api/menu/${o._id}`:"http://localhost:5000/api/menu",Bt=await fetch(kt,{method:jt,body:ht,signal:He.signal});if(!Bt.ok){const Wt=await Bt.json();throw new Error(Wt.message||"Failed to save item")}const Dt=await Bt.json();n(Wt=>{const pr=Array.isArray(Wt)?Wt:[];return o!=null&&o._id?pr.map(Qr=>Qr._id===Dt._id?Dt:Qr):[...pr,Dt]}),o!=null&&o._id?(lr({...qx,category:ue.category,subCategory:ue.subCategory}),x(null),w(null),l(null),Ht(null),alert(`Menu item "${Dt.name}" updated successfully!`)):(Ht(Dt),l(Dt),lr({...Dt,pricing:Dt.pricing||{},modifiers:Dt.modifiers||[]}),x(Dt.image?`http://localhost:5000${Dt.image}`:null),w(null),Qe.length>0?(console.log("Auto-saving ingredients for newly created item:",Dt._id),setTimeout(async()=>{try{const Wt=Qe.map(Qr=>({inventoryItemId:Qr.ingredientId||Qr._id,quantity:Number(Qr.quantityNeeded||Qr.quantity||1),unit:(Qr.unit||"pieces").toLowerCase().trim(),tolerance:Number(Qr.tolerance||.1),isRequired:Qr.isRequired!==!1,notes:(Qr.notes||"").substring(0,500)})),pr=await Qn(Dt._id,Wt);alert(pr?`Menu item "${Dt.name}" created successfully with ${Qe.length} ingredients mapped!`:`Menu item "${Dt.name}" created successfully!
However, there was an issue saving ingredients. You can try adding them again.`)}catch(Wt){console.error("Error auto-saving ingredients:",Wt),alert(`Menu item "${Dt.name}" created successfully!
However, there was an issue saving ingredients. You can try adding them again.`)}},1e3)):alert(`Menu item "${Dt.name}" created successfully!

You can now add ingredients to this item using the "Add Ingredients" button below.`))}catch($t){$t.name!=="AbortError"&&(console.error("Error saving item:",$t),alert(`Error saving item: ${$t.message}`))}finally{T(!1)}},de=k.useCallback(iEe(async(ue,He)=>{try{if(console.log(`Toggling availability for item ${ue} to ${He}`),console.log("[MenuManagement] itemAvailability state:",sr),console.log("[MenuManagement] itemAvailability[itemId]:",sr[ue]),He&&sr[ue]&&!sr[ue].isAvailable){console.log("[MenuManagement] Item has insufficient ingredients, requiring admin override"),console.log("[MenuManagement] Setting showAdminOverrideModal to true"),tr({itemId:ue,newAvailability:He}),gt(!0),Zt("isAvailable",!1);return}console.log("[MenuManagement] Proceeding with normal availability update");const We=await fetch(`http://localhost:5000/api/menu/${ue}/availability`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAvailable:He})});if(!We.ok){const wt=await We.json();throw new Error(wt.message||"Failed to update availability")}const it=await We.json();console.log("Availability updated successfully:",it),n(wt=>wt.map($t=>$t._id===ue?{...$t,isAvailable:He}:$t)),(o==null?void 0:o._id)===ue&&l(wt=>({...wt,isAvailable:He}))}catch(We){console.error("Error toggling availability:",We),alert(`Failed to update availability: ${We.message}`),(o==null?void 0:o._id)===ue&&lr({...o,isAvailable:!He})}},500),[o,n,lr,sr,Zt,tr,gt]),st=async()=>{if(!ut||!et){alert("Please enter admin password");return}try{console.log("[AdminOverride] Verifying password...");const ue=localStorage.getItem("token")||localStorage.getItem("authToken"),He=await fetch("http://localhost:5000/api/auth/verify-admin",{method:"POST",headers:{"Content-Type":"application/json",...ue&&{Authorization:`Bearer ${ue}`}},body:JSON.stringify({password:et})});if(console.log("[AdminOverride] Auth response status:",He.status),!He.ok){const ve=await He.json().catch(()=>({}));throw console.error("[AdminOverride] Auth failed:",ve),new Error(ve.message||"Invalid password")}const We=await He.json();console.log("[AdminOverride] Password verified successfully for user:",We.username);const{itemId:it,newAvailability:wt}=ut,$t=await fetch(`http://localhost:5000/api/menu/${it}/availability`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({isAvailable:wt,adminOverride:!0,reason:"Admin override despite insufficient ingredients"})});if(!$t.ok){const ve=await $t.json();throw new Error(ve.message||"Failed to update availability")}const Tt=await $t.json();console.log("Availability updated with admin override:",Tt),n(ve=>ve.map(at=>at._id===it?{...at,isAvailable:wt}:at)),(o==null?void 0:o._id)===it&&(l(ve=>({...ve,isAvailable:wt})),Zt("isAvailable",wt)),gt(!1),ft(""),tr(null),alert("Availability updated successfully with admin override")}catch(ue){console.error("Error with admin override:",ue),alert(`Failed: ${ue.message}`)}},xt=async()=>{if(!(o!=null&&o._id)||_)return;N(!0);const ue=new AbortController;try{if(!(await fetch(`http://localhost:5000/api/menu/${o._id}`,{method:"DELETE",signal:ue.signal})).ok)throw new Error("Failed to delete item");n(We=>(Array.isArray(We)?We:[]).filter(wt=>wt._id!==o._id)),A(!1),l(null)}catch(He){He.name!=="AbortError"&&(console.error("Delete error:",He),alert(`Delete failed: ${He.message}`))}finally{N(!1)}};k.useEffect(()=>{var ue;if(o){const He=(ue=z[o.category])==null?void 0:ue.subCategories,We=He?Object.keys(He)[0]:"";lr({...o,code:o.code||"",subCategory:o.subCategory||We}),o.image?x(o.image.startsWith("http")?o.image:`http://localhost:5000${o.image}`):x(null)}},[o,lr]);const Pt=async()=>{if(te.trim())try{if((await fetch("http://localhost:5000/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:te.trim(),displayName:te.trim(),subCategories:[]})})).ok)await hn(),fe(""),alert("Category created successfully!");else throw new Error("Failed to create category")}catch(ue){console.error("Error creating category:",ue),alert("Error creating category: "+ue.message)}},Ar=async()=>{if(!(!we.trim()||!ce))try{const ue=ee.find(We=>(We.name||We.category)===ce);if(!ue)throw new Error("Category not found");if((await fetch(`http://localhost:5000/api/categories/${ue._id}/subcategories`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:we.trim(),displayName:we.trim()})})).ok)await hn(),he(""),xe(""),alert("Subcategory created successfully!");else throw new Error("Failed to create subcategory")}catch(ue){console.error("Error creating subcategory:",ue),alert("Error creating subcategory: "+ue.message)}},Kr=async ue=>{if(confirm("Are you sure you want to delete this category? This action cannot be undone."))try{if((await fetch(`http://localhost:5000/api/categories/${ue}`,{method:"DELETE"})).ok)await hn(),alert("Category deleted successfully!");else throw new Error("Failed to delete category")}catch(He){console.error("Error deleting category:",He),alert("Error deleting category: "+He.message)}},br=async(ue,He)=>{if(confirm("Are you sure you want to delete this subcategory? This action cannot be undone.")){if(!ue||!He){alert("Error: Missing category ID or subcategory ID"),console.error("Delete failed - categoryId:",ue,"subCategoryId:",He);return}try{console.log("Deleting subcategory:",{categoryId:ue,subCategoryId:He});const We=await fetch(`http://localhost:5000/api/categories/${ue}/subcategories/${He}`,{method:"DELETE"}),it=await We.json();if(console.log("Delete response:",it),We.ok&&it.success)await hn(),alert("Subcategory deleted successfully!");else throw new Error(it.message||"Failed to delete subcategory")}catch(We){console.error("Error deleting subcategory:",We),alert("Error deleting subcategory: "+We.message)}}},Hn=(ue,He)=>{Qt(ue),se(He),nt(He.sizes||[]);const We=new Map;ee.forEach(it=>{(it.subCategories||it.subcategories||[]).forEach($t=>{$t.sizes&&$t.sizes.length>0&&$t.sizes.forEach(Tt=>{const ve=Tt.name||Tt;We.has(ve)||We.set(ve,{name:Tt.name||Tt,displayName:Tt.displayName||Tt.name||Tt})})})}),Me(Array.from(We.values())),Be(Array.from(We.values())),Pe(!0)},la=ue=>{if(re(ue),ue.trim()){const He=Ke.filter(We=>We.name.toLowerCase().includes(ue.toLowerCase())||We.displayName.toLowerCase().includes(ue.toLowerCase()));Be(He),Jt(He.length>0)}else Be(Ke),Jt(!1)},Na=ue=>{re(ue.name),Oe(ue.displayName),Jt(!1)},za=()=>{if(!ye.trim()){alert("Please enter a size name");return}const ue={name:ye.trim(),displayName:_e.trim()||ye.trim(),sortOrder:It.length,isDefault:It.length===0};nt([...It,ue]),re(""),Oe("")},Bi=ue=>{nt(It.filter((He,We)=>We!==ue))},Za=async()=>{try{const ue=await fetch(`http://localhost:5000/api/categories/${Et}/subcategories/${ke._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sizes:It})}),He=await ue.json();if(ue.ok&&He.success)await hn(),Pe(!1),alert("Sizes saved successfully!");else throw new Error(He.message||"Failed to save sizes")}catch(ue){console.error("Error saving sizes:",ue),alert("Error saving sizes: "+ue.message)}},wn=r.filter(ue=>{const He=ue.name.toLowerCase().includes(D.toLowerCase())||ue.code.toLowerCase().includes(D.toLowerCase()),We=R==="All"||ue.category===R;return He&&We});return B?i.jsx(I0,{fullScreen:!0,variant:"ring",message:"Loading menu items..."}):P?i.jsxs("div",{className:"p-8 text-center text-red-500",children:["Error loading data: ",P,". Please try refreshing the page."]}):i.jsxs("div",{style:{backgroundColor:At.background},className:"min-h-screen p-8 ml-0 md:ml-20",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:["        ",i.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[i.jsx("h1",{style:{color:At.primary},className:"text-3xl font-bold",children:"Menu Management"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{className:"px-4 py-2 rounded-lg flex items-center gap-2 hover:opacity-90 transition-opacity shadow-sm",style:{backgroundColor:At.secondary,color:At.background},onClick:()=>q(!L),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),L?"Hide Categories":"Manage Categories"]}),i.jsxs("button",{style:{backgroundColor:At.accent,color:At.background},className:"px-4 py-2 rounded-lg hover:opacity-90 flex items-center gap-2 shadow-md transition-all",onClick:()=>{l(qx),Ht(null)},children:[i.jsx(Zc,{className:"w-5 h-5"}),i.jsx("span",{children:"Add New Item"})]})]})]}),L&&i.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm border p-6",style:{borderColor:At.muted+"40"},children:[i.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:At.primary},children:"Category Management"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:At.secondary},children:"Create New Category"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"Category name (e.g., Desserts)",value:te,onChange:ue=>fe(ue.target.value),className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",style:{borderColor:At.muted,focusRingColor:At.accent+"40"}}),i.jsxs("button",{onClick:Pt,disabled:!te.trim(),className:"px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-opacity disabled:opacity-50",style:{backgroundColor:At.accent,color:At.background},children:[i.jsx(Zc,{className:"w-4 h-4"}),"Add"]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-3",style:{color:At.secondary},children:"Add Subcategory"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("select",{value:ce,onChange:ue=>xe(ue.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",style:{borderColor:At.muted,focusRingColor:At.accent+"40"},children:[i.jsx("option",{value:"",children:"Select a category"}),ee.map((ue,He)=>{const We=ue.name||ue.category;return i.jsx("option",{value:We,children:We},ue._id||`cat-option-${He}`)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",placeholder:"Subcategory name",value:we,onChange:ue=>he(ue.target.value),className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2",style:{borderColor:At.muted,focusRingColor:At.accent+"40"}}),i.jsxs("button",{onClick:Ar,disabled:!we.trim()||!ce,className:"px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-opacity disabled:opacity-50",style:{backgroundColor:At.accent,color:At.background},children:[i.jsx(Zc,{className:"w-4 h-4"}),"Add"]})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:At.secondary},children:"Current Categories"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ee.map((ue,He)=>{const We=ue.name||ue.category;return i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:At.muted+"40"},children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h4",{className:"font-semibold",style:{color:At.primary},children:We}),i.jsx("button",{onClick:()=>Kr(ue._id),className:"p-1 text-red-500 hover:text-red-700 hover:bg-red-50 rounded transition-colors",title:"Delete category",children:i.jsx(Yu,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"space-y-1",children:ue.subCategories&&ue.subCategories.length>0?i.jsx(i.Fragment,{children:ue.subCategories.filter(it=>it.isActive!==!1).map((it,wt)=>i.jsxs("div",{className:"flex justify-between items-center text-sm py-2 border-b last:border-b-0",style:{borderColor:At.muted+"20"},children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{style:{color:At.secondary},className:"font-medium",children:it.displayName||it.name||`Subcategory ${wt+1}`}),it.sizes&&it.sizes.length>0&&i.jsxs("span",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:At.activeBg,color:At.accent},children:[it.sizes.length," sizes"]})]}),it.sizes&&it.sizes.length>0&&i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:it.sizes.map($t=>$t.displayName||$t.name).join(", ")})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("button",{onClick:()=>Hn(ue._id,it),className:"px-2 py-1 text-xs rounded transition-colors",style:{backgroundColor:At.activeBg,color:At.accent},title:"Manage sizes",children:"Sizes"}),i.jsx("button",{onClick:()=>br(ue._id,it._id),className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete subcategory",children:i.jsx(Yu,{className:"w-3 h-3"})})]})]},it._id||`${ue._id}-sub-${wt}`))}):i.jsx("p",{className:"text-sm text-gray-500",children:"No subcategories"})})]},ue._id||`category-${He}`)})}),ee.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No categories found. Categories will be loaded from the database or you can create new ones above."})]})]}),i.jsx("div",{className:"mb-6 mx-6",children:i.jsxs("div",{className:"flex gap-4 items-center",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx("input",{type:"text",placeholder:"Search by item name or code...",value:D,onChange:ue=>F(ue.target.value),className:"w-full pl-10 pr-4 py-3 border rounded-lg text-sm focus:outline-none focus:ring-2 transition-all",style:{borderColor:At.muted,focusRingColor:At.accent+"40"}}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-3.5",fill:"none",viewBox:"0 0 24 24",stroke:D?At.accent:At.muted,strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm font-medium whitespace-nowrap",style:{color:At.primary},children:"Filter by:"}),i.jsxs("select",{value:R,onChange:ue=>Q(ue.target.value),className:"px-3 py-3 border rounded-lg text-sm focus:outline-none focus:ring-2 transition-all min-w-[120px]",style:{borderColor:At.muted,focusRingColor:At.accent+"40"},children:[i.jsx("option",{value:"All",children:"All Categories"}),i.jsx("option",{value:"Beverages",children:"Beverages"}),i.jsx("option",{value:"Meals",children:"Meals"})]})]})]})}),i.jsx("div",{className:"overflow-y-auto rounded-xl shadow-lg mx-6",style:{border:`1px solid ${At.muted}20`,maxHeight:"520px"},children:i.jsxs("table",{className:"w-full",children:["            ",i.jsx("thead",{style:{backgroundColor:At.background,borderBottom:`2px solid ${At.activeBg}`,position:"sticky",top:0,zIndex:10},children:i.jsxs("tr",{style:{backgroundColor:At.activeBg},children:[i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Code"}),i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Item"}),i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Category"}),i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Availability"}),i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Price"}),i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:At.primary},children:"Actions"})]})}),i.jsxs("tbody",{children:["              ",wn.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"py-10",children:i.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:At.activeBg},children:i.jsx(Zc,{className:"w-8 h-8",style:{color:At.accent}})}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No menu items found"}),i.jsxs("button",{onClick:()=>{l(qx),Ht(null)},className:"mt-2 px-4 py-2 rounded-lg flex items-center gap-2",style:{backgroundColor:At.accent,color:At.background},children:[i.jsx(Zc,{className:"w-4 h-4"}),i.jsx("span",{children:"Add New Item"})]})]})})}):wn.map(ue=>{var He;return i.jsxs("tr",{style:{borderColor:At.muted+"20"},className:"border-t hover:bg-gray-50",children:["                    ",i.jsx("td",{className:"p-4 font-mono",style:{color:At.accent},children:i.jsx("span",{className:"px-2 py-1 rounded-md text-sm",style:{backgroundColor:At.activeBg},children:ue.code||"--"})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:["                        ",i.jsx("div",{className:"w-10 h-10 bg-cover bg-center border rounded-sm overflow-hidden",style:{backgroundImage:`url(${ue.image?ue.image.startsWith("http")||ue.image.startsWith("data:")?ue.image:`http://localhost:5000${ue.image}`:ue.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"})`,borderColor:At.muted}}),i.jsx("span",{className:"font-medium",children:ue.name})]})}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"px-2.5 py-1 rounded-lg text-xs",style:{backgroundColor:ue.category==="Beverages"?"#E7F5FE":"#FDF1E7",color:ue.category==="Beverages"?"#0284C7":"#EA580C"},children:ue.category})}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("div",{className:"flex items-center gap-2",children:sr[ue._id]?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${sr[ue._id].isAvailable?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:`text-xs font-medium ${sr[ue._id].isAvailable?"text-green-700":"text-red-700"}`,children:sr[ue._id].isAvailable?"Available":"Out of Stock"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),i.jsx("span",{className:"text-xs text-gray-500",children:"Checking..."})]})}),((He=sr[ue._id])==null?void 0:He.hasIngredientTracking)&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-3 h-3 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-xs text-blue-600",children:"Tracked"})]}),St[ue._id]&&i.jsxs("div",{className:"text-xs text-gray-500",children:["Cost: ",St[ue._id].totalCost||0]})]})}),i.jsx("td",{className:"p-3 relative",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-left border hover:bg-gray-50 transition-all",style:{borderColor:At.muted},onClick:()=>t(We=>We===ue._id?null:ue._id),children:Object.entries(ue.pricing).map(([We,it],wt)=>wt===0&&i.jsxs("span",{className:"flex items-center",children:[i.jsxs("span",{className:"font-medium",children:["",it.toFixed(2)]}),Object.keys(ue.pricing).length>1&&i.jsxs("span",{className:"ml-1.5 px-1.5 py-0.5 rounded text-xs",style:{backgroundColor:At.activeBg,color:At.accent},children:["+",Object.keys(ue.pricing).length-1]}),i.jsx(lEe,{className:"w-4 h-4 ml-1.5",style:{color:At.accent}})]},We))}),e===ue._id&&i.jsxs("div",{className:"absolute top-full left-0 z-20 p-3 border rounded-lg shadow-lg mt-1",style:{backgroundColor:At.background,borderColor:At.muted},children:[i.jsx("div",{className:"font-medium mb-1.5 pb-1.5 border-b",style:{borderColor:At.muted+"40"},children:"Price Details"}),Object.entries(ue.pricing).map(([We,it])=>i.jsxs("div",{className:"whitespace-nowrap text-sm py-1 flex justify-between gap-4",children:[i.jsxs("span",{children:[We,":"]})," ",i.jsxs("span",{className:"font-medium",children:["",it.toFixed(2)]})]},We))]})]})}),i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("button",{style:{backgroundColor:At.accent,color:At.background},className:"flex items-center gap-1 px-3 py-1.5 rounded-lg hover:opacity-90 transition-opacity",onClick:()=>{l(ue),Ht(ue)},children:[i.jsx(oEe,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Edit"})]}),i.jsxs("button",{style:{backgroundColor:At.secondary,color:At.background},className:"flex items-center gap-1 px-3 py-1.5 rounded-lg hover:opacity-90 transition-opacity",onClick:()=>{l(ue),Ht(ue),A(!0)},children:[i.jsx(Yu,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:"Delete"})]})]})})]},ue._id)})]})]})}),"        ",o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center md:pl-20 z-50",children:i.jsxs("div",{style:{backgroundColor:At.background},className:"p-6 rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-3 border-b",style:{borderColor:At.muted+"40"},children:[i.jsxs("h2",{className:"text-2xl font-bold",style:{color:At.primary},children:[o._id?"Edit":"Add"," Menu Item"]}),i.jsx("button",{onClick:()=>{l(null),Ht(null)},className:"p-1.5 rounded-full hover:bg-gray-100 transition-colors",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("form",{onSubmit:qr($a),className:"flex-1 overflow-y-auto pr-2",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-lg font-medium mb-2",children:"Item Image"}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("label",{className:"cursor-pointer",children:[i.jsx("div",{className:"w-32 h-32 border-2 border-dashed rounded-lg flex items-center justify-center",style:{borderColor:At.muted},children:v?i.jsx(VE,{image:v,category:Ur,alt:"Preview",size:"100%",className:"w-full h-full rounded-lg"}):i.jsx(VE,{image:"",category:Ur,alt:"Default Item Image",size:"100%",className:"w-full h-full rounded-lg opacity-50"})}),i.jsx("input",{type:"file",accept:"image/*",onChange:Ha,className:"hidden"})]}),v&&i.jsx("button",{type:"button",onClick:()=>{x(null),w(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 text-xs shadow-md",children:""})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Recommended size: 500x500px",i.jsx("br",{}),"Max file size: 5MB",i.jsx("br",{}),"Formats: JPEG, PNG, WEBP"]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Item Code"}),i.jsx("input",{...$r("code",{required:"Required",pattern:{value:/^[A-Z0-9]{3,5}$/i,message:"3-5 alphanumeric characters"}}),className:"w-full p-2 text-sm border rounded-lg",style:{borderColor:At.muted},placeholder:"WG1, RCM2, etc"}),on.code&&i.jsx("span",{className:"text-red-500 text-xs",children:on.code.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Item Name"}),i.jsx("input",{...$r("name",{required:"Required"}),className:"w-full p-2 text-sm border rounded-lg",style:{borderColor:At.muted}}),on.name&&i.jsx("span",{className:"text-red-500 text-xs",children:on.name.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),i.jsx("select",{...$r("category"),className:"w-full p-2 text-sm border rounded-lg",style:{borderColor:At.muted},children:(ee&&ee.length>0?ee.map(ue=>ue.name||ue.category):Object.keys(z)).map(ue=>i.jsx("option",{value:ue,children:ue},ue))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Subcategory"}),i.jsx("select",{...$r("subCategory"),className:"w-full p-2 text-sm border rounded-lg",style:{borderColor:At.muted},children:(()=>{var We,it;const ue=ee.find(wt=>(wt.name||wt.category)===Ur);let He=[];return ue&&(He=(ue.subCategories||ue.subcategories||[]).map(wt=>wt.displayName||wt.name||wt)),(!He||He.length===0)&&(He=Object.keys(((We=z[Ur])==null?void 0:We.subCategories)||{})),(!He||He.length===0)&&typeof MENU_CONFIG<"u"&&(He=((it=MENU_CONFIG[Ur])==null?void 0:it.subCategories)||[]),He.map(wt=>i.jsx("option",{value:wt,children:wt},wt))})()})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:At.primary},children:"Pricing"}),(()=>{var wt,$t;const ue=ee.find(Tt=>(Tt.name||Tt.category)===Ur);let He=[];if(ue){const Tt=(ue.subCategories||ue.subcategories||[]).find(ve=>(ve.name||ve.displayName)===Vr);Tt&&Tt.sizes&&Tt.sizes.length>0&&(He=Tt.sizes)}He.length===0&&(($t=(wt=z[Ur])==null?void 0:wt.subCategories[Vr])!=null&&$t.sizes)&&(He=z[Ur].subCategories[Vr].sizes,He.length>0&&typeof He[0]=="string"&&(He=He.map(Tt=>({name:Tt,displayName:Tt}))));const We=He.length>0;We&&console.log("Pricing section - sizes detected:",He.map(Tt=>({name:Tt.name||Tt,displayName:Tt.displayName||Tt.name||Tt})));const it=cr("ignoreSizes");return i.jsxs(i.Fragment,{children:[We&&i.jsxs("div",{className:"mb-4 flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"ignoreSizes",...$r("ignoreSizes"),className:"w-4 h-4 cursor-pointer"}),i.jsx("label",{htmlFor:"ignoreSizes",className:"text-sm cursor-pointer",children:"Single price only (ignore size options)"}),i.jsx("span",{className:"text-xs text-gray-500 ml-2",children:`Use for items like "Lemon Yakult" that don't have size variations`})]}),it&&We?i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Single price for this item"}),i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg max-w-md",style:{borderColor:At.muted+"40"},children:[i.jsx("label",{className:"w-24 font-medium text-sm",children:"Price"}),i.jsxs("div",{className:"flex-1 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""}),i.jsx("input",{type:"number",...$r("pricing.single",{required:!0,min:0}),className:"w-full p-2 border rounded-lg text-sm",style:{borderColor:At.muted},step:"0.01",placeholder:"0.00"})]})]})]}):We?i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Set prices for each size option"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:He.map(Tt=>{const ve=Tt.name||Tt,at=Tt.displayName||Tt.name||Tt;return i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg",style:{borderColor:At.muted+"40"},children:[i.jsx("label",{className:"w-32 font-medium text-sm",children:at}),i.jsxs("div",{className:"flex-1 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""}),i.jsx("input",{type:"number",...$r(`pricing.${ve}`,{required:!0,min:0}),className:"w-full p-2 border rounded-lg text-sm",style:{borderColor:At.muted},step:"0.01",placeholder:"0.00"})]})]},ve)})})]}):i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No sizes configured for this subcategory"}),i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded-lg max-w-md",style:{borderColor:At.muted+"40"},children:[i.jsx("label",{className:"w-24 font-medium text-sm",children:"Price"}),i.jsxs("div",{className:"flex-1 flex items-center",children:[i.jsx("span",{className:"mr-2",children:""}),i.jsx("input",{type:"number",...$r("pricing.single",{required:!0,min:0}),className:"w-full p-2 border rounded-lg text-sm",style:{borderColor:At.muted},step:"0.01",placeholder:"0.00"})]})]})]})]})})()]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium",style:{color:At.primary},children:"Add-Ons"}),i.jsxs("button",{type:"button",onClick:()=>Y(!V),className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm hover:bg-gray-100 transition-colors",style:{color:At.primary},children:[V?"Collapse":"Expand",i.jsx(cEe,{className:"w-4 h-4",isExpanded:V})]})]}),V&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.filter(ue=>{var We,it;const He=(We=z[Ur])==null?void 0:We.subCategories[Vr];return((it=He==null?void 0:He.addons)==null?void 0:it.includes(ue.name))||ue.category===Ur}).map(ue=>i.jsxs("div",{className:"flex items-center justify-between p-3.5 rounded-lg border hover:border-opacity-100 transition-all hover:shadow-sm",style:{borderColor:At.muted+"80",backgroundColor:At.background},children:[i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer flex-1",children:[i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("input",{type:"checkbox",value:ue._id,...$r("modifiers"),className:"form-checkbox h-5 w-5 rounded border-2 focus:ring-2 focus:ring-offset-2 transition-all",style:{color:At.accent,borderColor:At.muted}})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:ue.name}),i.jsxs("div",{className:"flex items-center mt-0.5",children:[i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:At.activeBg,color:At.accent},children:["+",ue.price.toFixed(2)]}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:ue.category})]})]})]}),i.jsx("button",{type:"button",onClick:()=>g(ue._id),className:"p-1.5 rounded-full hover:bg-red-100 text-red-500 hover:text-red-700 transition-colors",children:i.jsx(Yu,{className:"w-4 h-4"})})]},ue._id)),a.filter(ue=>{var We,it;const He=(We=z[Ur])==null?void 0:We.subCategories[Vr];return((it=He==null?void 0:He.addons)==null?void 0:it.includes(ue.name))||ue.category===Ur}).length===0&&i.jsxs("div",{className:"col-span-2 p-6 border border-dashed rounded-lg flex flex-col items-center justify-center",style:{borderColor:At.muted+"60"},children:[i.jsx("p",{className:"text-gray-500 mb-3",children:"No relevant add-ons found for this item type"}),"                ",i.jsxs("button",{type:"button",className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 shadow-sm hover:opacity-90 transition-opacity",style:{backgroundColor:At.accent,color:At.background},onClick:()=>h(!0),children:[i.jsx(Zc,{className:"w-4 h-4"}),"Create Add-On"]})]})]})]}),"        ",i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-lg font-medium",style:{color:At.primary},children:"Description"}),i.jsx("div",{className:"relative",children:i.jsxs("button",{type:"button",className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:At.accent,color:At.background},onClick:async()=>{const ue=mr("name"),He=mr("description")||"A delicious menu item";if(!ue){alert("Please enter an item name first");return}const We=document.querySelector('textarea[name="description"]'),it=We.value;We.value="Generating AI description...",We.disabled=!0;try{const wt=await sEe(ue,He);Zt("description",wt)}catch(wt){console.error("Error generating AI description:",wt),We.value=it,alert("Failed to generate AI description. Please try again.")}finally{We.disabled=!1}},children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M12 2a4 4 0 0 1 4 4v4a4 4 0 1 1-8 0V6a4 4 0 0 1 4-4Z"}),i.jsx("path",{d:"M18 8h2a2 2 0 0 1 2 2v2a8 8 0 0 1-16 0v-2a2 2 0 0 1 2-2h2"}),i.jsx("path",{d:"M10 18v.27a2 2 0 0 0 4 0V18"})]}),"Generate AI Description"]})})]}),i.jsx("textarea",{...$r("description"),className:"w-full p-3 text-sm border rounded-lg",style:{borderColor:At.muted},rows:"3",placeholder:"Add a delicious description for this item or use the AI button to generate one..."}),i.jsx("div",{className:"mt-1 text-xs text-gray-500",children:`Tip: If you're not sure what to write, enter a simple description or ingredients, then click "Generate AI Description"`})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium",style:{color:At.primary},children:"Ingredient Mapping"}),i.jsxs("div",{className:"flex gap-2",children:[Qe.length>0&&(yt||o&&o._id)&&i.jsxs("button",{type:"button",onClick:async()=>{if(confirm("Are you sure you want to remove all ingredient mappings? This will unmap all ingredients from this menu item.")){const ue=(yt==null?void 0:yt._id)||(o==null?void 0:o._id);ue&&await Qn(ue,[])&&(Ve([]),alert("All ingredient mappings removed successfully!"))}},className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:opacity-90 transition-opacity text-sm text-white",style:{backgroundColor:"#dc2626"},children:[i.jsx(Yu,{className:"w-4 h-4"}),"Unmap All"]}),i.jsxs("button",{type:"button",onClick:()=>Ge(!0),className:"px-3 py-1.5 rounded-lg flex items-center gap-1.5 hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:At.accent,color:At.background},children:[i.jsx(Zc,{className:"w-4 h-4"}),"Add Ingredients"]})]})]}),i.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:At.muted,backgroundColor:At.background},children:[Qe.length>0?i.jsx("div",{className:"space-y-2",children:Qe.map((ue,He)=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",style:{borderColor:At.muted},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium",children:ue.name}),i.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["Qty: ",ue.quantityNeeded," ",ue.unit]})]}),i.jsx("button",{type:"button",onClick:()=>qn(ue.ingredientId),className:"text-red-600 hover:text-red-800 p-1",children:i.jsx(Yu,{className:"w-4 h-4"})})]},ue.ingredientId))}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No ingredients mapped yet"}),i.jsx("p",{className:"text-sm",children:yt||o&&o._id?'Click "Add Ingredients" to map inventory items to this menu item':"You can add ingredients now and they will be saved when you create the menu item"})]}),Qe.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:yt||o&&o._id?"Cost Analysis Preview":"Ingredients Ready for Mapping"}),i.jsxs("div",{className:"text-sm text-blue-700",children:[i.jsxs("p",{children:["Mapped Ingredients: ",Qe.length]}),i.jsx("p",{className:"text-xs mt-1",children:yt||o&&o._id?"Cost analysis will be calculated after saving the ingredients":"These ingredients will be automatically mapped when you save the menu item"})]})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",style:{color:At.primary},children:"Availability"}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",style:{borderColor:At.muted,backgroundColor:At.background},children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",style:{color:At.primary},children:"Item Available for Ordering"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When disabled, customers cannot order this item in the Point of Sale system"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",...$r("isAvailable"),className:"sr-only peer",onChange:ue=>{o!=null&&o._id&&de(o._id,ue.target.checked)}}),i.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]}),i.jsx("div",{className:"sticky bottom-0 bg-white pt-4 pb-2 border-t shadow-md",style:{borderColor:At.muted+"40",backgroundColor:At.background},children:i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsxs("button",{type:"button",className:"px-6 py-2.5 border rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",style:{borderColor:At.muted},onClick:()=>{l(null),Ht(null)},children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),i.jsx("button",{type:"submit",disabled:O,className:`px-6 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 transition-opacity ${O?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{backgroundColor:At.primary,color:At.background},children:O?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):o._id?i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Update Item"]}):i.jsxs(i.Fragment,{children:[i.jsx(Zc,{className:"h-5 w-5"}),"Create Item"]})})]})})]})]})}),"        ",f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{style:{backgroundColor:At.background},className:"p-6 rounded-lg w-96 shadow-2xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-3 border-b",style:{borderColor:At.muted+"40"},children:[i.jsx("h3",{className:"text-xl font-bold",style:{color:At.primary},children:"Create New Add-On"}),i.jsx("button",{onClick:()=>h(!1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",children:"Name"}),i.jsx("input",{type:"text",value:H.name,onChange:ue=>J({...H,name:ue.target.value}),className:"w-full p-2 border rounded",style:{borderColor:At.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",children:"Price"}),i.jsx("input",{type:"number",value:H.price,onChange:ue=>J({...H,price:Number(ue.target.value)}),className:"w-full p-2 border rounded",style:{borderColor:At.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block mb-1",children:"Category"}),i.jsx("select",{value:H.category,onChange:ue=>J({...H,category:ue.target.value}),className:"w-full p-2 border rounded",style:{borderColor:At.muted},children:Object.keys(z).map(ue=>i.jsx("option",{value:ue,children:ue},ue))})]}),"                ",i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsxs("button",{type:"button",className:"px-4 py-2.5 border rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",style:{borderColor:At.muted},onClick:()=>h(!1),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),i.jsxs("button",{type:"button",style:{backgroundColor:At.primary,color:At.background},className:"px-4 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity shadow-sm",onClick:dn,children:[i.jsx(Zc,{className:"h-4 w-4"}),"Create Add-On"]})]})]})]})}),"        ",p&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{style:{backgroundColor:At.background},className:"p-6 rounded-lg shadow-2xl w-96",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b",style:{borderColor:At.muted+"40"},children:[i.jsx("h3",{className:"text-lg font-bold",style:{color:At.primary},children:"Confirm Delete Add-On"}),i.jsx("button",{onClick:()=>g(null),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:"Are you sure you want to delete this add-on? This action cannot be undone."})})]})}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsxs("button",{className:"px-4 py-2.5 border rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",style:{borderColor:At.muted},onClick:()=>g(null),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),i.jsxs("button",{style:{backgroundColor:At.secondary,color:At.background},className:"px-4 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity shadow-sm",onClick:()=>Yn(p),children:[i.jsx(Yu,{className:"h-4 w-4"}),"Confirm Delete"]})]})]})}),"        ",u&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{style:{backgroundColor:At.background},className:"p-6 rounded-lg shadow-2xl w-96",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b",style:{borderColor:At.muted+"40"},children:[i.jsx("h3",{className:"text-lg font-bold",style:{color:At.primary},children:"Confirm Delete"}),i.jsx("button",{onClick:()=>A(!1),className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6 rounded",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsxs("p",{className:"text-sm text-red-700",children:["Are you sure you want to delete ",i.jsx("strong",{children:(o==null?void 0:o.name)||"this item"}),"? This action cannot be undone."]})})]})}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsxs("button",{className:"px-4 py-2.5 border rounded-lg font-medium flex items-center justify-center gap-2 hover:bg-gray-50 transition-colors",style:{borderColor:At.muted},onClick:()=>A(!1),children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}),i.jsx("button",{style:{backgroundColor:At.secondary,color:At.background},className:"px-4 py-2.5 rounded-lg font-medium flex items-center justify-center gap-2 hover:opacity-90 transition-opacity shadow-sm disabled:opacity-50",onClick:xt,disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yu,{className:"h-4 w-4"}),"Confirm Delete"]})})]})]})}),ze&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Select Ingredients for Menu Item"}),i.jsx("button",{onClick:()=>Ge(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto",children:[i.jsx("div",{className:"mb-4",children:i.jsx("input",{type:"text",placeholder:"Search ingredients...",className:"w-full p-2 border rounded",style:{borderColor:At.muted}})}),Re.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Re.map(ue=>{var We,it;const He=Qe.some(wt=>wt.ingredientId===ue._id);return i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${He?"bg-blue-50 border-blue-300":"hover:bg-gray-50"}`,style:{borderColor:He?"#3b82f6":At.muted},children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:ue.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Stock: ",ue.totalQuantity||0," ",ue.unit||"units"]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Cost: ",ue.cost||0," per ",ue.unit||"unit"]}),ue.category&&i.jsxs("p",{className:"text-xs text-gray-400",children:["Category: ",ue.category]}),ue.status&&i.jsx("span",{className:`text-xs px-2 py-1 rounded ${ue.status==="In Stock"?"bg-green-100 text-green-800":ue.status==="Low Stock"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ue.status})]}),i.jsx("div",{className:"flex flex-col gap-2",children:He?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",placeholder:"Qty",className:"w-16 p-1 border rounded text-sm",defaultValue:((We=Qe.find(wt=>wt.ingredientId===ue._id))==null?void 0:We.quantityNeeded)||1,onChange:wt=>{const $t=parseFloat(wt.target.value)||1,Tt=Qe.find(at=>at.ingredientId===ue._id),ve=(Tt==null?void 0:Tt.unit)||ue.unit||"pieces";Ja(ue,$t,ve)}}),i.jsxs("select",{className:"text-xs p-1 border rounded",value:((it=Qe.find(wt=>wt.ingredientId===ue._id))==null?void 0:it.unit)||ue.unit||"pieces",onChange:wt=>{const $t=Qe.find(ve=>ve.ingredientId===ue._id),Tt=($t==null?void 0:$t.quantityNeeded)||1;Ja(ue,Tt,wt.target.value)},children:[i.jsx("option",{value:"grams",children:"g"}),i.jsx("option",{value:"kg",children:"kg"}),i.jsx("option",{value:"ml",children:"ml"}),i.jsx("option",{value:"liters",children:"L"}),i.jsx("option",{value:"pieces",children:"pcs"}),i.jsx("option",{value:"cups",children:"cups"}),i.jsx("option",{value:"tablespoons",children:"tbsp"}),i.jsx("option",{value:"teaspoons",children:"tsp"}),i.jsx("option",{value:"ounces",children:"oz"}),i.jsx("option",{value:"pounds",children:"lbs"})]}),i.jsx("button",{onClick:()=>qn(ue._id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]}):i.jsx("button",{onClick:()=>Ja(ue),className:"px-3 py-1 rounded text-sm",style:{backgroundColor:At.accent,color:At.background},children:"Add"})})]})},ue._id)})}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No inventory items available"}),i.jsx("p",{className:"text-sm",children:"Add inventory items first to map them to menu items"})]})]}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Selected: ",Qe.length," ingredients"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>Ge(!1),className:"px-4 py-2 border rounded-lg",style:{borderColor:At.muted},children:"Cancel"}),i.jsx("button",{onClick:async()=>{if(Qn.isRunning)return;const ue=yt||o;if(Qe.length>0)if(ue&&ue._id)try{for(let it=0;it<Qe.length;it++){const wt=Qe[it];if(!wt.ingredientId&&!wt._id)throw new Error(`Ingredient ${it+1}: Missing ID`);if(!wt.quantityNeeded&&!wt.quantity)throw new Error(`Ingredient ${it+1}: Missing quantity`);if(!wt.unit||wt.unit.trim()==="")throw new Error(`Ingredient ${it+1}: Missing unit`)}const He=Qe.map(it=>({inventoryItemId:it.ingredientId||it._id,quantity:Number(it.quantityNeeded||it.quantity||1),unit:(it.unit||"pieces").toLowerCase().trim(),tolerance:Number(it.tolerance||.1),isRequired:it.isRequired!==!1,notes:(it.notes||"").substring(0,500)}));console.log("Saving ingredients for item:",ue._id,He),await Qn(ue._id,He)&&(alert("Ingredients saved successfully!"),Ge(!1),setTimeout(()=>{Mn(ue._id)},500),setTimeout(async()=>{try{const it=await fetch(`http://localhost:5000/api/menu/${ue._id}`);if(it.ok){const wt=await it.json();console.log("[MenuManagement] Re-fetched menu item after ingredient save:",wt),l($t=>({...$t,isAvailable:wt.isAvailable})),Zt("isAvailable",wt.isAvailable,{shouldDirty:!0}),n($t=>$t.map(Tt=>Tt._id===wt._id?{...Tt,isAvailable:wt.isAvailable}:Tt)),console.log(`[MenuManagement] Updated toggle to: ${wt.isAvailable}`)}}catch(it){console.error("[MenuManagement] Error re-fetching menu item:",it)}},1e3))}catch(He){console.error("Validation error:",He),alert("Validation error: "+He.message)}else alert(`${Qe.length} ingredients prepared! They will be automatically saved when you save the menu item.`),Ge(!1);else alert("Please add at least one ingredient before saving.")},disabled:Qn.isRunning||Qe.length===0,className:`px-4 py-2 rounded-lg text-white ${Qn.isRunning||Qe.length===0?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{backgroundColor:At.accent},children:Qn.isRunning?"Saving...":yt||o&&o._id?"Save Ingredients":"Prepare Ingredients"})]})]})]})}),ge&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold",style:{color:At.primary},children:["Manage Sizes - ",(ke==null?void 0:ke.displayName)||(ke==null?void 0:ke.name)]}),i.jsx("button",{onClick:()=>Pe(!1),className:"text-gray-400 hover:text-gray-600",children:"X"})]}),i.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-800",children:"Configure size options for this subcategory. These sizes will appear as pricing options when adding menu items."})}),i.jsxs("div",{className:"mb-6 p-4 border rounded-lg",style:{borderColor:At.muted},children:[i.jsx("h3",{className:"font-medium mb-3",style:{color:At.secondary},children:"Add New Size"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"block text-sm mb-1",children:"Size Name (internal)"}),i.jsx("input",{type:"text",placeholder:"e.g., M, Large, Hot",value:ye,onChange:ue=>la(ue.target.value),onFocus:()=>{Vt.length>0&&ye.trim()&&Jt(!0)},onBlur:()=>{setTimeout(()=>Jt(!1),200)},className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:At.muted},onKeyPress:ue=>ue.key==="Enter"&&za()}),bt&&Vt.length>0&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-48 overflow-y-auto",style:{borderColor:At.muted},children:Vt.map((ue,He)=>i.jsxs("div",{onClick:()=>Na(ue),className:"px-3 py-2 cursor-pointer hover:bg-gray-100 transition-colors",style:{borderBottom:He<Vt.length-1?`1px solid ${At.muted}`:"none"},children:[i.jsx("div",{className:"font-medium",children:ue.name}),i.jsx("div",{className:"text-xs text-gray-500",children:ue.displayName})]},He))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-1",children:"Display Name (shown to users)"}),i.jsx("input",{type:"text",placeholder:"e.g., Medium, Large, Hot (S)",value:_e,onChange:ue=>Oe(ue.target.value),className:"w-full px-3 py-2 border rounded-lg",style:{borderColor:At.muted},onKeyPress:ue=>ue.key==="Enter"&&za()})]})]}),i.jsxs("button",{onClick:za,className:"px-4 py-2 rounded-lg text-sm",style:{backgroundColor:At.accent,color:At.background},children:[i.jsx(Zc,{className:"w-4 h-4 inline mr-1"}),"Add Size"]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h3",{className:"font-medium mb-3",style:{color:At.secondary},children:["Current Sizes (",It.length,")"]}),It.length>0?i.jsx("div",{className:"space-y-2",children:It.map((ue,He)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",style:{borderColor:At.muted+"40",backgroundColor:ue.isDefault?At.activeBg:"transparent"},children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:ue.displayName||ue.name}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Internal: ",ue.name,ue.isDefault&&i.jsx("span",{className:"ml-2 px-2 py-0.5 rounded bg-blue-100 text-blue-700",children:"Default"})]})]}),i.jsx("button",{onClick:()=>Bi(He),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:i.jsx(Yu,{className:"w-4 h-4"})})]},He))}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No sizes configured. Add sizes above to enable multi-size pricing."})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",style:{borderColor:At.muted},children:[i.jsx("button",{onClick:()=>Pe(!1),className:"px-4 py-2 border rounded-lg",style:{borderColor:At.muted},children:"Cancel"}),i.jsx("button",{onClick:Za,className:"px-4 py-2 rounded-lg",style:{backgroundColor:At.accent,color:At.background},children:"Save Sizes"})]})]})})})]}),pt&&i.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>{gt(!1),ft(""),tr(null)},children:i.jsxs("div",{className:"modal-content admin-override-modal",style:{backgroundColor:"white",borderRadius:"12px",padding:"2rem",maxWidth:"500px",width:"90%",maxHeight:"80vh",overflowY:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)",position:"relative"},onClick:ue=>ue.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",style:{marginBottom:"1.5rem"},children:[i.jsx("h3",{style:{margin:0,fontSize:"1.5rem",color:"#333"},children:" Admin Override Required"}),i.jsx("button",{className:"close-button",style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"2rem",cursor:"pointer",color:"#999",lineHeight:1},onClick:()=>{gt(!1),ft(""),tr(null)},children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsxs("div",{className:"warning-message",style:{textAlign:"center",padding:"1rem",backgroundColor:"#fff3e0",borderRadius:"8px",marginBottom:"1rem"},children:[i.jsxs("p",{style:{marginTop:"0",fontSize:"1rem",color:"#333",lineHeight:"1.5"},children:[i.jsx("strong",{children:" Warning:"})," This item has insufficient ingredients and is currently unavailable."]}),i.jsx("p",{style:{marginTop:"0.5rem",marginBottom:"0",color:"#666",fontSize:"0.9rem"},children:"Enabling it will allow customers to order despite low stock."})]}),sr[ut==null?void 0:ut.itemId]&&((ra=sr[ut.itemId].insufficientIngredients)==null?void 0:ra.length)>0&&i.jsxs("div",{className:"insufficient-ingredients",style:{marginTop:"1rem",padding:"1rem",background:"#ffebee",borderRadius:"8px",border:"1px solid #ef5350"},children:[i.jsx("strong",{style:{color:"#d32f2f"},children:"Insufficient Ingredients:"}),i.jsx("ul",{style:{marginTop:"0.5rem",marginBottom:"0",paddingLeft:"1.5rem"},children:sr[ut.itemId].insufficientIngredients.map((ue,He)=>i.jsx("li",{style:{color:"#d32f2f",marginTop:"0.25rem"},children:ue.name},He))})]}),i.jsxs("div",{style:{marginTop:"1.5rem"},children:[i.jsx("label",{htmlFor:"admin-password",style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold",color:"#333"},children:"Enter Admin Password to Continue:"}),i.jsx("input",{type:"password",id:"admin-password",value:et,onChange:ue=>ft(ue.target.value),onKeyPress:ue=>{ue.key==="Enter"&&st()},placeholder:"Admin password",autoFocus:!0,style:{width:"100%",padding:"0.75rem",fontSize:"1rem",border:"2px solid #ddd",borderRadius:"4px",outline:"none"}})]})]}),i.jsxs("div",{className:"modal-footer",style:{display:"flex",gap:"1rem",marginTop:"1.5rem",justifyContent:"flex-end"},children:[i.jsx("button",{onClick:()=>{gt(!1),ft(""),tr(null)},style:{padding:"0.75rem 1.5rem",fontSize:"1rem",border:"1px solid #ddd",borderRadius:"4px",background:"white",cursor:"pointer"},children:"Cancel"}),i.jsx("button",{onClick:st,disabled:!et,style:{padding:"0.75rem 1.5rem",fontSize:"1rem",border:"none",borderRadius:"4px",background:et?"#ff9800":"#ccc",color:"white",cursor:et?"pointer":"not-allowed",fontWeight:"bold"},children:"Confirm Override"})]})]})})]})},AEe=({colors:e,searchTerm:t,setSearchTerm:r,dateRange:n,setDateRange:a,selectedCategory:s,setSelectedCategory:o,paymentStatus:l,setPaymentStatus:u,categories:A,totalExpenses:f,activeFiltersCount:h,isOpen:p,onClose:g})=>{const[v,x]=k.useState(!1);k.useEffect(()=>{const B=document.createElement("style");return B.textContent=`
      .filter-panel-scroll::-webkit-scrollbar {
        display: none;
        width: 0;
        height: 0;
      }
      .filter-panel-scroll::-webkit-scrollbar-track {
        display: none;
      }
      .filter-panel-scroll::-webkit-scrollbar-thumb {
        display: none;
      }
      .filter-panel-scroll {
        -ms-overflow-style: none;
        scrollbar-width: none;
        overflow: -moz-scrollbars-none;
      }
    `,B.id="filter-panel-scroll-styles",document.head.appendChild(B),()=>{const j=document.getElementById("filter-panel-scroll-styles");j&&document.head.removeChild(j)}},[]);const b=()=>{r(""),a({start:"",end:""}),o("All"),u("All"),x(!1)},w=B=>{const j=new Date;let _,N;switch(B){case"today":_=N=j.toISOString().split("T")[0];break;case"week":_=new Date(j.setDate(j.getDate()-7)).toISOString().split("T")[0],N=new Date().toISOString().split("T")[0];break;case"month":_=new Date(j.getFullYear(),j.getMonth(),1).toISOString().split("T")[0],N=new Date().toISOString().split("T")[0];break;case"quarter":const O=Math.floor(j.getMonth()/3);_=new Date(j.getFullYear(),O*3,1).toISOString().split("T")[0],N=new Date().toISOString().split("T")[0];break;default:return}a({start:_,end:N}),x(!1)};return i.jsxs(i.Fragment,{children:[i.jsx(Ss,{children:p&&i.jsxs(nr.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20,stiffness:100},className:"fixed top-0 right-0 h-full w-[475px] z-50 shadow-2xl overflow-y-auto filter-panel-scroll",style:{backgroundColor:e.background},children:[i.jsxs("div",{className:"p-6 border-b sticky top-0 z-10",style:{backgroundColor:e.background,borderColor:e.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(fp,{className:"w-6 h-6",style:{color:e.accent}}),i.jsx("h2",{className:"text-xl font-bold",style:{color:e.primary},children:"Filter Expenses"})]}),i.jsx("button",{onClick:g,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:e.muted},children:i.jsx(wi,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:h>0&&i.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:e.accent,color:e.background},children:[h," filter",h!==1?"s":""," active"]})}),i.jsxs("span",{className:"text-sm",style:{color:e.muted},children:[f," result",f!==1?"s":""]})]})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-lg",style:{color:e.secondary},children:[i.jsx(_m,{className:"w-5 h-5"}),"Search & Text Filters"]}),i.jsxs("div",{className:"relative",children:[i.jsx(_m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5",style:{color:e.muted}}),i.jsx("input",{type:"text",placeholder:"Search by description, vendor, or notes...",value:t,onChange:B=>r(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:t?e.accent:e.muted+"40",backgroundColor:e.background,focusRingColor:e.accent+"40"}}),t&&i.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 hover:bg-gray-100 rounded-full p-1",children:i.jsx(wi,{className:"w-4 h-4",style:{color:e.muted}})})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-lg",style:{color:e.secondary},children:[i.jsx(die,{className:"w-5 h-5"}),"Categories & Status"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:e.muted},children:"Category"}),i.jsxs("select",{value:s,onChange:B=>o(B.target.value),className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:s!=="All"?e.accent:e.muted+"40",backgroundColor:e.background},children:[i.jsx("option",{value:"All",children:"All Categories"}),A.map(B=>i.jsx("option",{value:B,children:B},B))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:e.muted},children:"Payment Status"}),i.jsxs("select",{value:l,onChange:B=>u(B.target.value),className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:l!=="All"?e.accent:e.muted+"40",backgroundColor:e.background},children:[i.jsx("option",{value:"All",children:"All Status"}),i.jsx("option",{value:"Pending",children:"Pending Payment"}),i.jsx("option",{value:"Paid",children:"Paid"})]})]})]})]}),"              ",i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"flex items-center gap-2 font-semibold text-lg",style:{color:e.secondary},children:[i.jsx(vc,{className:"w-5 h-5"}),"Date Range"]}),i.jsx("button",{onClick:()=>x(!0),className:"text-sm font-medium px-3 py-1 rounded-lg transition-colors",style:{backgroundColor:e.activeBg,color:e.accent},children:"Open Date Picker"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{label:"Today",value:"today"},{label:"Last 7 Days",value:"week"},{label:"This Month",value:"month"},{label:"This Quarter",value:"quarter"}].map(B=>i.jsx("button",{onClick:()=>w(B.value),className:"px-3 py-2 rounded-lg text-sm font-medium transition-all hover:scale-105",style:{backgroundColor:e.activeBg,color:e.accent,border:`1px solid ${e.accent}40`},children:B.label},B.value))}),(n.start||n.end)&&i.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},className:"p-3 rounded-lg flex items-center justify-between",style:{backgroundColor:e.accent+"10"},children:[i.jsxs("span",{className:"text-sm font-medium",style:{color:e.secondary},children:["Date filter: ",n.start||"Start"," to ",n.end||"End"]}),i.jsx("button",{onClick:()=>a({start:"",end:""}),className:"text-sm hover:bg-white rounded-full p-1",style:{color:e.accent},children:i.jsx(wi,{className:"w-4 h-4"})})]})]}),h>0&&i.jsx("div",{className:"pt-4 border-t",style:{borderColor:e.muted+"20"},children:i.jsxs("button",{onClick:b,className:"w-full px-4 py-3 rounded-lg font-medium transition-all hover:scale-105",style:{backgroundColor:e.muted+"20",color:e.secondary,border:`2px solid ${e.muted}40`},children:[i.jsx(wi,{className:"w-4 h-4 mr-2 inline"}),"Clear All Filters"]})})]}),"          "]})}),i.jsx(Ss,{children:v&&i.jsxs(i.Fragment,{children:[i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 z-[60]",onClick:()=>x(!1)}),i.jsxs(nr.div,{initial:{opacity:0,scale:.95,x:"-50%",y:"-50%"},animate:{opacity:1,scale:1,x:"-50%",y:"-50%"},exit:{opacity:0,scale:.95,x:"-50%",y:"-50%"},className:"fixed top-1/2 left-1/2 z-[70] w-96 rounded-xl shadow-2xl",style:{backgroundColor:e.background},children:[i.jsxs("div",{className:"p-6 border-b flex items-center justify-between",style:{borderColor:e.muted+"20"},children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",style:{color:e.primary},children:[i.jsx(vc,{className:"w-5 h-5"}),"Select Date Range"]}),i.jsx("button",{onClick:()=>x(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:e.muted},children:i.jsx(wi,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:e.muted},children:"Start Date"}),i.jsx("input",{type:"date",value:n.start,onChange:B=>a({...n,start:B.target.value}),className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none",style:{borderColor:n.start?e.accent:e.muted+"40",backgroundColor:e.background}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:e.muted},children:"End Date"}),i.jsx("input",{type:"date",value:n.end,onChange:B=>a({...n,end:B.target.value}),className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none",style:{borderColor:n.end?e.accent:e.muted+"40",backgroundColor:e.background}})]})]}),i.jsxs("div",{className:"p-6 border-t flex gap-3 justify-end",style:{borderColor:e.muted+"20"},children:[i.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:e.muted+"20",color:e.secondary},children:"Cancel"}),i.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:e.accent,color:e.background},children:"Apply"})]})]})]})})]})},dEe=({colors:e})=>{Ud();const[t,r]=k.useState([]),[n,a]=k.useState({date:"",amount:"",category:"",description:"",paymentMethod:"Cash"}),[s,o]=k.useState(!1),[l,u]=k.useState(""),[A,f]=k.useState({start:"",end:""}),[h,p]=k.useState("All"),[g,v]=k.useState("All"),[x,b]=k.useState(window.innerWidth),[w,B]=k.useState(window.innerWidth<768),[j,_]=k.useState(localStorage.getItem("lastExpenseResetCheck")||""),[N,O]=k.useState(""),[T,P]=k.useState(!1),[U,D]=k.useState(null),F=x>=1920,R=x>=768,Q=F?"8rem":R?"5rem":"0",H=["Food Supplies","Utilities","Salaries","Equipment","Maintenance","Marketing","Other"];k.useEffect(()=>{const q=()=>{const G=window.innerWidth;b(G),B(G<768)};return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),k.useEffect(()=>{(async()=>{try{const G=new URLSearchParams({search:l,startDate:A.start,endDate:A.end,category:h!=="All"?h:""});g==="Paid"?G.append("disbursed","true"):g==="Pending"&&G.append("disbursed","false");const te=await(await fetch(`/api/expenses?${G}`)).json();r(Array.isArray(te)?te:[])}catch(G){console.error("Error fetching expenses:",G),r([])}})()},[l,A,h,g]);const J=async()=>{const q=new Date,G=new Date(j),Z=new Date(q.getFullYear(),q.getMonth(),q.getDate());if(!j||G<Z)try{const te=await fetch("/api/expenses/reset-disbursement",{method:"POST",headers:{"Content-Type":"application/json"}});if(te.ok){const fe=q.toISOString();_(fe),localStorage.setItem("lastExpenseResetCheck",fe);const we=await te.json();O(`Today's expenses: ${we.todayCount}, Total paid expenses: ${we.allTimeCount}`),setTimeout(()=>{O("")},1e4)}}catch(te){console.error("Failed to get disbursement statistics:",te)}};k.useEffect(()=>{J()},[]);const V=async q=>{q.preventDefault();try{const G={...n,date:new Date(n.date).toISOString(),amount:parseFloat(n.amount),disbursed:!1};if(!G.date||isNaN(G.amount)||!G.category||!G.description)throw new Error("Please fill all required fields");const Z=await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),te=await Z.json();if(!Z.ok)throw new Error(te.message||"Failed to create expense");r(fe=>[...fe,te]),o(!1),a({date:"",amount:"",category:"",description:"",paymentMethod:"Cash"})}catch(G){console.error("Error creating expense:",G),alert(G.message)}},Y=async q=>{try{const G=await fetch(`/api/expenses/${q}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({disbursed:!0,permanent:!0,disbursementDate:new Date().toISOString()})});if(!G.ok)throw new Error("Update failed");const Z=await G.json();r(te=>te.map(fe=>fe._id===Z._id?Z:fe))}catch(G){console.error("Error updating expense:",G)}},ee=()=>{const q=[["Date","Description","Category","Amount","Status"],...t.map(fe=>[new Date(fe.date).toISOString().split("T")[0],fe.description,fe.category,fe.amount,fe.disbursed?"Paid":"Pending"])].map(fe=>fe.join(",")).join(`
`),G=new Blob([q],{type:"text/csv"}),Z=window.URL.createObjectURL(G),te=document.createElement("a");te.href=Z,te.download="expenses.csv",te.click()},ie=()=>{let q=0;return l&&q++,(A.start||A.end)&&q++,h!=="All"&&q++,g!=="All"&&q++,q},z=k.useMemo(()=>Array.isArray(t)?t.filter(q=>q.disbursed):[],[t]),W=k.useMemo(()=>{const q=z.reduce((G,Z)=>{const te=Z.disbursementDate?new Date(Z.disbursementDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];return G[te]=(G[te]||0)+Z.amount,G},{});return Object.entries(q).map(([G,Z])=>({date:G,amount:Z,formattedDate:new Date(G).toLocaleDateString("en-PH",{day:"numeric",month:"short"})})).sort((G,Z)=>new Date(G.date)-new Date(Z.date))},[z]),L=k.useMemo(()=>{const q=z.reduce((G,Z)=>{const te=new Date(Z.date),fe=`${te.getFullYear()}-${(te.getMonth()+1).toString().padStart(2,"0")}`;return G[fe]=(G[fe]||0)+Z.amount,G},{});return Object.entries(q).map(([G,Z])=>({monthYear:G,amount:Z,formattedMonth:new Date(G+"-01").toLocaleDateString("en-PH",{month:"long",year:"numeric"})})).sort((G,Z)=>new Date(G.monthYear)-new Date(Z.monthYear))},[z]);return i.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:e.background,overflowX:"hidden",marginLeft:Q,transition:"margin 0.3s ease-in-out"},children:[i.jsx("div",{className:"flex-1 transition-all duration-300",children:i.jsxs("div",{className:"p-6 md:p-8 pt-24 md:pt-8",children:["          ",i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",style:{color:e.primary},children:"Expense Management"}),i.jsx("p",{className:"mt-2 text-sm",style:{color:e.muted},children:"Track and manage daily business expenses. Mark expenses as paid when they are processed."})]}),"              ",i.jsxs("button",{onClick:()=>P(!T),className:`
                  flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg border transition-all duration-200
                  ${ie()>0?"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}
                `,children:[i.jsx(fp,{className:"w-4 h-4"}),"Filter Expenses",ie()>0&&i.jsx("span",{className:"bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:ie()})]})]})}),N&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-green-50 border border-green-200 flex items-center justify-between",children:[i.jsxs("span",{className:"text-green-800 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),N]}),i.jsx("button",{onClick:()=>O(""),className:"text-green-700 hover:text-green-900",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),"          ",i.jsx(AEe,{colors:e,searchTerm:l,setSearchTerm:u,dateRange:A,setDateRange:f,selectedCategory:h,setSelectedCategory:p,paymentStatus:g,setPaymentStatus:v,categories:H,totalExpenses:t.length,activeFiltersCount:ie(),isOpen:T,onClose:()=>P(!1)}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"md:col-span-2 space-y-6",children:["              ",ie()>0&&i.jsx("div",{className:"p-4 rounded-lg border mx-6",style:{backgroundColor:e.activeBg,borderColor:e.accent+"40"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",style:{color:e.accent},children:"Active Filters:"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[l&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",style:{backgroundColor:e.accent,color:e.background},children:['Search: "',l,'"',!T&&i.jsx("button",{onClick:()=>u(""),className:"ml-1 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5",style:{color:e.background},children:""})]}),h!=="All"&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",style:{backgroundColor:e.accent,color:e.background},children:["Category: ",h,!T&&i.jsx("button",{onClick:()=>p("All"),className:"ml-1 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5",style:{color:e.background},children:""})]}),g!=="All"&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",style:{backgroundColor:e.accent,color:e.background},children:["Status: ",g,!T&&i.jsx("button",{onClick:()=>v("All"),className:"ml-1 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5",style:{color:e.background},children:""})]}),(A.start||A.end)&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",style:{backgroundColor:e.accent,color:e.background},children:["Date: ",A.start||"Start"," - ",A.end||"End",!T&&i.jsx("button",{onClick:()=>f({start:"",end:""}),className:"ml-1 hover:bg-white hover:bg-opacity-20 rounded-full p-0.5",style:{color:e.background},children:""})]})]})]}),i.jsxs("span",{className:"text-sm",style:{color:e.muted},children:[t.length," result",t.length!==1?"s":""]})]})}),i.jsx("div",{className:"rounded-xl overflow-auto shadow-lg mx-6",style:{border:`1px solid ${e.muted}20`,maxHeight:"520px"},children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{style:{backgroundColor:e.activeBg},children:i.jsx("tr",{children:["Date","Description","Category","Method","Amount","Status"].map(q=>i.jsx("th",{className:"p-4 text-left text-sm font-semibold",style:{color:e.primary},children:q},q))})}),"                  ",i.jsx("tbody",{children:Array.isArray(t)&&t.length>0?t.map(q=>i.jsxs("tr",{className:"group hover:bg-opacity-10 transition-colors",style:{backgroundColor:q.id%2===0?e.muted+"10":"transparent"},children:[i.jsx("td",{className:"p-4 text-sm font-medium",style:{color:e.primary},children:new Date(q.date).toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric"})}),i.jsx("td",{className:"p-4 text-sm",style:{color:e.secondary},children:q.description}),i.jsx("td",{className:"p-4",children:i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",style:{backgroundColor:e.activeBg,color:e.accent},children:q.category})}),i.jsx("td",{className:"p-4 text-sm",style:{color:e.secondary},children:q.paymentMethod}),i.jsxs("td",{className:"p-4 text-right text-sm font-medium",style:{color:e.secondary},children:["",q.amount.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]}),"                        ",i.jsx("td",{className:"p-4",children:q.disbursed?i.jsxs("div",{className:"flex items-center",children:["                              ",i.jsxs("span",{className:"px-3 py-1 rounded-lg text-sm font-medium",style:{backgroundColor:q.permanent?e.secondary+"20":e.accent+"20",color:q.permanent?e.secondary:e.accent,border:q.permanent?`1px solid ${e.secondary}`:`1px solid ${e.accent}40`},children:["Paid ",new Date(q.disbursementDate).toLocaleDateString("en-PH",{month:"short",day:"numeric"})]})]}):i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{onClick:()=>Y(q._id),className:"px-3 py-1 rounded-lg",style:{backgroundColor:e.accent,color:e.background},title:"Mark as paid and permanent (won't be reset daily)",children:"Mark as Paid"})})})]},q._id)):i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full mb-4 flex items-center justify-center",style:{backgroundColor:e.muted+"20"},children:i.jsx("svg",{className:"w-8 h-8",style:{color:e.muted},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),i.jsx("h3",{className:"text-lg font-medium mb-2",style:{color:e.secondary},children:ie()>0?"No expenses match your filters":"No expenses found"}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:ie()>0?"Try adjusting your filters or clearing them to see more results.":'Add your first expense by clicking the "Add Expense" button below.'}),ie()>0&&i.jsx("button",{onClick:()=>{u(""),f({start:"",end:""}),p("All"),v("All")},className:"mt-4 px-4 py-2 rounded-lg text-sm font-medium",style:{backgroundColor:e.accent,color:e.background},children:"Clear All Filters"})]})})})})]})}),i.jsxs("div",{className:"flex flex-wrap justify-end gap-2 px-6",children:[i.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:e.secondary,color:e.background},onClick:ee,children:"Export to CSV"}),i.jsx("button",{className:"px-4 py-2 rounded-lg",style:{backgroundColor:e.accent,color:e.background},onClick:()=>o(!0),children:"Add Expense"})]})]}),"            ",i.jsxs("div",{className:"md:col-span-1 space-y-6",children:[i.jsxs("div",{className:"p-4 rounded-lg shadow cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",style:{backgroundColor:e.background,border:"2px solid transparent"},onClick:()=>D("daily"),onMouseEnter:q=>q.target.style.borderColor=e.accent+"40",onMouseLeave:q=>q.target.style.borderColor="transparent",children:["                ",i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Daily Payments"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Expenses paid by day  Click to expand"})]}),i.jsx("div",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:e.activeBg,color:e.accent},children:"Expand"})]}),i.jsx(Ul,{width:"100%",height:250,children:i.jsxs(Df,{data:W,children:[i.jsx(If,{strokeDasharray:"3 3"}),i.jsx(Ao,{dataKey:"date",tick:{fontSize:12},tickFormatter:q=>new Date(q).toLocaleDateString("en-PH",{day:"numeric",month:"short"})}),i.jsx(rl,{}),i.jsx(Fi,{contentStyle:{backgroundColor:e.background,border:`1px solid ${e.muted}`},labelStyle:{color:e.primary},formatter:q=>[`${Number(q).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,"Amount"]}),i.jsx(tl,{dataKey:"amount",fill:e.accent,name:"Daily Total"})]})})]}),"              ",i.jsxs("div",{className:"p-4 rounded-lg shadow cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",style:{backgroundColor:e.background,border:"2px solid transparent"},onClick:()=>D("monthly"),onMouseEnter:q=>q.target.style.borderColor=e.accent+"40",onMouseLeave:q=>q.target.style.borderColor="transparent",children:["                ",i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Payments"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Expenses summarized by month  Click to expand"})]}),i.jsx("div",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:e.activeBg,color:e.accent},children:"Expand"})]}),i.jsx(Ul,{width:"100%",height:250,children:i.jsxs(Df,{data:L,children:[i.jsx(If,{strokeDasharray:"3 3"}),i.jsx(Ao,{dataKey:"monthYear",tick:{fontSize:12},tickFormatter:q=>{const[G,Z]=q.split("-");return new Date(G,Z-1).toLocaleDateString("en-PH",{month:"short",year:"numeric"})}}),i.jsx(rl,{}),i.jsx(Fi,{contentStyle:{backgroundColor:e.background,border:`1px solid ${e.muted}`},labelStyle:{color:e.primary},formatter:q=>[`${Number(q).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,"Amount"],labelFormatter:q=>{const[G,Z]=q.split("-");return new Date(G,Z-1).toLocaleDateString("en-PH",{month:"long",year:"numeric"})}}),i.jsx(tl,{dataKey:"amount",fill:e.secondary,name:"Monthly Total"}),"                  "]})})]}),i.jsxs("div",{className:"p-4 rounded-lg shadow",style:{backgroundColor:e.background},children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"This Month's Report"}),i.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[new Date().toLocaleDateString("en-PH",{month:"long",year:"numeric"})," summary"]}),(()=>{const q=new Date().getMonth(),G=new Date().getFullYear(),Z=t.filter(xe=>{const ge=new Date(xe.date);return ge.getMonth()===q&&ge.getFullYear()===G}),te=Z.reduce((xe,ge)=>xe+ge.amount,0),fe=Z.filter(xe=>xe.status==="Paid"),we=Z.filter(xe=>xe.status==="Pending"),he=Z.reduce((xe,ge)=>(xe[ge.category]=(xe[ge.category]||0)+ge.amount,xe),{}),ce=Object.entries(he).sort(([,xe],[,ge])=>ge-xe)[0];return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:e.activeBg},children:[i.jsx("div",{className:"text-xs font-medium mb-1",style:{color:e.muted},children:"Total Expenses"}),i.jsx("div",{className:"text-lg font-bold",style:{color:e.accent},children:Z.length})]}),i.jsxs("div",{className:"text-center p-3 rounded-lg",style:{backgroundColor:e.activeBg},children:[i.jsx("div",{className:"text-xs font-medium mb-1",style:{color:e.muted},children:"Total Amount"}),i.jsxs("div",{className:"text-lg font-bold",style:{color:e.accent},children:["",te.toLocaleString("en-PH")]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",style:{color:e.secondary},children:"Paid Expenses"}),i.jsxs("span",{className:"text-sm font-bold text-green-600",children:[fe.length," (",fe.reduce((xe,ge)=>xe+ge.amount,0).toLocaleString("en-PH"),")"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",style:{color:e.secondary},children:"Pending Expenses"}),i.jsxs("span",{className:"text-sm font-bold text-orange-600",children:[we.length," (",we.reduce((xe,ge)=>xe+ge.amount,0).toLocaleString("en-PH"),")"]})]})]}),ce&&i.jsxs("div",{className:"p-3 rounded-lg border",style:{backgroundColor:e.background,borderColor:e.accent+"40"},children:[i.jsx("div",{className:"text-xs font-medium mb-1",style:{color:e.muted},children:"Top Category"}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-bold",style:{color:e.secondary},children:ce[0]}),i.jsxs("span",{className:"text-sm font-bold",style:{color:e.accent},children:["",ce[1].toLocaleString("en-PH")]})]})]}),Z.length===0&&i.jsx("div",{className:"text-center p-4",style:{color:e.muted},children:i.jsx("p",{className:"text-sm",children:"No expenses recorded this month"})})]})})()]})]})]})]})}),s&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>o(!1),children:i.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-xl w-full relative",style:{backgroundColor:e.background,border:`1px solid ${e.muted}60`},onClick:q=>q.stopPropagation(),children:[i.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full px-2 py-0 text-sm",children:""}),i.jsx("h2",{className:"text-xl font-semibold mb-6",style:{color:e.secondary},children:"Add New Expense"}),i.jsxs("form",{onSubmit:V,className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[[{label:"Date",type:"date",name:"date",required:!0},{label:"Amount ()",type:"number",name:"amount",required:!0},{label:"Category",type:"select",name:"category",options:H},{label:"Payment Method",type:"select",name:"paymentMethod",options:["Cash","Bank Transfer","Digital Wallet"]}].map(q=>i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",style:{color:e.primary},children:q.label}),q.type==="select"?i.jsxs("select",{className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:e.muted+"60",backgroundColor:e.background},value:n[q.name],onChange:G=>a({...n,[q.name]:G.target.value}),required:q.required,children:[i.jsxs("option",{value:"",children:["Select ",q.label]}),q.options.map(G=>i.jsx("option",{value:G,children:G},G))]}):i.jsx("input",{type:q.type,className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:e.muted+"60",backgroundColor:e.background},value:n[q.name],onChange:G=>a({...n,[q.name]:G.target.value}),required:q.required,placeholder:`Enter ${q.label.toLowerCase()}`})]},q.name)),i.jsxs("div",{className:"md:col-span-2 space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium",style:{color:e.primary},children:"Description"}),i.jsx("textarea",{className:"w-full p-3 rounded-lg border focus:ring-2 focus:outline-none transition-all",style:{borderColor:e.muted+"60",backgroundColor:e.background},value:n.description,onChange:q=>a({...n,description:q.target.value}),rows:"3",placeholder:"Add expense details..."})]}),i.jsx("div",{className:"md:col-span-2 mt-4",children:i.jsx("button",{type:"submit",className:"w-full py-3 px-6 rounded-lg font-semibold transition-all hover:scale-[1.02]",style:{backgroundColor:e.accent,color:e.background,boxShadow:`0 4px 14px ${e.accent}30`},children:"Add Expense"})})]}),"          "]})}),U&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>D(null),children:i.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-auto relative shadow-2xl",style:{backgroundColor:e.background},onClick:q=>q.stopPropagation(),children:[i.jsxs("div",{className:"p-6 border-b sticky top-0 z-10 flex items-center justify-between",style:{backgroundColor:e.background,borderColor:e.muted+"20"},children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",style:{color:e.primary},children:U==="daily"?"Daily Payments Analysis":"Monthly Payments Analysis"}),i.jsx("p",{className:"text-sm mt-1",style:{color:e.muted},children:U==="daily"?"Comprehensive view of daily expense patterns":"Detailed monthly expense trends and insights"})]}),i.jsx("button",{onClick:()=>D(null),className:"p-3 rounded-lg hover:bg-gray-100 transition-colors",style:{color:e.muted},children:i.jsx(wi,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm",style:{backgroundColor:e.activeBg},children:i.jsx(Ul,{width:"100%",height:500,children:i.jsxs(Df,{data:U==="daily"?W:L,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(If,{strokeDasharray:"3 3",stroke:e.muted+"40"}),i.jsx(Ao,{dataKey:U==="daily"?"date":"monthYear",tick:{fontSize:12},tickFormatter:q=>{if(U==="daily")return new Date(q).toLocaleDateString("en-PH",{day:"numeric",month:"short",year:"2-digit"});{const[G,Z]=q.split("-");return new Date(G,Z-1).toLocaleDateString("en-PH",{month:"short",year:"numeric"})}},angle:-45,textAnchor:"end",height:80}),i.jsx(rl,{tick:{fontSize:12},tickFormatter:q=>`${Number(q).toLocaleString("en-PH")}`}),i.jsx(Fi,{contentStyle:{backgroundColor:e.background,border:`1px solid ${e.accent}`,borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},labelStyle:{color:e.primary,fontWeight:"bold"},formatter:q=>[`${Number(q).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,U==="daily"?"Daily Total":"Monthly Total"],labelFormatter:q=>{if(U==="daily")return new Date(q).toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"});{const[G,Z]=q.split("-");return new Date(G,Z-1).toLocaleDateString("en-PH",{month:"long",year:"numeric"})}}}),i.jsx(tl,{dataKey:"amount",fill:U==="daily"?e.accent:e.secondary,name:U==="daily"?"Daily Total":"Monthly Total",radius:[4,4,0,0]})]})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:(()=>{const G=(U==="daily"?W:L).map(he=>he.amount),Z=G.reduce((he,ce)=>he+ce,0),te=G.length>0?Z/G.length:0,fe=Math.max(...G,0),we=G.length>0?Math.min(...G):0;return[{label:"Total Amount",value:Z,color:e.accent},{label:"Average",value:te,color:e.secondary},{label:"Highest",value:fe,color:"#059669"},{label:"Lowest",value:we,color:"#DC2626"}].map((he,ce)=>i.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:he.color+"10",border:`1px solid ${he.color}20`},children:[i.jsx("div",{className:"text-sm font-medium mb-1",style:{color:e.muted},children:he.label}),i.jsxs("div",{className:"text-xl font-bold",style:{color:he.color},children:["",he.value.toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},ce))})()}),i.jsx("div",{className:"text-center p-4 rounded-lg",style:{backgroundColor:e.activeBg},children:i.jsxs("p",{className:"text-sm",style:{color:e.muted},children:["Showing ",U==="daily"?W.length:L.length," ",U," periods with expense data"]})})]})]})})]})};var xb={exports:{}},fEe=xb.exports,h7;function hEe(){return h7||(h7=1,function(e,t){(function(r,n){e.exports=n(B0())})(typeof self<"u"?self:fEe,function(r){return function(){var n={155:function(w){w.exports=r}},a={};function s(w){var B=a[w];if(B!==void 0)return B.exports;var j=a[w]={exports:{}};return n[w](j,j.exports,s),j.exports}s.d=function(w,B){for(var j in B)s.o(B,j)&&!s.o(w,j)&&Object.defineProperty(w,j,{enumerable:!0,get:B[j]})},s.o=function(w,B){return Object.prototype.hasOwnProperty.call(w,B)},s.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})};var o={};s.r(o),s.d(o,{useReactToPrint:function(){return b}});var l=s(155);function u({level:w="error",messages:B,suppressErrors:j=!1}){j||(w==="error"?console.error(B):w==="warning"?console.warn(B):console.debug(B))}function A(w,B){if(B||!w){const j=document.getElementById("printWindow");j&&document.body.removeChild(j)}}function f(w){return w instanceof Error?w:new Error("Unknown Error")}function h(w,B){const{documentTitle:j,onAfterPrint:_,onPrintError:N,preserveAfterPrint:O,print:T,suppressErrors:P}=B;setTimeout(()=>{var U,D;if(w.contentWindow){let F=function(){_==null||_(),A(O)};if(w.contentWindow.focus(),T)T(w).then(F).catch(R=>{N?N("print",f(R)):u({messages:["An error was thrown by the specified `print` function"],suppressErrors:P})});else{if(w.contentWindow.print){const R=(D=(U=w.contentDocument)===null||U===void 0?void 0:U.title)!==null&&D!==void 0?D:"",Q=w.ownerDocument.title;j&&(w.ownerDocument.title=j,w.contentDocument&&(w.contentDocument.title=j)),w.contentWindow.print(),j&&(w.ownerDocument.title=Q,w.contentDocument&&(w.contentDocument.title=R))}else u({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:P});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(R=>{var Q,H;return((H=(Q=navigator.userAgent)!==null&&Q!==void 0?Q:navigator.vendor)!==null&&H!==void 0?H:"opera"in window&&window.opera).match(R)})?setTimeout(F,500):F()}}else u({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:P})},500)}function p(w){const B=[],j=document.createTreeWalker(w,NodeFilter.SHOW_ELEMENT,null);let _=j.nextNode();for(;_;)B.push(_),_=j.nextNode();return B}function g(w,B,j){const _=p(w),N=p(B);if(_.length===N.length)for(let O=0;O<_.length;O++){const T=_[O],P=N[O],U=T.shadowRoot;if(U!==null){const D=P.attachShadow({mode:U.mode});D.innerHTML=U.innerHTML,g(U,D,j)}}else u({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",w,B],suppressErrors:j})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function x(w,B,j,_){var N,O,T,P,U;const{contentNode:D,clonedContentNode:F,clonedImgNodes:R,clonedVideoNodes:Q,numResourcesToLoad:H,originalCanvasNodes:J}=j,{bodyClass:V,fonts:Y,ignoreGlobalStyles:ee,pageStyle:ie,nonce:z,suppressErrors:W,copyShadowRoots:L}=_;w.onload=null;const q=(N=w.contentDocument)!==null&&N!==void 0?N:(O=w.contentWindow)===null||O===void 0?void 0:O.document;if(q){const G=q.body.appendChild(F);L&&g(D,G,!!W),Y&&(!((T=w.contentDocument)===null||T===void 0)&&T.fonts&&(!((P=w.contentWindow)===null||P===void 0)&&P.FontFace)?Y.forEach(xe=>{const ge=new FontFace(xe.family,xe.source,{weight:xe.weight,style:xe.style});w.contentDocument.fonts.add(ge),ge.loaded.then(()=>{B(ge)}).catch(Pe=>{B(ge,["Failed loading the font:",ge,"Load error:",f(Pe)])})}):(Y.forEach(xe=>{B(xe)}),u({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:W})));const Z=ie??v,te=q.createElement("style");z&&(te.setAttribute("nonce",z),q.head.setAttribute("nonce",z)),te.appendChild(q.createTextNode(Z)),q.head.appendChild(te),V&&q.body.classList.add(...V.split(" "));const fe=q.querySelectorAll("canvas");for(let xe=0;xe<J.length;++xe){const ge=J[xe],Pe=fe[xe];if(Pe===void 0){u({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ge],suppressErrors:W});continue}const ke=Pe.getContext("2d");ke&&ke.drawImage(ge,0,0)}for(let xe=0;xe<R.length;xe++){const ge=R[xe],Pe=ge.getAttribute("src");if(Pe){const ke=new Image;ke.onload=()=>{B(ge)},ke.onerror=(se,Et,Qt,It,nt)=>{B(ge,["Error loading <img>",ge,"Error",nt])},ke.src=Pe}else B(ge,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ge])}for(let xe=0;xe<Q.length;xe++){const ge=Q[xe];ge.preload="auto";const Pe=ge.getAttribute("poster");if(Pe){const ke=new Image;ke.onload=()=>{B(ge)},ke.onerror=(se,Et,Qt,It,nt)=>{B(ge,["Error loading video poster",Pe,"for video",ge,"Error:",nt])},ke.src=Pe}else ge.readyState>=2?B(ge):ge.src?(ge.onloadeddata=()=>{B(ge)},ge.onerror=(ke,se,Et,Qt,It)=>{B(ge,["Error loading video",ge,"Error",It])},ge.onstalled=()=>{B(ge,["Loading video stalled, skipping",ge])}):B(ge,["Error loading video, `src` is empty",ge])}const we="select",he=D.querySelectorAll(we),ce=q.querySelectorAll(we);for(let xe=0;xe<he.length;xe++)ce[xe].value=he[xe].value;if(!ee){const xe=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ge=0,Pe=xe.length;ge<Pe;++ge){const ke=xe[ge];if(ke.tagName.toLowerCase()==="style"){const se=q.createElement(ke.tagName),Et=ke.sheet;if(Et){let Qt="";try{const It=Et.cssRules.length;for(let nt=0;nt<It;++nt)typeof Et.cssRules[nt].cssText=="string"&&(Qt+=`${Et.cssRules[nt].cssText}\r
`)}catch(It){u({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ke,`Original error: ${f(It).message}`],level:"warning"})}se.setAttribute("id",`react-to-print-${ge}`),z&&se.setAttribute("nonce",z),se.appendChild(q.createTextNode(Qt)),q.head.appendChild(se)}}else if(ke.getAttribute("href"))if(ke.hasAttribute("disabled"))u({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ke],level:"warning"}),B(ke);else{const se=q.createElement(ke.tagName);for(let Et=0,Qt=ke.attributes.length;Et<Qt;++Et){const It=ke.attributes[Et];It&&se.setAttribute(It.nodeName,(U=It.nodeValue)!==null&&U!==void 0?U:"")}se.onload=()=>{B(se)},se.onerror=(Et,Qt,It,nt,ye)=>{B(se,["Failed to load",se,"Error:",ye])},z&&se.setAttribute("nonce",z),q.head.appendChild(se)}else u({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ke],level:"warning"}),B(ke)}}}H===0&&h(w,_)}function b({bodyClass:w,contentRef:B,copyShadowRoots:j,documentTitle:_,fonts:N,ignoreGlobalStyles:O,nonce:T,onAfterPrint:P,onBeforePrint:U,onPrintError:D,pageStyle:F,preserveAfterPrint:R,print:Q,suppressErrors:H}){return(0,l.useCallback)(J=>{function V(){const Y={bodyClass:w,contentRef:B,copyShadowRoots:j,documentTitle:_,fonts:N,ignoreGlobalStyles:O,nonce:T,onAfterPrint:P,onPrintError:D,pageStyle:F,preserveAfterPrint:R,print:Q,suppressErrors:H},ee=function(){const W=document.createElement("iframe");return W.width=`${document.documentElement.clientWidth}px`,W.height=`${document.documentElement.clientHeight}px`,W.style.position="absolute",W.style.top=`-${document.documentElement.clientHeight+100}px`,W.style.left=`-${document.documentElement.clientWidth+100}px`,W.id="printWindow",W.srcdoc="<!DOCTYPE html>",W}(),ie=function(W,L){const{contentRef:q,fonts:G,ignoreGlobalStyles:Z,suppressErrors:te}=L,fe=function({contentRef:Pe,optionalContent:ke,suppressErrors:se}){return!ke||ke instanceof Event||(Pe&&u({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof ke!="function")?Pe?Pe.current:void u({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:se}):ke()}({contentRef:q,optionalContent:W,suppressErrors:te});if(!fe)return;const we=fe.cloneNode(!0),he=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),ce=we.querySelectorAll("img"),xe=we.querySelectorAll("video"),ge=G?G.length:0;return{contentNode:fe,clonedContentNode:we,clonedImgNodes:ce,clonedVideoNodes:xe,numResourcesToLoad:(Z?0:he.length)+ce.length+xe.length+ge,originalCanvasNodes:fe.querySelectorAll("canvas")}}(J,Y);if(!ie)return void u({messages:["There is nothing to print"],suppressErrors:H});const z=function(W,L,q){const{suppressErrors:G}=W,Z=[],te=[];return function(fe,we){Z.includes(fe)?u({level:"debug",messages:["Tried to mark a resource that has already been handled",fe],suppressErrors:G}):(we?(u({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...we],suppressErrors:G}),te.push(fe)):Z.push(fe),Z.length+te.length===L&&h(q,W))}}(Y,ie.numResourcesToLoad,ee);(function(W,L,q,G){W.onload=()=>{x(W,L,q,G)},document.body.appendChild(W)})(ee,z,ie,Y)}A(R,!0),U?U().then(()=>{V()}).catch(Y=>{D==null||D("onBeforePrint",f(Y))}):V()},[w,B,j,_,N,O,T,P,U,D,F,R,Q,H])}return o}()})}(xb)),xb.exports}var X0=hEe();const C0=Ce.forwardRef(({order:e,totals:t,paymentMethod:r},n)=>{const[a,s]=k.useState("");k.useEffect(()=>{try{const l=localStorage.getItem("userData");if(l){const u=JSON.parse(l);s(u.username||"")}}catch(l){console.error("Error retrieving staff info:",l)}},[]);const o=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0});return i.jsxs("div",{ref:n,className:"text-sm p-6",style:{backgroundColor:le.colors.background},children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-lg md:text-xl font-semibold",style:{color:le.colors.primary},children:"Ring & Wings"}),i.jsx("p",{className:"text-sm md:text-base",style:{color:le.colors.secondary},children:"Thank You"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row mt-2 md:mt-4",style:{color:le.colors.primary},children:[i.jsxs("div",{className:"flex-grow",children:["No: ",e.receiptNumber]}),i.jsx("div",{className:"mt-1 md:mt-0",children:o})]}),i.jsxs("div",{style:{color:le.colors.primary},className:"my-1 text-sm",children:[i.jsx("span",{className:"font-medium",children:"Staff: "}),i.jsx("span",{children:a||"Cashier"})]}),t.customerName&&i.jsxs("div",{style:{color:le.colors.primary},className:"my-1 text-sm",children:[i.jsx("span",{className:"font-medium",children:"Customer: "}),i.jsx("span",{children:t.customerName})]}),i.jsx("hr",{className:"my-2",style:{borderColor:le.colors.muted}}),i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{style:{backgroundColor:le.colors.primary},children:[i.jsx("th",{className:"py-1 w-1/12 text-center text-white",children:"#"}),i.jsx("th",{className:"py-1 text-left text-white",children:"Item"}),i.jsx("th",{className:"py-1 w-2/12 text-center text-white",children:"Qty"}),i.jsx("th",{className:"py-1 w-3/12 text-right text-white",children:"Subtotal"})]})}),i.jsx("tbody",{children:e.items.map((l,u)=>i.jsxs("tr",{style:{borderColor:le.colors.muted},children:[i.jsx("td",{className:"py-1 md:py-2 text-center",style:{color:le.colors.primary},children:u+1}),i.jsxs("td",{className:"py-1 md:py-2 text-left",style:{color:le.colors.primary},children:[l.name," (",l.selectedSize,")",i.jsx("br",{}),i.jsxs("small",{style:{color:le.colors.secondary},children:["",l.price.toFixed(2)]})]}),i.jsx("td",{className:"py-1 md:py-2 text-center",style:{color:le.colors.primary},children:l.quantity}),i.jsxs("td",{className:"py-1 md:py-2 text-right",style:{color:le.colors.primary},children:["",(l.quantity*l.price).toFixed(2)]})]},l._id+"-"+l.selectedSize))})]}),i.jsx("hr",{className:"my-2",style:{borderColor:le.colors.muted}}),i.jsxs("div",{className:"flex justify-between font-semibold text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Subtotal:"}),i.jsxs("span",{children:["",t.subtotal]})]}),"      ",parseFloat(t.discount)>0&&i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.secondary},children:[i.jsx("span",{children:"PWD/Senior Discount (20%):"}),i.jsxs("span",{children:["-",t.discount]})]}),i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Payment Method:"}),i.jsx("span",{children:r.toUpperCase()})]}),r==="cash"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Cash Received:"}),i.jsxs("span",{children:["",t.cashReceived]})]}),i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Change:"}),i.jsxs("span",{children:["",t.change]})]}),"        "]}),"      ",r==="e-wallet"&&t.eWalletReferenceNumber&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Provider:"}),i.jsx("span",{children:(t.eWalletProvider||"GCash").toUpperCase()})]}),i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Reference Number:"}),i.jsx("span",{children:t.eWalletReferenceNumber})]}),i.jsxs("div",{className:"flex justify-between text-sm",style:{color:le.colors.primary},children:[i.jsx("span",{children:"Account Name:"}),i.jsx("span",{children:t.eWalletName})]})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-1",style:{color:le.colors.primary},children:[i.jsx("span",{children:"TOTAL"}),i.jsxs("span",{children:["",t.total]})]})]})}),WG=()=>{const[e,t]=k.useState(null),[r,n]=k.useState([]),[a,s]=k.useState(!0),[o,l]=k.useState(""),[u,A]=k.useState(null),f={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"},h="http://localhost:5000";k.useEffect(()=>{const N=localStorage.getItem("userData");N&&A(JSON.parse(N))},[]),k.useEffect(()=>{const N={current:!1};if(u!=null&&u.id){v(),x();const O=setInterval(()=>{N.current||v()},6e4);return()=>{N.current=!0,clearInterval(O)}}},[u]);const p=()=>{const N=localStorage.getItem("authToken");if(!N)throw new Error("Authentication token not found");return{"Content-Type":"application/json",Authorization:`Bearer ${N}`}},g=N=>{(N.message.includes("Authentication token")||N.message.includes("401"))&&(localStorage.removeItem("authToken"),localStorage.removeItem("userData"),window.location.reload()),l(N.message||"An error occurred")},v=async()=>{try{const N=new Date;N.setHours(0,0,0,0);const O=await fetch(`${h}/api/time-logs/staff/${u.id}?startDate=${N.toISOString()}`,{headers:p()});if(!O.ok)throw new Error(O.status===401?"Authentication failed":"Failed to fetch time log");const{data:T}=await O.json();if(!T)throw new Error("No data received");const P=T.find(U=>!U.clockOut);t(P||null)}catch(N){g(N)}finally{s(!1)}},x=async()=>{try{const N=new Date,O=new Date;O.setDate(O.getDate()-7);const T=await fetch(`${h}/api/time-logs/staff/${u.id}?startDate=${O.toISOString()}&endDate=${N.toISOString()}`,{headers:p()});if(!T.ok)throw new Error(T.status===401?"Authentication failed":"Failed to fetch recent logs");const{data:P}=await T.json();if(!P)throw new Error("No data received");n(P)}catch(N){g(N)}},b=async()=>{s(!0);try{const N=await fetch(`${h}/api/time-logs/clock-in`,{method:"POST",headers:p(),body:JSON.stringify({staffId:u.id})});if(!N.ok)throw new Error(N.status===401?"Authentication failed":"Failed to clock in");const O=await N.json();if(!O.success)throw new Error(O.message||"Failed to clock in");t(O.data),await x(),l("")}catch(N){g(N)}finally{s(!1)}},w=async()=>{s(!0);try{const N=await fetch(`${h}/api/time-logs/clock-out`,{method:"POST",headers:p(),body:JSON.stringify({staffId:u.id})});if(!N.ok)throw new Error(N.status===401?"Authentication failed":"Failed to clock out");const O=await N.json();if(!O.success)throw new Error(O.message||"Failed to clock out");t(null),await x(),l("")}catch(N){g(N)}finally{s(!1)}},B=N=>new Date(N).toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",hour12:!0}),j=N=>new Date(N).toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),_=(N,O)=>{if(!O)return"Active";const T=new Date(O)-new Date(N),P=Math.floor(T/(1e3*60*60)),U=Math.floor(T%(1e3*60*60)/(1e3*60));return`${P}h ${U}m`};return u?i.jsx("div",{className:"min-h-screen p-6",style:{backgroundColor:f.background},children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 rounded-lg shadow-sm",style:{border:`1px solid ${f.muted}`},children:[i.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",style:{color:f.primary},children:[i.jsx(Es,{}),"Time Clock"]}),o&&i.jsx("div",{className:"mb-4 p-3 rounded bg-red-50 border border-red-200",children:i.jsx("p",{className:"text-sm text-red-600",children:o})}),i.jsx("div",{className:"space-y-4",children:e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 rounded",style:{backgroundColor:`${f.accent}15`},children:[i.jsx("p",{className:"text-sm mb-2",style:{color:f.secondary},children:"Clocked in at:"}),i.jsx("p",{className:"text-lg font-semibold",style:{color:f.accent},children:B(e.clockIn)})]}),i.jsxs("button",{onClick:w,disabled:a,className:"w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-opacity hover:opacity-90",style:{backgroundColor:f.secondary,color:f.background},children:[i.jsx(X9,{}),"Clock Out"]})]}):i.jsxs("button",{onClick:b,disabled:a,className:"w-full py-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-opacity hover:opacity-90",style:{backgroundColor:f.accent,color:f.background},children:[i.jsx(aie,{}),"Clock In"]})})]}),i.jsxs("div",{className:"p-6 rounded-lg shadow-sm",style:{border:`1px solid ${f.muted}`},children:[i.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",style:{color:f.primary},children:[i.jsx(vc,{}),"Recent Activity"]}),i.jsxs("div",{className:"space-y-4",children:[r.map(N=>i.jsxs("div",{className:"p-4 rounded",style:{backgroundColor:f.background,border:`1px solid ${f.muted}`},children:[i.jsx("p",{className:"text-sm mb-2",style:{color:f.muted},children:j(N.date)}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm",children:["In: ",B(N.clockIn)]}),N.clockOut&&i.jsxs("p",{className:"text-sm",children:["Out: ",B(N.clockOut)]})]}),i.jsxs("div",{className:"text-sm font-medium px-3 py-1 rounded",style:{backgroundColor:N.isOvertime?`${f.accent}15`:`${f.secondary}15`,color:N.isOvertime?f.accent:f.secondary},children:[_(N.clockIn,N.clockOut),N.isOvertime&&" (OT)"]})]})]},N._id)),r.length===0&&i.jsx("p",{className:"text-center py-4",style:{color:f.muted},children:"No recent activity"})]})]})]})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:f.background},children:i.jsx("p",{className:"text-lg",style:{color:f.primary},children:"Please log in to access the time clock."})})},mEe=({onClose:e})=>{const[t,r]=k.useState(null),[n,a]=k.useState(!1),[s,o]=k.useState(null),[l,u]=k.useState(null),[A,f]=k.useState(""),[h,p]=k.useState(""),[g,v]=k.useState(!0),[x,b]=k.useState(!1),[w,B]=k.useState(null),[j,_]=k.useState(""),N=k.useRef(null),O=k.useRef(null),T={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"};k.useEffect(()=>{P();const z=setInterval(P,6e4);return()=>clearInterval(z)},[]);const P=()=>{const z=new Date,W=z.getHours()%12||12,L=String(z.getMinutes()).padStart(2,"0"),q=z.getHours()>=12?"PM":"AM";f(`${W}:${L} ${q}`)};k.useEffect(()=>()=>{w&&w.getTracks().forEach(z=>z.stop())},[w]);const U=async()=>{var z,W;if(!h||h.length<4){rr.error("Please enter a valid PIN code");return}a(!0);try{const L=await vr.post("/api/staff/authenticate-pin",{pin:h});if(L.data&&L.data.success)r(L.data.staff),v(!1),b(!0),await D(L.data.staff._id),F();else throw new Error("Invalid PIN code")}catch(L){console.error("Authentication error:",L),rr.error(((W=(z=L.response)==null?void 0:z.data)==null?void 0:W.message)||"Invalid PIN code"),p("")}finally{a(!1)}},D=async z=>{var W;try{const L=new Date;L.setHours(0,0,0,0);const q=new URLSearchParams({startDate:L.toISOString(),endDate:new Date().toISOString()}).toString(),{data:G}=await vr.get(`/api/time-logs/staff/${z}?${q}`);if(((W=G==null?void 0:G.data)==null?void 0:W.length)>0){const Z=J(G.data[0].timestamp||G.data[0].createdAt);u({...G.data[0],formattedTimestamp:Z})}else u(null)}catch(L){console.error("Error fetching time logs:",L)}},F=async()=>{try{const z=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});N.current&&(N.current.srcObject=z),B(z)}catch(z){console.error("Camera initialization error:",z),rr.error("Unable to access camera. Please check permissions.")}},R=()=>{if(!(!N.current||!O.current))try{const z=N.current,W=O.current,L=W.getContext("2d");W.width=z.videoWidth,W.height=z.videoHeight,L.drawImage(z,0,0,W.width,W.height);const q=W.toDataURL("image/jpeg");_(q),w&&w.getTracks().forEach(G=>G.stop()),b(!1)}catch(z){console.error("Error capturing photo:",z),rr.error("Failed to capture photo")}},Q=()=>{_(""),b(!0),F()},H=async z=>{var W,L;if(!(t!=null&&t._id)){rr.error("Staff data not available");return}if(!j){rr.error("Please capture your photo for verification"),b(!0),F();return}a(!0);try{const{data:q}=await vr.post(`/api/time-logs/${z==="in"?"clock-in":"clock-out"}`,{userId:t.userId,photoBase64:j});if(!q.success)throw new Error(`Failed to clock ${z}`);const G=J(q.data.timestamp||q.data.createdAt);u({...q.data,formattedTimestamp:G}),await D(t._id),rr.success(`Clock ${z} recorded successfully`),P(),setTimeout(()=>{e()},1500)}catch(q){console.error("Time logging error:",q),rr.error(((L=(W=q.response)==null?void 0:W.data)==null?void 0:L.message)||q.message)}finally{a(!1)}},J=z=>{if(!z)return"N/A";try{const W=new Date(z);return isNaN(W.getTime())?"Invalid Date":W.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch(W){return console.error("Date formatting error:",W),"Invalid Date"}},V=l&&l.type==="clockIn",Y=()=>{const z=[1,2,3,4,5,6,7,8,9,null,0,"del"],W=L=>{L==="del"?p(q=>q.slice(0,-1)):h.length<4&&p(q=>q+L)};return i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:T.primary},children:"Enter Your PIN"}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"w-full py-3 px-4 text-center text-2xl tracking-widest font-mono rounded",style:{backgroundColor:T.primary+"10"},children:h.split("").map((L,q)=>"").join(" ")})}),i.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:z.map((L,q)=>i.jsx("button",{onClick:()=>L!==null&&W(L),disabled:L===null,className:`py-4 text-xl font-medium rounded-lg transition-all ${L===null?"opacity-0 cursor-default":"hover:opacity-80"}`,style:{backgroundColor:L==="del"?T.secondary:T.primary+"10",color:L==="del"?T.background:T.primary},children:L==="del"?"":L},q))}),i.jsx("button",{onClick:U,disabled:h.length<4||n,className:`w-full py-3 rounded-lg font-medium transition-opacity ${h.length<4||n?"opacity-50":"opacity-100 hover:opacity-90"}`,style:{backgroundColor:T.accent,color:T.background},children:n?"Verifying...":"Submit"})]})},ee=()=>i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:T.primary},children:"Camera Verification"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg",style:{border:`2px solid ${T.accent}`}}),i.jsx("button",{onClick:R,className:"absolute inset-0 m-auto w-16 h-16 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{backgroundColor:"rgba(255, 255, 255, 0.7)",border:`2px solid ${T.accent}`},children:i.jsx(Ob,{size:28,style:{color:T.accent}})})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:e,className:"px-4 py-2 rounded-lg text-sm",style:{backgroundColor:T.secondary,color:T.background},children:"Cancel"})})]}),ie=()=>i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:gap-6",children:[i.jsxs("div",{className:"md:w-2/5 mb-4 md:mb-0",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("p",{className:"text-lg font-medium",style:{color:T.primary},children:t.name}),i.jsx("p",{className:"text-sm",style:{color:T.muted},children:t.position})]}),i.jsx("div",{className:"relative",children:j?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:j,alt:"Verification Photo",className:"w-full rounded-lg",style:{border:`2px solid ${T.accent}`}}),i.jsx("button",{onClick:Q,className:"absolute top-2 right-2 bg-white p-1 rounded-full",style:{backgroundColor:T.secondary,color:T.background},children:i.jsx(Z9,{size:14})})]}):i.jsx("div",{className:"w-full h-32 flex items-center justify-center rounded-lg",style:{backgroundColor:T.primary+"10"},children:i.jsxs("button",{onClick:()=>{b(!0),F()},className:"px-3 py-2 rounded-lg text-sm flex items-center gap-1",style:{backgroundColor:T.accent,color:T.background},children:[i.jsx(Ob,{size:14})," Take Photo"]})})})]}),i.jsx("div",{className:"md:w-3/5",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"p-3 rounded text-center",style:{backgroundColor:T.primary+"10"},children:[i.jsx("p",{className:"text-sm font-medium mb-1",style:{color:T.muted},children:"Current Time"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:T.primary},children:A})]}),i.jsxs("div",{className:"p-3 rounded flex flex-col items-center justify-center",style:{backgroundColor:V?T.accent+"20":T.secondary+"10"},children:[i.jsx("div",{className:"flex items-center justify-center gap-2",children:V?i.jsxs(i.Fragment,{children:[i.jsx(_y,{size:18,style:{color:T.accent}}),i.jsx("p",{className:"text-sm font-medium",style:{color:T.accent},children:"You are currently clocked in"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Es,{size:18,style:{color:T.secondary}}),i.jsx("p",{className:"text-sm font-medium",style:{color:T.secondary},children:l?"You are clocked out":"Not clocked in today"})]})}),V&&l&&i.jsxs("div",{className:"w-full text-center mt-2 pt-2 border-t",style:{borderColor:T.accent+"30"},children:[i.jsx("p",{className:"text-xs",style:{color:T.muted},children:"Clocked in at:"}),i.jsx("p",{className:"text-sm font-medium",style:{color:T.accent},children:l.formattedTimestamp})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("button",{onClick:()=>H("in"),disabled:n||V||!j,className:"py-2 px-4 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:T.accent,color:T.background},children:"Clock In"}),i.jsx("button",{onClick:()=>H("out"),disabled:n||!V||!j,className:"py-2 px-4 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:T.secondary,color:T.background},children:"Clock Out"})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t",style:{borderColor:T.muted+"40"},children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-1",style:{color:T.primary},children:[i.jsx(G9,{size:14}),"Recent Activity"]}),l?i.jsx("div",{className:"p-2 rounded text-xs",style:{backgroundColor:T.muted+"15"},children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{style:{color:T.secondary},children:l.type==="clockIn"?"Clock In":"Clock Out"}),i.jsx("span",{style:{color:T.muted},children:l.formattedTimestamp})]})}):i.jsx("p",{className:"text-sm text-center",style:{color:T.muted},children:"No recent activity"})]})]})})]})});return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:[i.jsx(Uk,{position:"top-right",autoClose:3e3}),i.jsx("canvas",{ref:O,style:{display:"none"}}),i.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl m-4",style:{border:`1px solid ${T.muted}`},children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold",style:{color:T.primary},children:[i.jsx(Es,{className:"inline-block mr-2"}),"Quick Time Clock"]}),i.jsx("button",{onClick:e,className:"p-1 hover:opacity-70",style:{color:T.muted},children:i.jsx(wi,{size:24})})]}),n&&i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-10",children:i.jsx("div",{className:"animate-pulse text-lg",style:{color:T.accent},children:"Processing..."})}),s&&i.jsxs("div",{className:"text-center py-4",children:[i.jsx(km,{size:40,className:"mx-auto mb-2 text-red-500"}),i.jsx("p",{className:"text-red-600 mb-4",children:s}),i.jsx("button",{onClick:e,className:"px-4 py-2 rounded",style:{backgroundColor:T.primary,color:T.background},children:"Close"})]}),g?Y():x?ee():ie()]})})]})};function YG(e){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function pEe(e){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function gEe(e){return xr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function yEe(e){return xr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(e)}function vEe(e){return xr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function xEe(e){return xr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function bEe(e){return xr({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function m7(e){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function wEe(e){return xr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function CEe(e){return xr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 352h-16V243.9c0-12.7-5.1-24.9-14.1-33.9L494 110.1c-9-9-21.2-14.1-33.9-14.1H416V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h16c0 53 43 96 96 96s96-43 96-96h128c0 53 43 96 96 96s96-43 96-96h48c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm320 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm80-208H416V144h44.1l99.9 99.9V256z"},child:[]}]})(e)}function BEe(e){return xr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}const J_=({tips:e,title:t="Tips:",accentColor:r="orange",position:n="right",defaultOpen:a=!1,className:s="",withHeader:o=!1,headerTitle:l,withBulb:u=!0,compact:A=!1})=>{const[f,h]=k.useState(a);return i.jsxs("div",{className:`relative ${s}`,children:[o&&i.jsxs("div",{className:"py-3 px-4 bg-orange-500 rounded-t-lg flex items-center justify-between text-white",children:[i.jsxs("div",{className:"flex items-center",children:[u&&i.jsx("div",{className:"p-2 rounded-full bg-white mr-3 shadow-lg",children:i.jsx(vEe,{className:"text-lg text-orange-500"})}),i.jsx("h2",{className:"text-xl font-bold",children:l||t})]}),i.jsxs("button",{onClick:()=>h(!f),className:"p-2 rounded-full hover:bg-orange-400 transition-colors flex items-center",title:f?"Hide Tips":"Show Tips",children:[i.jsx(Pb,{className:"text-white mr-1"}),f?i.jsx(P6,{className:"text-white"}):i.jsx(dA,{className:"text-white"})]})]}),!o&&i.jsx("div",{className:`flex items-center justify-${n==="right"?"end":"start"} mb-2`,children:i.jsxs("button",{onClick:()=>h(!f),className:"p-2 rounded-full transition-colors hover:bg-orange-200 text-orange-500 flex items-center",title:f?"Hide Tips":"Show Tips","aria-label":f?"Hide Tips":"Show Tips",children:[i.jsx(Pb,{className:"mr-1"}),f?i.jsx(P6,{}):i.jsx(dA,{})]})}),f&&i.jsxs("div",{className:`p-4 ${o?"border-t border-orange-600":"rounded-lg"} animate-fade-in bg-orange-50`,children:[(!o||o&&l&&l!==t)&&i.jsx("h3",{className:"font-bold text-orange-700 mb-1",children:t}),i.jsx("ul",{className:"list-disc pl-5 space-y-2",children:e.map((p,g)=>i.jsx("li",{className:"text-orange-500",dangerouslySetInnerHTML:{__html:p}},g))})]}),i.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(-5px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fadeIn 0.2s ease-out;
        }
      `})]})};J_.propTypes={tips:ar.arrayOf(ar.string).isRequired,title:ar.string,accentColor:ar.string,position:ar.oneOf(["right","left"]),defaultOpen:ar.bool,className:ar.string,withHeader:ar.bool,headerTitle:ar.string,withBulb:ar.bool,compact:ar.bool};const XG=({isOpen:e,onClose:t,initialCashFloat:r,onSave:n,theme:a})=>{const[s,o]=k.useState({resetDaily:!1,resetAmount:"1000",manualAmount:""}),[l,u]=k.useState({resetAmount:"",manualAmount:""}),[A,f]=k.useState(!1),h=["Use <b>Reset Cash Float Daily</b> to automatically reset the float to a specific amount each day","Use <b>Manual Cash Float Adjustment</b> to directly update the current cash float value","The cash float affects your ability to give change during cash transactions","Ensure the cash float amount is reasonable for your daily operations (recommended: 500-5000)","Manual adjustments should reflect the actual cash available in your register"],p=N=>N==null||isNaN(N)?"0.00":Number(N).toFixed(2),g=N=>{if(!N||N==="")return 0;const O=parseFloat(N.toString().replace(/[^\d.-]/g,""));return isNaN(O)?0:Math.max(0,O)},v=N=>{const O=g(N);return O<=0?"Reset amount must be greater than zero":O>5e4?"Reset amount seems unusually high (max: 50,000)":O<100?"Reset amount might be too low for daily operations (min: 100)":""},x=N=>{const O=g(N);return O<0?"Cash float cannot be negative":O>1e5?"Cash float amount seems unusually high (max: 100,000)":""},b=k.useMemo(()=>!(A||s.resetDaily&&l.resetAmount||l.manualAmount||g(s.manualAmount)<0),[s,l,A]);k.useEffect(()=>{e&&(o(N=>({...N,manualAmount:r?String(r):"1000"})),u({resetAmount:"",manualAmount:""}),f(!1))},[e,r]),k.useEffect(()=>{if(s.resetDaily&&s.resetAmount){const N=v(s.resetAmount);u(O=>({...O,resetAmount:N}))}else u(N=>({...N,resetAmount:""}))},[s.resetAmount,s.resetDaily]),k.useEffect(()=>{if(s.manualAmount){const N=x(s.manualAmount);u(O=>({...O,manualAmount:N}))}else u(N=>({...N,manualAmount:""}))},[s.manualAmount]);const w=N=>{o(O=>({...O,resetDaily:N.target.checked}))},B=N=>{const O=N.target.value;(O===""||/^\d*\.?\d*$/.test(O))&&o(T=>({...T,resetAmount:O}))},j=N=>{const O=N.target.value;(O===""||/^\d*\.?\d*$/.test(O))&&o(T=>({...T,manualAmount:O}))},_=async()=>{if(b){f(!0);try{if(s.resetDaily){const P=v(s.resetAmount);if(P){u(U=>({...U,resetAmount:P}));return}}const N=x(s.manualAmount);if(N){u(P=>({...P,manualAmount:N}));return}const O=g(s.resetAmount),T=g(s.manualAmount);if(s.resetDaily&&O<=0){u(P=>({...P,resetAmount:"Reset amount must be greater than zero"}));return}if(T<0){u(P=>({...P,manualAmount:"Cash float cannot be negative"}));return}await n({resetDaily:s.resetDaily,resetAmount:O,manualAmount:T}),t()}catch(N){console.error("Error saving cash float settings:",N)}finally{f(!1)}}};return e?i.jsx(Sd,{isOpen:e,onClose:t,size:"wide",preventClose:!0,children:i.jsxs("div",{className:"relative",children:[i.jsx(J_,{tips:h,accentColor:"orange",title:"Cash Float Tips:",withHeader:!0,headerTitle:"Cash Float Settings",defaultOpen:!1}),i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 rounded-xl p-0.5 shadow-lg",children:i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Current Cash Float"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-orange-100 rounded-full p-2 mr-4",children:i.jsx(wc,{size:24,className:"text-orange-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["",Number(r).toFixed(2)]}),i.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full mt-2 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-orange-500",style:{width:`${Math.min(100,r/5e3*100)}%`}})})]})]})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 px-4 py-3 border-b border-orange-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Z9,{className:"text-orange-500 mr-2",size:18}),i.jsx("h3",{className:"font-medium text-orange-800",children:"Daily Reset"})]})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("label",{className:"flex items-center cursor-pointer mb-4 p-3 rounded-lg hover:bg-orange-50 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:s.resetDaily,onChange:w,className:"h-5 w-5 accent-orange-500 rounded"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("span",{className:"text-gray-800 font-medium",children:"Reset Cash Float Daily"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Automatically reset to a specific amount each day"})]})]}),"                ",s.resetDaily&&i.jsxs("div",{className:"pl-8 ml-1 border-l-2 border-orange-200",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reset Amount"}),i.jsxs("div",{className:"relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500",children:""})}),i.jsx("input",{type:"text",value:s.resetAmount,onChange:B,className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-300 focus:border-orange-400 outline-none transition-colors ${l.resetAmount?"border-red-500 focus:ring-red-300 focus:border-red-400":""}`,placeholder:"1000"})]}),l.resetAmount&&i.jsxs("div",{className:"flex items-center mt-1 text-red-600 text-sm",children:[i.jsx(km,{className:"mr-1",size:14}),l.resetAmount]}),i.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Recommended range: 500 - 5,000"})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-4 py-3 border-b border-blue-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(C3,{className:"text-blue-600 mr-2",size:18}),i.jsx("h3",{className:"font-medium text-blue-800",children:"Manual Adjustment"})]})}),i.jsxs("div",{className:"p-4",children:["                ",i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cash Float Amount"}),i.jsxs("div",{className:"relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("span",{className:"text-gray-500",children:""})}),i.jsx("input",{type:"text",value:s.manualAmount,onChange:j,className:`w-full pl-8 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-300 focus:border-blue-400 outline-none transition-colors ${l.manualAmount?"border-red-500 focus:ring-red-300 focus:border-red-400":""}`,placeholder:p(r)})]}),l.manualAmount&&i.jsxs("div",{className:"flex items-center mt-1 text-red-600 text-sm",children:[i.jsx(km,{className:"mr-1",size:14}),l.manualAmount]}),i.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Current: ",p(r)," | This will update the current cash float value"]}),s.manualAmount&&!l.manualAmount&&i.jsx("div",{className:"mt-2 p-2 bg-blue-50 rounded-lg",children:i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Change: "}),g(s.manualAmount)>r?"+":"","",p(g(s.manualAmount)-r)]})})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:t,className:"px-5 py-2 rounded-lg border border-gray-300 font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),"            ",i.jsxs("button",{onClick:_,disabled:!b,className:`px-5 py-2 rounded-lg shadow-md font-medium flex items-center group transition-all ${b?"hover:shadow-lg":"opacity-50 cursor-not-allowed"} ${A?"animate-pulse":""}`,style:{backgroundColor:b?a.colors.accent||"#f97316":"#9ca3af",color:"white"},children:[A?"Saving...":"Save Changes",!A&&i.jsx(w3,{className:"ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]})}):null},JG=({isOpen:e,onClose:t,orders:r,updateOrderStatus:n,theme:a})=>{const s=["Orders in any status can be marked as 'Completed' once they are served","This view shows all order statuses (received, preparing, ready, etc.)","Completed orders are automatically removed from this view to avoid clutter"],o=u=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(u),l=r.filter(u=>u.status!=="completed"&&u.paymentMethod!=="pending"&&u.status!=="pending");return i.jsx(Sd,{isOpen:e,onClose:t,size:"wide",preventClose:!1,children:i.jsxs("div",{className:"relative",children:["        ",i.jsx(J_,{tips:s,accentColor:"orange",title:"Order Completion Tips:",withHeader:!0,headerTitle:"Process Ready Orders",defaultOpen:!1}),i.jsxs("div",{className:"py-4",children:["        ",i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 rounded-xl p-0.5 shadow-lg",children:i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Active Orders"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-orange-100 rounded-full p-2 mr-4",children:i.jsx(Ty,{size:24,className:"text-orange-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[l.length," ",l.length===1?"Order":"Orders"]}),i.jsx("div",{className:"h-1.5 bg-gray-100 rounded-full mt-2 overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-orange-400 to-orange-500",style:{width:`${Math.min(100,l.length/10*100)}%`}})})]})]})]})})}),"          ",i.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto px-1",children:l.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(_y,{size:48,className:"mx-auto text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500 font-medium",children:"No orders ready for completion"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"All processed orders have been completed"})]}):l.map(u=>{var A,f;return i.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all mb-4",children:i.jsxs("div",{className:`p-4 border-l-4 ${u.status==="received"?"border-[#f1670f30]":u.status==="preparing"?"border-[#f1670f50]":u.status==="ready"?"border-[#f1670f]":"border-transparent"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("h2",{className:"font-bold text-lg",children:["Order #",u.receiptNumber||((A=u._id)==null?void 0:A.substring(0,6))]}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(u.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"                      ",i.jsx("span",{className:`text-sm px-3 py-1 rounded-full ${u.status==="ready"?"bg-orange-100 text-orange-700":u.status==="preparing"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),i.jsxs("div",{className:"space-y-2",children:[u.items.map((h,p)=>i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium",children:[h.quantity,"x "]}),i.jsx("span",{children:h.name}),h.selectedSize&&i.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",h.selectedSize,")"]})]}),i.jsx("span",{children:o(h.price)})]},p)),i.jsxs("div",{className:"pt-2 mt-2 border-t border-gray-100 flex justify-between items-center font-bold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:o(((f=u.totals)==null?void 0:f.total)||0)})]})]}),i.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap",children:["                      ",i.jsx("button",{className:"w-full text-base px-4 py-2 rounded-full transition-colors bg-orange-500 text-white hover:bg-orange-600",onClick:()=>{n(u._id||u.id,"completed")},children:"Mark as Completed"})]})]})},u._id||u.id)})}),i.jsx("div",{className:"flex justify-end space-x-3 mt-6",children:i.jsxs("button",{onClick:t,className:"px-5 py-2 rounded-lg shadow-md font-medium flex items-center group",style:{backgroundColor:a.colors.accent||"#f97316",color:"white"},children:["Close",i.jsx(w3,{className:"ml-1 group-hover:translate-x-1 transition-transform"})]})})]})]})})};class jEe{constructor(){this.listeners=new Set,this.currentFloat=0,this.dailyResetSettings={enabled:!1,amount:1e3},this.auditTrail=[],this.lastResetDate=null,this.isInitialized=!1,this.backendAvailable=!1,this.initialize()}async initialize(){if(!this.isInitialized){try{await this.loadFromBackend(),this.backendAvailable=!0}catch(t){console.warn("Backend not available, falling back to localStorage:",t),this.loadFromStorage(),this.backendAvailable=!1}await this.checkDailyReset(),this.isInitialized=!0,this.notifyListeners("service_initialized",{currentFloat:this.currentFloat,settings:this.dailyResetSettings,backendAvailable:this.backendAvailable})}}async loadFromBackend(){const r=await fetch("http://localhost:5000/api/settings/cash-float");if(!r.ok)throw new Error(`HTTP ${r.status}`);const n=await r.json();if(!n.success)throw new Error(n.message||"Failed to load cash float settings");const a=n.data;this.currentFloat=a.currentAmount||0,this.dailyResetSettings=a.dailyResetSettings||{enabled:!1,amount:1e3},this.auditTrail=a.auditTrail||[],this.lastResetDate=a.lastResetDate||null,this.saveToStorage()}async saveToBackend(t=null){if(!this.backendAvailable){console.warn("Backend not available, saving to localStorage only"),this.saveToStorage();return}try{const r={currentAmount:this.currentFloat,dailyResetSettings:this.dailyResetSettings,lastResetDate:this.lastResetDate};t&&(r.auditEntry=t);const n=await fetch("http://localhost:5000/api/settings/cash-float",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw new Error(`HTTP ${n.status}`);const a=await n.json();if(!a.success)throw new Error(a.message||"Failed to save cash float settings");const s=a.data;this.currentFloat=s.currentAmount,this.dailyResetSettings=s.dailyResetSettings,this.auditTrail=s.auditTrail,this.lastResetDate=s.lastResetDate,this.saveToStorage()}catch(r){throw console.error("Failed to save to backend, falling back to localStorage:",r),this.backendAvailable=!1,this.saveToStorage(),r}}formatCurrency(t){return t==null||isNaN(t)?"0.00":Number(t).toFixed(2)}parseCurrency(t){if(!t||t==="")return 0;const r=parseFloat(t.toString().replace(/[^\d.-]/g,""));return isNaN(r)?0:Math.max(0,r)}validateAmount(t,r="general"){const n=this.parseCurrency(t);return n<0?"Amount cannot be negative":r==="reset"&&n<=0?"Reset amount must be greater than zero":r==="reset"&&n>5e4?"Reset amount seems unusually high (max: 50,000)":r==="reset"&&n<100?"Reset amount might be too low for daily operations (min: 100)":r==="manual"&&n>1e5?"Cash float amount seems unusually high (max: 100,000)":""}validateChange(t,r){const n=this.parseCurrency(t),a=this.parseCurrency(r),s=n-a;return s>this.currentFloat?{valid:!1,message:`Cannot provide ${this.formatCurrency(s)} change. Cash float only has ${this.formatCurrency(this.currentFloat)}`,shortfall:s-this.currentFloat}:{valid:!0,change:s}}getCurrentFloat(){return this.currentFloat}async setFloat(t,r="manual_adjustment",n={}){const a=this.validateAmount(t,"manual");if(a)throw new Error(a);const s=this.parseCurrency(t),o=this.currentFloat,l={timestamp:new Date().toISOString(),action:"set_float",previousAmount:o,newAmount:s,change:s-o,reason:r,metadata:{...n,userAgent:navigator.userAgent,sessionId:this.getSessionId()}};this.currentFloat=s,this.auditTrail.push(l);try{await this.saveToBackend(l)}catch(u){console.error("Backend save failed, keeping local changes:",u),this.saveToStorage()}return this.notifyListeners({type:"float_updated",previousAmount:o,newAmount:s,reason:r,auditEntry:l}),l}async processTransaction(t,r,n=null){console.log(" CashFloatService.processTransaction - Input values:",{cashAmount:t,orderTotal:r,cashAmountType:typeof t,orderTotalType:typeof r,orderId:n});const a=this.parseCurrency(t),s=this.parseCurrency(r);if(console.log(" CashFloatService.processTransaction - Parsed values:",{numCashAmount:a,numTotal:s,difference:a-s}),a<s){const h=s-a;throw console.error("Insufficient cash amount:",{cashAmount:a,orderTotal:s,shortfall:h}),new Error(`Insufficient cash amount. Need ${this.formatCurrency(h)} more`)}const o=a-s,l=this.validateChange(t,r);if(!l.valid)throw new Error(l.message);const u=this.currentFloat,A=Math.max(0,this.currentFloat-o),f={timestamp:new Date().toISOString(),action:"transaction",previousAmount:u,newAmount:A,change:-o,reason:"cash_transaction",metadata:{orderId:n,cashReceived:a,orderTotal:s,changeGiven:o,sessionId:this.getSessionId()}};this.currentFloat=A,this.auditTrail.push(f);try{if(this.backendAvailable){const h=await fetch("http://localhost:5000/api/settings/cash-float/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:n,cashReceived:a,orderTotal:s,changeGiven:o})});if(h.ok){const p=await h.json();p.success&&(this.currentFloat=p.data.newAmount)}else throw new Error(`HTTP ${h.status}`)}else await this.saveToStorage()}catch(h){console.error("Backend transaction processing failed, keeping local changes:",h),this.saveToStorage()}return this.notifyListeners({type:"transaction_processed",previousFloat:u,newFloat:A,changeGiven:o,auditEntry:f}),{success:!0,changeGiven:o,newFloat:A,auditEntry:f}}async configureDailyReset(t,r=null){if(t&&r!==null){const a=this.validateAmount(r,"reset");if(a)throw new Error(a)}const n={enabled:t,amount:t&&r!==null?this.parseCurrency(r):this.dailyResetSettings.amount};this.dailyResetSettings=n;try{if(this.backendAvailable){const a=await fetch("http://localhost:5000/api/settings/cash-float/daily-reset",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(a.ok){const s=await a.json();s.success&&(this.dailyResetSettings=s.data)}else throw new Error(`HTTP ${a.status}`)}await this.saveToStorage()}catch(a){console.error("Backend save failed for daily reset settings:",a),this.saveToStorage()}return this.notifyListeners({type:"reset_settings_updated",settings:this.dailyResetSettings}),this.dailyResetSettings}async checkDailyReset(){if(!this.dailyResetSettings.enabled)return!1;const t=new Date().toDateString();return this.lastResetDate!==t?(await this.performDailyReset(),!0):!1}async performDailyReset(){const t=this.currentFloat,r=this.dailyResetSettings.amount,n={timestamp:new Date().toISOString(),action:"daily_reset",previousAmount:t,newAmount:r,change:r-t,reason:"daily_reset",metadata:{resetDate:new Date().toDateString(),sessionId:this.getSessionId()}};this.currentFloat=r,this.lastResetDate=new Date().toDateString(),this.auditTrail.push(n);try{if(this.backendAvailable){const a=await fetch("http://localhost:5000/api/settings/cash-float/daily-reset/perform",{method:"POST",headers:{"Content-Type":"application/json"}});if(a.ok){const s=await a.json();s.success&&(this.currentFloat=s.data.newAmount)}else throw new Error(`HTTP ${a.status}`)}await this.saveToStorage()}catch(a){console.error("Backend daily reset failed, keeping local changes:",a),this.saveToStorage()}return this.notifyListeners({type:"daily_reset_performed",previousAmount:t,newAmount:r,auditEntry:n}),n}getAuditTrail(t={}){let r=[...this.auditTrail];if(t.limit&&(r=r.slice(-t.limit)),t.dateFrom){const n=new Date(t.dateFrom);r=r.filter(a=>new Date(a.timestamp)>=n)}if(t.dateTo){const n=new Date(t.dateTo);r=r.filter(a=>new Date(a.timestamp)<=n)}return t.action&&(r=r.filter(n=>n.action===t.action)),r}getTodaysStartingFloat(t=new Date){const r=t.toDateString(),n=[...this.auditTrail].sort((f,h)=>new Date(f.timestamp)-new Date(h.timestamp)),a=n.filter(f=>new Date(f.timestamp).toDateString()===r);if(a.length===0){const p=n.filter(g=>g.action==="transaction").filter(g=>new Date(g.timestamp).toDateString()===r).reduce((g,v)=>g+Math.abs(v.change),0);return this.currentFloat+p}const s=a.find(f=>f.action==="set_float"||f.action==="daily_reset"||f.action==="initialize");if(s)return s.newAmount;const l=a.filter(f=>f.action==="transaction").reduce((f,h)=>f+Math.abs(h.change),0),u=n.filter(f=>new Date(f.timestamp).toDateString()!==r);if(u.length===0)return this.currentFloat+l;const A=[...u].reverse().find(f=>f.action==="set_float"||f.action==="daily_reset"||f.action==="initialize");if(A){const h=u.filter(p=>p.action==="transaction"&&new Date(p.timestamp)>new Date(A.timestamp)).reduce((p,g)=>p+Math.abs(g.change),0);return A.newAmount-h+l}return this.currentFloat+l}getDailySummary(t=new Date){const r=t.toDateString(),n=this.auditTrail.filter(A=>new Date(A.timestamp).toDateString()===r),a=n.filter(A=>A.action==="transaction"),s=n.filter(A=>A.action==="set_float"||A.action==="daily_reset"),o=a.reduce((A,f)=>A+Math.abs(f.change),0),l=a.length,u=this.getTodaysStartingFloat(t);return{date:r,totalTransactions:l,totalChangeGiven:o,adjustments:s.length,startingFloat:u,endingFloat:this.currentFloat,entries:n}}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(t){this.listeners.forEach(r=>{try{r(t)}catch(n){console.error("Error in cash float listener:",n)}})}async saveToStorage(){try{const t={currentFloat:this.currentFloat,dailyResetSettings:this.dailyResetSettings,auditTrail:this.auditTrail.slice(-100),lastResetDate:this.lastResetDate,lastSaved:new Date().toISOString()};localStorage.setItem("cashFloatData",JSON.stringify(t))}catch(t){console.error("Error saving cash float data:",t)}}loadFromStorage(){try{const t=localStorage.getItem("cashFloatData");if(t){const r=JSON.parse(t);this.currentFloat=r.currentFloat||0,this.dailyResetSettings=r.dailyResetSettings||{enabled:!1,amount:1e3},this.auditTrail=r.auditTrail||[],this.lastResetDate=r.lastResetDate||null}else this.currentFloat=1e3,this.dailyResetSettings={enabled:!1,amount:1e3},this.auditTrail=[{id:"init-"+Date.now(),timestamp:new Date().toISOString(),action:"initialize",reason:"first_time_setup",amount:1e3,previousAmount:0,metadata:{source:"service_initialization",note:"Default cash float set for first-time use"}}],this.lastResetDate=null,this.saveToStorage()}catch(t){console.error("Error loading cash float data:",t),this.currentFloat=1e3,this.dailyResetSettings={enabled:!1,amount:1e3},this.auditTrail=[],this.lastResetDate=null,this.saveToStorage()}}getSessionId(){return window.cashFloatSessionId||(window.cashFloatSessionId="cf_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)),window.cashFloatSessionId}exportData(){return{currentFloat:this.currentFloat,dailyResetSettings:this.dailyResetSettings,auditTrail:this.auditTrail,lastResetDate:this.lastResetDate,exportTimestamp:new Date().toISOString(),version:"1.0.0"}}async importData(t,r={merge:!1}){var n;try{if(r.merge){const a=new Set(this.auditTrail.map(o=>o.timestamp)),s=t.auditTrail.filter(o=>!a.has(o.timestamp));this.auditTrail=[...this.auditTrail,...s].sort((o,l)=>new Date(o.timestamp)-new Date(l.timestamp))}else this.auditTrail=t.auditTrail||[];return this.currentFloat=t.currentFloat||0,this.dailyResetSettings=t.dailyResetSettings||{enabled:!1,amount:1e3},this.lastResetDate=t.lastResetDate||null,await this.saveToStorage(),this.notifyListeners({type:"data_imported",merge:r.merge,entriesCount:((n=t.auditTrail)==null?void 0:n.length)||0}),!0}catch(a){throw console.error("Error importing cash float data:",a),a}}}const qi=new jEe,Z_=()=>{const[e,t]=k.useState(0),[r,n]=k.useState({enabled:!1,amount:1e3}),[a,s]=k.useState([]),[o,l]=k.useState(!0),[u,A]=k.useState(null),[f,h]=k.useState(!1),[p,g]=k.useState(!1);k.useEffect(()=>{let F=!0;const R=async()=>{try{await qi.initialize(),F&&(h(!0),t(qi.getCurrentFloat()),n(qi.dailyResetSettings),s(qi.getAuditTrail({limit:50})),l(!1))}catch{F&&(A("Failed to initialize cash float service"),l(!1))}},Q=qi.subscribe(H=>{if(F)switch(H.type){case"service_initialized":h(!0),g(H.backendAvailable||!1),t(H.currentFloat),n(H.settings),l(!1);break;case"float_updated":case"transaction_processed":case"daily_reset_performed":t(qi.getCurrentFloat()),s(qi.getAuditTrail({limit:50}));break;case"reset_settings_updated":n(H.settings);break}});return R(),()=>{F=!1,Q()}},[]);const v=k.useCallback(async(F,R="manual_adjustment",Q={})=>{l(!0),A(null);try{return await qi.setFloat(F,R,Q)}catch(H){throw A(H.message),H}finally{l(!1)}},[]),x=k.useCallback(async(F,R,Q=null)=>{l(!0),A(null);try{return await qi.processTransaction(F,R,Q)}catch(H){throw A(H.message),H}finally{l(!1)}},[]),b=k.useCallback(async(F,R=null)=>{l(!0),A(null);try{return await qi.configureDailyReset(F,R)}catch(Q){throw A(Q.message),Q}finally{l(!1)}},[]),w=k.useCallback((F,R)=>qi.validateChange(F,R),[]),B=k.useCallback((F,R="general")=>qi.validateAmount(F,R),[]),j=k.useCallback(async()=>{l(!0);try{return await qi.checkDailyReset()}catch(F){throw A(F.message),F}finally{l(!1)}},[]),_=k.useCallback((F=new Date)=>qi.getDailySummary(F),[]),N=k.useCallback((F=new Date)=>qi.getTodaysStartingFloat(F),[]),O=k.useCallback(F=>qi.formatCurrency(F),[]),T=k.useCallback(F=>qi.parseCurrency(F),[]),P=k.useCallback(()=>qi.exportData(),[]),U=k.useCallback(async(F,R={merge:!1})=>{l(!0),A(null);try{return await qi.importData(F,R)}catch(Q){throw A(Q.message),Q}finally{l(!1)}},[]),D=k.useCallback(()=>{A(null)},[]);return{cashFloat:e,dailyResetSettings:r,auditTrail:a,isLoading:o,error:u,isInitialized:f,backendAvailable:p,setFloat:v,processTransaction:x,configureDailyReset:b,checkDailyReset:j,validateChange:w,validateAmount:B,formatCurrency:O,parseCurrency:T,getDailySummary:_,getTodaysStartingFloat:N,exportData:P,importData:U,clearError:D}},Dn={primary:"#2e0304",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},eT=k.forwardRef(({revenueData:e,selectedPeriod:t,reportDate:r=new Date,className:n=""},a)=>{const s=A=>`PHP ${new Intl.NumberFormat("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(A)}`,o=A=>new Date(A).toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),l=A=>new Date(A).toLocaleTimeString("en-PH",{hour:"2-digit",minute:"2-digit",hour12:!0}),u=()=>e!=null&&e.hourlyDistribution?Array.from({length:24},(A,f)=>({hour:f.toString().padStart(2,"0")+":00",revenue:e.hourlyDistribution[f]||0})):[];return!e||!e.summary?i.jsx("div",{ref:a,className:`bg-white p-8 print:p-4 ${n}`,style:{minHeight:"100vh",color:Dn.primary,width:"800px",position:"relative",boxSizing:"border-box"},children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{style:{color:Dn.muted},children:"No revenue data available"})})}):i.jsxs("div",{ref:a,"data-testid":"revenue-report",className:`bg-white p-8 print:p-4 ${n}`,style:{minHeight:"100vh",color:Dn.primary,width:"800px",position:"relative",boxSizing:"border-box"},children:[i.jsxs("div",{className:"text-center mb-8 border-b pb-6",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",style:{color:Dn.primary},children:"Ring & Wing"}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",style:{color:Dn.secondary},children:[t.charAt(0).toUpperCase()+t.slice(1)," Revenue Report"]}),i.jsxs("div",{className:"text-sm",style:{color:Dn.muted},children:[i.jsxs("div",{children:["Report Generated: ",o(r)," at ",l(r)]}),i.jsxs("div",{children:["Period: ",t.charAt(0).toUpperCase()+t.slice(1)," Report"]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Dn.primary},children:"Summary Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Dn.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Dn.muted},children:"Total Revenue"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Dn.primary},children:s(e.summary.totalRevenue)})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Dn.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Dn.muted},children:"Total Orders"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Dn.primary},children:e.summary.orderCount})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Dn.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Dn.muted},children:"Items Sold"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Dn.primary},children:e.summary.itemsSold})]}),i.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:Dn.muted+"40"},children:[i.jsx("div",{className:"text-sm",style:{color:Dn.muted},children:"Avg Order Value"}),i.jsx("div",{className:"text-xl font-bold",style:{color:Dn.primary},children:s(e.summary.averageOrderValue)})]})]})]}),"      ",t==="daily"&&e.hourlyDistribution&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Dn.primary},children:"Hourly Revenue Distribution"}),i.jsx("div",{className:"h-64 border rounded-lg p-4",style:{borderColor:Dn.muted+"40",backgroundColor:"white"},children:i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(Df,{data:u(),margin:{top:5,right:30,left:20,bottom:5},children:[i.jsx(Ao,{dataKey:"hour",tick:{fontSize:10,fill:"#000000"},interval:1,axisLine:{stroke:"#000000"},tickLine:{stroke:"#000000"}}),i.jsx(rl,{tickFormatter:A=>`PHP ${A}`,tick:{fontSize:10,fill:"#000000"},axisLine:{stroke:"#000000"},tickLine:{stroke:"#000000"}}),i.jsx(tl,{dataKey:"revenue",fill:Dn.accent,radius:[2,2,0,0],stroke:"#000000",strokeWidth:.5})]})})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:Dn.primary},children:"Top Selling Items"}),i.jsxs("table",{className:"w-full border rounded-lg",style:{borderColor:Dn.muted+"40"},children:[i.jsx("thead",{style:{backgroundColor:Dn.activeBg},children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left",children:"Rank"}),i.jsx("th",{className:"p-3 text-left",children:"Item Name"}),i.jsx("th",{className:"p-3 text-right",children:"Quantity Sold"}),i.jsx("th",{className:"p-3 text-right",children:"Unit Revenue"}),i.jsx("th",{className:"p-3 text-right",children:"Total Revenue"}),i.jsx("th",{className:"p-3 text-right",children:"% of Total"})]})}),i.jsx("tbody",{children:e.topItems.slice(0,15).map((A,f)=>{const h=(A.revenue/e.summary.totalRevenue*100).toFixed(1),p=A.quantity>0?A.revenue/A.quantity:0;return i.jsxs("tr",{className:"border-t",style:{borderColor:Dn.muted+"20"},children:[i.jsx("td",{className:"p-3",children:i.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-white text-sm font-bold",style:{backgroundColor:f<3?Dn.accent:f<5?Dn.secondary:Dn.muted},children:f+1})}),i.jsx("td",{className:"p-3 font-medium",children:A.name}),i.jsx("td",{className:"p-3 text-right text-lg font-semibold",style:{color:Dn.accent},children:A.quantity}),i.jsx("td",{className:"p-3 text-right",children:s(p)}),i.jsx("td",{className:"p-3 text-right font-semibold text-lg",style:{color:Dn.primary},children:s(A.revenue)}),i.jsxs("td",{className:"p-3 text-right font-medium",children:[h,"%"]})]},A.name)})}),i.jsx("tfoot",{style:{backgroundColor:Dn.activeBg},children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:"4",className:"p-3 font-bold text-right",children:"Total Revenue:"}),i.jsx("td",{className:"p-3 text-right font-bold text-lg",style:{color:Dn.primary},children:s(e.summary.totalRevenue)}),i.jsx("td",{className:"p-3 text-right font-bold",children:"100%"})]})})]})]}),i.jsxs("div",{className:"border-t pt-6 mt-8 text-center text-sm",style:{color:Dn.muted},children:[i.jsx("div",{children:"This report was generated automatically by the Ring & Wing POS System"}),i.jsxs("div",{className:"mt-2",children:["Report Date: ",o(r),"  ",l(r)]})]}),"      ",i.jsx("style",{children:`
        @media print {
          @page {
            margin: 1cm;
            size: A4;
          }
          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }
          .no-print {
            display: none !important;
          }
        }
        
        /* Styles for HTML to Canvas conversion */
        .pdf-capture {
          background-color: white !important;
          color: black !important;
        }
        
        .pdf-capture .recharts-wrapper {
          font-family: Arial, sans-serif !important;
          background-color: white !important;
        }
        
        .pdf-capture .recharts-surface {
          background-color: white !important;
        }
        
        .pdf-capture svg {
          background-color: white !important;
        }
        
        .pdf-capture .recharts-text,
        .pdf-capture .recharts-cartesian-axis-tick-value {
          fill: black !important;
          font-family: Arial, sans-serif !important;
        }
        
        /* Global chart styles for PDF capture */
        .recharts-wrapper {
          font-family: Arial, sans-serif !important;
        }
        
        .recharts-surface {
          background-color: white !important;
        }
        
        .recharts-text {
          fill: black !important;
        }
        
        .recharts-cartesian-axis-tick-value {
          fill: black !important;
        }
      `})]})});eT.displayName="PrintableRevenueReport";const ZG=(e,t)=>{var h,p,g,v;const r=new Fr({orientation:"portrait",unit:"mm",format:"a4",putOnlyUsedFonts:!0,compress:!0}),n=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight();let s=20;const o=x=>`PHP ${parseFloat(x).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`,l=x=>{s+x>a-20&&(r.addPage(),s=20)};r.setFontSize(20),r.setFont("helvetica","bold"),r.text("Ring & Wing Restaurant",n/2,s,{align:"center"}),s+=10,r.setFontSize(16),r.text(`${t.charAt(0).toUpperCase()+t.slice(1)} Revenue Report`,n/2,s,{align:"center"}),s+=8,r.setFontSize(10),r.setFont("helvetica","normal");const u=new Date().toLocaleDateString("en-PH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});if(r.text(`Generated on: ${u}`,n/2,s,{align:"center"}),s+=15,r.line(20,s,n-20,s),s+=10,r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Summary Overview",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal"),[["Total Revenue:",o(((h=e==null?void 0:e.summary)==null?void 0:h.totalRevenue)||0)],["Total Orders:",(((p=e==null?void 0:e.summary)==null?void 0:p.orderCount)||0).toString()],["Items Sold:",(((g=e==null?void 0:e.summary)==null?void 0:g.itemsSold)||0).toString()],["Average Order Value:",o(((v=e==null?void 0:e.summary)==null?void 0:v.averageOrderValue)||0)]].forEach(([x,b])=>{r.text(x,25,s),r.setFont("helvetica","bold"),r.text(b,120,s),r.setFont("helvetica","normal"),s+=8}),s+=10,l(30),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Revenue by Order Source",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal"),e!=null&&e.revenueBySource&&Object.entries(e.revenueBySource).forEach(([x,b])=>{var j;const w=x==="self_checkout"?"Self Checkout":x==="chatbot"?"Chatbot":x==="pos"?"POS":x,B=(b/(((j=e==null?void 0:e.summary)==null?void 0:j.totalRevenue)||1)*100).toFixed(1);r.text(`${w}:`,25,s),r.text(o(b),120,s),r.text(`(${B}%)`,170,s),s+=8}),s+=10,l(30),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Revenue by Payment Method",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal"),e!=null&&e.revenueByPaymentMethod&&Object.entries(e.revenueByPaymentMethod).forEach(([x,b])=>{var j;const w=x==="e-wallet"?"E-Wallet":x==="cash"?"Cash":x,B=(b/(((j=e==null?void 0:e.summary)==null?void 0:j.totalRevenue)||1)*100).toFixed(1);r.text(`${w}:`,25,s),r.text(o(b),120,s),r.text(`(${B}%)`,170,s),s+=8}),s+=10,l(40),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Top Selling Items",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal"),r.setFont("helvetica","bold"),r.text("Rank",25,s),r.text("Item Name",50,s),r.text("Qty Sold",130,s),r.text("Revenue",160,s),s+=8,r.line(20,s-2,n-20,s-2),s+=5,r.setFont("helvetica","normal"),((e==null?void 0:e.topItems)||[]).slice(0,10).forEach((x,b)=>{l(10),r.text(`${b+1}`,25,s),r.text(((x==null?void 0:x.name)||"Unknown Item").substring(0,25),50,s),r.text(((x==null?void 0:x.quantity)||0).toString(),130,s),r.text(o((x==null?void 0:x.revenue)||0),160,s),s+=8}),t==="daily"&&(e!=null&&e.hourlyDistribution)){s+=10,l(50),r.setFontSize(14),r.setFont("helvetica","bold"),r.text("Hourly Revenue Distribution",20,s),s+=10,r.setFontSize(10),r.setFont("helvetica","normal");const x=Object.entries((e==null?void 0:e.hourlyDistribution)||{}).map(([b,w])=>({hour:`${b.toString().padStart(2,"0")}:00`,revenue:w})).filter(b=>b.revenue>0).sort((b,w)=>w.revenue-b.revenue).slice(0,8);r.setFont("helvetica","bold"),r.text("Hour",25,s),r.text("Revenue",80,s),s+=8,r.line(20,s-2,140,s-2),s+=5,r.setFont("helvetica","normal"),x.forEach(({hour:b,revenue:w})=>{r.text(b,25,s),r.text(o(w),80,s),s+=8})}s=a-20,r.setFontSize(8),r.setFont("helvetica","italic"),r.text("Generated by Ring & Wing POS System",n/2,s,{align:"center"});const f=`Revenue_Report_${t.charAt(0).toUpperCase()+t.slice(1)}_${new Date().toISOString().split("T")[0]}.pdf`;r.save(f)},eW=({isOpen:e,onClose:t,theme:r,cashFloat:n})=>{var U,D,F,R,Q;const[a,s]=k.useState(null),[o,l]=k.useState(!1),[u,A]=k.useState(null),[f,h]=k.useState(""),[p,g]=k.useState(null),[v,x]=k.useState(!1),b=k.useRef(),{getTodaysStartingFloat:w}=Z_(),B=X0.useReactToPrint({content:()=>b.current}),j=async()=>{l(!0),A(null);try{const H=await fetch("http://localhost:5000/api/revenue/daily",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!H.ok)throw new Error("Failed to fetch revenue data");const V=(await H.json()).data;s(V),V&&V.summary&&_(V)}catch(H){A(H.message),console.error("Error fetching revenue data:",H)}finally{l(!1)}},_=async H=>{var J;try{const V=await w(),Y=((J=H.revenueByPayment)==null?void 0:J.cash)||0,ee=V+Y;g({startingFloat:V,cashPayments:Y,expectedCash:ee,actualCash:parseFloat(f)||0,difference:(parseFloat(f)||0)-ee})}catch(V){console.error("Error calculating cash reconciliation:",V)}},N=H=>{h(H),a&&H&&_(a)},O=()=>{a&&ZG(a,"daily")},T=async()=>{if(!a||!b.current){console.error("No revenue data or report reference available");return}try{const H=b.current,J={visibility:H.style.visibility,opacity:H.style.opacity,position:H.style.position,left:H.style.left,zIndex:H.style.zIndex};if(H.style.visibility="visible",H.style.opacity="1",H.style.position="fixed",H.style.left="-9999px",H.style.zIndex="9999",await new Promise(G=>setTimeout(G,2e3)),!H||H.scrollHeight===0)throw new Error("Report element is not properly rendered");const V=await x0(H,{scale:1.2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",width:800,height:H.scrollHeight,logging:!0,removeContainer:!1,imageTimeout:15e3,onclone:G=>{const Z=G.querySelector("#hidden-report-for-pdf");Z&&(Z.style.visibility="visible",Z.style.opacity="1",Z.style.display="block")}});if(Object.assign(H.style,J),!V||V.width===0||V.height===0)throw new Error("Canvas capture failed - no content captured");const Y=new Fr("p","mm","a4"),ee=V.toDataURL("image/png",.95);if(!ee||ee==="data:,")throw new Error("Canvas to PNG conversion failed");const ie=Y.internal.pageSize.getWidth(),z=Y.internal.pageSize.getHeight(),W=ie,L=V.height*ie/V.width;if(L<=z)Y.addImage(ee,"PNG",0,0,W,L);else{let G=0,Z=L;for(;Z>0;){const te=Math.min(z,Z),fe=G/L*V.height,we=te/L*V.height,he=document.createElement("canvas");he.width=V.width,he.height=we,he.getContext("2d").drawImage(V,0,fe,V.width,we,0,0,V.width,we);const xe=he.toDataURL("image/png",.95);G>0&&Y.addPage(),Y.addImage(xe,"PNG",0,0,W,te),G+=te,Z-=te}}const q=new Date().toISOString().split("T")[0];Y.save(`End_of_Shift_Report_with_Charts_${q}.pdf`)}catch(H){console.error("Error generating PDF with charts:",H),alert(`Error generating PDF with charts: ${H.message}`)}},P=H=>`PHP ${parseFloat(H||0).toFixed(2)}`;return k.useEffect(()=>{e&&j()},[e]),k.useEffect(()=>{a&&f&&_(a)},[f,a]),e?i.jsx(Sd,{isOpen:e,onClose:t,size:"xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",style:{color:r.colors.primary},children:"End of Shift Report"}),i.jsx("div",{className:"flex gap-2",children:a&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 transition-colors",style:{backgroundColor:r.colors.accent,color:"white"},title:"Download PDF (Text Only)",children:[i.jsx(Oy,{size:16}),"PDF"]}),i.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 transition-colors",style:{backgroundColor:r.colors.secondary,color:"white"},title:"Download PDF with Charts",children:[i.jsx(jd,{size:16}),"PDF + Charts"]}),i.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 transition-colors",style:{backgroundColor:r.colors.primary,color:"white"},title:"Print Report",children:[i.jsx(Fy,{size:16}),"Print"]})]})})]}),o&&i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:r.colors.accent}}),i.jsx("span",{className:"ml-3 text-lg",children:"Loading revenue data..."})]}),u&&i.jsxs("div",{className:"flex items-center gap-3 p-4 mb-6 rounded-lg bg-red-50 border border-red-200",children:[i.jsx(km,{className:"text-red-500",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-red-800",children:"Error Loading Data"}),i.jsx("p",{className:"text-red-600",children:u})]}),i.jsx("button",{onClick:j,className:"ml-auto px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Retry"})]}),a&&i.jsxs("div",{className:"space-y-6",children:["            ",i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-gray-50 to-zinc-50 border-2 rounded-xl p-6 shadow-sm",style:{borderColor:r.colors.muted},children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("div",{className:"p-2 rounded-lg bg-white shadow-sm border mr-3",children:i.jsx(wc,{size:20,style:{color:r.colors.accent}})}),i.jsx("h3",{className:"text-xl font-bold",style:{color:r.colors.primary},children:"Cash Reconciliation"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-5 rounded-lg border shadow-sm",style:{borderColor:r.colors.muted},children:[i.jsx("h4",{className:"font-semibold mb-4 text-gray-700",children:"Expected Cash Calculation"}),p?i.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"text-gray-600",children:"Starting Float"}),i.jsx("span",{className:"font-bold",children:P(p.startingFloat)})]}),i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"text-gray-600",children:"+ Cash Sales"}),i.jsx("span",{className:"font-bold",children:P(p.cashPayments)})]}),i.jsx("div",{className:"border-t-2 pt-3 border-gray-200",children:i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsx("span",{className:"font-semibold text-gray-800",children:"= Expected Total"}),i.jsx("span",{className:"font-bold text-lg",style:{color:r.colors.primary},children:P(p.expectedCash)})]})})]}):i.jsx("div",{className:"text-center text-gray-500 py-4",children:"Loading calculation..."})]}),i.jsxs("div",{className:"bg-white p-5 rounded-lg border shadow-sm",style:{borderColor:r.colors.muted},children:[i.jsx("h4",{className:"font-semibold mb-4 text-gray-700",children:"Actual Cash Count"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 font-medium",children:"PHP"}),i.jsx("input",{type:"number",step:"0.01",value:f,onChange:H=>N(H.target.value),placeholder:"0.00",className:"w-full pl-12 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 text-lg font-semibold transition-all",style:{borderColor:r.colors.muted,focusRingColor:r.colors.accent,color:r.colors.primary}})]}),f&&parseFloat(f)>0&&p&&i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs("div",{className:`text-lg font-bold ${p.difference===0?"text-blue-600":p.difference>0?"text-green-600":"text-red-600"}`,children:[p.difference>=0?"+":"-",P(Math.abs(p.difference))]}),i.jsx("div",{className:`text-xs font-medium uppercase tracking-wider ${p.difference===0?"text-blue-500":p.difference>0?"text-green-500":"text-red-500"}`,children:p.difference===0?"Balanced":p.difference>0?"Overage":"Shortage"})]})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border rounded-xl p-4",style:{borderColor:r.colors.muted},children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:r.colors.primary},children:"Daily Revenue Summary"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{className:"bg-white p-3 rounded-lg text-center border shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",style:{color:r.colors.primary},children:P(((U=a==null?void 0:a.summary)==null?void 0:U.totalRevenue)||0)}),i.jsx("div",{className:"text-xs text-gray-600",children:"Total Revenue"})]}),i.jsxs("div",{className:"bg-white p-3 rounded-lg text-center border shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",style:{color:r.colors.primary},children:((D=a==null?void 0:a.summary)==null?void 0:D.orderCount)||0}),i.jsx("div",{className:"text-xs text-gray-600",children:"Orders"})]}),i.jsxs("div",{className:"bg-white p-3 rounded-lg text-center border shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",style:{color:r.colors.primary},children:((F=a==null?void 0:a.summary)==null?void 0:F.itemsSold)||0}),i.jsx("div",{className:"text-xs text-gray-600",children:"Items Sold"})]}),i.jsxs("div",{className:"bg-white p-3 rounded-lg text-center border shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",style:{color:r.colors.primary},children:P(((R=a==null?void 0:a.summary)==null?void 0:R.averageOrderValue)||0)}),i.jsx("div",{className:"text-xs text-gray-600",children:"Avg Order"})]})]}),i.jsx("div",{className:"flex justify-center gap-4",children:i.jsx("button",{onClick:()=>x(!v),className:"px-6 py-2 rounded-lg border-2 hover:opacity-90 transition-colors",style:{borderColor:r.colors.accent,color:r.colors.accent},children:v?"Hide Detailed Report":"View Detailed Report"})})]}),"            ",v&&i.jsxs("div",{className:"bg-white border rounded-xl shadow-lg",style:{borderColor:r.colors.muted},children:[i.jsx("div",{className:"p-4 border-b",style:{borderColor:r.colors.muted},children:i.jsx("h4",{className:"text-lg font-semibold",style:{color:r.colors.primary},children:"Detailed Revenue Report"})}),i.jsxs("div",{className:"p-4 max-h-96 overflow-y-auto space-y-4",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3 text-gray-700",children:"Revenue by Payment Method"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:(a==null?void 0:a.revenueByPayment)&&Object.entries(a.revenueByPayment).map(([H,J])=>i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[i.jsx("div",{className:"text-sm text-gray-600 capitalize",children:H}),i.jsx("div",{className:"font-bold text-lg",style:{color:r.colors.primary},children:P(J)})]},H))})]}),(a==null?void 0:a.topSellingItems)&&a.topSellingItems.length>0&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3 text-gray-700",children:"Top Selling Items"}),i.jsx("div",{className:"space-y-2",children:a.topSellingItems.slice(0,5).map((H,J)=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:H.name}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",H.quantity]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"font-bold text-sm",style:{color:r.colors.primary},children:P(H.revenue)}),i.jsxs("div",{className:"text-xs text-gray-500",children:[H.percentage,"%"]})]})]},J))})]}),(a==null?void 0:a.hourlyDistribution)&&i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3 text-gray-700",children:"Hourly Revenue Distribution"}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsx("div",{className:"grid grid-cols-6 gap-2 text-xs",children:Array.from({length:24},(H,J)=>{const V=a.hourlyDistribution[J]||0,Y=Math.max(...Object.values(a.hourlyDistribution)),ee=Y>0?V/Y*100:0;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"bg-orange-400 rounded-sm mb-1 mx-auto w-4",style:{height:`${Math.max(ee*.4,V>0?8:2)}px`,backgroundColor:V>0?r.colors.accent:"#e5e7eb"},title:`${J}:00 - ${P(V)}`}),i.jsx("div",{className:"text-xs text-gray-500",children:J.toString().padStart(2,"0")})]},J)})})})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-semibold mb-3 text-gray-700",children:"Additional Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Peak Hour"}),i.jsx("div",{className:"font-bold",style:{color:r.colors.primary},children:(a==null?void 0:a.peakHour)||"N/A"})]}),i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Total Items"}),i.jsx("div",{className:"font-bold",style:{color:r.colors.primary},children:((Q=a==null?void 0:a.summary)==null?void 0:Q.itemsSold)||0})]})]})]})]})]}),i.jsx("div",{id:"hidden-report-for-pdf",style:{position:"fixed",left:"-9999px",top:"0px",width:"800px",backgroundColor:"white",zIndex:-1,visibility:"hidden",opacity:0,pointerEvents:"none"},children:i.jsx(eT,{ref:b,revenueData:a,selectedPeriod:"daily",reportDate:new Date})})]}),i.jsx("div",{className:"mt-6 pt-4 border-t flex justify-end gap-3",children:i.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg border-2 hover:opacity-90 transition-colors",style:{borderColor:r.colors.muted,color:r.colors.primary},children:"Close"})})]})}):null};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SEe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NEe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),p7=e=>{const t=NEe(e);return t.charAt(0).toUpperCase()+t.slice(1)},tW=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),EEe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kEe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ee=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},u)=>k.createElement("svg",{ref:u,...kEe,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:tW("lucide",a),...!s&&!EEe(l)&&{"aria-hidden":"true"},...l},[...o.map(([A,f])=>k.createElement(A,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TEe=(e,t)=>{const r=k.forwardRef(({className:n,...a},s)=>k.createElement(_Ee,{ref:s,iconNode:t,className:tW(`lucide-${SEe(p7(e))}`,`lucide-${e}`,n),...a}));return r.displayName=p7(e),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OEe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],FEe=TEe("x",OEe),rW=({item:e,onClose:t,onSelectSize:r})=>{const[n,a]=k.useState(null),[s,o]=k.useState(1);if(!e)return null;const l=Object.keys(e.pricing||{}).filter(g=>g!=="_id"),u=l.length>1,A=()=>{if(!n&&u){alert("Please select a size");return}const g=n||l[0]||"base",v=e.pricing[g]||e.pricing.base||0,x=Object.keys(e.pricing||{}).filter(b=>b!=="_id");r({...e,selectedSize:g,price:v,availableSizes:x.length>0?x:["base"],quantity:s})},f=()=>o(g=>g+1),h=()=>o(g=>Math.max(1,g-1)),p=g=>g==="base"?"Regular":g.charAt(0).toUpperCase()+g.slice(1);return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 p-4",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[85vh] overflow-hidden animate-fadeIn",children:i.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[i.jsxs("div",{className:"w-full md:w-1/2 bg-gray-100 relative overflow-hidden",children:[e.image&&i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${e.image})`,filter:"blur(20px)",transform:"scale(1.1)",opacity:.6}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/10 to-black/20"}),i.jsx("button",{onClick:t,className:"absolute top-4 left-4 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors","aria-label":"Close",children:i.jsx(FEe,{size:20,className:"text-gray-700"})}),i.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-8",children:i.jsx("div",{className:"relative w-full aspect-square max-w-sm",children:e.image?i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-xl shadow-2xl",onError:g=>{g.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="400"%3E%3Crect fill="%23f0f0f0" width="400" height="400"/%3E%3Ctext fill="%23999" font-family="Arial" font-size="24" x="50%25" y="50%25" text-anchor="middle" dy=".3em"%3ENo Image%3C/text%3E%3C/svg%3E'}}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-orange-100 to-red-100 rounded-xl shadow-2xl",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-2",children:""}),i.jsx("p",{className:"text-gray-500 text-sm",children:"No Image"})]})})})})]}),i.jsx("div",{className:"hidden md:block w-px bg-gradient-to-b from-transparent via-gray-300 to-transparent"}),i.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:e.name}),i.jsx("p",{className:"text-sm text-gray-500",children:e.code}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.description})]}),i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:"Select Size"}),i.jsx("div",{className:"flex justify-center items-center pb-2",children:i.jsx("div",{className:"flex gap-3",children:l.map(g=>{const v=e.pricing[g],x=n===g;return i.jsx("button",{onClick:()=>a(g),className:`
                          flex-shrink-0 px-6 py-4 rounded-xl border-2 transition-all duration-200
                          ${x?"border-orange-500 bg-orange-50 shadow-md":"border-gray-200 bg-white hover:border-orange-300 hover:bg-orange-50"}
                        `,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-lg font-bold ${x?"text-orange-600":"text-gray-800"}`,children:p(g)}),i.jsxs("div",{className:`text-xl font-semibold mt-1 ${x?"text-orange-600":"text-gray-600"}`,children:["",(v==null?void 0:v.toFixed(2))||"0.00"]})]})},g)})})}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3 text-center",children:"Quantity"}),i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx("button",{onClick:h,className:"w-12 h-12 rounded-full border-2 border-gray-300 text-gray-600 font-bold text-xl hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",disabled:s<=1,children:""}),i.jsx("span",{className:"text-2xl font-bold text-gray-800 w-12 text-center",children:s}),i.jsx("button",{onClick:f,className:"w-12 h-12 rounded-full border-2 border-orange-500 text-orange-600 font-bold text-xl hover:bg-orange-50 transition-colors flex items-center justify-center",children:"+"})]})]})]}),i.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:i.jsx("button",{onClick:A,disabled:!n&&u,className:`
                  w-full py-4 rounded-xl font-bold text-lg transition-all duration-200
                  ${n||!u?"bg-orange-500 text-white hover:bg-orange-600 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"}
                `,children:n?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Add to Cart",i.jsxs("span",{className:"text-sm opacity-90",children:["(",(e.pricing[n]*s).toFixed(2),")"]})]}):"Select a size"})})]})]})}),i.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.2s ease-out;
        }
        .line-clamp-2 {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }
      `})]})},PEe=()=>{var Na,za,Bi,Za,wn,ra,ue,He,We,it,wt,$t,Tt;const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState([]),[o,l]=k.useState([]),[u,A]=k.useState([]),[f,h]=k.useState(""),[p,g]=k.useState(null),[v,x]=k.useState(null),[b,w]=k.useState("Meals"),[B,j]=k.useState([]),[_,N]=k.useState({}),[O,T]=k.useState({Beverages:{subCategories:{Coffee:{},"Non-Coffee (Milk-Based)":{},"Fruit Tea":{},Milktea:{},"Yogurt Smoothies":{},"Fresh Lemonade":{},Frappe:{},"Fruit Soda":{}}},Meals:{subCategories:{"Breakfast All Day":{},"Wings & Sides":{},"Flavored Wings":{},Combos:{},Snacks:{}}}}),[P,U]=k.useState(!1),[D,F]=k.useState(null),[R,Q]=k.useState(0),[H,J]=k.useState(!0),[V,Y]=k.useState(null),[ee,ie]=k.useState(window.innerWidth),{cashFloat:z,setFloat:W,processTransaction:L,configureDailyReset:q,validateChange:G}=Z_(),[Z,te]=k.useState(!1),[fe,we]=k.useState(!1),[he,ce]=k.useState(!1),[xe,ge]=k.useState(!1),[Pe,ke]=k.useState("cash"),[se,Et]=k.useState({provider:"gcash",referenceNumber:"",name:""}),[Qt,It]=k.useState(""),[nt,ye]=k.useState({cardType:"PWD",cardIdNumber:""}),[re,_e]=k.useState(!1),[Oe,Ke]=k.useState(!1),[Me,bt]=k.useState(!1),[Jt,Vt]=k.useState(!1),[Be,Re]=k.useState("ready"),[Ue,Qe]=k.useState(null),[Ve,yt]=k.useState(!1),[Ht,ze]=k.useState([]),[Ge,St]=k.useState([]),[Rt,sr]=k.useState(null),[Ye,pt]=k.useState(null),[gt,et]=k.useState(!1),[ft,ut]=k.useState(!1),[tr,Kt]=k.useState(!1),[Ct,$r]=k.useState(null),qr=k.useRef();k.useEffect(()=>{(async()=>{try{const at=localStorage.getItem("userData"),dt=at?JSON.parse(at):null;if(dt&&dt.position){const kt=["shift_manager","general_manager","admin"].includes(dt.position);console.log("Found user position in localStorage:",dt.position,"IsManager:",kt),ge(kt);return}const tt=localStorage.getItem("token");if(!tt)return;const ht=await fetch("http://localhost:5000/api/auth/me",{headers:{Authorization:`Bearer ${tt}`}});if(ht.ok){const jt=await ht.json();console.log("User position from API:",jt.position),ge(["shift_manager","general_manager","admin"].includes(jt.position))}}catch(at){console.error("Error checking user role:",at)}})()},[]),k.useMemo(()=>ee>=1920?"grid-cols-6":ee>=1536?"grid-cols-5":ee>=1280?"grid-cols-4":ee>=1024?"grid-cols-3":"grid-cols-2",[ee]),k.useEffect(()=>{lr();const ve=setInterval(lr,5e3);return()=>clearInterval(ve)},[]),k.useEffect(()=>{const ve=localStorage.getItem("token")||localStorage.getItem("authToken"),at=du(Cr,{auth:{token:ve},transports:["websocket","polling"]});return at.on("connect",()=>{console.log("POS connected to Socket.io - Authenticated:",at.auth.token?"Yes":"No")}),at.on("newPaymentOrder",dt=>{console.log("[POS] New payment order received:",dt);const tt=dt.order||dt;console.log("[POS] Extracted order:",tt),(tt.fulfillmentType==="takeout"||tt.fulfillmentType==="delivery"||tt.fulfillmentType==="dine-in")&&St(ht=>ht.some(kt=>kt._id===tt._id)?(console.log("[POS] Order already exists, skipping duplicate"),ht):(console.log("[POS] Adding new order to takeout list"),[tt,...ht]))}),at.on("paymentVerified",({orderId:dt})=>{console.log("Payment verified:",dt),St(tt=>tt.filter(ht=>ht._id!==dt)),fetchReadyOrders()}),at.on("paymentRejected",({orderId:dt})=>{console.log("Payment rejected:",dt),St(tt=>tt.filter(ht=>ht._id!==dt))}),at.on("userLoggedOut",dt=>{console.log("[POS] User logged out event received:",dt),localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("userPosition"),localStorage.removeItem("userRole"),window.location.href="/"}),at.on("menuAvailabilityChanged",dt=>{console.log("[POS] Menu availability changed:",dt),dt.menuItemId&&(t(tt=>tt.map(ht=>ht._id===dt.menuItemId?{...ht,isAvailable:dt.isAvailable}:ht)),dt.isAvailable||console.warn(`[POS] Item ${dt.menuItemId} is now unavailable: ${dt.reason}`))}),sr(at),()=>{at.disconnect()}},[Cr]),k.useEffect(()=>{const ve=()=>{ie(window.innerWidth)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),k.useEffect(()=>{const ve=new AbortController;return(async()=>{try{const dt=await fetch("http://localhost:5000/api/menu?limit=1000",{signal:ve.signal});if(!dt.ok)throw new Error("Failed to fetch menu");const tt=await dt.json(),jt=(Array.isArray(tt)?tt:tt.items||[]).filter(Bt=>Bt&&typeof Bt=="object"&&"pricing"in Bt&&"name"in Bt),kt=jt.map(Bt=>({_id:Bt._id,code:Bt.code||"N/A",name:Bt.name,category:Bt.category,subCategory:Bt.subCategory||"",pricing:Bt.pricing,description:Bt.description,image:Bt.image?`http://localhost:5000${Bt.image}`:Bt.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png",modifiers:Bt.modifiers||[],isAvailable:Bt.isAvailable}));if(jt.length===0)throw new Error("No valid menu items found in response");t(kt),Y(null)}catch(dt){dt.name!=="AbortError"&&(Y(dt.message||"Failed to load menu data"),t([]))}finally{J(!1)}})(),()=>ve.abort()},[]),k.useEffect(()=>{(async()=>{try{const at=await fetch("http://localhost:5000/api/categories");if(!at.ok)throw new Error("Failed to fetch categories");const dt=await at.json();console.log("PointOfSale: Loaded dynamic categories",dt),console.log("RAW API DATA:",JSON.stringify(dt,null,2));const ht=dt.map(kt=>({...kt,name:kt.name||kt.category,_id:kt._id||kt.category})).sort((kt,Bt)=>{console.log(`Sorting: ${kt.name} (sortOrder: ${kt.sortOrder}) vs ${Bt.name} (sortOrder: ${Bt.sortOrder})`);const Dt=typeof kt.sortOrder=="number"?kt.sortOrder:999,Wt=typeof Bt.sortOrder=="number"?Bt.sortOrder:999;if(Dt!==Wt)return console.log(`Sorting by sortOrder: ${Dt} vs ${Wt}`),Dt-Wt;const pr=kt.name||"",Qr=Bt.name||"";if(pr!==Qr)return console.log(`Sorting by name: ${pr} vs ${Qr}`),pr.localeCompare(Qr);const Vn=(kt._id||"").toString(),Gr=(Bt._id||"").toString();return console.log(`Sorting by id: ${Vn} vs ${Gr}`),Vn.localeCompare(Gr)}).map(kt=>(kt.subcategories&&Array.isArray(kt.subcategories)&&(kt.subcategories=kt.subcategories.sort((Bt,Dt)=>{if((Bt.sortOrder||0)!==(Dt.sortOrder||0))return(Bt.sortOrder||0)-(Dt.sortOrder||0);const Wt=Bt.displayName||Bt.name||Bt.toString(),pr=Dt.displayName||Dt.name||Dt.toString();return Wt.localeCompare(pr)})),kt.subCategories&&Array.isArray(kt.subCategories)&&(kt.subCategories=kt.subCategories.sort((Bt,Dt)=>{if((Bt.sortOrder||0)!==(Dt.sortOrder||0))return(Bt.sortOrder||0)-(Dt.sortOrder||0);const Wt=Bt.displayName||Bt.name||Bt.toString(),pr=Dt.displayName||Dt.name||Dt.toString();return Wt.localeCompare(pr)})),kt));j(ht),console.log("PointOfSale: Categories FORCE updated with stable order"),console.log("Actual sort order:",ht.map(kt=>({name:kt.name,sortOrder:kt.sortOrder}))),console.log("PointOfSale: Categories sorted for consistency"),console.log("Sorted category structure:",ht.map(kt=>{var Bt,Dt;return{id:kt._id,name:kt.name,sortOrder:kt.sortOrder,subCategories:((Bt=kt.subCategories)==null?void 0:Bt.length)||0,subcategories:((Dt=kt.subcategories)==null?void 0:Dt.length)||0}}));const jt={};ht.forEach(kt=>{const Bt=kt.name||kt.category;if(Bt){jt[Bt]={subCategories:{}};const Dt=kt.subcategories||kt.subCategories||[];Dt.length>0&&Dt.filter(Wt=>Wt.isActive!==!1).forEach(Wt=>{const pr=Wt.name||Wt.displayName||Wt;pr&&(jt[Bt].subCategories[pr]={sizes:Wt.sizes||[]})})}}),T(jt),console.log("PointOfSale: menuConfig updated with dynamic categories:",jt)}catch(at){console.warn("PointOfSale: Failed to load dynamic categories, using fallback:",at)}})()},[]),k.useEffect(()=>{if(e.length>0){console.log("Menu Items with SubCategories:",e.map(dt=>({name:dt.name,category:dt.category,subCategory:dt.subCategory})));const ve=e.filter(dt=>dt.category==="Meals").reduce((dt,tt)=>{const ht=tt.subCategory||"None";return dt[ht]=(dt[ht]||0)+1,dt},{}),at=e.filter(dt=>dt.category==="Beverages").reduce((dt,tt)=>{const ht=tt.subCategory||"None";return dt[ht]=(dt[ht]||0)+1,dt},{});console.log("Meal Subcategories Count:",ve),console.log("Beverage Subcategories Count:",at)}},[e]);const lr=async()=>{try{const dt=(await(await fetch("http://localhost:5000/api/orders",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json()).data.filter(tt=>tt.status!=="completed");A(dt)}catch(ve){console.error("Error fetching orders:",ve)}},cr=async ve=>{if(confirm("Are you sure you want to delete this pending order? This action cannot be undone."))try{if(!(await fetch(`http://localhost:5000/api/orders/${ve}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete order");A(dt=>dt.filter(tt=>tt._id!==ve)),(Ue==null?void 0:Ue._id)===ve&&(Qe(null),yt(!1),ze([])),alert("Pending order deleted successfully")}catch(at){console.error("Error deleting pending order:",at),alert("Failed to delete pending order. Please try again.")}},Zt=async()=>{try{const ve=localStorage.getItem("token")||localStorage.getItem("authToken");console.log("Fetching takeout orders with token:",ve?"exists":"missing"),console.log("API_URL:",Cr);const at=await fetch(`${Cr}/api/orders/pending-verification?verificationStatus=pending`,{headers:{Authorization:`Bearer ${ve}`}});if(console.log("Takeout orders response status:",at.status),!at.ok){const jt=await at.text();throw console.error("Failed to fetch takeout orders:",jt),new Error("Failed to fetch takeout orders")}const dt=await at.json();console.log("Takeout orders response:",dt);const tt=dt.data||[];if(console.log("Orders array:",tt),console.log("Number of orders returned:",tt.length),tt.length===0){console.log("No orders in response"),St([]);return}tt.forEach(jt=>{console.log(`Order ${jt.receiptNumber}: fulfillmentType="${jt.fulfillmentType}", status="${jt.status}", paymentMethod="${jt.paymentMethod}"`)});const ht=tt.filter(jt=>{var Bt;const kt=jt.fulfillmentType==="takeout"||jt.fulfillmentType==="delivery";return jt.paymentMethod==="e-wallet"&&((Bt=jt.proofOfPayment)!=null&&Bt.expiresAt)&&new Date(jt.proofOfPayment.expiresAt)<new Date?(console.log(`Filtering out expired order: ${jt.receiptNumber}`),!1):kt});console.log("Filtered takeout/delivery orders (excluding expired):",ht.length),St(ht)}catch(ve){console.error("Error fetching takeout orders:",ve)}};k.useEffect(()=>{Be==="dineTakeout"&&Zt()},[Be]),k.useEffect(()=>{Zt()},[]);const mr=async(ve,at)=>{var dt;try{if(typeof ve=="object"&&ve._id){const tt=ve,{method:ht,cashAmount:jt,eWalletDetails:kt,totals:Bt}=at,Dt=parseFloat((Bt==null?void 0:Bt.total)||((dt=tt.totals)==null?void 0:dt.total)||tt.items.reduce((yn,ei)=>yn+ei.price*ei.quantity,0));let Wt={totals:Bt||{subtotal:Dt,discount:0,total:Dt},customerName:Qt||""};if(ht==="cash"){const yn=G(jt,Dt);if(!yn.valid){alert(yn.message);return}Wt={...Wt,cashReceived:jt,change:change.toFixed(2)}}else ht==="e-wallet"&&kt&&(Wt={...Wt,eWalletProvider:kt.provider,eWalletReferenceNumber:kt.referenceNumber,eWalletName:kt.name});if(!(await fetch(`http://localhost:5000/api/orders/${tt._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"received",paymentMethod:ht,customerName:Qt||"",...Wt})})).ok)throw new Error("Failed to update order");const Qr=tt.items.map(yn=>({...yn,availableSizes:yn.availableSizes||[yn.selectedSize||"base"],pricing:yn.pricing||{[yn.selectedSize||"base"]:yn.price}}));n(Qr),ke(ht);const Vn=localStorage.getItem("userData"),Gr=Vn?JSON.parse(Vn):null;tt.server=(Gr==null?void 0:Gr.username)||"",ht==="cash"?Q(jt):ht==="e-wallet"&&kt&&Et(kt),U(!0),await new Promise(yn=>setTimeout(yn,100));try{await $a()}finally{U(!1)}A(yn=>yn.filter(ei=>ei._id!==tt._id)),n([]),Q(0),It(""),Et({provider:"gcash",referenceNumber:"",name:""}),ht==="cash"&&await L(jt,Dt,`existing_order_${tt._id}`);return}else{if(!(await fetch(`http://localhost:5000/api/orders/${ve}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:at})})).ok)throw new Error("Failed to update order status");A(ht=>ht.map(jt=>jt._id===ve?{...jt,status:at}:jt)),at==="completed"&&A(ht=>ht.filter(jt=>jt._id!==ve)),alert(`Order status updated to ${at}`)}}catch(tt){console.error("Order processing error:",tt),alert("Error updating order")}},on=()=>{const ve=Date.now().toString().slice(-6),at=Math.floor(100+Math.random()*900);return`${ve}${at}`},Ur=()=>Be==="dineTakeout"||Be==="pending"&&!Ve,Vr=ve=>{if(ve.isAvailable===!1){alert(`${ve.name} is currently unavailable due to insufficient ingredients.`);return}const at=Object.keys(ve.pricing||{}).filter(tt=>tt!=="_id");if(at.length>1||at.length===1&&at[0]!=="base"){$r(ve),Kt(!0);return}dn({...ve,selectedSize:"base",price:ve.pricing.base||ve.pricing[at[0]]||0,availableSizes:["base"],quantity:1})},dn=ve=>{if(!ve.availableSizes){const ht=Object.keys(ve.pricing||{}).filter(jt=>jt!=="_id");ve.availableSizes=ht.length>0?ht:["base"]}if(Be==="pending"){if(!Ve){alert("Please select a pending order to add items to.");return}const ht=Ht.find(jt=>jt._id===ve._id&&jt.selectedSize===ve.selectedSize);ze(ht?Ht.map(jt=>jt._id===ve._id&&jt.selectedSize===ve.selectedSize?{...jt,quantity:jt.quantity+ve.quantity}:jt):[...Ht,ve]);return}const[at,dt]=Be==="ready"?[a,s]:[o,l],tt=at.find(ht=>ht._id===ve._id&&ht.selectedSize===ve.selectedSize);dt(tt?at.map(ht=>ht._id===ve._id&&ht.selectedSize===ve.selectedSize?{...ht,quantity:ht.quantity+ve.quantity}:ht):[...at,ve]),n(Be==="ready"?a:o)},Yn=(ve,at)=>{const[dt,tt]=Be==="ready"?[a,s]:[o,l];tt(dt.map(ht=>ht._id===ve._id&&ht.selectedSize===ve.selectedSize?{...ht,quantity:Math.max(1,ht.quantity+at)}:ht)),n(Be==="ready"?a:o)},hn=(ve,at)=>{const[dt,tt]=Be==="ready"?[a,s]:[o,l];tt(dt.map(ht=>ht._id===ve._id&&ht.selectedSize===ve.selectedSize?{...ht,selectedSize:at,price:ht.pricing[at]}:ht)),n(Be==="ready"?a:o)},Mn=(ve,at)=>{const[dt,tt]=Be==="ready"?[a,s]:[o,l];tt(dt.map(ht=>{if(ht._id===ve._id&&ht.selectedSize===ve.selectedSize){const jt=ht.price*.2;return{...ht,pwdSeniorDiscount:{applied:at>0,discountedQuantity:at,discountAmount:jt*at}}}return ht})),n(Be==="ready"?a:o)},Ha=(ve,at)=>{ze(Ht.map(dt=>{if(dt._id===ve._id&&dt.selectedSize===ve.selectedSize){const tt=dt.price*.2;return{...dt,pwdSeniorDiscount:{applied:at>0,discountedQuantity:at,discountAmount:tt*at}}}return dt}))},Rn=()=>{const ve=Ht.reduce((tt,ht)=>tt+ht.price*ht.quantity,0),at=Ht.reduce((tt,ht)=>{var jt;return(jt=ht.pwdSeniorDiscount)!=null&&jt.applied?tt+(ht.pwdSeniorDiscount.discountAmount||0):tt},0),dt=ve-at;return{subtotal:ve.toFixed(2),discount:at.toFixed(2),total:dt.toFixed(2)}},bn=()=>{const ve=Be==="ready"?a:o,at=ve.reduce((jt,kt)=>jt+kt.price*kt.quantity,0),tt=ve.reduce((jt,kt)=>{var Bt;return(Bt=kt.pwdSeniorDiscount)!=null&&Bt.applied?jt+kt.price*kt.quantity:jt},0)*.2,ht=at-tt;return{subtotal:at.toFixed(2),discount:tt.toFixed(2),total:ht.toFixed(2)}},Ja=async(ve,at="")=>{try{const dt=localStorage.getItem("token")||localStorage.getItem("authToken"),tt=await fetch(`${Cr}/api/orders/${ve}/verify-payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`},body:JSON.stringify({notes:at})});if(!tt.ok){const Bt=await tt.json();throw new Error(Bt.message||"Failed to verify payment")}const ht=await tt.json();(await fetch(`${Cr}/api/orders/${ve}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`},body:JSON.stringify({status:"preparing"})})).ok||console.warn("Failed to update status to preparing, but payment verified");const kt=await fetch(`${Cr}/api/orders/${ve}`,{headers:{Authorization:`Bearer ${dt}`}});if(kt.ok){const Bt=await kt.json(),Dt=Bt.data||Bt;F(Dt),n(Dt.items||[]),U(!0),await new Promise(Wt=>setTimeout(Wt,100)),await $a(),U(!1)}St(Bt=>Bt.filter(Dt=>Dt._id!==ve)),lr(),alert("Payment verified! Order is now preparing. Receipt printed.")}catch(dt){console.error("Error verifying payment:",dt),alert(`Failed to verify payment: ${dt.message}`)}},qn=async(ve,at="")=>{at||(at=prompt("Enter reason for rejection (optional):")||"Invalid payment proof");try{const dt=localStorage.getItem("token")||localStorage.getItem("authToken"),tt=await fetch(`${Cr}/api/orders/${ve}/reject-payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${dt}`},body:JSON.stringify({reason:at})});if(!tt.ok){const ht=await tt.json();throw new Error(ht.message||"Failed to reject payment")}St(ht=>ht.filter(jt=>jt._id!==ve)),alert("Payment rejected. Customer will be notified.")}catch(dt){console.error("Error rejecting payment:",dt),alert(`Failed to reject payment: ${dt.message}`)}},Qn=async ve=>{try{console.log("[MainPOS] Processing PayMongo order:",ve);const at=localStorage.getItem("token")||localStorage.getItem("authToken"),dt=await fetch(`${Cr}/api/orders/${ve}/process-paymongo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${at}`}});if(!dt.ok){const ht=await dt.json();throw new Error(ht.message||"Failed to process PayMongo order")}const tt=await dt.json();console.log("[MainPOS] PayMongo order processed successfully:",tt),lr(),Zt(),alert("PayMongo order processed! Receipt can be generated and order moved to kitchen.")}catch(at){console.error("[MainPOS] Error processing PayMongo order:",at),alert(`Failed to process PayMongo order: ${at.message}`)}},$a=X0.useReactToPrint({content:()=>qr.current}),de=async(ve=null)=>{var Bt;const at=Be==="ready"?a:o,dt=Be==="ready"?s:l,tt=bn(),ht=ve!=null&&ve.cashAmount?parseFloat(ve.cashAmount):parseFloat(R),jt=parseFloat(tt.total),kt=(ve==null?void 0:ve.method)||Pe;if(kt==="cash"){const Dt=G(ht,jt);if(!Dt.valid){alert(Dt.message);return}}try{const Dt=await xt();if(Dt!=null&&Dt.data&&(n(Dt.data.items||[]),F(Dt.data)),U(!0),await new Promise(Wt=>setTimeout(Wt,100)),await $a(),(Bt=Dt==null?void 0:Dt.data)!=null&&Bt._id)try{const Wt=localStorage.getItem("userData"),pr=Wt?JSON.parse(Wt):null,Qr=await fetch("http://localhost:5000/api/inventory/reserve",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({orderId:Dt.data._id,items:at.map(Gr=>({menuItemId:Gr._id,quantity:Gr.quantity,name:Gr.name})),reservedBy:(pr==null?void 0:pr.id)||"system"})}),Vn=await Qr.json();console.log("Reservation API Response:",Vn),Qr.ok&&Vn.success?console.log("Inventory reservation created for order:",Dt.data._id):console.warn("Inventory reservation failed:",Vn)}catch(Wt){console.error("Inventory reservation error:",Wt)}kt==="cash"&&(console.log("Processing cash transaction:",{paymentMethod:kt,cashValue:ht,totalDue:jt}),await L(ht,jt,"pos_order"),console.log("Cash transaction processed successfully")),dt([]),n([]),Q(0),h(""),U(!1),F(null),Et({provider:"gcash",referenceNumber:"",name:""}),It(""),alert("Order completed successfully!")}catch(Dt){console.error("Payment processing error:",Dt),alert("Error processing payment. Please try again.")}},st=async(ve=null)=>{var kt,Bt;const at=Ht.reduce((Dt,Wt)=>Dt+Wt.price*Wt.quantity,0),dt=Ht.reduce((Dt,Wt)=>{var pr;return(pr=Wt.pwdSeniorDiscount)!=null&&pr.applied?Dt+(Wt.pwdSeniorDiscount.discountAmount||0):Dt},0),tt=at-dt,ht=ve!=null&&ve.cashAmount?parseFloat(ve.cashAmount):parseFloat(R),jt=(ve==null?void 0:ve.method)||Pe;if(console.log("[processPendingOrderPayment] Payment details:",{paymentDetails:ve,cashValue:ht,cashAmount:R,currentPaymentMethod:jt,totalDue:tt}),jt==="cash"){const Dt=G(ht,tt);if(!Dt.valid){alert(Dt.message);return}}try{const Dt={subtotal:at,discount:dt,total:tt};let Wt={};jt==="cash"?Wt={cashReceived:ht,change:ht-tt}:jt==="e-wallet"&&(Wt={eWalletProvider:se.provider,eWalletReferenceNumber:se.referenceNumber,eWalletName:se.name});const pr=await fetch(`http://localhost:5000/api/orders/${Ue._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"received",paymentMethod:jt,customerName:Qt||"",discountCards:(nt==null?void 0:nt.discountCards)||[],fulfillmentType:"dine_in",totals:{...Dt,...Wt},items:Ht.map(Gr=>({name:Gr.name,price:Gr.price,quantity:Gr.quantity,selectedSize:Gr.selectedSize,modifiers:Gr.modifiers,pwdSeniorDiscount:Gr.pwdSeniorDiscount||{applied:!1,discountedQuantity:0,discountAmount:0,vatExempt:!1,cardType:null,cardIdNumber:null}}))})});if(!pr.ok){const Gr=await pr.json();throw new Error(Gr.message||"Failed to update order")}const Qr=await pr.json();if(console.log("[DesktopPOS processPendingOrderPayment] Server response:",Qr.data),console.log("[DesktopPOS processPendingOrderPayment] Totals from server:",(kt=Qr.data)==null?void 0:kt.totals),(Bt=Qr==null?void 0:Qr.data)!=null&&Bt._id)try{const Gr=localStorage.getItem("userData"),yn=Gr?JSON.parse(Gr):null,ei=await fetch("http://localhost:5000/api/inventory/reserve",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({orderId:Qr.data._id,items:Ht.map(Ir=>({menuItemId:Ir._id,quantity:Ir.quantity,name:Ir.name})),reservedBy:(yn==null?void 0:yn.id)||"system"})}),Di=await ei.json();console.log("Reservation API Response (pending order):",Di),ei.ok&&Di.success?console.log("Inventory reservation created for pending order:",Qr.data._id):console.warn("Inventory reservation failed:",Di)}catch(Gr){console.error("Inventory reservation error:",Gr)}jt==="cash"&&(console.log("Processing pending order cash transaction:",{paymentMethod:jt,cashValue:ht,totalDue:tt}),await L(ht,tt,`pending_order_${Ue._id}`),console.log("Pending order cash transaction processed successfully"));const Vn=Ht.map(Gr=>({...Gr,availableSizes:Gr.availableSizes||[Gr.selectedSize||"base"],pricing:Gr.pricing||{[Gr.selectedSize||"base"]:Gr.price}}));n(Vn),ke(Pe),Pe==="cash"?Q(R):Pe==="e-wallet"&&Et(se),Qe(Qr.data),U(!0),await lr(),alert("Payment processed successfully!")}catch(Dt){console.error("Payment processing error:",Dt),alert("Error processing payment. Please try again.")}},xt=async()=>{try{const ve=bn(),at=parseFloat(R);let dt={};Pe==="cash"?dt={cashReceived:at,change:at-parseFloat(ve.total)}:Pe==="e-wallet"&&(dt={eWalletProvider:se.provider,eWalletReferenceNumber:se.referenceNumber,eWalletName:se.name});const ht={items:(Be==="ready"?a:o).map(kt=>({name:kt.name,price:kt.price,quantity:kt.quantity,selectedSize:kt.selectedSize,availableSizes:kt.availableSizes||["base"],pricing:kt.pricing||{base:kt.price},modifiers:kt.modifiers,pwdSeniorDiscount:kt.pwdSeniorDiscount||{applied:!1,discountedQuantity:0,discountAmount:0,vatExempt:!1,cardType:null,cardIdNumber:null}})),totals:{subtotal:parseFloat(ve.subtotal),discount:parseFloat(ve.discount),total:parseFloat(ve.total),...dt},paymentMethod:Pe,paymentDetails:dt,customerName:Qt||"",discountCards:(nt==null?void 0:nt.discountCards)||[],status:"received",orderType:"pos",fulfillmentType:"dine_in",server:(()=>{try{const kt=localStorage.getItem("userData");if(kt)return JSON.parse(kt).username||""}catch(kt){console.error("Error getting staff name:",kt)}return""})()},jt=await fetch("http://localhost:5000/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(ht)});if(!jt.ok){const kt=await jt.json();throw new Error(kt.message||"Failed to save order")}return await jt.json()}catch(ve){throw console.error("Order save error:",ve),ve}},Pt=ve=>{(Be==="ready"?s:l)(dt=>dt.filter(tt=>!(tt._id===ve._id&&tt.selectedSize===ve.selectedSize))),n(Be==="ready"?a:o)},Ar=()=>{Be==="ready"?s([]):l([]),n([]),Q(0),Et({provider:"gcash",referenceNumber:"",name:""}),It("")},Kr=k.useMemo(()=>{const ve=e.filter(at=>f===""||at.name.toLowerCase().includes(f.toLowerCase())||at.code.toLowerCase().includes(f.toLowerCase()));if(b==="Meals")return ve.filter(at=>at.category==="Meals"&&(!p||at.subCategory===p));if(b==="Beverages")return ve.filter(at=>at.category==="Beverages"&&(!v||at.subCategory===v));if(b){const at=_[b];return ve.filter(dt=>dt.category===b&&(!at||dt.subCategory===at))}return ve},[e,f,b,p,v,_]);k.useEffect(()=>{const ve=at=>{if(at.key==="Enter"&&f){const dt=e.find(tt=>tt.code.toLowerCase()===f.toLowerCase());dt?(Vr(dt),h("")):Kr.length||alert("No matching items found")}};return window.addEventListener("keydown",ve),()=>window.removeEventListener("keydown",ve)},[f,e,Kr]);const br=()=>{w(null),g(null),x(null),N({}),h("")},Hn=ve=>{if(!O[ve])return null;const at=Object.keys(O[ve].subCategories||{});if(at.length===0)return null;const dt=ve==="Meals"||ve==="Beverages";let tt,ht;return dt?(tt=ve==="Meals"?p:v,ht=ve==="Meals"?g:x):(tt=_[ve]||null,ht=jt=>{N(kt=>({...kt,[ve]:jt}))}),i.jsx("div",{className:"overflow-x-auto whitespace-nowrap py-1 mt-1 flex items-center",children:at.map((jt,kt)=>i.jsxs(Ce.Fragment,{children:[kt>0&&i.jsx("span",{className:"text-gray-300 mx-1",children:""}),i.jsx("button",{onClick:()=>ht(jt),className:`text-xs transition-colors ${tt===jt?"font-medium underline":""}`,style:{color:tt===jt?le.colors.accent:le.colors.primary},children:jt})]},jt))})},la=ve=>{if(!ve)return console.warn("renderCategorySection: No category provided"),null;const at=ve.name||ve.category||ve;if(!at)return console.warn("renderCategorySection: No category name found",ve),null;const dt=at==="Meals"||at==="Beverages";let tt,ht;return dt?(tt=at==="Meals"?p:v,ht=at==="Meals"?g:x):(tt=_[at]||null,ht=jt=>{N(kt=>({...kt,[at]:jt}))}),i.jsxs("div",{className:at==="Meals"?"mb-6":"",children:[i.jsxs("div",{className:"mb-2 bg-white rounded-lg py-1 px-3 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:"font-medium mr-2 text-sm",style:{color:le.colors.primary},children:[at,":"]}),i.jsxs("button",{onClick:()=>{w(at),ht(null)},className:`text-sm transition-colors ${tt?"":"font-medium"}`,style:{color:tt?le.colors.primary:le.colors.accent},children:["All ",at]}),tt&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),i.jsx("span",{className:"text-sm font-medium",style:{color:le.colors.accent},children:tt})]})]}),tt&&i.jsx("button",{onClick:()=>ht(null),className:"text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 transition-colors",style:{color:le.colors.primary},children:"Clear"})]}),Hn(at)]}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide",style:{width:"836px",maxWidth:"100%"},children:i.jsx("div",{className:"flex gap-3 pb-2",style:{width:"max-content"},children:e.filter(jt=>jt.category===at&&(!tt||jt.subCategory===tt)&&(f===""||jt.name.toLowerCase().includes(f.toLowerCase())||jt.code.toLowerCase().includes(f.toLowerCase()))).map(jt=>i.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:i.jsx(nb,{item:jt,onClick:()=>jt.isAvailable!==!1?Vr(jt):null,isUnavailable:jt.isAvailable===!1,isLocked:Ur()})},jt._id))})})]},ve._id||at)};return H?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:le.colors.background},children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:le.colors.accent}})}):V?i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",style:{backgroundColor:le.colors.background},children:i.jsxs("div",{className:"p-4 rounded-lg max-w-md text-center",style:{backgroundColor:le.colors.activeBg,border:`1px solid ${le.colors.activeBorder}`},children:[i.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:le.colors.primary},children:"Error Loading Menu"}),i.jsx("p",{className:"mb-4",style:{color:le.colors.secondary},children:V}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 rounded hover:opacity-90",style:{backgroundColor:le.colors.accent,color:le.colors.background},children:"Retry"})]})}):i.jsx("div",{className:"flex min-h-screen",style:{backgroundColor:le.colors.background},children:i.jsxs("div",{className:"flex-1 transition-all duration-300 relative",style:{paddingTop:ee<768?"4rem":"0"},children:[re?i.jsx(WG,{onClose:()=>_e(!1)}):i.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row",children:[i.jsxs("div",{className:"flex-1 p-4 md:p-6 order-2 md:order-1",children:["              ",i.jsxs("div",{className:"relative mb-6 max-w-7xl mx-auto flex",children:[i.jsxs("div",{className:"relative flex-1 mr-2",children:[i.jsx(i$,{value:f,onChange:ve=>h(ve.target.value),placeholder:"Search menu...",size:"lg"}),"                  ",(b||p||v||f)&&i.jsx("button",{onClick:br,className:"absolute right-2 top-2 text-xs py-1 px-2 rounded-md bg-gray-100 hover:bg-gray-200 transition-colors",style:{color:le.colors.primary},children:"Show All"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>Ke(!0),className:"h-12 px-4 flex items-center justify-center rounded-lg hover:opacity-90 transition",style:{backgroundColor:le.colors.accent,color:le.colors.background},title:"Quick Time Clock",children:[i.jsx(Es,{className:"mr-2"}),i.jsx("span",{className:"hidden md:inline",children:"Time Clock"})]}),xe&&i.jsxs("button",{onClick:()=>te(!0),className:"h-12 px-4 flex items-center justify-center rounded-lg hover:opacity-90 transition",style:{backgroundColor:le.colors.primary,color:le.colors.background},title:"Cash Float Settings",children:[i.jsx(wc,{className:"mr-2"}),i.jsx("span",{className:"hidden md:inline",children:"Cash Float"})]}),"                  ",xe&&i.jsxs("button",{onClick:()=>we(!0),className:"h-12 px-4 flex items-center justify-center rounded-lg hover:opacity-90 transition",style:{backgroundColor:le.colors.accent,color:le.colors.background},title:"End of Shift Report",children:[i.jsx(fw,{className:"mr-2"}),i.jsx("span",{className:"hidden md:inline",children:"End of Shift"})]}),i.jsxs("button",{onClick:()=>bt(!0),className:"h-12 px-4 flex items-center justify-center rounded-lg hover:opacity-90 transition",style:{backgroundColor:le.colors.secondary,color:le.colors.background},title:"Ready Orders",children:[i.jsx(Ty,{className:"mr-2"}),"                    ",i.jsx("span",{className:"hidden md:inline",children:"Ready Orders"}),u.filter(ve=>["received","preparing","ready"].includes(ve.status)).length>0&&i.jsx("span",{className:"ml-2 bg-orange-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:u.filter(ve=>["received","preparing","ready"].includes(ve.status)).length})]})]})]}),"              ",i.jsx("div",{className:"mb-4",children:B.length>0?B.map(ve=>ve.name||ve.category?la(ve):null).filter(Boolean):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"mb-2 bg-white rounded-lg py-1 px-3 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-medium mr-2 text-sm",style:{color:le.colors.primary},children:"Meals:"}),i.jsx("button",{onClick:()=>{w("Meals"),g(null)},className:`text-sm transition-colors ${p?"":"font-medium"}`,style:{color:p?le.colors.primary:le.colors.accent},children:"All Meals"}),p&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),i.jsx("span",{className:"text-sm font-medium",style:{color:le.colors.accent},children:p})]})]}),p&&i.jsx("button",{onClick:()=>g(null),className:"text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 transition-colors",style:{color:le.colors.primary},children:"Clear"})]}),Hn("Meals")]}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide",style:{width:"836px",maxWidth:"100%"},children:i.jsx("div",{className:"flex gap-3 pb-2",style:{width:"max-content"},children:e.filter(ve=>ve.category==="Meals"&&(!p||ve.subCategory===p)&&(f===""||ve.name.toLowerCase().includes(f.toLowerCase())||ve.code.toLowerCase().includes(f.toLowerCase()))).map(ve=>i.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:i.jsx(nb,{item:ve,onClick:()=>ve.isAvailable!==!1?Vr(ve):null,isUnavailable:ve.isAvailable===!1,isLocked:Ur()})},ve._id))})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2 bg-white rounded-lg py-1 px-3 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-medium mr-2 text-sm",style:{color:le.colors.primary},children:"Beverages:"}),i.jsx("button",{onClick:()=>{w("Beverages"),x(null)},className:`text-sm transition-colors ${v?"":"font-medium"}`,style:{color:v?le.colors.primary:le.colors.accent},children:"All Beverages"}),v&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-gray-400 mx-1",children:"/"}),i.jsx("span",{className:"text-sm font-medium",style:{color:le.colors.accent},children:v})]})]}),v&&i.jsx("button",{onClick:()=>x(null),className:"text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 transition-colors",style:{color:le.colors.primary},children:"Clear"})]}),Hn("Beverages")]}),i.jsx("div",{className:"overflow-x-auto scrollbar-hide",style:{width:"836px",maxWidth:"100%"},children:i.jsx("div",{className:"flex gap-3 pb-2",style:{width:"max-content"},children:e.filter(ve=>ve.category==="Beverages"&&(!v||ve.subCategory===v)&&(f===""||ve.name.toLowerCase().includes(f.toLowerCase())||ve.code.toLowerCase().includes(f.toLowerCase()))).map(ve=>i.jsx("div",{className:"flex-shrink-0",style:{width:"200px"},children:i.jsx(nb,{item:ve,onClick:()=>ve.isAvailable!==!1?Vr(ve):null,isUnavailable:ve.isAvailable===!1,isLocked:Ur()})},ve._id))})})]})]})})]}),i.jsxs("div",{className:"w-full md:w-[45vw] lg:w-[35vw] xl:w-[30vw] max-w-3xl rounded-t-3xl md:rounded-3xl m-0 md:m-4 p-4 md:p-6 shadow-2xl order-1 md:order-2 flex flex-col",style:{backgroundColor:le.colors.background,maxHeight:"calc(100vh - 48px)"},children:[i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-center mb-2 gap-2",children:[i.jsx("button",{className:`px-4 py-1 rounded-lg font-semibold text-sm transition-colors ${Be==="ready"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,onClick:()=>{Re("ready"),yt(!1),Qe(null),ze([])},children:"Ready Orders"}),i.jsx("button",{className:`px-4 py-1 rounded-lg font-semibold text-sm transition-colors ${Be==="pending"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,onClick:()=>{Re("pending"),Ve||Qe(null)},children:"Pending Orders"}),i.jsx("button",{className:`px-4 py-1 rounded-lg font-semibold text-sm transition-colors ${Be==="dineTakeout"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-500"}`,onClick:()=>{Re("dineTakeout"),yt(!1),Qe(null),ze([])},children:"Dine/Take-outs"})]}),Be!=="dineTakeout"&&i.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1.5 mb-4",children:[Be==="pending"&&Ve&&Ue&&i.jsx("div",{className:"bg-orange-50 p-2 mb-2 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"font-medium text-orange-700",children:["Editing Order #",Ue.receiptNumber||((Na=Ue._id)==null?void 0:Na.substring(0,6))]}),i.jsx("button",{onClick:()=>{Qe(null),yt(!1),ze([]),ke("cash"),Q(0),It("")},className:"text-xs px-2 py-1 rounded bg-orange-200 text-orange-700 hover:bg-orange-300",children:"Cancel Edit"})]})}),Be==="pending"?i.jsx(i.Fragment,{children:Ve&&Ue?i.jsx(i.Fragment,{children:Ht.length>0?Ht.map(ve=>i.jsx(ab,{item:ve,onVoid:at=>ze(Ht.filter(dt=>!(dt._id===at._id&&dt.selectedSize===at.selectedSize))),onUpdateSize:(at,dt)=>ze(Ht.map(tt=>tt._id===at._id&&tt.selectedSize===at.selectedSize?{...tt,selectedSize:dt,price:tt.pricing[dt]}:tt)),onUpdateQuantity:(at,dt)=>ze(Ht.map(tt=>tt._id===at._id&&tt.selectedSize===at.selectedSize?{...tt,quantity:Math.max(1,tt.quantity+dt)}:tt)),onDiscountUpdate:Ha},`${ve._id}-${ve.selectedSize}`)):i.jsx("div",{className:"text-center text-gray-400 py-4",children:"No items in this pending order."})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mt-2 pt-2 border-t",children:[i.jsxs("h3",{className:"text-base font-bold mb-3",style:{color:le.colors.primary},children:["Pending Orders (",u.filter(ve=>ve.status==="pending"&&ve.paymentMethod==="pending").length,")"]}),i.jsx("div",{className:"space-y-3",children:u.filter(ve=>ve.status==="pending"&&ve.paymentMethod==="pending").length===0?i.jsx("div",{className:"text-center text-gray-400 py-8",children:"No pending orders."}):u.filter(ve=>ve.status==="pending"&&ve.paymentMethod==="pending").map(ve=>{var at,dt,tt,ht;return i.jsx("div",{className:"p-3 rounded-lg hover:bg-gray-50 relative group",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("button",{onClick:jt=>{jt.stopPropagation(),cr(ve._id)},className:"flex-shrink-0 p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity bg-red-100 hover:bg-red-200 text-red-600",title:"Delete Order",children:i.jsx(Py,{size:14})}),i.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>{Qe(ve),yt(!0),ze(ve.items.map(jt=>({...jt,_id:jt._id||jt.itemId,selectedSize:jt.selectedSize||"base",availableSizes:Object.keys(jt.pricing||{base:jt.price}),pricing:jt.pricing||{base:jt.price}}))),l([]),ke("cash"),Q(0),It("")},children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("span",{className:"font-medium",style:{color:le.colors.primary},children:["Order #",ve.receiptNumber||((at=ve._id)==null?void 0:at.substring(0,6))]}),ve.customerName&&i.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["- ",ve.customerName]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[((dt=ve.items)==null?void 0:dt.length)||0," item(s)  ",((ht=(tt=ve.totals)==null?void 0:tt.total)==null?void 0:ht.toFixed(2))||"0.00"]})]}),i.jsx("button",{className:"text-xs px-2 py-1 rounded-lg",style:{backgroundColor:le.colors.accent,color:le.colors.background},children:"Process"})]})})]})},ve._id)})})]}),o.length>0&&o.map(ve=>i.jsx(ab,{item:ve,onVoid:Pt,onUpdateSize:hn,onUpdateQuantity:Yn,onDiscountUpdate:Mn},`${ve._id}-${ve.selectedSize}`))]})}):i.jsx(i.Fragment,{children:a.length>0?a.map(ve=>i.jsx(ab,{item:ve,onVoid:Pt,onUpdateSize:hn,onUpdateQuantity:Yn,onDiscountUpdate:Mn},`${ve._id}-${ve.selectedSize}`)):i.jsx("div",{className:"text-center text-gray-400 py-4",children:"No items in cart."})})]})," ",Be==="dineTakeout"&&i.jsxs("div",{className:"mt-4 pt-4 border-t-2",children:[i.jsxs("h3",{className:"text-lg font-semibold mb-3",style:{color:le.colors.primary},children:["Awaiting Payment Verification (",Ge.length,")"]}),i.jsx("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto",children:Ge.length>0?Ge.map(ve=>{var ht,jt,kt,Bt,Dt,Wt,pr,Qr;const at=((ht=ve.proofOfPayment)==null?void 0:ht.expiresAt)&&new Date(ve.proofOfPayment.expiresAt)-new Date<3e5,dt=((jt=ve.proofOfPayment)==null?void 0:jt.expiresAt)&&new Date(ve.proofOfPayment.expiresAt)<new Date,tt=ve.paymentMethod==="paymongo"||ve.status==="paymongo_verified";return i.jsxs("div",{className:`p-3 rounded-lg border transition-shadow ${tt?"bg-green-50 border-green-200":dt?"bg-red-50 border-red-300":at?"bg-yellow-50 border-yellow-300":"bg-white border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-bold text-base",style:{color:le.colors.primary},children:["#",ve.receiptNumber]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[ve.fulfillmentType==="delivery"?"Delivery":"Takeout"," ",tt?` PayMongo ${(kt=ve.paymentMethod)!=null&&kt.includes("gcash")?"GCash":"PayMaya"}`:ve.paymentMethod==="gcash"?" GCash":ve.paymentMethod==="paymaya"?" PayMaya":" E-Wallet","  ",(Bt=ve.totals)==null?void 0:Bt.total]}),tt?i.jsx("div",{className:"text-xs text-green-600 mt-1 font-semibold",children:" Payment Verified by PayMongo"}):i.jsxs(i.Fragment,{children:[((Dt=ve.proofOfPayment)==null?void 0:Dt.transactionReference)&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",ve.proofOfPayment.transactionReference]}),((Wt=ve.proofOfPayment)==null?void 0:Wt.accountName)&&i.jsx("div",{className:"text-xs text-gray-500",children:ve.proofOfPayment.accountName})]})]}),i.jsxs("div",{className:"text-right",children:[tt?i.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-semibold bg-green-100 text-green-700",children:"PAID"}):i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${dt?"bg-red-100 text-red-700":at?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:dt?"EXPIRED":"Pending"}),!tt&&((pr=ve.proofOfPayment)==null?void 0:pr.expiresAt)&&!dt&&i.jsx("div",{className:"text-xs mt-1 text-gray-500",children:new Date(ve.proofOfPayment.expiresAt).toLocaleTimeString()})]})]}),!tt&&((Qr=ve.proofOfPayment)==null?void 0:Qr.imageUrl)&&i.jsx("div",{className:"mb-2",children:i.jsx("img",{src:`${Cr}${ve.proofOfPayment.imageUrl}`,alt:"Payment Proof",className:"w-full h-32 object-contain border rounded bg-gray-50",title:"Click card to view details"})}),tt?i.jsx("button",{onClick:()=>Qn(ve._id),className:"w-full py-2.5 rounded-lg font-semibold transition-colors shadow-md mt-2",style:{backgroundColor:le.colors.success||"#10b981",color:"white"},children:"Generate Receipt & Process"}):i.jsx("div",{onClick:()=>{pt(ve),et(!0)},className:"text-xs text-center text-gray-400 mt-2 cursor-pointer hover:text-gray-600",children:"Click to view details and verify"})]},ve._id)}):i.jsxs("div",{className:"text-center text-gray-400 py-8",children:[i.jsx(Ty,{className:"mx-auto text-4xl mb-2"}),i.jsx("p",{children:"No orders awaiting verification"})]})})]})]}),Be!=="dineTakeout"&&i.jsxs("div",{className:"mt-auto",children:["                ",i.jsx(n$,{total:Ve?Rn().total:bn().total,subtotal:Ve?Rn().subtotal:bn().subtotal,discount:Ve?Rn().discount:bn().discount,cashFloat:z,onProcessPayment:()=>Vt(!0),onCancelOrder:()=>{Ve?(Qe(null),yt(!1),ze([]),It("")):Ar()},disabled:!Ve&&(Be==="ready"?a:o).length===0||Ve&&Ht.length===0})]})]}),"            ","            ",i.jsxs(Sd,{isOpen:P,onClose:()=>U(!1),size:"lg",children:[i.jsx(C0,{ref:qr,order:{items:Ve?Ht:Be==="ready"?a:o,receiptNumber:Ve&&Ue?Ue.receiptNumber:(D==null?void 0:D.receiptNumber)||on(),server:(()=>{try{const ve=localStorage.getItem("userData");if(ve)return JSON.parse(ve).username||""}catch(ve){console.error("Error getting staff name:",ve)}return""})(),discountCardDetails:parseFloat(Ve?Rn().discount:bn().discount)>0?nt:null},totals:{subtotal:Ve?Rn().subtotal:bn().subtotal,discount:Ve?Rn().discount:bn().discount,total:Ve?Rn().total:bn().total,customerName:Qt||"",cashReceived:Ve&&((za=Ue==null?void 0:Ue.totals)!=null&&za.cashReceived)?Ue.totals.cashReceived.toFixed(2):Pe==="cash"?parseFloat(R).toFixed(2):"0.00",change:Ve&&((Bi=Ue==null?void 0:Ue.totals)==null?void 0:Bi.change)!==void 0?Ue.totals.change.toFixed(2):Pe==="cash"?(parseFloat(R)-parseFloat(Ve?Rn().total:bn().total)).toFixed(2):"0.00",eWalletProvider:Pe==="e-wallet"&&(se==null?void 0:se.provider)||"",eWalletReferenceNumber:Pe==="e-wallet"&&(se==null?void 0:se.referenceNumber)||"",eWalletName:Pe==="e-wallet"&&(se==null?void 0:se.name)||""},paymentMethod:Pe}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{className:"w-full py-3 md:py-4 text-base md:text-lg rounded-2xl mt-4 font-semibold",style:{backgroundColor:le.colors.primary,color:le.colors.background},onClick:async()=>{try{await $a()}finally{U(!1),Ve&&(Qe(null),yt(!1),ze([]),n([]),Q(0),h(""),Et({provider:"gcash",referenceNumber:"",name:""}),It(""))}},children:"CLOSE"})})]}),Oe&&i.jsx(mEe,{onClose:()=>Ke(!1)}),"            ",i.jsx(XG,{isOpen:Z,onClose:()=>te(!1),initialCashFloat:z,theme:le,onSave:async ve=>{try{ve.resetDaily!==void 0&&await q(ve.resetDaily,ve.resetAmount),ve.manualAmount!==void 0&&ve.manualAmount!==""&&await W(ve.manualAmount,"manual_adjustment",{previousAmount:z,source:"cash_float_modal"})}catch(at){console.error("Error updating cash float settings:",at),alert("Error updating cash float settings: "+at.message)}}}),"            ",xe&&i.jsx(eW,{isOpen:fe,onClose:()=>we(!1),theme:le,cashFloat:z})]}),"        ","        ",Me&&i.jsx("div",{children:i.jsx(JG,{isOpen:Me,onClose:()=>bt(!1),orders:u,updateOrderStatus:mr,theme:le})}),Jt&&i.jsx(a$,{isOpen:Jt,onClose:()=>Vt(!1),total:Ve?Rn().total:bn().total,subtotal:Ve?Rn().subtotal:bn().subtotal,discount:Ve?Rn().discount:bn().discount,cashFloat:z,onProcessPayment:async ve=>{try{ke(ve.method),Q(ve.cashAmount),Et(ve.eWalletDetails||{provider:"gcash",referenceNumber:"",name:""}),It(ve.customerName),ve.discountCards&&ye({discountCards:ve.discountCards}),Ve?await st(ve):await de(ve)}catch(at){throw console.error("Payment processing error:",at),at}},eWalletDetails:se,onEWalletDetailsChange:Et,customerName:Qt,onCustomerNameChange:It,orderItems:Ve?Ht:Be==="ready"?a:o}),gt&&Ye&&i.jsx(Sd,{isOpen:gt,onClose:()=>{et(!1),pt(null),ut(!1)},size:"lg",className:"overflow-visible",footer:i.jsxs("div",{className:"flex gap-3 w-full -mx-4 -my-14 px-4 py-3",style:{width:"calc(100% + 2rem)"},children:[i.jsx("button",{onClick:()=>{Ja(Ye._id),et(!1),pt(null),ut(!1)},className:"flex-1 py-3 rounded bg-green-500 text-white hover:bg-green-600 font-semibold shadow-lg text-base",children:"Verify Payment"}),i.jsx("button",{onClick:()=>{qn(Ye._id),et(!1),pt(null),ut(!1)},className:"flex-1 py-3 rounded bg-red-500 text-white hover:bg-red-600 font-semibold shadow-lg text-base",children:"Reject Payment"})]}),children:i.jsxs("div",{className:"p-6 max-h-[calc(90vh-180px)] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold flex-1",style:{color:le.colors.primary},children:["Order #",Ye.receiptNumber]}),((Za=Ye.proofOfPayment)==null?void 0:Za.imageUrl)&&i.jsxs("div",{className:"ml-4",children:[i.jsx("img",{src:`${Cr}${Ye.proofOfPayment.imageUrl}`,alt:"Payment Proof",className:"w-20 h-20 object-cover cursor-pointer hover:ring-2 ring-blue-500 rounded border-2 border-gray-300 transition-all",onClick:()=>ut(!ft),title:"Click to expand/collapse"}),i.jsx("p",{className:"text-xs text-center text-gray-500 mt-1",children:"Click to expand"})]})]}),ft&&((wn=Ye.proofOfPayment)==null?void 0:wn.imageUrl)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[200] p-4",onClick:()=>ut(!1),children:i.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[i.jsx("img",{src:`${Cr}${Ye.proofOfPayment.imageUrl}`,alt:"Payment Proof Full Size",className:"max-w-full max-h-[90vh] object-contain",onClick:ve=>ve.stopPropagation()}),i.jsx("button",{onClick:()=>ut(!1),className:"absolute top-2 right-2 bg-white rounded-full p-2 hover:bg-gray-100",children:""})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Payment Details"}),(((ra=Ye.proofOfPayment)==null?void 0:ra.accountName)||((ue=Ye.proofOfPayment)==null?void 0:ue.transactionReference))&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[((He=Ye.proofOfPayment)==null?void 0:He.accountName)&&i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Account Name:"}),i.jsx("span",{className:"ml-2 text-base font-medium",children:Ye.proofOfPayment.accountName})]}),((We=Ye.proofOfPayment)==null?void 0:We.transactionReference)&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-semibold",children:"Reference #:"}),i.jsx("span",{className:"ml-2 text-base font-medium",children:Ye.proofOfPayment.transactionReference})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Order Summary"}),i.jsx("div",{className:"bg-gray-50 p-4 rounded",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Amount:"}),i.jsxs("span",{className:"font-semibold ml-2",children:["",(it=Ye.totals)==null?void 0:it.total]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Payment:"}),i.jsx("span",{className:"font-semibold ml-2",children:Ye.paymentMethod==="gcash"?"GCash":Ye.paymentMethod==="paymaya"?"Maya":((wt=Ye.paymentDetails)==null?void 0:wt.eWalletProvider)==="gcash"?"GCash":(($t=Ye.paymentDetails)==null?void 0:$t.eWalletProvider)==="paymaya"?"Maya":"E-Wallet"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Type:"}),i.jsx("span",{className:"font-semibold ml-2",children:Ye.fulfillmentType})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Time:"}),i.jsx("span",{className:"font-semibold ml-2",children:new Date(Ye.createdAt).toLocaleString()})]})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Items"}),i.jsx("div",{className:"space-y-2",children:(Tt=Ye.items)==null?void 0:Tt.map((ve,at)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:[ve.quantity,"x ",ve.name," ",ve.selectedSize&&`(${ve.selectedSize})`]}),i.jsxs("span",{className:"font-medium",children:["",(ve.price*ve.quantity).toFixed(2)]})]},at))})]})]})}),tr&&Ct&&i.jsx(rW,{item:Ct,onClose:()=>{Kt(!1),$r(null)},onSelectSize:ve=>{dn(ve),Kt(!1),$r(null)}})]})})};let no=null;const LEe=()=>{var it,wt,$t,Tt,ve,at,dt,tt,ht,jt,kt,Bt,Dt,Wt,pr,Qr,Vn,Gr,yn,ei,Di,Ir,bu,Oc,wu,nl,ks,Xi;const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(""),[o,l]=k.useState(null),[u,A]=k.useState(null),[f,h]=k.useState("Meals"),[p,g]=k.useState({}),[v,x]=k.useState({Beverages:{subCategories:{Coffee:{},"Non-Coffee (Milk-Based)":{},"Fruit Tea":{},Milktea:{},"Yogurt Smoothies":{},"Fresh Lemonade":{},Frappe:{},"Fruit Soda":{}}},Meals:{subCategories:{"Breakfast All Day":{},"Wings & Sides":{},"Flavored Wings":{},Combos:{},Snacks:{}}}}),[b,w]=k.useState([]),[B,j]=k.useState([]),[_,N]=k.useState([]),[O,T]=k.useState([]),[P,U]=k.useState("ready"),[D,F]=k.useState(null),[R,Q]=k.useState(!1),[H,J]=k.useState([]),[V,Y]=k.useState([]),[ee,ie]=k.useState("cash"),[z,W]=k.useState(!1),[L,q]=k.useState(null),[G,Z]=k.useState(0),[te,fe]=k.useState({provider:"gcash",referenceNumber:"",name:""}),[we,he]=k.useState(""),[ce,xe]=k.useState({cardType:"PWD",cardIdNumber:""}),[ge,Pe]=k.useState(!1),[ke,se]=k.useState(!1),[Et,Qt]=k.useState(!1),[It,nt]=k.useState(!1),[ye,re]=k.useState(!1),[_e,Oe]=k.useState(!1),[Ke,Me]=k.useState(!1),[bt,Jt]=k.useState(!1),[Vt,Be]=k.useState(null),[Re,Ue]=k.useState(null),[Qe,Ve]=k.useState(!1),[yt,Ht]=k.useState(!1),[ze,Ge]=k.useState(null),[St,Rt]=k.useState(!1),[sr,Ye]=k.useState(!0),[pt,gt]=k.useState(null),[et,ft]=k.useState(window.innerWidth),[ut,tr]=k.useState(!1),[Kt,Ct]=k.useState(!1),[$r,qr]=k.useState(null),lr=k.useRef(),cr=k.useRef(null),Zt=k.useRef(!1),{cashFloat:mr,setFloat:on,processTransaction:Ur,configureDailyReset:Vr,formatCurrency:dn}=Z_(),Yn=X0.useReactToPrint({content:()=>lr.current,documentTitle:`Receipt-${(L==null?void 0:L.orderNumber)||"Order"}`}),hn=()=>{switch(P){case"pending":return R?_:[];case"dineTakeout":return[];case"ready":default:return B}},Mn=Ee=>{switch(P){case"pending":R&&N(Ee);break;case"ready":default:j(Ee);break}},Ha=()=>P==="dineTakeout"||P==="pending"&&!R;k.useEffect(()=>{const Ee=localStorage.getItem("userData");if(Ee)try{const Mt=JSON.parse(Ee);tr(Mt.position==="admin"),Ct(["shift_manager","general_manager","admin"].includes(Mt.position))}catch(Mt){console.error("Error parsing user data:",Mt)}},[]),k.useEffect(()=>{const Ee=()=>ft(window.innerWidth);return window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),k.useEffect(()=>{(async()=>{Ye(!0);const[Mt,hr]=await Promise.all([bn(),Ja(),qn()]);Rn(),Ye(!1)})()},[]);const Rn=()=>{if(no!=null&&no.connected){qr(no);return}Zt.current||(Zt.current=!0,no=du(Cr,{transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,forceNew:!1,multiplex:!0}),no.on("connect",()=>{console.log("[Socket] Connected to server"),Zt.current=!1}),no.on("disconnect",()=>{console.log("[Socket] Disconnected from server")}),no.on("menuItemUpdated",Ee=>{console.log("[Socket] Menu item updated:",Ee),bn()}),no.on("menuAvailabilityChanged",Ee=>{console.log("[Socket] Menu availability changed:",Ee),t(Mt=>Mt.map(hr=>hr._id===Ee.menuItemId?{...hr,isAvailable:Ee.isAvailable}:hr))}),no.on("orderCreated",Ee=>{console.log("[Socket] Order created:",Ee),qn()}),no.on("orderUpdated",Ee=>{console.log("[Socket] Order updated:",Ee),qn()}),no.on("orderDeleted",Ee=>{console.log("[Socket] Order deleted:",Ee),T(Mt=>Mt.filter(hr=>hr._id!==Ee.orderId)),Y(Mt=>Mt.filter(hr=>hr._id!==Ee.orderId))}),no.on("paymentVerified",Ee=>{console.log("[Socket] Payment verified:",Ee),qn(),P==="dineTakeout"&&Qn()}),cr.current=no,qr(no))},bn=async()=>{try{const Ee=await fetch("http://localhost:5000/api/menu?limit=1000");if(!Ee.ok)throw new Error("Failed to fetch menu");const Mt=await Ee.json(),Yt=(Array.isArray(Mt)?Mt:Mt.items||[]).filter(fr=>fr&&typeof fr=="object"&&"pricing"in fr&&"name"in fr),jr=Yt.map(fr=>({_id:fr._id,code:fr.code||"N/A",name:fr.name,category:fr.category,subCategory:fr.subCategory||"",pricing:fr.pricing,description:fr.description,image:fr.image?`http://localhost:5000${fr.image}`:fr.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png",modifiers:fr.modifiers||[],isAvailable:fr.isAvailable}));if(Yt.length===0)throw new Error("No valid menu items found in response");t(jr)}catch(Ee){console.error("Error fetching menu items:",Ee),t([])}},Ja=async()=>{try{const Ee=await fetch("http://localhost:5000/api/categories");if(!Ee.ok)throw new Error("Failed to fetch categories");const Mt=await Ee.json();console.log("TabletPOS: Loaded dynamic categories",Mt);const Yt=Mt.map(fr=>({...fr,name:fr.name||fr.category,_id:fr._id||fr.category})).sort((fr,mn)=>{const Wr=typeof fr.sortOrder=="number"?fr.sortOrder:999,_n=typeof mn.sortOrder=="number"?mn.sortOrder:999;return Wr!==_n?Wr-_n:(fr.name||"").localeCompare(mn.name||"")});n(Yt),Yt.length>0&&h(Yt[0].name);const jr={};Yt.forEach(fr=>{const mn=fr.name||fr.category;if(mn){jr[mn]={subCategories:{}};const Wr=fr.subcategories||fr.subCategories||[];Wr.length>0&&Wr.filter(_n=>_n.isActive!==!1).forEach(_n=>{const Ea=_n.name||_n.displayName||_n;Ea&&(jr[mn].subCategories[Ea]={sizes:_n.sizes||[]})})}}),x(jr),console.log("TabletPOS: menuConfig updated:",jr)}catch(Ee){console.error("Error fetching categories:",Ee),n([])}},qn=async()=>{try{const Ee=localStorage.getItem("token")||localStorage.getItem("authToken"),Mt=await fetch(`${Cr}/api/orders`,{headers:{Authorization:`Bearer ${Ee}`}});if(!Mt.ok)throw new Error(`HTTP ${Mt.status}: ${Mt.statusText}`);const Yt=(await Mt.json()).data||[];T(Yt)}catch(Ee){console.error("Error fetching orders:",Ee),T([])}},Qn=async()=>{try{const Ee=localStorage.getItem("token")||localStorage.getItem("authToken");console.log("[TabletPOS] Fetching takeout orders...");const Mt=await fetch(`${Cr}/api/orders/pending-verification?verificationStatus=pending`,{headers:{Authorization:`Bearer ${Ee}`}});if(console.log("[TabletPOS] Takeout orders response status:",Mt.status),!Mt.ok){const fr=await Mt.text();throw console.error("[TabletPOS] Failed to fetch takeout orders:",fr),new Error("Failed to fetch takeout orders")}const Yt=(await Mt.json()).data||[];console.log("[TabletPOS] Takeout orders fetched:",Yt.length);const jr=Yt.filter(fr=>fr.fulfillmentType==="takeout"||fr.fulfillmentType==="delivery");console.log("[TabletPOS] Filtered takeout/delivery orders:",jr.length),Y(jr)}catch(Ee){console.error("[TabletPOS] Error fetching takeout orders:",Ee),Y([])}};k.useEffect(()=>{P==="dineTakeout"&&(console.log("[TabletPOS] Switched to dineTakeout tab, fetching takeout orders..."),Qn())},[P]);const $a=Ee=>{if(Ee.isAvailable===!1){alert(`${Ee.name} is currently unavailable due to insufficient ingredients.`);return}if(Ha()){alert("Cannot add items in this tab. Please switch to Ready Orders or select a pending order to edit.");return}const Mt=Object.keys(Ee.pricing||{}).filter(Wr=>Wr!=="_id");if(Mt.length>1){Be(Ee),Jt(!0);return}const Yt=Mt.length===1?Mt[0]:"base",jr=Ee.pricing[Yt]||Ee.pricing.base||Object.values(Ee.pricing)[0]||0,fr=hn(),mn=fr.find(Wr=>Wr._id===Ee._id&&Wr.selectedSize===Yt);Mn(mn?fr.map(Wr=>Wr._id===Ee._id&&Wr.selectedSize===Yt?{...Wr,quantity:Wr.quantity+1}:Wr):[...fr,{...Ee,quantity:1,selectedSize:Yt,price:jr,availableSizes:Mt.length>0?Mt:["base"],pricing:Ee.pricing||{[Yt]:jr}}])},de=Ee=>{if(!Ee.availableSizes){const Yt=Object.keys(Ee.pricing||{}).filter(jr=>jr!=="_id");Ee.availableSizes=Yt.length>0?Yt:["base"]}if(Ha()){alert("Cannot add items in this tab. Please switch to Ready Orders or select a pending order to edit.");return}if(P==="pending"){if(!R){alert(`Cannot add items without selecting an order.

Please click on a pending order to edit it, or switch to the "Ready Orders" tab to create a new order.`);return}const Yt=_.find(jr=>jr._id===Ee._id&&jr.selectedSize===Ee.selectedSize);N(Yt?_.map(jr=>jr._id===Ee._id&&jr.selectedSize===Ee.selectedSize?{...jr,quantity:jr.quantity+Ee.quantity}:jr):[..._,Ee]);return}const Mt=hn(),hr=Mt.find(Yt=>Yt._id===Ee._id&&Yt.selectedSize===Ee.selectedSize);Mn(hr?Mt.map(Yt=>Yt._id===Ee._id&&Yt.selectedSize===Ee.selectedSize?{...Yt,quantity:Yt.quantity+Ee.quantity}:Yt):[...Mt,Ee]),Jt(!1),Be(null)},st=(Ee,Mt)=>{const hr=hn();Mn(hr.map(Yt=>{var jr;return Yt._id===Ee._id&&Yt.selectedSize===Ee.selectedSize?{...Yt,selectedSize:Mt,price:((jr=Ee.pricing)==null?void 0:jr[Mt])||Yt.price}:Yt}))},xt=(Ee,Mt)=>{const hr=hn();Mn(hr.map(Yt=>{var jr;if(Yt._id===Ee._id&&Yt.size===Ee.size){const fr=Math.max(1,Yt.quantity+Mt);return(jr=Yt.pwdSeniorDiscount)!=null&&jr.applied&&Yt.pwdSeniorDiscount.discountedQuantity>fr?{...Yt,quantity:fr,pwdSeniorDiscount:{...Yt.pwdSeniorDiscount,discountedQuantity:fr,discountAmount:Yt.price*.2*fr}}:{...Yt,quantity:fr}}return Yt}))},Pt=(Ee,Mt)=>{const hr=hn();Mn(hr.map(Yt=>{if(Yt._id===Ee._id&&Yt.size===Ee.size){const jr=Yt.price*.2;return{...Yt,pwdSeniorDiscount:{applied:Mt>0,discountedQuantity:Mt,discountAmount:jr*Mt}}}return Yt}))},Ar=Ee=>{Ge(Ee),Ht(!0)},Kr=()=>{if(!ze)return;const Ee=hn();Mn(Ee.filter(Mt=>!(Mt._id===ze._id&&Mt.size===ze.size))),Ge(null),Ht(!1)},br=()=>{hn().length!==0&&Rt(!0)},Hn=()=>{Mn([]),Rt(!1)},la=()=>{const Ee=hn(),Mt=Ee.reduce((fr,mn)=>fr+mn.price*mn.quantity,0),Yt=Ee.reduce((fr,mn)=>{var Wr;return(Wr=mn.pwdSeniorDiscount)!=null&&Wr.applied?fr+mn.price*mn.quantity:fr},0)*.2,jr=Mt-Yt;return{subtotal:Mt.toFixed(2),discount:Yt.toFixed(2),total:jr.toFixed(2)}},Na=async Ee=>{var Mt;try{const hr=la(),Yt=parseFloat(hr.total),jr=(Ee==null?void 0:Ee.method)||ee,fr=(Ee==null?void 0:Ee.cashAmount)||parseFloat(G)||0,mn=(Ee==null?void 0:Ee.eWalletDetails)||te,Wr=(Ee==null?void 0:Ee.customerName)||we,_n=(Ee==null?void 0:Ee.discountCards)||[];console.log("[TabletPOS updatePendingOrderWithPayment] Payment details:",{paymentDetails:Ee,cashValue:fr,totalAmount:Yt,editingPendingOrder:D==null?void 0:D._id});let Ea={};jr==="cash"?Ea={cashReceived:fr,change:fr-Yt}:jr==="e-wallet"&&(Ea={eWalletProvider:mn.provider,eWalletReferenceNumber:mn.referenceNumber,eWalletName:mn.name});const ui=await fetch(`http://localhost:5000/api/orders/${D._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:"received",paymentMethod:jr,customerName:Wr||"",discountCards:_n,fulfillmentType:"dine_in",totals:{subtotal:parseFloat(hr.subtotal),discount:parseFloat(hr.discount),total:Yt,...Ea},items:_.map(na=>({name:na.name,price:na.price,quantity:na.quantity,selectedSize:na.selectedSize||"Regular",availableSizes:na.availableSizes||["base"],pricing:na.pricing||{base:na.price},modifiers:na.modifiers||[],pwdSeniorDiscount:na.pwdSeniorDiscount||{applied:!1,discountedQuantity:0,discountAmount:0,vatExempt:!1,cardType:null,cardIdNumber:null}}))})});if(!ui.ok){const na=await ui.json();throw new Error(na.message||"Failed to update order")}const Ws=await ui.json();if(console.log("[TabletPOS updatePendingOrderWithPayment] Server response:",Ws.data),console.log("[TabletPOS updatePendingOrderWithPayment] Totals from server:",(Mt=Ws.data)==null?void 0:Mt.totals),q(Ws.data),jr==="cash")try{await Ur(fr,Yt,`pending_order_${D._id}`),console.log("Pending order cash transaction processed successfully")}catch(na){console.error("Cash float processing error:",na)}W(!0),await new Promise(na=>setTimeout(na,100)),await Yn(),T(na=>na.filter(us=>us._id!==D._id)),F(null),Q(!1),N([]),U("ready")}catch(hr){console.error("[TabletPOS] Error updating pending order:",hr),alert("Failed to process payment. Please try again.")}},za=async Ee=>{var Mt,hr;try{const Yt=hn();if(Yt.length===0){alert("Cart is empty");return}if(R&&D){await Na(Ee);return}const jr=localStorage.getItem("token")||localStorage.getItem("authToken"),fr=JSON.parse(localStorage.getItem("userData")||"{}"),mn=la(),Wr=parseFloat(mn.total),_n=(Ee==null?void 0:Ee.method)||ee,Ea=(Ee==null?void 0:Ee.cashAmount)||parseFloat(G)||0,ui=(Ee==null?void 0:Ee.eWalletDetails)||te,Ws=(Ee==null?void 0:Ee.customerName)||we,na=(Ee==null?void 0:Ee.discountCards)||[];console.log("[TabletPOS handleCheckout] Payment details:",{paymentDetails:Ee,cashValue:Ea,cashAmount:G,currentPaymentMethod:_n,totalAmount:Wr,isPendingOrderMode:R,editingPendingOrder:D==null?void 0:D._id});let us={};_n==="cash"?us={cashReceived:Ea,change:Ea-Wr}:_n==="e-wallet"&&(us={eWalletProvider:ui.provider,eWalletReferenceNumber:ui.referenceNumber,eWalletName:ui.name});const To={items:Yt.map(va=>({name:va.name,price:va.price,quantity:va.quantity,selectedSize:va.selectedSize||"Regular",availableSizes:va.availableSizes||["base"],pricing:va.pricing||{base:va.price},modifiers:va.modifiers||[],pwdSeniorDiscount:va.pwdSeniorDiscount||{applied:!1,discountedQuantity:0,discountAmount:0,vatExempt:!1,cardType:null,cardIdNumber:null}})),totals:{subtotal:parseFloat(mn.subtotal),discount:parseFloat(mn.discount),total:Wr,...us},paymentMethod:_n,paymentDetails:us,customerName:Ws||"",discountCards:na,status:"received",orderType:"pos",fulfillmentType:"dine_in",server:fr.username||""},Ys=await fetch(`${Cr}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jr}`},body:JSON.stringify(To)}),As=await Ys.json();if(Ys.ok&&As.success){if(console.log("[TabletPOS handleCheckout] Server response:",As.data),console.log("[TabletPOS handleCheckout] Totals from server:",(Mt=As.data)==null?void 0:Mt.totals),q(As.data),_n==="cash")try{await Ur(Ea,Wr,"pos_order"),console.log("Cash transaction processed successfully")}catch(va){console.error("Cash float processing error:",va)}if(W(!0),await new Promise(va=>setTimeout(va,100)),await Yn(),(hr=As.data)!=null&&hr._id)try{const va=localStorage.getItem("userData"),Mi=va?JSON.parse(va):null,Xs=await fetch("http://localhost:5000/api/inventory/reserve",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${jr}`},body:JSON.stringify({orderId:As.data._id,items:Yt.map(ae=>({menuItemId:ae._id,quantity:ae.quantity,name:ae.name})),reservedBy:(Mi==null?void 0:Mi.id)||"system"})}),M=await Xs.json();console.log("[TabletPOS] Reservation API Response:",M),Xs.ok&&M.success?console.log("[TabletPOS] Inventory reservation created for order:",As.data._id):console.warn("[TabletPOS] Inventory reservation failed:",M)}catch(va){console.error("[TabletPOS] Inventory reservation error:",va)}Mn([]),he(""),fe({provider:"gcash",referenceNumber:"",name:""}),xe({cardType:"PWD",cardIdNumber:""}),ie("cash"),Z(0),qn(),W(!1),nt(!1),alert("Order placed successfully!")}else throw new Error(As.message||"Failed to create order")}catch(Yt){console.error("Error placing order:",Yt),alert(`Failed to place order: ${Yt.message}`)}},Bi=async(Ee,Mt="")=>{try{const hr=localStorage.getItem("token")||localStorage.getItem("authToken");console.log("[TabletPOS] Verifying payment for order:",Ee);const Yt=await fetch(`${Cr}/api/orders/${Ee}/verify-payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${hr}`},body:JSON.stringify({notes:Mt})});if(!Yt.ok){const mn=await Yt.json();throw new Error(mn.message||"Failed to verify payment")}const jr=await Yt.json();console.log("[TabletPOS] Payment verified successfully:",jr);const fr=await fetch(`${Cr}/api/orders/${Ee}`,{headers:{Authorization:`Bearer ${hr}`}});if(fr.ok){const mn=await fr.json(),Wr=mn.data||mn;console.log("[TabletPOS] Fetched order for receipt:",Wr),q(Wr),W(!0),await new Promise(_n=>setTimeout(_n,100)),await Yn(),W(!1)}else console.warn("[TabletPOS] Failed to fetch order details for receipt");qn(),Qn(),alert("Payment verified! Order has been added to the queue. Receipt printed.")}catch(hr){console.error("[TabletPOS] Error verifying payment:",hr),alert(`Failed to verify payment: ${hr.message}`)}},Za=async Ee=>{try{console.log("[TabletPOS] Processing PayMongo order:",Ee);const Mt=localStorage.getItem("token")||localStorage.getItem("authToken"),hr=await fetch(`${Cr}/api/orders/${Ee}/process-paymongo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Mt}`}});if(!hr.ok){const jr=await hr.json();throw new Error(jr.message||"Failed to process PayMongo order")}const Yt=await hr.json();console.log("[TabletPOS] PayMongo order processed successfully:",Yt),qn(),Qn(),alert("PayMongo order processed! Receipt can be generated and order moved to kitchen.")}catch(Mt){console.error("[TabletPOS] Error processing PayMongo order:",Mt),alert(`Failed to process PayMongo order: ${Mt.message}`)}},wn=async(Ee,Mt="")=>{Mt||(Mt=prompt("Enter reason for rejection (optional):")||"Invalid payment proof");try{const hr=localStorage.getItem("token")||localStorage.getItem("authToken"),Yt=await fetch(`${Cr}/api/orders/${Ee}/reject-payment`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${hr}`},body:JSON.stringify({reason:Mt})});if(!Yt.ok){const jr=await Yt.json();throw new Error(jr.message||"Failed to reject payment")}qn(),alert("Payment rejected. Customer will be notified.")}catch(hr){console.error("Error rejecting payment:",hr),alert(`Failed to reject payment: ${hr.message}`)}},ra=Ee=>{F(Ee),Q(!0),N(Ee.items.map(Mt=>{var Yt;const hr=typeof Mt.menuItem=="object"&&((Yt=Mt.menuItem)!=null&&Yt._id)?Mt.menuItem._id:Mt.menuItem;return{...Mt,_id:hr||Mt._id,name:Mt.name,price:Mt.price,quantity:Mt.quantity,selectedSize:Mt.selectedSize||Mt.size||"base",availableSizes:Object.keys(Mt.pricing||{base:Mt.price}),pricing:Mt.pricing||{base:Mt.price}}})),U("pending")},ue=async Ee=>{if(confirm("Are you sure you want to delete this pending order? This action cannot be undone."))try{if(!(await fetch(`http://localhost:5000/api/orders/${Ee}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete order");T(hr=>hr.filter(Yt=>Yt._id!==Ee)),(D==null?void 0:D._id)===Ee&&(F(null),Q(!1),N([])),alert("Pending order deleted successfully")}catch(Mt){console.error("Error deleting order:",Mt),alert("Failed to delete order")}},He=()=>{confirm("Cancel editing? Changes will be lost.")&&(F(null),Q(!1),N([]),U("ready"))},We=e.filter(Ee=>{const Mt=!f||Ee.category===f,hr=!a||Ee.name.toLowerCase().includes(a.toLowerCase())||Ee.code.toLowerCase().includes(a.toLowerCase());let Yt=!0;return f==="Meals"&&o?Yt=Ee.subCategory===o:f==="Beverages"&&u&&(Yt=Ee.subCategory===u),Mt&&hr&&Yt});return sr?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:le.colors.background},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 mx-auto mb-4",style:{borderColor:le.colors.primary}}),i.jsx("p",{className:"text-lg font-semibold",style:{color:le.colors.primary},children:"Loading POS..."})]})}):pt?i.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:le.colors.background},children:i.jsxs("div",{className:"text-center max-w-md p-8",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:le.colors.primary},children:"Error Loading POS"}),i.jsx("p",{className:"text-gray-600 mb-6",children:pt}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:le.colors.primary},children:"Retry"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[ge?i.jsx(WG,{onClose:()=>Pe(!1)}):i.jsxs("div",{className:"flex flex-col h-screen",children:[i.jsxs("div",{className:"bg-white shadow-md",children:[i.jsxs("div",{className:"p-4 flex items-center justify-between border-b",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h1",{className:"text-2xl font-bold",style:{color:le.colors.primary},children:"Ring & Wing POS - Tablet"}),Kt&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg",style:{backgroundColor:`${le.colors.accent}20`,border:`1px solid ${le.colors.accent}`},children:[i.jsx(wc,{size:18,style:{color:le.colors.accent}}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs font-medium",style:{color:le.colors.muted},children:"Cash Float"}),i.jsxs("span",{className:"text-base font-bold",style:{color:le.colors.accent},children:["",dn(mr)]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[Kt&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>re(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:le.colors.primary,border:`1px solid ${le.colors.muted}`},title:"Manage Cash Float",children:[i.jsx(wc,{size:20}),i.jsx("span",{className:"text-sm font-medium hidden md:inline",children:"Cash Float"})]}),i.jsxs("button",{onClick:()=>Oe(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:le.colors.primary,border:`1px solid ${le.colors.muted}`},title:"End of Shift",children:[i.jsx(fw,{size:20}),i.jsx("span",{className:"text-sm font-medium hidden md:inline",children:"End Shift"})]})]}),i.jsxs("button",{onClick:()=>Pe(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",style:{color:le.colors.primary,border:`1px solid ${le.colors.muted}`},title:"Time Clock",children:[i.jsx(Es,{size:20}),i.jsx("span",{className:"text-sm font-medium hidden md:inline",children:"Time Clock"})]}),i.jsxs("button",{onClick:()=>Qt(!0),className:"p-2 rounded-lg hover:bg-gray-100 relative",style:{color:le.colors.primary},title:"Kitchen Orders",children:[i.jsx(Ty,{size:24}),O.filter(Ee=>["received","preparing","ready"].includes(Ee.status)).length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-orange-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:O.filter(Ee=>["received","preparing","ready"].includes(Ee.status)).length})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center gap-4 px-4 py-3 bg-gray-50",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsx(i$,{value:a,onChange:Ee=>s(Ee.target.value),placeholder:"Search menu..."})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:`px-6 py-2 rounded-lg font-semibold text-sm transition-all ${P==="ready"?"text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,style:{backgroundColor:P==="ready"?le.colors.primary:void 0},onClick:()=>{U("ready"),Q(!1),F(null),N([])},children:"Ready Orders"}),i.jsxs("button",{className:`px-6 py-2 rounded-lg font-semibold text-sm transition-all ${P==="pending"?"text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,style:{backgroundColor:P==="pending"?le.colors.primary:void 0},onClick:()=>{U("pending"),R||(F(null),N([]))},children:["Pending Orders",O.filter(Ee=>Ee.status==="pending").length>0&&i.jsx("span",{className:"ml-2 bg-orange-500 text-white text-xs font-bold rounded-full px-2 py-0.5",children:O.filter(Ee=>Ee.status==="pending").length})]}),i.jsxs("button",{className:`px-6 py-2 rounded-lg font-semibold text-sm transition-all ${P==="dineTakeout"?"text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,style:{backgroundColor:P==="dineTakeout"?le.colors.primary:void 0},onClick:()=>{U("dineTakeout"),Q(!1),F(null),N([])},children:["Dine/Take-out",O.filter(Ee=>Ee.status==="awaiting_payment").length>0&&i.jsx("span",{className:"ml-2 bg-blue-500 text-white text-xs font-bold rounded-full px-2 py-0.5",children:O.filter(Ee=>Ee.status==="awaiting_payment").length})]})]})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"flex-[6] flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"flex-shrink-0 bg-gradient-to-r from-orange-50 to-red-50 border-b-2 border-orange-200",children:[i.jsx("div",{className:"px-4 pt-3 pb-2",children:i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-orange-300 scrollbar-track-transparent pb-2",children:r.map(Ee=>i.jsx("button",{onClick:()=>{h(Ee.name),Ee.name==="Meals"?l(null):Ee.name==="Beverages"&&A(null)},className:"flex-shrink-0 px-6 py-2.5 rounded-lg font-bold text-sm shadow-md transition-all transform hover:scale-105",style:{backgroundColor:f===Ee.name?le.colors.primary:"white",color:f===Ee.name?"white":le.colors.primary,border:f===Ee.name?`2px solid ${le.colors.primary}`:"2px solid #e5e7eb"},children:Ee.name},Ee._id))})}),f&&v[f]&&Object.keys(v[f].subCategories).length>0&&i.jsx("div",{className:"px-4 pb-3",children:i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-orange-200 px-3 py-2",children:i.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-orange-300 scrollbar-track-transparent",children:[i.jsx("span",{className:"flex-shrink-0 text-xs font-semibold text-gray-500 uppercase tracking-wide mr-1",children:"Filter:"}),i.jsxs("button",{onClick:()=>{f==="Meals"?l(null):f==="Beverages"&&A(null)},className:`flex-shrink-0 text-xs px-4 py-1.5 rounded-full font-semibold transition-all ${f==="Meals"&&!o||f==="Beverages"&&!u?"bg-orange-500 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["All ",f]}),Object.keys(v[f].subCategories).map(Ee=>{const Mt=f==="Meals"?o===Ee:u===Ee;return i.jsx("button",{onClick:()=>{f==="Meals"?l(Ee):f==="Beverages"&&A(Ee)},className:`flex-shrink-0 text-xs px-4 py-1.5 rounded-full font-semibold transition-all ${Mt?"bg-orange-500 text-white shadow-md scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:Ee},Ee)})]})})})]}),i.jsx("div",{className:"flex-1 overflow-auto p-4",children:i.jsx("div",{className:"grid grid-cols-3 gap-3",children:We.map(Ee=>{const Mt=P==="dineTakeout"||P==="pending"&&!R,hr=Ee.isAvailable===!1,Yt=hr||Mt;return i.jsx(nb,{item:Ee,onClick:()=>Yt?null:$a(Ee),isUnavailable:hr,isLocked:Mt},Ee._id)})})})]}),i.jsxs("div",{className:"flex-[4] bg-white shadow-lg p-4 flex flex-col border-l",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-bold",style:{color:le.colors.primary},children:P==="pending"&&R?"Editing Order":P==="dineTakeout"?"Awaiting Payment":P==="pending"?"Pending Orders":"Current Order"}),D&&i.jsx("button",{onClick:He,className:"text-sm px-3 py-1 rounded-lg bg-gray-200 hover:bg-gray-300",children:"Cancel Edit"})]}),P==="pending"&&!R?i.jsx("div",{className:"flex-1 overflow-auto",children:O.filter(Ee=>Ee.status==="pending").length===0?i.jsx("div",{className:"text-center text-gray-400 mt-8",children:i.jsx("p",{children:"No pending orders"})}):i.jsx("div",{className:"space-y-3",children:O.filter(Ee=>Ee.status==="pending").map(Ee=>{var Mt,hr,Yt,jr;return i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200 hover:border-orange-300 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-bold text-lg",children:["Order #",Ee.receiptNumber||((Mt=Ee._id)==null?void 0:Mt.substring(0,6))]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[((hr=Ee.items)==null?void 0:hr.length)||0," items  ",((jr=(Yt=Ee.totals)==null?void 0:Yt.total)==null?void 0:jr.toFixed(2))||"0.00"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(Ee.createdAt).toLocaleString()})]}),i.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full font-semibold",children:"PENDING"})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{onClick:()=>ra(Ee),className:"flex-1 py-2 rounded-lg font-semibold text-white",style:{backgroundColor:le.colors.primary},children:"Edit Order"}),i.jsx("button",{onClick:()=>ue(Ee._id),className:"px-4 py-2 rounded-lg font-semibold bg-red-500 text-white hover:bg-red-600",children:"Delete"})]})]},Ee._id)})})}):P==="dineTakeout"?i.jsx("div",{className:"flex-1 overflow-auto p-4",children:V.length===0?i.jsxs("div",{className:"text-center text-gray-400 mt-8",children:[i.jsx("p",{className:"text-lg font-semibold mb-2",children:"No orders awaiting payment"}),i.jsx("p",{className:"text-sm",children:"Takeout and delivery orders will appear here for verification (manual payments) or receipt generation (PayMongo payments)"})]}):i.jsx("div",{className:"space-y-3",children:V.map(Ee=>{var Yt,jr,fr,mn,Wr,_n,Ea;const Mt=((Yt=Ee.proofOfPayment)==null?void 0:Yt.expiresAt)&&new Date(Ee.proofOfPayment.expiresAt)-new Date<3e5,hr=((jr=Ee.proofOfPayment)==null?void 0:jr.expiresAt)&&new Date(Ee.proofOfPayment.expiresAt)<new Date;return i.jsxs("div",{className:`p-4 rounded-lg border-2 shadow-sm ${hr?"bg-red-50 border-red-300":Mt?"bg-yellow-50 border-yellow-300":"bg-blue-50 border-blue-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"font-bold text-lg",style:{color:le.colors.primary},children:["#",Ee.receiptNumber]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ee.fulfillmentType==="delivery"?"Delivery":"Takeout"," ",Ee.isPayMongoOrder?" PayMongo":Ee.paymentMethod==="gcash"?" GCash":Ee.paymentMethod==="paymaya"?" PayMaya":" E-Wallet","  ",((mn=(fr=Ee.totals)==null?void 0:fr.total)==null?void 0:mn.toFixed(2))||"0.00"]}),Ee.isPayMongoOrder?i.jsx("p",{className:"text-xs text-green-600 mt-1 font-semibold",children:" Payment Verified by PayMongo"}):i.jsxs(i.Fragment,{children:[((Wr=Ee.proofOfPayment)==null?void 0:Wr.transactionReference)&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",Ee.proofOfPayment.transactionReference]}),((_n=Ee.proofOfPayment)==null?void 0:_n.accountName)&&i.jsx("p",{className:"text-xs text-gray-500",children:Ee.proofOfPayment.accountName})]})]}),i.jsx("div",{className:"text-right",children:Ee.isPayMongoOrder?i.jsx("span",{className:"text-xs px-3 py-1 rounded-full font-semibold bg-green-100 text-green-700",children:"PAID"}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold ${hr?"bg-red-100 text-red-700":Mt?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:hr?"EXPIRED":"Pending"}),((Ea=Ee.proofOfPayment)==null?void 0:Ea.expiresAt)&&!hr&&i.jsxs("p",{className:"text-xs mt-1 text-gray-500",children:["Expires: ",new Date(Ee.proofOfPayment.expiresAt).toLocaleTimeString()]})]})})]}),Ee.isPayMongoOrder?i.jsx("button",{onClick:()=>Za(Ee._id),className:"w-full py-2.5 rounded-lg font-semibold transition-colors shadow-md",style:{backgroundColor:le.colors.success||"#10b981",color:"white"},children:"Generate Receipt & Process"}):i.jsx("button",{onClick:()=>{Ue(Ee),Me(!0)},className:"w-full py-2.5 rounded-lg font-semibold transition-colors shadow-md",style:{backgroundColor:le.colors.primary,color:"white"},children:"Verify Payment"})]},Ee._id)})})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-auto mb-4",children:hn().length===0?i.jsx("div",{className:"text-center text-gray-400 mt-8",children:i.jsx("p",{children:"No items in cart"})}):i.jsx("div",{className:"space-y-2",children:hn().map((Ee,Mt)=>i.jsx(ab,{item:Ee,onVoid:Ar,onUpdateSize:st,onUpdateQuantity:xt,onDiscountUpdate:Pt},`${Ee._id}-${Ee.size}-${Mt}`))})}),i.jsx(n$,{total:la().total,subtotal:la().subtotal,discount:la().discount,cashFloat:mr,onProcessPayment:()=>nt(!0),onCancelOrder:()=>{R?He():br()},disabled:hn().length===0})]})]})]})]}),Et&&i.jsx(JG,{onClose:()=>Qt(!1),orders:O,onUpdateOrder:qn,theme:le}),ye&&Kt&&i.jsx(XG,{isOpen:ye,onClose:()=>re(!1),initialCashFloat:mr,onSave:async Ee=>{try{Ee.manualAmount&&await on(parseFloat(Ee.manualAmount),"manual_adjustment"),Ee.resetDaily&&await Vr(Ee.resetDaily,parseFloat(Ee.resetAmount)),re(!1)}catch(Mt){console.error("[TabletPOS] Error saving cash float:",Mt),alert("Failed to save cash float settings")}},theme:le}),_e&&Kt&&i.jsx(eW,{isOpen:_e,cashFloat:mr,onClose:()=>Oe(!1),theme:le}),bt&&Vt&&i.jsx(rW,{item:Vt,onClose:()=>{Jt(!1),Be(null)},onSelectSize:Ee=>{de(Ee),Jt(!1),Be(null)}}),It&&i.jsx(a$,{isOpen:It,onClose:()=>nt(!1),total:la().total,subtotal:la().subtotal,discount:la().discount,cashFloat:mr,onProcessPayment:async Ee=>{try{ie(Ee.method),Z(Ee.cashAmount),fe(Ee.eWalletDetails||{provider:"gcash",referenceNumber:"",name:""}),he(Ee.customerName),Ee.discountCards&&xe({discountCards:Ee.discountCards}),await za(Ee)}catch(Mt){throw console.error("Payment processing error:",Mt),Mt}},eWalletDetails:te,onEWalletDetailsChange:fe,customerName:we,onCustomerNameChange:he,orderItems:hn()}),Ke&&Re&&i.jsx(Sd,{isOpen:Ke,onClose:()=>{Me(!1),Ue(null),Ve(!1)},size:"lg",footer:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{Bi(Re._id),Me(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Verify Payment"}),i.jsx("button",{onClick:()=>{wn(Re._id),Me(!1)},className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Reject Payment"})]}),children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Order #",Re.receiptNumber]}),((it=Re.proofOfPayment)==null?void 0:it.imageUrl)&&i.jsx("img",{src:`${Cr}${Re.proofOfPayment.imageUrl}`,alt:"Payment Proof",className:"w-20 h-20 object-cover rounded border-2 border-gray-300 cursor-pointer hover:border-blue-500 transition-colors",onClick:()=>Ve(!Qe),title:"Click to expand"})]}),Qe&&((wt=Re.proofOfPayment)==null?void 0:wt.imageUrl)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[200] cursor-pointer",onClick:()=>Ve(!1),children:i.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] p-4",children:[i.jsx("img",{src:`${Cr}${Re.proofOfPayment.imageUrl}`,alt:"Payment Proof - Full Size",className:"max-w-full max-h-[90vh] object-contain rounded-lg shadow-2xl"}),i.jsx("button",{className:"absolute top-2 right-2 bg-white text-gray-800 px-4 py-2 rounded-full font-medium hover:bg-gray-100 transition-colors",onClick:Ee=>{Ee.stopPropagation(),Ve(!1)},children:"Close"})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-2",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Payment Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsx("div",{className:"text-gray-600",children:"Account Name:"}),i.jsx("div",{className:"font-medium text-gray-900",children:(($t=Re.proofOfPayment)==null?void 0:$t.accountName)||"N/A"}),i.jsx("div",{className:"text-gray-600",children:"Reference #:"}),i.jsx("div",{className:"font-medium text-gray-900",children:((Tt=Re.proofOfPayment)==null?void 0:Tt.transactionReference)||"N/A"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsx("div",{className:"text-gray-600",children:"Amount:"}),i.jsxs("div",{className:"font-bold text-gray-900",children:["",((at=(ve=Re.totals)==null?void 0:ve.total)==null?void 0:at.toFixed(2))||"0.00"]}),i.jsx("div",{className:"text-gray-600",children:"Payment Method:"}),i.jsx("div",{className:"font-medium text-gray-900 capitalize",children:Re.paymentMethod||"N/A"}),i.jsx("div",{className:"text-gray-600",children:"Order Type:"}),i.jsx("div",{className:"font-medium text-gray-900 capitalize",children:((dt=Re.fulfillmentType)==null?void 0:dt.replace("_"," "))||"N/A"}),i.jsx("div",{className:"text-gray-600",children:"Time:"}),i.jsx("div",{className:"font-medium text-gray-900",children:new Date(Re.createdAt).toLocaleString()})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Items"}),i.jsx("div",{className:"space-y-2",children:(tt=Re.items)==null?void 0:tt.map((Ee,Mt)=>i.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 last:border-0",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("span",{className:"font-medium text-gray-900",children:[Ee.quantity,"x ",Ee.name]}),i.jsxs("span",{className:"text-gray-500 ml-2",children:["(",Ee.selectedSize||"Regular",")"]})]}),i.jsxs("div",{className:"font-semibold text-gray-900",children:["",(Ee.price*Ee.quantity).toFixed(2)]})]},Mt))})]})]})}),i.jsxs(Sd,{isOpen:z,onClose:()=>W(!1),size:"lg",children:[i.jsx(C0,{ref:lr,order:{items:(L==null?void 0:L.items)||[],receiptNumber:(L==null?void 0:L.receiptNumber)||"N/A",server:(L==null?void 0:L.server)||(()=>{try{const Ee=localStorage.getItem("userData");if(Ee)return JSON.parse(Ee).username||""}catch(Ee){console.error("Error getting staff name:",Ee)}return""})(),discountCardDetails:(L==null?void 0:L.discountCards)||null},totals:{subtotal:((ht=L==null?void 0:L.totals)==null?void 0:ht.subtotal)||0,discount:((jt=L==null?void 0:L.totals)==null?void 0:jt.discount)||0,total:((kt=L==null?void 0:L.totals)==null?void 0:kt.total)||0,customerName:(L==null?void 0:L.customerName)||"",cashReceived:((Bt=L==null?void 0:L.totals)==null?void 0:Bt.cashReceived)||((Dt=L==null?void 0:L.paymentDetails)==null?void 0:Dt.cashReceived)||0,change:((Wt=L==null?void 0:L.totals)==null?void 0:Wt.change)||((pr=L==null?void 0:L.paymentDetails)==null?void 0:pr.change)||0,eWalletProvider:((Qr=L==null?void 0:L.paymentDetails)==null?void 0:Qr.eWalletProvider)||"",eWalletReferenceNumber:((Vn=L==null?void 0:L.paymentDetails)==null?void 0:Vn.eWalletReferenceNumber)||"",eWalletName:((Gr=L==null?void 0:L.paymentDetails)==null?void 0:Gr.eWalletName)||""},paymentMethod:(L==null?void 0:L.paymentMethod)||"cash"}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{className:"w-full py-3 md:py-4 text-base md:text-lg rounded-2xl mt-4 font-semibold",style:{backgroundColor:le.colors.primary,color:le.colors.background},onClick:async()=>{try{await Yn()}finally{W(!1),R&&(F(null),Q(!1),N([])),he(""),fe({provider:"gcash",referenceNumber:"",name:""})}},children:"Print Receipt"})})]}),i.jsx("div",{style:{display:"none"},children:i.jsx(C0,{ref:lr,order:{items:(L==null?void 0:L.items)||[],receiptNumber:(L==null?void 0:L.receiptNumber)||"N/A",server:(L==null?void 0:L.server)||"",discountCardDetails:(L==null?void 0:L.discountCards)||null},totals:{subtotal:((yn=L==null?void 0:L.totals)==null?void 0:yn.subtotal)||0,discount:((ei=L==null?void 0:L.totals)==null?void 0:ei.discount)||0,total:((Di=L==null?void 0:L.totals)==null?void 0:Di.total)||0,customerName:(L==null?void 0:L.customerName)||"",cashReceived:((Ir=L==null?void 0:L.totals)==null?void 0:Ir.cashReceived)||((bu=L==null?void 0:L.paymentDetails)==null?void 0:bu.cashReceived)||0,change:((Oc=L==null?void 0:L.totals)==null?void 0:Oc.change)||((wu=L==null?void 0:L.paymentDetails)==null?void 0:wu.change)||0,eWalletProvider:((nl=L==null?void 0:L.paymentDetails)==null?void 0:nl.eWalletProvider)||"",eWalletReferenceNumber:((ks=L==null?void 0:L.paymentDetails)==null?void 0:ks.eWalletReferenceNumber)||"",eWalletName:((Xi=L==null?void 0:L.paymentDetails)==null?void 0:Xi.eWalletName)||""},paymentMethod:(L==null?void 0:L.paymentMethod)||"cash"})}),yt&&ze&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:le.colors.primary},children:"Remove Item?"}),i.jsxs("p",{className:"text-sm mb-4",style:{color:le.colors.secondary},children:['Are you sure you want to remove "',ze==null?void 0:ze.name,'" from the order?']}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{Ht(!1),Ge(null)},className:"flex-1 py-2 px-4 rounded-lg border",style:{borderColor:le.colors.muted},children:"Cancel"}),i.jsx("button",{onClick:Kr,className:"flex-1 py-2 px-4 rounded-lg text-white",style:{backgroundColor:le.colors.error},children:"Remove"})]})]})}),St&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:le.colors.primary},children:"Clear Entire Order?"}),i.jsxs("p",{className:"text-sm mb-4",style:{color:le.colors.secondary},children:["This will remove all ",hn().length," items from your current order. This action cannot be undone."]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>Rt(!1),className:"flex-1 py-2 px-4 rounded-lg border",style:{borderColor:le.colors.muted},children:"Cancel"}),i.jsx("button",{onClick:Hn,className:"flex-1 py-2 px-4 rounded-lg text-white",style:{backgroundColor:le.colors.error},children:"Clear All"})]})]})})]})},UEe=()=>{const[e,t]=k.useState(!1);return k.useEffect(()=>{const r=()=>{const n=window.innerWidth;t(n>=768&&n<1280)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e?i.jsx(LEe,{}):i.jsx(PEe,{})},IEe=({item:e,isRecommended:t,onAddToCart:r})=>{var s;const n=((s=e.pricing)==null?void 0:s.base)||Object.values(e.pricing||{})[0]||0,a=typeof n=="number"?n.toFixed(0):n;return i.jsxs(nr.div,{className:"bg-white rounded-2xl shadow-lg overflow-hidden relative border border-gray-100",whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:[t&&i.jsx("div",{className:"absolute top-3 left-3 z-10 px-3 py-1.5 rounded-full text-sm font-bold text-white shadow-md",style:{backgroundColor:le.colors.primary},children:"RECOMMENDED"}),i.jsxs("div",{className:"flex p-4",children:[i.jsx("div",{className:"w-24 h-24 flex-shrink-0 mr-4",children:i.jsx("img",{src:e.image||(e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:e.name,className:"w-full h-full object-cover rounded-xl",onError:o=>{o.target.src=e.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"}})}),i.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-base text-gray-900 leading-tight mb-1 line-clamp-2",children:e.name}),i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-sm text-gray-500",children:e.code}),i.jsxs("span",{className:"font-bold text-lg",style:{color:le.colors.primary},children:["",a]})]})]}),i.jsx("button",{onClick:()=>r(e),className:"w-full py-3 rounded-xl text-base font-semibold text-white transition-all duration-200 shadow-md active:scale-95",style:{backgroundColor:le.colors.primary},children:"Add to Cart"})]})]})]})},tT=({isOpen:e,onClose:t,originalItem:r,alternatives:n,recommendedAlternative:a,onAddToCart:s,loading:o=!1})=>e?i.jsx(Ss,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(nr.div,{className:"fixed inset-0 bg-black bg-opacity-60 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t}),i.jsxs(nr.div,{className:"fixed bottom-0 left-0 right-0 z-50 bg-white rounded-t-2xl max-h-[85vh] w-full shadow-2xl",initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:25,stiffness:400},children:[i.jsxs("div",{className:"p-4 pb-2 border-b border-gray-200 relative",children:[i.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 w-10 h-1 bg-gray-300 rounded-full"}),i.jsxs("div",{className:"flex items-start justify-between mt-3",children:[i.jsxs("div",{className:"flex-1 pr-4",children:[i.jsx("div",{className:"flex items-center mb-2",children:i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Item Unavailable"})}),i.jsxs("p",{className:"text-base text-gray-600 mb-2 leading-relaxed",children:[i.jsxs("span",{className:"font-semibold",children:['"',r==null?void 0:r.name,'"']})," is currently unavailable"]}),(n==null?void 0:n.length)>0?i.jsx("p",{className:"text-base font-medium",style:{color:le.colors.primary},children:"Here are some similar options:"}):i.jsx("p",{className:"text-base text-gray-500",children:"Please check back later or browse other items."})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-2 rounded-full hover:bg-gray-100 transition-colors",children:i.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),i.jsx("div",{className:"px-4 py-2 flex-1 overflow-y-auto",style:{maxHeight:"calc(85vh - 140px)"},children:o?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-3",style:{borderColor:le.colors.primary}}),i.jsx("span",{className:"ml-3 text-lg text-gray-600",children:"Loading alternatives..."})]}):(n==null?void 0:n.length)>0?i.jsx("div",{className:"grid grid-cols-1 gap-4 pb-4",children:n.map(l=>i.jsx(IEe,{item:l,isRecommended:l._id===(a==null?void 0:a._id),onAddToCart:s},l._id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"..."}),i.jsx("p",{className:"text-lg text-gray-600 mb-4 font-medium",children:"No similar items are currently available."}),i.jsx("p",{className:"text-base text-gray-500",children:"Please check back later or explore our other menu sections."})]})}),i.jsx("div",{className:"p-4 pt-2 border-t border-gray-200 bg-gray-50",children:i.jsx("button",{onClick:t,className:"w-full py-4 px-6 rounded-xl border-2 font-semibold transition-all duration-200 text-lg",style:{borderColor:le.colors.primary,color:le.colors.primary,backgroundColor:"white"},children:" Back to Menu"})})]})]})}):null,rT=()=>{const[e,t]=k.useState({isOpen:!1,originalItem:null,alternatives:[],recommendedAlternative:null,loading:!1}),r=k.useCallback(async s=>{try{const o=await fetch(`/api/menu/${s}/alternatives`);if(!o.ok)throw new Error("Failed to fetch alternatives");const l=await o.json();return{alternatives:l.alternatives||[],recommendedAlternative:l.recommendedAlternative||null}}catch(o){return console.error("Error fetching alternatives:",o),{alternatives:[],recommendedAlternative:null}}},[]),n=k.useCallback(async s=>{t({isOpen:!0,originalItem:s,alternatives:[],recommendedAlternative:null,loading:!0});const{alternatives:o,recommendedAlternative:l}=await r(s._id);t(u=>({...u,alternatives:o,recommendedAlternative:l,loading:!1}))},[r]),a=k.useCallback(()=>{t({isOpen:!1,originalItem:null,alternatives:[],recommendedAlternative:null,loading:!1})},[]);return{modalState:e,showAlternatives:n,hideAlternatives:a}};ar.bool,ar.bool;ar.shape({text:ar.string.isRequired,sender:ar.string.isRequired,timestamp:ar.oneOfType([ar.string,ar.instanceOf(Date)]),type:ar.string,suggestions:ar.array}).isRequired,ar.func.isRequired,ar.array.isRequired,ar.array;ar.array,ar.array,ar.func,ar.func;const kl={ADD_ITEM:"ADD_ITEM",UPDATE_QUANTITY:"UPDATE_QUANTITY",UPDATE_SIZE:"UPDATE_SIZE",REMOVE_ITEM:"REMOVE_ITEM",CLEAR_CART:"CLEAR_CART",LOAD_FROM_STORAGE:"LOAD_FROM_STORAGE"},nW="ringwing_cart_v1",DEe=e=>{const t=e.reduce((n,a)=>n+a.price*a.quantity,0),r=0;return{subtotal:t,discount:r,total:t-r}},MEe=e=>e.length,REe=(e,t)=>{switch(t.type){case kl.ADD_ITEM:{const{item:r,selectedSize:n}=t.payload,a=e.findIndex(s=>s._id===r._id&&s.selectedSize===n);if(a>=0)return e.map((s,o)=>o===a?{...s,quantity:s.quantity+1}:s);{const s={...r,price:r.pricing[n],selectedSize:n,availableSizes:Object.keys(r.pricing),pricing:r.pricing,quantity:1};return[...e,s]}}case kl.UPDATE_QUANTITY:{const{itemId:r,selectedSize:n,delta:a}=t.payload;return e.map(s=>s._id===r&&s.selectedSize===n?{...s,quantity:Math.max(1,s.quantity+a)}:s)}case kl.UPDATE_SIZE:{const{itemId:r,oldSize:n,newSize:a}=t.payload;return e.map(s=>s._id===r&&s.selectedSize===n?{...s,selectedSize:a,price:s.pricing[a]}:s)}case kl.REMOVE_ITEM:{const{itemId:r,selectedSize:n}=t.payload;return e.filter(a=>!(a._id===r&&a.selectedSize===n))}case kl.CLEAR_CART:return[];case kl.LOAD_FROM_STORAGE:return t.payload||[];default:return e}},QEe=e=>{try{localStorage.setItem(nW,JSON.stringify(e))}catch(t){console.warn("Failed to save cart to localStorage:",t)}},HEe=()=>{try{const e=localStorage.getItem(nW);return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to load cart from localStorage:",e),[]}},$Ee=()=>{const[e,t]=k.useReducer(REe,[]);k.useEffect(()=>{const A=HEe();t({type:kl.LOAD_FROM_STORAGE,payload:A})},[]),k.useEffect(()=>{QEe(e)},[e]);const r=k.useCallback((A,f={})=>{const h=Object.keys(A.pricing),p=f.size||(h.includes("base")?"base":h[0]);t({type:kl.ADD_ITEM,payload:{item:A,selectedSize:p}})},[]),n=k.useCallback((A,f,h)=>{t({type:kl.UPDATE_QUANTITY,payload:{itemId:A,selectedSize:f,delta:h}})},[]),a=k.useCallback((A,f,h)=>{t({type:kl.UPDATE_SIZE,payload:{itemId:A,oldSize:f,newSize:h}})},[]),s=k.useCallback((A,f)=>{t({type:kl.REMOVE_ITEM,payload:{itemId:A,selectedSize:f}})},[]),o=k.useCallback(()=>{t({type:kl.CLEAR_CART})},[]),l=k.useCallback(()=>DEe(e),[e]),u=k.useCallback(()=>MEe(e),[e]);return{cartItems:e,addItem:r,updateQuantity:n,updateSize:a,removeItem:s,clearCart:o,getTotals:l,itemCount:u()}},aW=k.createContext(null),zEe=({children:e})=>{const t=$Ee();return i.jsx(aW.Provider,{value:t,children:e})},u2=()=>{const e=k.useContext(aW);if(!e)throw new Error("useCartContext must be used within a CartProvider");return e},MN=[{category:"Meals",name:"Meals",subCategories:["Breakfast All Day","Combos","Wings & Sides","Snacks","Flavored Wings"],subcategories:["Breakfast All Day","Combos","Wings & Sides","Snacks","Flavored Wings"]},{category:"Beverages",name:"Beverages",subCategories:["Coffee","Frappe","Fresh Lemonade","Fruit Soda","Fruit Tea","Milktea","Non-Coffee (Milk-Based)","Yogurt Smoothies"],subcategories:["Coffee","Frappe","Fresh Lemonade","Fruit Soda","Fruit Tea","Milktea","Non-Coffee (Milk-Based)","Yogurt Smoothies"]}],g7=e=>(Array.isArray(e)?e:e.items||[]).map(r=>({...r,image:r.image?`${Cr}${r.image}`:null,pricing:r.pricing||{base:0},modifiers:r.modifiers||[],isAvailable:r.isAvailable})),y7=e=>!e||!Array.isArray(e)?[]:e.map(t=>({category:t.name||t.category,name:t.name||t.category,_id:t._id,sortOrder:t.sortOrder,subCategories:t.subcategories||t.subCategories||[],subcategories:t.subcategories||t.subCategories||[]})),qEe=()=>{const[e,t]=k.useState([]),[r,n]=k.useState([]),[a,s]=k.useState(!0),[o,l]=k.useState(null),u=k.useCallback(async()=>{try{const g=await(await fetch(`${Cr}/api/menu?limit=1000`)).json(),v=g7(g);return t(v),v}catch(p){throw console.warn("Menu fetch failed:",p),p}},[]);k.useCallback(async()=>{let p=[];try{const g=await fetch(`${Cr}/api/categories`);if(g&&g.ok)try{const v=await g.json();console.log(" useMenu RAW categories API response:",v),p=y7(v),console.log(" useMenu: Using dynamic categories from API",p),console.log(" Categories with subcategories:",p.map(x=>({name:x.category,subCount:(x.subCategories||[]).length})))}catch(v){console.error("Failed to parse categories:",v),console.warn("Failed to parse categories, using fallback")}else console.warn("Categories API failed or not available")}catch(g){console.warn("Categories fetch failed:",g)}return(!p||p.length===0)&&(console.warn("useMenu: Using fallback categories - API returned empty/invalid data"),p=[...MN],console.log("useMenu: Fallback categories with subcategories loaded")),n(p),p},[]);const A=k.useCallback(async()=>{l(null),s(!0);try{const[p,g]=await Promise.all([fetch(`${Cr}/api/menu?limit=1000`),fetch(`${Cr}/api/categories`).catch(()=>null)]),v=await p.json(),x=g7(v);t(x);let b=[];if(g&&g.ok)try{const w=await g.json();console.log(" useMenu RAW categories API response:",w),b=y7(w),console.log(" useMenu: Using dynamic categories from API",b),console.log(" Categories with subcategories:",b.map(B=>({name:B.category,subCount:(B.subCategories||[]).length})))}catch(w){console.error("Failed to parse categories:",w),console.warn("Failed to parse categories, using fallback")}else console.warn("Categories API failed or not available");(!b||b.length===0)&&(console.warn("useMenu: Using fallback categories - API returned empty/invalid data"),b=[...MN],console.log("useMenu: Fallback categories with subcategories loaded")),n(b)}catch(p){console.error("Error fetching menu data:",p),l("Failed to load menu"),console.log("useMenu: Using error fallback categories"),n([...MN])}finally{s(!1)}},[]),f=k.useCallback(async()=>{try{await u()}catch(p){console.warn("Menu refresh failed:",p)}},[u]),h=k.useCallback(async()=>{await A()},[A]);return k.useEffect(()=>{A()},[A]),k.useEffect(()=>{const p=()=>f();window.addEventListener("focus",p);const g=setInterval(f,3e4);return()=>{window.removeEventListener("focus",p),clearInterval(g)}},[f]),{menuItems:e,categories:r,loading:a,error:o,refreshMenu:f,refreshAll:h}},iW=k.createContext(null),VEe=({children:e})=>{const t=qEe();return i.jsx(iW.Provider,{value:t,children:e})},nT=()=>{const e=k.useContext(iW);if(!e)throw new Error("useMenuContext must be used within a MenuProvider");return e},X1={mobile:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1023px)",desktop:"(min-width: 1024px)"},Jg=["desktop","tablet","mobile"],v7=()=>{for(const e of Jg)if(window.matchMedia(X1[e]).matches)return e;return"mobile"},KEe=e=>X1[e]?window.matchMedia(X1[e]).matches:(console.warn(`Unknown breakpoint: ${e}`),!1),aT=()=>{const[e,t]=k.useState(()=>typeof window<"u"?v7():"mobile"),r=k.useCallback(()=>{const h=v7();t(h)},[]);k.useEffect(()=>{const h=Object.entries(X1).map(([p,g])=>{const v=window.matchMedia(g);return v.addEventListener("change",r),{name:p,mql:v}});return r(),()=>{h.forEach(({mql:p})=>{p.removeEventListener("change",r)})}},[r]);const n=e==="mobile",a=e==="tablet",s=e==="desktop",o=n||a,l=a||s,u=k.useCallback(h=>e===h,[e]),A=k.useCallback(h=>{const p=Jg.indexOf(h);return Jg.indexOf(e)<p},[e]),f=k.useCallback(h=>{const p=Jg.indexOf(h);return Jg.indexOf(e)>p},[e]);return{current:e,isMobile:n,isTablet:a,isDesktop:s,isMobileOrTablet:o,isTabletOrDesktop:l,matches:u,above:A,below:f,check:KEe}},GEe=`
  @keyframes scroll-text {
    0% { transform: translateX(0); }
    50% { transform: translateX(calc(-100% + 180px)); }
    100% { transform: translateX(0); }
  }
  .animate-scroll {
    animation: scroll-text infinite linear;
    animation-play-state: running;
  }
  .animate-scroll:hover {
    animation-play-state: paused;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=GEe,document.head.querySelector("style[data-scroll-animation]")||(e.setAttribute("data-scroll-animation","true"),document.head.appendChild(e))}const sd={accent:"#f1670f"},Zu=({isListening:e=!1,isThinking:t=!1,size:r="default"})=>{const n={small:"w-6 h-6",default:"w-10 h-10",large:"w-12 h-12"},a={small:"w-3 h-3",default:"w-5 h-5",large:"w-6 h-6"};return i.jsx("div",{className:`${n[r]} rounded-full flex items-center justify-center transition-all duration-300 ${e?"animate-pulse":t?"animate-spin":""}`,style:{backgroundColor:sd.accent},children:i.jsx("svg",{className:`${a[r]} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})};Zu.propTypes={isListening:ar.bool,isThinking:ar.bool,size:ar.oneOf(["small","default","large"])};const bb=({message:e,onAddToCart:t,menuItems:r=[]})=>{const[n,a]=k.useState(new Set),s=l=>{a(u=>{const A=new Set(u);return A.has(l)?A.delete(l):A.add(l),A})},o=(l,u=60)=>!l||l.length<=u?l:l.substring(0,u)+"...";return e.type==="menu-suggestions"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Zu,{size:"small"}),i.jsx("div",{className:"max-w-xs lg:max-w-sm px-4 py-2 rounded-2xl bg-gray-100 text-gray-800",children:i.jsx("p",{className:"text-sm",children:e.text})})]}),e.suggestions&&e.suggestions.length>0&&i.jsx("div",{className:"ml-9 space-y-3 max-w-sm",children:e.suggestions.map((l,u)=>{const A=r.find(v=>v._id===l._id||v.name.toLowerCase()===l.name.toLowerCase());if(!A)return null;const f=l.description||A.description||"",h=n.has(A._id),p=f.length>35,g=p&&!h?o(f,35):f;return i.jsx("div",{className:"bg-orange-50 hover:bg-orange-100 border border-orange-200 rounded-xl transition-all duration-200 hover:shadow-md overflow-hidden cursor-pointer min-w-[280px] w-full max-w-sm",onClick:()=>t(A),children:h?i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 pr-4 overflow-hidden",children:[i.jsx("div",{className:"relative overflow-hidden h-5 mb-2",children:i.jsx("h4",{className:`font-medium text-gray-800 text-sm leading-tight whitespace-nowrap ${l.name.length>25?"animate-scroll":""}`,title:l.name,style:{animationDuration:l.name.length>25?`${Math.max(3,l.name.length*.15)}s`:void 0},children:l.name})}),f&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600 leading-relaxed mb-3 break-words",children:f}),i.jsx("button",{onClick:v=>{v.stopPropagation(),s(A._id)},className:"text-orange-600 hover:text-orange-700 text-xs font-medium flex items-center gap-1 transition-colors",children:i.jsx("span",{children:"Show less"})})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("p",{className:"font-bold text-orange-600 text-sm",children:["",l.price]}),i.jsx("p",{className:"text-xs text-gray-500",children:l.defaultSize||"Regular"}),i.jsx("div",{className:"mt-1 text-orange-600 text-xs font-medium",children:"+ Add"})]})]})}):i.jsxs("div",{className:"flex items-start gap-3 p-3",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 flex-shrink-0 rounded-lg overflow-hidden bg-gray-200",children:i.jsx("img",{src:A.image||(A.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:l.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200",onError:v=>{v.target.src=A.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"}})}),i.jsxs("div",{className:"flex-1 flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 pr-2 overflow-hidden",children:[i.jsx("div",{className:"relative overflow-hidden h-5 mb-1",children:i.jsx("h4",{className:`font-medium text-gray-800 text-sm leading-tight whitespace-nowrap ${l.name.length>25?"animate-scroll":""}`,title:l.name,style:{animationDuration:l.name.length>25?`${Math.max(3,l.name.length*.15)}s`:void 0},children:l.name})}),"                          ",f&&i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"text-xs text-gray-600 leading-relaxed break-words",children:g}),p&&i.jsx("button",{onClick:v=>{v.stopPropagation(),s(A._id)},className:"text-orange-600 hover:text-orange-700 text-xs font-medium mt-1 flex items-center gap-1 transition-colors",children:i.jsx("span",{children:"Show more"})})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("p",{className:"font-bold text-orange-600 text-sm",children:["",l.price]}),i.jsx("p",{className:"text-xs text-gray-500",children:l.defaultSize||"Regular"}),i.jsx("div",{className:"mt-1 text-orange-600 text-xs font-medium",children:"+ Add"})]})]})]})},u)})})]}):i.jsxs("div",{className:"flex gap-3",children:[e.sender==="bot"&&i.jsx(Zu,{size:"small",isThinking:e.isThinking}),i.jsxs("div",{className:`max-w-xs lg:max-w-sm px-4 py-2 rounded-2xl ${e.sender==="user"?"ml-auto":"mr-auto bg-gray-100 text-gray-800"}`,style:{backgroundColor:e.sender==="user"?sd.accent:void 0,color:e.sender==="user"?"white":void 0},children:[i.jsx("p",{className:"text-sm",children:e.text}),e.timestamp&&i.jsx("p",{className:"text-xs opacity-70 mt-1",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})};bb.propTypes={message:ar.shape({id:ar.oneOfType([ar.string,ar.number]).isRequired,text:ar.string.isRequired,sender:ar.oneOf(["user","bot"]).isRequired,timestamp:ar.oneOfType([ar.string,ar.instanceOf(Date)]),type:ar.string,suggestions:ar.array,isThinking:ar.bool}).isRequired,onAddToCart:ar.func.isRequired,menuItems:ar.array};const A2=({menuItems:e=[],currentOrder:t=[],onAddToCart:r=()=>{},onOrderSuggestion:n=()=>{}})=>{const{isMobile:a,isTablet:s,isDesktop:o}=aT(),[l,u]=k.useState(!1),[A,f]=k.useState([]),[h,p]=k.useState([{id:1,text:"Hi! Ready to order? Here are some popular choices:",sender:"bot",timestamp:new Date,type:"text",suggestions:[]}]),[g,v]=k.useState(""),[x,b]=k.useState(!1),w=k.useRef(!1),B=k.useRef(null),j=k.useRef(null),_=()=>Math.random().toString(36).substr(2,9),N=()=>{var H;(H=B.current)==null||H.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{N()},[h]),k.useEffect(()=>{(async()=>{try{const J=await fetch("/api/categories");if(J.ok){const V=await J.json();f(V)}}catch(J){console.error("Error fetching categories:",J),f([{category:"Combo Meals",subCategories:[]},{category:"Wings",subCategories:[]},{category:"Rice Meals",subCategories:[]},{category:"Beverages",subCategories:[]}])}})()},[]);const O=()=>{if(!e||e.length===0)return[];const H=e.filter(z=>z.isAvailable!==!1&&z.name&&z.pricing&&Object.keys(z.pricing).length>0);if(H.length===0)return[];const J=[],V=new Set,ee=A.length>0?A.map((z,W)=>({categoryName:z.category,priority:W+1,keywords:[z.category.toLowerCase()],subKeywords:z.subCategories||[]})):[{keywords:["combo","solo"],priority:1,categoryName:"Combo"},{keywords:["wings","chicken"],priority:2,categoryName:"Wings"},{keywords:["rice","meal"],priority:3,categoryName:"Meals"},{keywords:["drink","beverage"],priority:4,categoryName:"Beverages"}],ie=H.map(z=>{const W=z.name.toLowerCase(),L=(z.category||"").toLowerCase(),q=z.pricing||{},G=Math.min(...Object.values(q));let Z=999;for(const te of ee){if(te.categoryName&&L===te.categoryName.toLowerCase()){Z=te.priority;break}if(te.keywords&&te.keywords.some(fe=>W.includes(fe))){Z=te.priority;break}if(te.subKeywords&&te.subKeywords.some(fe=>W.includes(fe.toLowerCase())||z.subCategory===fe)){Z=te.priority;break}}return{...z,priority:Z,basePrice:G,defaultSize:Object.keys(q).includes("base")?"base":Object.keys(q)[0]||"regular"}}).sort((z,W)=>z.priority!==W.priority?z.priority-W.priority:z.basePrice-W.basePrice);for(const z of ie){if(J.length>=2)break;V.has(z._id)||(J.push({...z,price:z.basePrice}),V.add(z._id))}if(J.length===0&&H.length>0)for(let z=0;z<Math.min(2,H.length);z++){const W=H[z],L=W.pricing||{},q=Math.min(...Object.values(L));J.push({...W,price:q,defaultSize:Object.keys(L).includes("base")?"base":Object.keys(L)[0]||"regular"})}return J};k.useEffect(()=>{if(e.length>0&&!w.current){const H=O();H.length>0&&(p(J=>[...J,{id:_(),text:"Here are some popular items to get you started!",sender:"bot",timestamp:new Date,type:"menu-suggestions",suggestions:H}]),w.current=!0)}},[e]);const T=async(H,J=null)=>{const V=e.map(W=>{const L=W.pricing?Object.entries(W.pricing).map(([q,G])=>`${q}: ${G}`).join(", "):"Price not available";return`- ${W.name}: ${W.description||"No description"}. Prices: ${L}. Category: ${W.category||"Uncategorized"}. SubCategory: ${W.subCategory||"None"}. Available: ${W.isAvailable!==!1}`}).join(`
`),Y=A.length>0?`

MENU CATEGORIES:
${A.map(W=>`${W.category}: ${W.subCategories.length>0?W.subCategories.join(", "):"No subcategories"}`).join(`
`)}`:"",ee=t.length>0?`Current order: ${t.map(W=>`${W.name} (${W.selectedSize}) x${W.quantity}`).join(", ")}`:"No items in cart yet",z={model:"gemini-2.5-flash",messages:[{role:"system",content:`You are a helpful ordering assistant for Ring & Wings restaurant's self-checkout system. You help customers place orders using natural language.

CURRENT MENU:
${V}${Y}

CUSTOMER'S CURRENT ORDER:
${ee}

Guidelines:
1. Be friendly, concise, and helpful - you're assisting with self-checkout
2. Help customers find items, suggest combinations, and answer menu questions
3. When customers express interest in items, suggest specific menu items with prices
4. Keep responses short (1-2 sentences max for mobile interface)
5. Use Filipino pesos () for prices
6. If items are unavailable, suggest alternatives from available menu
7. For recommendations, consider what's already in their cart for good pairings
8. Help with natural language ordering (e.g., "I want chicken wings"  suggest specific wing items)
9. Don't use markdown formatting - plain text only
10. If someone says they want to order something, provide specific menu options
11. Be proactive in suggesting complementary items (drinks with meals, sides, etc.)

Example responses:
- User: "I want chicken wings"  "Great! We have Buffalo Wings (180) and Honey Garlic Wings (200). Which would you prefer?"
- User: "Something to drink"  "Perfect! Try our Iced Tea (60) or Fresh Juice (80). What sounds good?"
- User: "I'm hungry"  "I can help! Our Chicken Combo (250) is popular, or try our BBQ Plate (220). What are you in the mood for?"`},{role:"user",content:H}],temperature:.7,max_tokens:400};try{const W=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z),signal:J});if(!W.ok)throw new Error(`API error: ${W.status}`);const L=await W.json();if(L.error||!L.choices||!L.choices[0]||!L.choices[0].message)throw new Error("Invalid response format");return L.choices[0].message.content.trim()}catch(W){return W.name==="AbortError"?null:(console.error("AI Assistant Error:",W),"Sorry, I'm having trouble connecting right now. Please try again in a moment.")}},P=(H,J={})=>{const V=[];if(e.forEach(Y=>{const ee=Y.name.toLowerCase();if(H.toLowerCase().includes(ee)&&Y.isAvailable!==!1){const z=Y.pricing||{},W=Object.keys(z),L=W.length>0?Math.min(...Object.values(z)):0;V.push({...Y,price:L,defaultSize:W.includes("base")?"base":W[0]||"regular"})}}),J.systemAlternatives&&J.systemAlternatives.length>0){const Y=J.systemAlternatives.filter(ie=>ie.isAvailable!==!1).map(ie=>{const z=ie.pricing||{},W=Object.keys(z),L=W.length>0?Math.min(...Object.values(z)):0;return{...ie,price:L,defaultSize:W.includes("base")?"base":W[0]||"regular",isSystemAlternative:!0}}),ee=[...Y];return V.forEach(ie=>{Y.find(z=>z._id===ie._id)||ee.push(ie)}),ee.slice(0,4)}return V.slice(0,4)},U=H=>["not available","out of stock","unavailable","don't have"].some(V=>H.toLowerCase().includes(V)),D=H=>{const J=H.match(/"([^"]+)"/);if(J)return J[1];for(const V of e)if(H.toLowerCase().includes(V.name.toLowerCase()))return V.name;return H},F=async H=>{var J,V;try{if(U(H)){const ie=`The customer is asking about "${D(H)}" which might not be available. Please suggest similar alternatives from our menu with specific items and prices.`;return await T(ie,(J=j.current)==null?void 0:J.signal)}return await T(H,(V=j.current)==null?void 0:V.signal)}catch(Y){return console.error("Error processing user message:",Y),"Sorry, I'm having trouble right now. Please try again in a moment."}},R=async()=>{if(!g.trim()||x)return;const H={id:_(),text:g.trim(),sender:"user",timestamp:new Date};p(V=>[...V,H]);const J=g.trim();v(""),b(!0),j.current&&j.current.abort(),j.current=new AbortController;try{const V=await F(J);if(V===null)return;const Y=U(J),ee=Y?D(J):null;let ie={};if(Y&&ee){const L=e.find(q=>q.name.toLowerCase().includes(ee.toLowerCase())||ee.toLowerCase().includes(q.name.toLowerCase()));if(L)try{const q=await fetch(`/api/menu/${L._id}/alternatives`);if(q.ok){const G=await q.json();ie.systemAlternatives=G.alternatives||[]}}catch(q){console.log("Could not fetch system alternatives:",q)}}const z=P(V,ie),W={id:_(),text:V,sender:"bot",timestamp:new Date,type:z.length>0?"menu-suggestions":"text",suggestions:z};p(L=>[...L,W]),z.length>0&&setTimeout(()=>{let L="Tap any item above to add it to your cart!";Y&&(L="These alternatives should satisfy your craving! Tap any item to add it to your cart, or let me know if you'd like other suggestions.");const q={id:_(),text:L,sender:"bot",timestamp:new Date,type:"follow-up"};p(G=>[...G,q])},1500)}catch(V){console.error("Error getting AI response:",V);const Y={id:_(),text:"I'm having trouble right now. Please try again in a moment!",sender:"bot",timestamp:new Date};p(ee=>[...ee,Y])}finally{b(!1)}},Q=H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),R())};return a?i.jsxs(i.Fragment,{children:[!l&&i.jsx(nr.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("button",{onClick:()=>u(!0),className:"w-14 h-14 rounded-full shadow-lg flex items-center justify-center",style:{backgroundColor:sd.accent},children:i.jsx(Zu,{size:"default"})})}),i.jsx(Ss,{children:l&&i.jsxs(nr.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-x-0 bottom-0 z-50 bg-white rounded-t-3xl shadow-2xl max-h-[80vh] flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Zu,{size:"default",isThinking:x}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Ring & Wing Assistant"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your food ordering buddy"})]})]}),i.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[h.map(H=>i.jsx(bb,{message:H,onAddToCart:r,menuItems:e},H.id)),i.jsx("div",{ref:B})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex gap-3 items-end",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("textarea",{value:g,onChange:H=>v(H.target.value),onKeyPress:Q,placeholder:"Ask me about our menu...",className:"w-full px-4 py-3 pr-12 bg-gray-50 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm max-h-20",rows:1,style:{minHeight:"48px"}})}),i.jsx("button",{onClick:R,disabled:!g.trim()||x,className:"w-12 h-12 rounded-full flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",style:{backgroundColor:sd.accent},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})})]}):s?i.jsxs(i.Fragment,{children:[i.jsxs(nr.div,{initial:{x:"100%"},animate:{x:l?0:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-40 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Zu,{size:"default",isThinking:x}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Ring & Wing Assistant"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your food ordering buddy"})]})]}),i.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[h.map(H=>i.jsx(bb,{message:H,onAddToCart:r,menuItems:e},H.id)),i.jsx("div",{ref:B})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex gap-3 items-end",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("textarea",{value:g,onChange:H=>v(H.target.value),onKeyPress:Q,placeholder:"Ask me about our menu...",className:"w-full px-4 py-3 pr-12 bg-gray-50 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm max-h-20",rows:1,style:{minHeight:"48px"}})}),i.jsx("button",{onClick:R,disabled:!g.trim()||x,className:"w-12 h-12 rounded-full flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",style:{backgroundColor:sd.accent},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}),!l&&i.jsx(nr.button,{initial:{x:"100%"},animate:{x:0},onClick:()=>u(!0),className:"fixed right-4 top-1/2 -translate-y-1/2 w-12 h-16 rounded-l-xl shadow-lg flex items-center justify-center z-30",style:{backgroundColor:sd.accent},children:i.jsx(Zu,{size:"small"})})]}):o?i.jsxs(Ss,{children:[l&&i.jsxs(nr.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-6 right-6 w-96 h-[32rem] bg-white rounded-3xl shadow-2xl z-40 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Zu,{size:"default",isThinking:x}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-800",children:"Ring & Wing Assistant"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Your food ordering buddy"})]})]}),i.jsx("button",{onClick:()=>u(!1),className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center hover:bg-gray-200 transition-colors",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[h.map(H=>i.jsx(bb,{message:H,onAddToCart:r,menuItems:e},H.id)),i.jsx("div",{ref:B})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex gap-3 items-end",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("textarea",{value:g,onChange:H=>v(H.target.value),onKeyPress:Q,placeholder:"Ask me about our menu...",className:"w-full px-4 py-3 pr-12 bg-gray-50 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm max-h-20",rows:1,style:{minHeight:"48px"}})}),i.jsx("button",{onClick:R,disabled:!g.trim()||x,className:"w-12 h-12 rounded-full flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 hover:shadow-lg",style:{backgroundColor:sd.accent},children:i.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}),!l&&i.jsx(nr.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("button",{onClick:()=>u(!0),className:"w-16 h-16 rounded-full shadow-lg flex items-center justify-center hover:shadow-xl transition-all duration-200",style:{backgroundColor:sd.accent},children:i.jsx(Zu,{size:"large"})})})]}):null};A2.propTypes={menuItems:ar.array,currentOrder:ar.array,onAddToCart:ar.func,onOrderSuggestion:ar.func};const sc={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},x7=({searchTerm:e,onSearchChange:t,orderNumber:r,orderSubmitted:n,onProcessOrder:a})=>{const[s,o]=k.useState("menu"),{cartItems:l,addItem:u,updateQuantity:A,updateSize:f,getTotals:h,itemCount:p}=u2(),{menuItems:g,categories:v,loading:x,error:b}=nT(),{modalState:w,showAlternatives:B,hideAlternatives:j}=rT(),_=D=>{const F=Object.keys(D.pricing),R=F.includes("base")?"base":F[0];u(D,{size:R})},N=D=>{D.isAvailable===!1?B(D):_(D)},O=(D,F)=>{A(D._id,D.selectedSize,F)},T=(D,F)=>{f(D._id,D.selectedSize,F)},P=()=>h(),U=(D,F=!1)=>{const R=D.category,Q=g.filter(H=>H.category===R).filter(H=>e===""||H.name.toLowerCase().includes(e.toLowerCase())||H.code&&H.code.toLowerCase().includes(e.toLowerCase()));return Q.length===0?null:i.jsxs("div",{className:`p-4 ${F?"":"border-b border-gray-100"}`,children:[i.jsx("h3",{className:"text-lg font-bold mb-3 text-orange-600",children:R}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:Q.map(H=>{var J;return i.jsxs("button",{onClick:()=>N(H),className:`p-3 rounded-xl text-left transition-all duration-200 transform hover:scale-[1.02] ${H.isAvailable===!1?"bg-gray-100 border border-gray-200":"bg-white shadow-md hover:shadow-lg border border-gray-100"}`,children:[i.jsx("div",{className:"w-full h-20 rounded-lg overflow-hidden mb-2",children:i.jsx("img",{src:H.image||(H.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:H.name,className:"w-full h-full object-cover"})}),i.jsx("h4",{className:`font-semibold text-sm mb-1 ${H.isAvailable===!1?"text-gray-400":"text-gray-800"}`,children:H.name}),i.jsx("p",{className:`text-xs mb-2 ${H.isAvailable===!1?"text-gray-400":"text-gray-500"}`,children:H.code}),i.jsxs("p",{className:`font-bold text-sm ${H.isAvailable===!1?"text-gray-400":"text-orange-600"}`,children:["",((J=Object.values(H.pricing)[0])==null?void 0:J.toFixed(2))||"0.00",H.isAvailable===!1&&i.jsx("span",{className:"block text-xs text-red-500 mt-1",children:"See Alternatives"})]})]},H._id)})})]},R)};return x?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2",style:{borderColor:sc.accent}})}):b?i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-gradient-to-br from-orange-50 to-white",children:i.jsxs("div",{className:"p-4 rounded-lg max-w-md text-center",style:{backgroundColor:sc.activeBg},children:[i.jsx("h2",{className:"text-xl font-bold mb-2",style:{color:sc.primary},children:"Error Loading Menu"}),i.jsx("p",{className:"mb-4",style:{color:sc.secondary},children:b}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 rounded hover:opacity-90",style:{backgroundColor:sc.accent,color:sc.background},children:"Retry"})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[i.jsx("div",{className:"sticky top-0 bg-white/80 backdrop-blur-lg p-4 shadow-lg z-10",children:i.jsxs("div",{className:"relative max-w-md mx-auto",children:[i.jsx("input",{type:"text",className:"w-full h-12 pl-12 pr-4 rounded-full border-2 transition-all duration-300 focus:ring-4 focus:ring-orange-100 focus:border-orange-500",style:{borderColor:sc.muted},placeholder:"Search menu or scan item...",value:e,onChange:D=>t(D.target.value)}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-4 top-3 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:e?sc.accent:sc.muted,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),i.jsxs("div",{className:"flex justify-around p-2 bg-white/80 backdrop-blur-lg shadow-sm sticky top-[68px] z-10 -mt-2",children:[i.jsx("button",{onClick:()=>o("menu"),className:`px-6 py-2 rounded-full font-medium transition-all duration-300 ${s==="menu"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-105":"bg-white text-gray-600 hover:bg-orange-50"}`,children:"Menu"}),i.jsxs("button",{onClick:()=>o("cart"),className:`px-6 py-2 rounded-full font-medium transition-all duration-300 ${s==="cart"?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg scale-105":"bg-white text-gray-600 hover:bg-orange-50"}`,children:["Cart (",p,")"]})]}),s==="menu"&&i.jsxs("div",{className:"pt-4",children:[v.map((D,F)=>U(D,F===v.length-1)),v.length===0&&i.jsx("div",{className:"p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"Loading menu categories..."})}),v.length>0&&g.length===0&&!x&&i.jsx("div",{className:"p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"No menu items available"})})]}),s==="cart"&&i.jsxs("div",{className:"p-4 space-y-3 mb-24",children:[l.map(D=>i.jsx("div",{className:"p-4 rounded-2xl bg-white shadow-lg transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden shadow-inner",children:i.jsx("img",{src:D.image||(D.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:D.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-gray-800",children:D.name}),i.jsx("select",{value:D.selectedSize,onChange:F=>T(D,F.target.value),className:"mt-1 p-2 rounded-lg bg-orange-50 text-orange-600 border-orange-200 focus:ring-2 focus:ring-orange-200 focus:border-orange-400",children:D.availableSizes.map(F=>i.jsxs("option",{value:F,children:[F," (",D.pricing[F].toFixed(2),")"]},F))}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("button",{onClick:()=>O(D,-1),className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center transition-all hover:bg-orange-200",children:"-"}),i.jsx("span",{className:"w-8 text-center font-medium",children:D.quantity}),i.jsx("button",{onClick:()=>O(D,1),className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center transition-all hover:bg-orange-200",children:"+"})]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-orange-600",children:["",(D.price*D.quantity).toFixed(2)]})})]})},`${D._id}-${D.selectedSize}`)),l.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}),i.jsx("button",{onClick:()=>o("menu"),className:"mt-4 px-6 py-2 bg-orange-100 text-orange-600 rounded-full hover:bg-orange-200 transition-colors",children:"Browse Menu"})]})]}),l.length>0&&i.jsxs("div",{className:"fixed bottom-4 left-4 right-4 p-4 rounded-2xl shadow-xl bg-gradient-to-r from-orange-600 to-orange-500 text-white backdrop-blur-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("span",{className:"font-medium",children:[p," items"]}),i.jsxs("span",{className:"font-bold text-xl",children:["",P().total.toFixed(2)]})]}),i.jsx("button",{className:"w-full py-3 rounded-xl bg-white text-orange-600 font-bold transform transition-all duration-300 hover:scale-[1.02] active:scale-95",onClick:a,children:"Submit Order"})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-2xl text-center",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Submitted!"}),i.jsx("p",{className:"text-lg mb-4",children:"Your order number is:"}),i.jsx("p",{className:"text-3xl font-bold mb-4",style:{color:sc.accent},children:r}),i.jsx("p",{className:"text-lg",style:{color:sc.primary},children:"Please proceed to the counter for payment"})]})}),i.jsx(tT,{isOpen:w.isOpen,onClose:j,originalItem:w.originalItem,alternatives:w.alternatives,recommendedAlternative:w.recommendedAlternative,onAddToCart:D=>{_(D),j()},loading:w.loading}),i.jsx(A2,{menuItems:g,currentOrder:l,onAddToCart:_,onOrderSuggestion:D=>{console.log("AI Suggestion:",D)}})]})},oc={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},WEe=({searchTerm:e,onSearchChange:t,orderNumber:r,orderSubmitted:n,onProcessOrder:a})=>{const{cartItems:s,addItem:o,updateQuantity:l,updateSize:u,getTotals:A,itemCount:f}=u2(),{menuItems:h,categories:p,loading:g,error:v}=nT(),{modalState:x,showAlternatives:b,hideAlternatives:w}=rT(),B=P=>{const U=Object.keys(P.pricing),D=U.includes("base")?"base":U[0];o(P,{size:D})},j=P=>{P.isAvailable===!1?b(P):B(P)},_=(P,U)=>{l(P._id,P.selectedSize,U)},N=(P,U)=>{u(P._id,P.selectedSize,U)},O=()=>A(),T=(P,U=!1)=>{const D=P.category,F=h.filter(R=>R.category===D).filter(R=>e===""||R.name.toLowerCase().includes(e.toLowerCase())||R.code&&R.code.toLowerCase().includes(e.toLowerCase()));return F.length===0?null:i.jsxs("div",{className:`p-6 ${U?"":"border-b border-gray-100"}`,children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-orange-600",children:D}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:F.map(R=>{var Q;return i.jsxs("button",{onClick:()=>j(R),className:`p-4 rounded-xl text-left transition-all duration-200 transform hover:scale-[1.02] ${R.isAvailable===!1?"bg-gray-100 border border-gray-200":"bg-white shadow-md hover:shadow-lg border border-gray-100"}`,style:{minHeight:"180px"},children:[i.jsx("div",{className:"w-full h-24 rounded-lg overflow-hidden mb-3",children:i.jsx("img",{src:R.image||(R.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:R.name,className:"w-full h-full object-cover"})}),i.jsx("h4",{className:`font-semibold text-base mb-1 ${R.isAvailable===!1?"text-gray-400":"text-gray-800"}`,children:R.name}),i.jsx("p",{className:`text-sm mb-2 ${R.isAvailable===!1?"text-gray-400":"text-gray-500"}`,children:R.code}),i.jsxs("p",{className:`font-bold text-base ${R.isAvailable===!1?"text-gray-400":"text-orange-600"}`,children:["",((Q=Object.values(R.pricing)[0])==null?void 0:Q.toFixed(2))||"0.00",R.isAvailable===!1&&i.jsx("span",{className:"block text-sm text-red-500 mt-1",children:"See Alternatives"})]})]},R._id)})})]},D)};return g?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2",style:{borderColor:oc.accent}})}):v?i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-orange-50 to-white",children:i.jsxs("div",{className:"p-6 rounded-lg max-w-lg text-center",style:{backgroundColor:oc.activeBg},children:[i.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:oc.primary},children:"Error Loading Menu"}),i.jsx("p",{className:"mb-4 text-lg",style:{color:oc.secondary},children:v}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-3 rounded text-lg hover:opacity-90",style:{backgroundColor:oc.accent,color:oc.background},children:"Retry"})]})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[i.jsx("div",{className:"sticky top-0 bg-white/90 backdrop-blur-lg p-6 shadow-lg z-10 border-b border-gray-100",children:i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",className:"w-full h-14 pl-14 pr-6 rounded-full border-2 text-lg transition-all duration-300 focus:ring-4 focus:ring-orange-100 focus:border-orange-500",style:{borderColor:oc.muted},placeholder:"Search menu or scan item...",value:e,onChange:P=>t(P.target.value)}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 absolute left-5 top-3.5 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:e?oc.accent:oc.muted,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})}),i.jsxs("div",{className:"flex h-[calc(100vh-100px)]",children:[i.jsx("div",{className:"flex-1 overflow-y-auto",children:i.jsxs("div",{className:"p-2",children:[p.map((P,U)=>T(P,U===p.length-1)),p.length===0&&i.jsx("div",{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-500 text-lg",children:"Loading menu categories..."})}),p.length>0&&h.length===0&&!g&&i.jsx("div",{className:"p-12 text-center",children:i.jsx("p",{className:"text-gray-500 text-lg",children:"No menu items available"})})]})}),i.jsxs("div",{className:"w-96 bg-white shadow-xl border-l border-gray-200 flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),"Cart (",f,")"]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),i.jsx("p",{className:"text-gray-500 text-lg",children:"Your cart is empty"}),i.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Add items from the menu"})]}):i.jsx("div",{className:"space-y-4",children:s.map(P=>i.jsx("div",{className:"p-4 rounded-xl bg-gray-50 border border-gray-100",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shadow-sm",children:i.jsx("img",{src:P.image||(P.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:P.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-800 text-sm",children:P.name}),i.jsx("select",{value:P.selectedSize,onChange:U=>N(P,U.target.value),className:"mt-1 p-1 text-sm rounded bg-orange-50 text-orange-600 border-orange-200 focus:ring-1 focus:ring-orange-200",children:P.availableSizes.map(U=>i.jsxs("option",{value:U,children:[U," (",P.pricing[U].toFixed(2),")"]},U))}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("button",{onClick:()=>_(P,-1),className:"w-7 h-7 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-sm transition-all hover:bg-orange-200",children:"-"}),i.jsx("span",{className:"w-6 text-center font-medium text-sm",children:P.quantity}),i.jsx("button",{onClick:()=>_(P,1),className:"w-7 h-7 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-sm transition-all hover:bg-orange-200",children:"+"}),i.jsx("div",{className:"ml-auto text-right",children:i.jsxs("p",{className:"font-bold text-orange-600 text-sm",children:["",(P.price*P.quantity).toFixed(2)]})})]})]})]})},`${P._id}-${P.selectedSize}`))})}),s.length>0&&i.jsxs("div",{className:"p-6 border-t border-gray-100 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("span",{className:"font-medium text-lg text-gray-700",children:[f," items"]}),i.jsxs("span",{className:"font-bold text-2xl text-orange-600",children:["",O().total.toFixed(2)]})]}),i.jsx("button",{className:"w-full py-4 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white text-lg font-bold transform transition-all duration-300 hover:scale-[1.02] active:scale-95 shadow-lg",onClick:a,children:"Submit Order"})]})]})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-2xl text-center max-w-md",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Order Submitted!"}),i.jsx("p",{className:"text-xl mb-4",children:"Your order number is:"}),i.jsx("p",{className:"text-4xl font-bold mb-6",style:{color:oc.accent},children:r}),i.jsx("p",{className:"text-lg",style:{color:oc.primary},children:"Please proceed to the counter for payment"})]})}),i.jsx(tT,{isOpen:x.isOpen,onClose:w,originalItem:x.originalItem,alternatives:x.alternatives,recommendedAlternative:x.recommendedAlternative,onAddToCart:P=>{B(P),w()},loading:x.loading}),i.jsx(A2,{menuItems:h,currentOrder:s,onAddToCart:B,onOrderSuggestion:P=>{console.log("AI Suggestion:",P)}})]})},lc={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},YEe=({searchTerm:e,onSearchChange:t,orderNumber:r,orderSubmitted:n,onProcessOrder:a})=>{const{cartItems:s,addItem:o,updateQuantity:l,updateSize:u,getTotals:A,itemCount:f}=u2(),{menuItems:h,categories:p,loading:g,error:v}=nT(),[x,b]=k.useState(""),[w,B]=k.useState(null),[j,_]=k.useState(0),[N,O]=k.useState(!1),[T,P]=k.useState(!1),U=k.useRef(null),D=k.useRef(null),{modalState:F,showAlternatives:R,hideAlternatives:Q}=rT();k.useEffect(()=>{p.length>0&&!x&&b(p[0].category)},[p,x]),k.useEffect(()=>{const L=G=>{var te;if(G.target.tagName==="INPUT"||G.target.tagName==="SELECT")return;O(!0);const Z=h.filter(fe=>fe.category===x).filter(fe=>e===""||fe.name.toLowerCase().includes(e.toLowerCase())||fe.code&&fe.code.toLowerCase().includes(e.toLowerCase()));switch(G.key){case"/":G.preventDefault(),(te=U.current)==null||te.focus();break;case"ArrowUp":G.preventDefault(),_(fe=>fe>0?fe-1:Z.length-1);break;case"ArrowDown":G.preventDefault(),_(fe=>fe<Z.length-1?fe+1:0);break;case"Enter":case" ":G.preventDefault(),Z[j]&&J(Z[j]);break;case"Escape":O(!1),_(0);break;case"c":P(!T);break;default:if(G.key>="1"&&G.key<="9"){const fe=parseInt(G.key)-1;fe<p.length&&(b(p[fe].category),_(0))}break}},q=()=>{O(!1)};return window.addEventListener("keydown",L),window.addEventListener("mousemove",q),()=>{window.removeEventListener("keydown",L),window.removeEventListener("mousemove",q)}},[x,h,e,j,T,p]);const H=L=>{const q=Object.keys(L.pricing),G=q.includes("base")?"base":q[0];o(L,{size:G})},J=L=>{L.isAvailable===!1?R(L):H(L)},V=(L,q)=>{l(L._id,L.selectedSize,q)},Y=(L,q)=>{u(L._id,L.selectedSize,q)},ee=()=>A(),ie=()=>h.filter(L=>L.category===x).filter(L=>e===""||L.name.toLowerCase().includes(e.toLowerCase())||L.code&&L.code.toLowerCase().includes(e.toLowerCase())),z=(L,q)=>{var te;const G=N&&j===q,Z=w===L._id;return i.jsxs("div",{onClick:()=>J(L),onMouseEnter:()=>{B(L._id),N||_(q)},onMouseLeave:()=>B(null),className:`group p-4 rounded-xl cursor-pointer transition-all duration-200 border-2 ${L.isAvailable===!1?"bg-gray-50 border-gray-200":G||Z?"bg-orange-50 border-orange-200 shadow-lg transform scale-[1.02]":"bg-white border-gray-100 hover:border-orange-200 hover:shadow-md"}`,style:{minHeight:"200px"},children:[i.jsx("div",{className:"w-full h-32 rounded-lg overflow-hidden mb-3",children:i.jsx("img",{src:L.image||(L.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:L.name,className:`w-full h-full object-cover transition-transform duration-200 ${(Z||G)&&L.isAvailable!==!1?"scale-110":""}`})}),i.jsx("h4",{className:`font-semibold text-base mb-2 line-clamp-2 ${L.isAvailable===!1?"text-gray-400":"text-gray-800"}`,children:L.name}),i.jsx("p",{className:`text-sm mb-2 ${L.isAvailable===!1?"text-gray-400":"text-gray-500"}`,children:L.code}),i.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[i.jsxs("p",{className:`font-bold text-lg ${L.isAvailable===!1?"text-gray-400":"text-orange-600"}`,children:["",((te=Object.values(L.pricing)[0])==null?void 0:te.toFixed(2))||"0.00"]}),L.isAvailable===!1&&i.jsx("span",{className:"text-xs text-red-500 bg-red-50 px-2 py-1 rounded-full",children:"See Alternatives"}),(Z||G)&&L.isAvailable!==!1&&i.jsx("div",{className:"text-orange-600 transform transition-transform group-hover:translate-x-1",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]},L._id)};if(g)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2",style:{borderColor:lc.accent}})});if(v)return i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-orange-50 to-white",children:i.jsxs("div",{className:"p-6 rounded-lg max-w-lg text-center",style:{backgroundColor:lc.activeBg},children:[i.jsx("h2",{className:"text-2xl font-bold mb-3",style:{color:lc.primary},children:"Error Loading Menu"}),i.jsx("p",{className:"mb-4 text-lg",style:{color:lc.secondary},children:v}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-6 py-3 rounded text-lg hover:opacity-90",style:{backgroundColor:lc.accent,color:lc.background},children:"Retry"})]})});const W=ie();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white flex",children:[i.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${T?"mr-20":"mr-96"}`,children:[i.jsx("div",{className:"sticky top-0 bg-white/95 backdrop-blur-sm p-6 shadow-sm z-10 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex-1 max-w-2xl relative",children:[i.jsx("input",{ref:U,type:"text",className:"w-full h-12 pl-12 pr-6 rounded-xl border-2 text-base transition-all duration-300 focus:ring-4 focus:ring-orange-100 focus:border-orange-500",style:{borderColor:lc.muted},placeholder:"Search menu or press '/' to focus...",value:e,onChange:L=>t(L.target.value)}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute left-4 top-3 transition-colors duration-300",fill:"none",viewBox:"0 0 24 24",stroke:e?lc.accent:lc.muted,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),i.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-4",children:[i.jsxs("span",{className:"hidden lg:flex items-center gap-1",children:[i.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:""}),"Navigate"]}),i.jsxs("span",{className:"hidden lg:flex items-center gap-1",children:[i.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Enter"}),"Select"]}),i.jsxs("span",{className:"hidden lg:flex items-center gap-1",children:[i.jsx("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"C"}),"Toggle Cart"]})]})]})}),i.jsxs("div",{className:"flex-1 flex",children:[i.jsx("div",{className:"w-64 bg-white shadow-sm border-r border-gray-100",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4",children:"Categories"}),i.jsx("nav",{className:"space-y-1",children:p.map((L,q)=>i.jsxs("button",{onClick:()=>{b(L.category),_(0)},className:`w-full text-left p-3 rounded-lg transition-all duration-200 flex items-center justify-between group ${x===L.category?"bg-orange-100 text-orange-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,children:[i.jsx("span",{children:L.category}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs opacity-50 group-hover:opacity-100",children:q+1}),x===L.category&&i.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]},L.category))})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",ref:D,children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:x}),i.jsxs("p",{className:"text-gray-500",children:[W.length," items"]})]}),W.length===0?i.jsx("div",{className:"text-center py-16",children:i.jsx("p",{className:"text-gray-500 text-lg",children:e?"No items match your search.":"No items in this category."})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:W.map((L,q)=>z(L,q))})]})})]})]}),i.jsxs("div",{className:`fixed right-0 top-0 h-screen bg-white shadow-2xl border-l border-gray-200 transition-all duration-300 z-20 ${T?"w-20":"w-96"}`,children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h2",{className:`font-bold text-gray-800 transition-all duration-300 ${T?"text-sm":"text-xl"}`,children:T?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("svg",{className:"w-6 h-6 text-orange-600 mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),i.jsx("span",{className:"text-xs",children:f})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),"Cart (",f,")"]})}),i.jsx("button",{onClick:()=>P(!T),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:T?"Expand cart":"Collapse cart",children:i.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${T?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})]}),!T&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5H19M17 13v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),i.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Add items from the menu"})]}):i.jsx("div",{className:"space-y-3",children:s.map(L=>i.jsx("div",{className:"p-3 rounded-lg bg-gray-50 border border-gray-100 hover:shadow-sm transition-all",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden shadow-sm",children:i.jsx("img",{src:L.image||(L.category==="Beverages"?"/placeholders/drinks.png":"/placeholders/meal.png"),alt:L.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-gray-800 text-sm truncate",children:L.name}),i.jsx("select",{value:L.selectedSize,onChange:q=>Y(L,q.target.value),className:"mt-1 p-1 text-xs rounded bg-orange-50 text-orange-600 border-orange-200 focus:ring-1 focus:ring-orange-200 w-full",children:L.availableSizes.map(q=>i.jsxs("option",{value:q,children:[q," (",L.pricing[q].toFixed(2),")"]},q))}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>V(L,-1),className:"w-6 h-6 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-xs transition-all hover:bg-orange-200",children:"-"}),i.jsx("span",{className:"w-8 text-center font-medium text-sm",children:L.quantity}),i.jsx("button",{onClick:()=>V(L,1),className:"w-6 h-6 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-xs transition-all hover:bg-orange-200",children:"+"})]}),i.jsxs("p",{className:"font-bold text-orange-600 text-sm",children:["",(L.price*L.quantity).toFixed(2)]})]})]})]})},`${L._id}-${L.selectedSize}`))})}),s.length>0&&i.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("span",{className:"font-medium text-gray-700",children:[f," items"]}),i.jsxs("span",{className:"font-bold text-xl text-orange-600",children:["",ee().total.toFixed(2)]})]}),i.jsx("button",{className:"w-full py-3 rounded-xl bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold transform transition-all duration-200 hover:scale-[1.02] active:scale-95 shadow-lg focus:ring-4 focus:ring-orange-200",onClick:a,children:"Submit Order"})]})]})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-8 rounded-2xl text-center max-w-md mx-4",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Order Submitted!"}),i.jsx("p",{className:"text-xl mb-4",children:"Your order number is:"}),i.jsx("p",{className:"text-4xl font-bold mb-6",style:{color:lc.accent},children:r}),i.jsx("p",{className:"text-lg",style:{color:lc.primary},children:"Please proceed to the counter for payment"})]})}),i.jsx(tT,{isOpen:F.isOpen,onClose:Q,originalItem:F.originalItem,alternatives:F.alternatives,recommendedAlternative:F.recommendedAlternative,onAddToCart:L=>{H(L),Q()},loading:F.loading}),i.jsx(A2,{menuItems:h,currentOrder:s,onAddToCart:H,onOrderSuggestion:L=>{console.log("AI Suggestion:",L)}})]})},XEe=({searchTerm:e,onSearchChange:t,orderNumber:r,orderSubmitted:n,onProcessOrder:a})=>{const{current:s,isMobile:o,isTablet:l,isDesktop:u}=aT();Ce.useEffect(()=>{console.log(`[LayoutSelector] Current breakpoint: ${s}`),console.log(`[LayoutSelector] isMobile: ${o}, isTablet: ${l}, isDesktop: ${u}`)},[s,o,l,u]);const A={searchTerm:e,onSearchChange:t,orderNumber:r,orderSubmitted:n,onProcessOrder:a};return o?i.jsx(x7,{...A}):l?i.jsx(WEe,{...A}):u?i.jsx(YEe,{...A}):(console.warn("[LayoutSelector] Unknown breakpoint, falling back to mobile layout"),i.jsx(x7,{...A}))},JEe=({selectedType:e,onSelect:t})=>{const r=[{id:"dine_in",label:"Dine-In",icon:bEe,description:"Eat here at the restaurant",color:le.colors.primary,workflow:"traditional"},{id:"takeout",label:"Take-Out",icon:xEe,description:"Pick up your order",color:le.colors.success,workflow:"verification"},{id:"delivery",label:"Delivery",icon:CEe,description:"We deliver to you",color:le.colors.info,workflow:"verification"}];return i.jsxs("div",{style:pa.container,children:[i.jsxs("div",{style:pa.header,children:[i.jsx("h2",{style:pa.title,children:"How would you like to receive your order?"}),i.jsx("p",{style:pa.subtitle,children:"Select your preferred option below"})]}),i.jsx("div",{style:pa.optionsGrid,children:r.map(n=>{const a=e===n.id,s=n.icon;return i.jsxs("button",{onClick:()=>t(n.id),style:{...pa.optionCard,...a?pa.optionCardSelected:{},borderColor:a?n.color:"#e0e0e0",backgroundColor:a?`${n.color}10`:"#fff"},children:[i.jsx("div",{style:{...pa.iconContainer,backgroundColor:a?n.color:"#f5f5f5",color:a?"#fff":"#666"},children:i.jsx(s,{style:pa.icon})}),i.jsxs("div",{style:pa.optionContent,children:[i.jsx("h3",{style:{...pa.optionLabel,color:a?n.color:"#333"},children:n.label}),i.jsx("p",{style:pa.optionDescription,children:n.description})]}),a&&i.jsx("div",{style:{...pa.checkmark,backgroundColor:n.color},children:"OK"})]},n.id)})}),e&&i.jsx("div",{style:pa.infoBox,children:e==="dine_in"?i.jsxs("div",{style:pa.infoContent,children:[i.jsx("span",{style:pa.infoIcon,children:""}),i.jsx("p",{style:pa.infoText,children:"You can pay at the counter when you pick up your order"})]}):i.jsxs("div",{style:pa.infoContent,children:[i.jsx("span",{style:pa.infoIcon,children:"$"}),i.jsxs("p",{style:pa.infoText,children:["Payment via GCash or PayMaya is required for ",e==="takeout"?"take-out":"delivery"," orders"]})]})})]})},pa={container:{width:"100%",maxWidth:"900px",margin:"0 auto",padding:"24px"},header:{textAlign:"center",marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"600",color:"#333",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#666",marginTop:"0"},optionsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"24px"},optionCard:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 24px",border:"3px solid",borderRadius:"16px",background:"#fff",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center",minHeight:"220px"},optionCardSelected:{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"},iconContainer:{width:"80px",height:"80px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px",transition:"all 0.3s ease"},icon:{fontSize:"36px"},optionContent:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},optionLabel:{fontSize:"22px",fontWeight:"600",marginBottom:"8px",marginTop:"0"},optionDescription:{fontSize:"14px",color:"#666",margin:"0"},checkmark:{position:"absolute",top:"12px",right:"12px",width:"32px",height:"32px",borderRadius:"50%",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"bold"},infoBox:{backgroundColor:"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"12px",padding:"16px 20px",marginTop:"24px"},infoContent:{display:"flex",alignItems:"center",gap:"12px"},infoIcon:{fontSize:"24px"},infoText:{margin:"0",fontSize:"15px",color:"#555",lineHeight:"1.5"}},ZEe=window.matchMedia("(max-width: 768px)");ZEe.matches&&(pa.optionsGrid.gridTemplateColumns="1fr",pa.title.fontSize="24px",pa.optionCard.minHeight="180px",pa.iconContainer.width="70px",pa.iconContainer.height="70px",pa.icon.fontSize="32px",pa.optionLabel.fontSize="20px");const b7=({selectedMethod:e,onSelect:t,orderTotal:r})=>{const[n,a]=k.useState({gcash:{enabled:!1,accountNumber:"",accountName:"",qrCodeUrl:""},paymaya:{enabled:!1,accountNumber:"",accountName:"",qrCodeUrl:""}}),[s,o]=k.useState({paymongo:{enabled:!1,gcashEnabled:!1,paymayaEnabled:!1,mode:"test"}}),[l,u]=k.useState(!0),[A,f]=k.useState(null);k.useEffect(()=>{h()},[]);const h=async()=>{try{const[b,w]=await Promise.all([fetch("http://localhost:5000/api/settings/merchant-wallets"),fetch("http://localhost:5000/api/settings/payment-gateways")]),B=await b.json(),j=await w.json();B.success&&a(B.data),j.success&&o(j.data)}catch(b){console.error("Failed to fetch payment settings:",b)}finally{u(!1)}},g=[{id:"gcash",label:"GCash",logo:"G",color:"#007DFF",enabled:n.gcash.enabled,type:"traditional",...n.gcash},{id:"paymaya",label:"PayMaya",logo:"P",color:"#00D632",enabled:n.paymaya.enabled,type:"traditional",...n.paymaya},{id:"paymongo",label:"PayMongo (GCash/PayMaya)",logo:"PM",color:"#4A90E2",enabled:s.paymongo.enabled,type:"gateway",description:"Secure online payment via PayMongo",mode:s.paymongo.mode}].filter(b=>b.enabled);if(l)return i.jsx("div",{style:Mr.container,children:i.jsxs("div",{style:Mr.loadingContainer,children:[i.jsx("div",{style:Mr.spinner}),i.jsx("p",{children:"Loading payment options..."})]})});if(g.length===0)return i.jsx("div",{style:Mr.container,children:i.jsxs("div",{style:Mr.errorBox,children:[i.jsx("span",{style:Mr.errorIcon,children:"!"}),i.jsx("p",{style:Mr.errorText,children:"Digital payment is currently unavailable. Please contact the restaurant or choose dine-in option."})]})});const v=b=>{t(b),f(b)},x=g.find(b=>b.id===e);return i.jsxs("div",{style:Mr.container,children:[i.jsxs("div",{style:Mr.header,children:[i.jsx("h2",{style:Mr.title,children:"Select Payment Method"}),i.jsxs("p",{style:Mr.subtitle,children:["Total Amount: ",i.jsxs("strong",{style:Mr.amount,children:["",r.toFixed(2)]})]})]}),i.jsx("div",{style:Mr.methodsGrid,children:g.map(b=>{const w=e===b.id;return i.jsxs("button",{onClick:()=>v(b.id),style:{...Mr.methodCard,...w?Mr.methodCardSelected:{},borderColor:w?b.color:"#e0e0e0",backgroundColor:w?`${b.color}10`:"#fff"},children:[i.jsx("div",{style:Mr.methodLogo,children:i.jsx("span",{style:{fontSize:"48px"},children:b.logo})}),i.jsx("h3",{style:{...Mr.methodLabel,color:w?b.color:"#333"},children:b.label}),w&&i.jsx("div",{style:{...Mr.checkmark,backgroundColor:b.color},children:"OK"})]},b.id)})}),x&&i.jsxs("div",{style:Mr.paymentDetails,children:[i.jsx("div",{style:Mr.detailsHeader,children:i.jsx("h3",{style:Mr.detailsTitle,children:"Payment Instructions"})}),i.jsx("div",{style:Mr.detailsContent,children:x.type==="gateway"?i.jsx("div",{style:Mr.gatewaySection,children:i.jsxs("div",{style:Mr.gatewayInfo,children:[i.jsx("h4",{style:Mr.sectionTitle,children:"Secure Online Payment"}),i.jsx("p",{style:Mr.gatewayDescription,children:"You will be redirected to PayMongo's secure payment page where you can choose to pay with GCash or PayMaya."}),i.jsxs("div",{style:Mr.gatewayFeatures,children:[i.jsxs("div",{style:Mr.featureItem,children:[i.jsx("span",{style:Mr.featureIcon,children:""}),i.jsx("span",{children:"Bank-level security"})]}),i.jsxs("div",{style:Mr.featureItem,children:[i.jsx("span",{style:Mr.featureIcon,children:""}),i.jsx("span",{children:"Instant payment confirmation"})]}),i.jsxs("div",{style:Mr.featureItem,children:[i.jsx("span",{style:Mr.featureIcon,children:""}),i.jsx("span",{children:"Pay with GCash or PayMaya"})]})]}),i.jsxs("div",{style:Mr.paymentAmount,children:[i.jsx("span",{style:Mr.amountLabel,children:"Amount to Pay:"}),i.jsxs("span",{style:Mr.amountValue,children:["",r.toFixed(2)]})]}),x.mode==="test"&&i.jsxs("div",{style:Mr.testModeWarning,children:[i.jsx("span",{style:Mr.warningIcon,children:""}),i.jsx("span",{children:"Test Mode: No real payment will be processed"})]})]})}):i.jsxs(i.Fragment,{children:[x.qrCodeUrl&&i.jsxs("div",{style:Mr.qrSection,children:[i.jsx("h4",{style:Mr.sectionTitle,children:"Scan QR Code"}),i.jsx("div",{style:Mr.qrCodeContainer,children:i.jsx("img",{src:`http://localhost:5000${x.qrCodeUrl}`,alt:`${x.label} QR Code`,style:Mr.qrCode})}),i.jsxs("p",{style:Mr.qrInstruction,children:["Open your ",x.label," app and scan this code"]})]}),i.jsxs("div",{style:Mr.accountSection,children:[i.jsx("h4",{style:Mr.sectionTitle,children:"Or send to this account:"}),i.jsxs("div",{style:Mr.accountDetails,children:[i.jsxs("div",{style:Mr.detailRow,children:[i.jsx("span",{style:Mr.detailLabel,children:"Account Name:"}),i.jsx("span",{style:Mr.detailValue,children:x.accountName})]}),i.jsxs("div",{style:Mr.detailRow,children:[i.jsx("span",{style:Mr.detailLabel,children:"Account Number:"}),i.jsx("span",{style:Mr.detailValue,children:x.accountNumber})]}),i.jsxs("div",{style:Mr.detailRow,children:[i.jsx("span",{style:Mr.detailLabel,children:"Amount to Send:"}),i.jsxs("span",{style:{...Mr.detailValue,...Mr.amountHighlight},children:["",r.toFixed(2)]})]})]})]}),i.jsxs("div",{style:Mr.notesSection,children:[i.jsx("h4",{style:Mr.sectionTitle,children:"Important:"}),i.jsxs("ul",{style:Mr.notesList,children:[i.jsxs("li",{children:["Make sure to send the exact amount: ",i.jsxs("strong",{children:["",r.toFixed(2)]})]}),i.jsx("li",{children:"After payment, you'll need to upload proof of payment (screenshot or reference number)"}),i.jsx("li",{children:"Your order will be processed once payment is verified (usually within 2 hours)"})]})]})]})})]})]})},Mr={container:{width:"100%",maxWidth:"900px",margin:"0 auto",padding:"24px"},loadingContainer:{textAlign:"center",padding:"40px",color:"#666"},spinner:{width:"40px",height:"40px",margin:"0 auto 16px",border:"4px solid #f3f3f3",borderTop:"4px solid #007DFF",borderRadius:"50%",animation:"spin 1s linear infinite"},errorBox:{backgroundColor:"#FFF3CD",border:"1px solid #FFE69C",borderRadius:"12px",padding:"20px",textAlign:"center"},errorIcon:{fontSize:"32px",display:"block",marginBottom:"12px"},errorText:{color:"#856404",margin:"0",fontSize:"15px"},header:{textAlign:"center",marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"600",color:"#333",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#666",marginTop:"8px"},amount:{color:le.colors.primary,fontSize:"20px"},methodsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"32px"},methodCard:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 24px",border:"3px solid",borderRadius:"16px",background:"#fff",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center"},methodCardSelected:{transform:"translateY(-4px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"},methodLogo:{marginBottom:"16px"},methodLabel:{fontSize:"22px",fontWeight:"600",margin:"0"},checkmark:{position:"absolute",top:"12px",right:"12px",width:"32px",height:"32px",borderRadius:"50%",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"bold"},paymentDetails:{backgroundColor:"#f8f9fa",borderRadius:"16px",padding:"24px",border:"1px solid #e0e0e0"},detailsHeader:{marginBottom:"24px",borderBottom:"2px solid #e0e0e0",paddingBottom:"12px"},detailsTitle:{fontSize:"22px",fontWeight:"600",color:"#333",margin:"0"},detailsContent:{display:"flex",flexDirection:"column",gap:"24px"},qrSection:{textAlign:"center",backgroundColor:"#fff",borderRadius:"12px",padding:"24px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"16px",marginTop:"0"},qrCodeContainer:{display:"inline-block",padding:"16px",backgroundColor:"#fff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",marginBottom:"12px"},qrCode:{width:"200px",height:"200px",display:"block"},qrInstruction:{color:"#666",fontSize:"14px",margin:"0"},accountSection:{backgroundColor:"#fff",borderRadius:"12px",padding:"20px"},accountDetails:{display:"flex",flexDirection:"column",gap:"12px"},detailRow:{display:"flex",justifyContent:"space-between",padding:"12px 0",borderBottom:"1px solid #f0f0f0"},detailLabel:{fontWeight:"500",color:"#666",fontSize:"15px"},detailValue:{fontWeight:"600",color:"#333",fontSize:"15px"},amountHighlight:{color:le.colors.primary,fontSize:"18px"},notesSection:{backgroundColor:"#FFF3CD",borderRadius:"12px",padding:"20px",border:"1px solid #FFE69C"},notesList:{margin:"0",paddingLeft:"20px",color:"#856404"},gatewaySection:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px"},gatewayInfo:{textAlign:"center"},gatewayDescription:{fontSize:"16px",color:"#666",marginBottom:"24px",lineHeight:"1.5"},gatewayFeatures:{display:"flex",justifyContent:"space-around",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},featureItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",fontSize:"14px",color:"#333"},featureIcon:{fontSize:"24px"},paymentAmount:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"16px",marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},amountLabel:{fontSize:"16px",fontWeight:"500",color:"#666"},amountValue:{fontSize:"24px",fontWeight:"700",color:le.colors.primary},testModeWarning:{backgroundColor:"#FFF3CD",borderRadius:"8px",padding:"12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#856404",border:"1px solid #FFE69C"},warningIcon:{fontSize:"16px"}},eke=({onProofSubmit:e,paymentMethod:t})=>{const[r,n]=k.useState("image"),[a,s]=k.useState(null),[o,l]=k.useState(null),[u,A]=k.useState(""),[f,h]=k.useState(""),[p,g]=k.useState(!1),[v,x]=k.useState(0),[b,w]=k.useState(""),B=k.useRef(null),j=5*1024*1024,_=["image/jpeg","image/jpg","image/png","image/webp"],N=P=>{const U=P.target.files[0];if(!U)return;if(w(""),!_.includes(U.type)){w("Please upload a valid image file (JPG, PNG, or WEBP)");return}if(U.size>j){w("File size must be less than 5MB");return}s(U);const D=new FileReader;D.onloadend=()=>{l(D.result)},D.readAsDataURL(U)},O=()=>{s(null),l(null),B.current&&(B.current.value="")},T=async()=>{if(w(""),r==="image"&&!a){w("Please upload a screenshot of your payment");return}if((r==="text"||r==="both")&&!u){w("Please enter the transaction reference number");return}if((r==="text"||r==="both")&&!f){w("Please enter your account name");return}try{g(!0),x(0);const P=new FormData;a&&P.append("file",a),u&&P.append("transactionReference",u),f&&P.append("accountName",f);const U=setInterval(()=>{x(D=>D>=90?(clearInterval(U),90):D+10)},200);await e(P),x(100),clearInterval(U)}catch(P){w(P.message||"Failed to upload proof of payment"),x(0)}finally{g(!1)}};return i.jsxs("div",{style:an.container,children:[i.jsxs("div",{style:an.header,children:[i.jsx("h2",{style:an.title,children:"Upload Proof of Payment"}),i.jsxs("p",{style:an.subtitle,children:["Please provide proof that you've sent the payment via ",t==="gcash"?"GCash":"PayMaya"]})]}),i.jsxs("div",{style:an.typeSelector,children:[i.jsxs("button",{onClick:()=>n("image"),style:{...an.typeButton,...r==="image"?an.typeButtonActive:{}},children:[i.jsx(yEe,{style:an.typeIcon}),i.jsx("span",{children:"Screenshot Only"})]}),i.jsx("button",{onClick:()=>n("text"),style:{...an.typeButton,...r==="text"?an.typeButtonActive:{}},children:i.jsx("span",{children:"Reference Number Only"})}),i.jsx("button",{onClick:()=>n("both"),style:{...an.typeButton,...r==="both"?an.typeButtonActive:{}},children:i.jsx("span",{children:"Both (Recommended)"})})]}),(r==="image"||r==="both")&&i.jsxs("div",{style:an.uploadSection,children:[i.jsx("h3",{style:an.sectionTitle,children:"Payment Screenshot"}),o?i.jsxs("div",{style:an.previewContainer,children:[i.jsx("img",{src:o,alt:"Payment proof",style:an.preview}),i.jsxs("button",{onClick:O,style:an.removeButton,type:"button",children:[i.jsx(wEe,{})," Remove"]})]}):i.jsxs("div",{style:an.dropZone,onClick:()=>{var P;return(P=B.current)==null?void 0:P.click()},children:[i.jsx(gEe,{style:an.uploadIcon}),i.jsx("p",{style:an.dropZoneText,children:"Click to upload payment screenshot"}),i.jsx("p",{style:an.dropZoneHint,children:"JPG, PNG or WEBP (Max 5MB)"}),i.jsx("input",{ref:B,type:"file",accept:"image/*",onChange:N,style:an.fileInput})]})]}),(r==="text"||r==="both")&&i.jsxs("div",{style:an.textSection,children:[i.jsx("h3",{style:an.sectionTitle,children:"Transaction Details"}),i.jsxs("div",{style:an.inputGroup,children:[i.jsx("label",{style:an.label,children:"Transaction Reference Number *"}),i.jsx("input",{type:"text",value:u,onChange:P=>A(P.target.value),placeholder:"e.g., 1234567890",style:an.input}),i.jsxs("p",{style:an.hint,children:["Found in your ",t==="gcash"?"GCash":"PayMaya"," transaction history"]})]}),i.jsxs("div",{style:an.inputGroup,children:[i.jsx("label",{style:an.label,children:"Account Name *"}),i.jsx("input",{type:"text",value:f,onChange:P=>h(P.target.value),placeholder:"Your full name as registered",style:an.input}),i.jsxs("p",{style:an.hint,children:["Must match your ",t==="gcash"?"GCash":"PayMaya"," account name"]})]})]}),b&&i.jsxs("div",{style:an.errorBox,children:[i.jsx("span",{style:an.errorIcon,children:"!"}),i.jsx("p",{style:an.errorText,children:b})]}),p&&i.jsxs("div",{style:an.progressContainer,children:[i.jsx("div",{style:an.progressBar,children:i.jsx("div",{style:{...an.progressFill,width:`${v}%`}})}),i.jsxs("p",{style:an.progressText,children:[v,"% Uploading..."]})]}),i.jsx("button",{onClick:T,disabled:p,style:{...an.submitButton,...p?an.submitButtonDisabled:{}},children:p?i.jsxs(i.Fragment,{children:[i.jsx("div",{style:an.spinner}),i.jsx("span",{children:"Uploading..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(YG,{}),i.jsx("span",{children:"Submit Proof of Payment"})]})}),i.jsxs("div",{style:an.notesBox,children:[i.jsx("h4",{style:an.notesTitle,children:"Important Notes:"}),i.jsxs("ul",{style:an.notesList,children:[i.jsx("li",{children:"Ensure your screenshot clearly shows the transaction details"}),i.jsx("li",{children:"Reference number must match your actual payment transaction"}),i.jsx("li",{children:"Verification usually takes 5-30 minutes during business hours"}),i.jsx("li",{children:"You'll receive a notification once payment is verified"})]})]})]})},an={container:{width:"100%",maxWidth:"700px",margin:"0 auto",padding:"24px"},header:{textAlign:"center",marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"600",color:"#333",marginBottom:"8px"},subtitle:{fontSize:"15px",color:"#666",marginTop:"0"},typeSelector:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px",marginBottom:"32px"},typeButton:{padding:"16px 12px",border:"2px solid #e0e0e0",borderRadius:"12px",background:"#fff",cursor:"pointer",transition:"all 0.3s ease",fontSize:"14px",fontWeight:"500",color:"#666",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},typeButtonActive:{borderColor:le.colors.primary,backgroundColor:`${le.colors.primary}10`,color:le.colors.primary},typeIcon:{fontSize:"24px"},uploadSection:{marginBottom:"32px"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"#333",marginBottom:"16px",marginTop:"0"},dropZone:{border:"3px dashed #ccc",borderRadius:"16px",padding:"48px 24px",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:"#fafafa",":hover":{borderColor:le.colors.primary,backgroundColor:"#f0f8ff"}},uploadIcon:{fontSize:"64px",color:le.colors.primary,marginBottom:"16px"},dropZoneText:{fontSize:"16px",fontWeight:"500",color:"#333",margin:"8px 0"},dropZoneHint:{fontSize:"14px",color:"#666",margin:"4px 0"},fileInput:{display:"none"},previewContainer:{position:"relative",borderRadius:"16px",overflow:"hidden",border:"2px solid #e0e0e0"},preview:{width:"100%",height:"auto",display:"block"},removeButton:{position:"absolute",top:"12px",right:"12px",backgroundColor:"#ff4444",color:"#fff",border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px"},textSection:{marginBottom:"32px"},inputGroup:{marginBottom:"20px"},label:{display:"block",fontSize:"15px",fontWeight:"500",color:"#333",marginBottom:"8px"},input:{width:"100%",padding:"12px 16px",fontSize:"15px",border:"2px solid #e0e0e0",borderRadius:"8px",outline:"none",transition:"border-color 0.3s ease",boxSizing:"border-box"},hint:{fontSize:"13px",color:"#666",margin:"6px 0 0 0"},errorBox:{backgroundColor:"#FFE5E5",border:"1px solid #FF4444",borderRadius:"8px",padding:"12px 16px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},errorIcon:{fontSize:"20px"},errorText:{color:"#D32F2F",margin:"0",fontSize:"14px"},progressContainer:{marginBottom:"20px"},progressBar:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",overflow:"hidden"},progressFill:{height:"100%",backgroundColor:le.colors.primary,transition:"width 0.3s ease"},progressText:{textAlign:"center",fontSize:"14px",color:"#666",marginTop:"8px"},submitButton:{width:"100%",padding:"16px",backgroundColor:le.colors.primary,color:"#fff",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.3s ease",marginBottom:"24px"},submitButtonDisabled:{backgroundColor:"#ccc",cursor:"not-allowed"},spinner:{width:"20px",height:"20px",border:"3px solid rgba(255,255,255,0.3)",borderTop:"3px solid #fff",borderRadius:"50%",animation:"spin 1s linear infinite"},notesBox:{backgroundColor:"#E3F2FD",borderRadius:"12px",padding:"20px",border:"1px solid #BBDEFB"},notesTitle:{fontSize:"16px",fontWeight:"600",color:"#1976D2",marginTop:"0",marginBottom:"12px"},notesList:{margin:"0",paddingLeft:"20px",color:"#0D47A1",fontSize:"14px",lineHeight:"1.8"}},tke=({expiresAt:e,onTimeout:t,orderStatus:r})=>{const[n,a]=k.useState(null),[s,o]=k.useState("green"),[l,u]=k.useState(!1);if(k.useEffect(()=>{if(!e)return;const g=()=>{const x=new Date,w=new Date(e)-x;if(w<=0){u(!0),a({hours:0,minutes:0,seconds:0}),t&&t();return}const B=Math.floor(w/(1e3*60*60)),j=Math.floor(w%(1e3*60*60)/(1e3*60)),_=Math.floor(w%(1e3*60)/1e3);a({hours:B,minutes:j,seconds:_});const N=B*60+j;N>60?o("green"):N>30?o("yellow"):N>15?o("orange"):o("red")};g();const v=setInterval(g,1e3);return()=>clearInterval(v)},[e,t]),r==="payment_verified")return i.jsxs("div",{style:{...pn.container,...pn.successContainer},children:[i.jsx(YG,{style:pn.statusIcon}),i.jsxs("div",{style:pn.statusContent,children:[i.jsx("h3",{style:pn.statusTitle,children:"Payment Verified!"}),i.jsx("p",{style:pn.statusText,children:"Your order is being prepared"})]})]});if(r==="cancelled")return i.jsxs("div",{style:{...pn.container,...pn.errorContainer},children:[i.jsx(m7,{style:pn.statusIcon}),i.jsxs("div",{style:pn.statusContent,children:[i.jsx("h3",{style:pn.statusTitle,children:"Order Cancelled"}),i.jsx("p",{style:pn.statusText,children:"Payment verification was unsuccessful"})]})]});if(!n)return null;const A={green:"#4CAF50",yellow:"#FFC107",orange:"#FF9800",red:"#F44336"},f={green:"Plenty of time for verification",yellow:"Please wait for verification",orange:"Verification in progress",red:"Urgent: Verification needed soon!"},h=A[s],p=f[s];return l?i.jsxs("div",{style:{...pn.container,...pn.expiredContainer},children:[i.jsx(m7,{style:{...pn.icon,color:"#F44336"}}),i.jsxs("div",{style:pn.content,children:[i.jsx("h3",{style:pn.expiredTitle,children:"Verification Time Expired"}),i.jsx("p",{style:pn.expiredText,children:"Your order has been automatically cancelled. Please create a new order."})]})]}):i.jsxs("div",{style:{...pn.container,borderColor:h,backgroundColor:`${h}10`},children:[i.jsx(pEe,{style:{...pn.icon,color:h}}),i.jsxs("div",{style:pn.content,children:[i.jsx("h3",{style:{...pn.title,color:h},children:"Time Remaining for Verification"}),i.jsxs("div",{style:pn.timerDisplay,children:[i.jsxs("div",{style:pn.timeUnit,children:[i.jsx("div",{style:{...pn.timeValue,color:h},children:String(n.hours).padStart(2,"0")}),i.jsx("div",{style:pn.timeLabel,children:"Hours"})]}),i.jsx("div",{style:{...pn.separator,color:h},children:":"}),i.jsxs("div",{style:pn.timeUnit,children:[i.jsx("div",{style:{...pn.timeValue,color:h},children:String(n.minutes).padStart(2,"0")}),i.jsx("div",{style:pn.timeLabel,children:"Minutes"})]}),i.jsx("div",{style:{...pn.separator,color:h},children:":"}),i.jsxs("div",{style:pn.timeUnit,children:[i.jsx("div",{style:{...pn.timeValue,color:h},children:String(n.seconds).padStart(2,"0")}),i.jsx("div",{style:pn.timeLabel,children:"Seconds"})]})]}),i.jsx("p",{style:{...pn.message,color:h},children:p}),s==="red"&&i.jsxs("div",{style:pn.urgentWarning,children:[i.jsx("span",{style:pn.warningIcon,children:"!"}),i.jsx("span",{children:"Less than 15 minutes remaining! Please ensure payment proof is correct."})]})]})]})},pn={container:{display:"flex",alignItems:"center",gap:"20px",padding:"24px",border:"3px solid",borderRadius:"16px",backgroundColor:"#fff",marginBottom:"24px",transition:"all 0.3s ease"},successContainer:{borderColor:"#4CAF50",backgroundColor:"#E8F5E9"},errorContainer:{borderColor:"#F44336",backgroundColor:"#FFEBEE"},expiredContainer:{borderColor:"#F44336",backgroundColor:"#FFEBEE"},icon:{fontSize:"48px",flexShrink:0},statusIcon:{fontSize:"48px",flexShrink:0,color:"#4CAF50"},content:{flex:1},statusContent:{flex:1},title:{fontSize:"20px",fontWeight:"600",marginBottom:"16px",marginTop:"0"},statusTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",marginTop:"0",color:"#4CAF50"},statusText:{fontSize:"15px",color:"#666",margin:"0"},expiredTitle:{fontSize:"20px",fontWeight:"600",marginBottom:"8px",marginTop:"0",color:"#F44336"},expiredText:{fontSize:"15px",color:"#666",margin:"0"},timerDisplay:{display:"flex",justifyContent:"center",alignItems:"center",gap:"16px",marginBottom:"16px"},timeUnit:{textAlign:"center"},timeValue:{fontSize:"48px",fontWeight:"700",lineHeight:"1",fontFamily:"monospace"},timeLabel:{fontSize:"12px",color:"#666",marginTop:"4px",textTransform:"uppercase",letterSpacing:"1px"},separator:{fontSize:"40px",fontWeight:"700",fontFamily:"monospace",marginTop:"-20px"},message:{textAlign:"center",fontSize:"16px",fontWeight:"500",margin:"0"},urgentWarning:{marginTop:"16px",padding:"12px 16px",backgroundColor:"#FFF3CD",border:"1px solid #FFE69C",borderRadius:"8px",fontSize:"14px",color:"#856404",display:"flex",alignItems:"center",gap:"8px"},warningIcon:{fontSize:"20px",flexShrink:0}},rke=window.matchMedia("(max-width: 768px)");rke.matches&&(pn.container.flexDirection="column",pn.container.textAlign="center",pn.timeValue.fontSize="36px",pn.separator.fontSize="32px",pn.timerDisplay.gap="8px");const Wa={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"},nke=Ce.forwardRef(({order:e,totals:t},r)=>i.jsxs("div",{ref:r,className:"text-xs p-6",style:{backgroundColor:Wa.background},children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-semibold",style:{color:Wa.primary},children:"Ring & Wings"}),i.jsx("p",{style:{color:Wa.secondary},children:"Thank You"})]}),i.jsxs("div",{className:"flex mt-4",style:{color:Wa.primary},children:[i.jsxs("div",{className:"flex-grow",children:["No: ",e.receiptNumber]}),i.jsx("div",{children:new Date().toLocaleString()})]}),i.jsx("hr",{className:"my-2",style:{borderColor:Wa.muted}}),i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{style:{backgroundColor:Wa.primary},children:[i.jsx("th",{className:"py-1 w-1/12 text-center text-white",children:"#"}),i.jsx("th",{className:"py-1 text-left text-white",children:"Item"}),i.jsx("th",{className:"py-1 w-2/12 text-center text-white",children:"Qty"}),i.jsx("th",{className:"py-1 w-3/12 text-right text-white",children:"Subtotal"})]})}),i.jsx("tbody",{children:e.items.map((n,a)=>i.jsxs("tr",{style:{borderColor:Wa.muted},children:[i.jsx("td",{className:"py-2 text-center",style:{color:Wa.primary},children:a+1}),i.jsxs("td",{className:"py-2 text-left",style:{color:Wa.primary},children:[n.name," (",n.selectedSize,")",i.jsx("br",{}),i.jsxs("small",{style:{color:Wa.secondary},children:["",n.price.toFixed(2)]})]}),i.jsx("td",{className:"py-2 text-center",style:{color:Wa.primary},children:n.quantity}),i.jsxs("td",{className:"py-2 text-right",style:{color:Wa.primary},children:["",(n.quantity*n.price).toFixed(2)]})]},`${n._id}-${n.selectedSize}`))})]}),i.jsx("hr",{className:"my-2",style:{borderColor:Wa.muted}}),i.jsxs("div",{className:"flex justify-between font-semibold text-sm",style:{color:Wa.primary},children:[i.jsx("span",{children:"Subtotal:"}),i.jsxs("span",{children:["",t.subtotal]})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-1",style:{color:Wa.primary},children:[i.jsx("span",{children:"TOTAL"}),i.jsxs("span",{children:["",t.total]})]})]}));nke.propTypes={order:ar.shape({items:ar.array.isRequired,receiptNumber:ar.string.isRequired}).isRequired,totals:ar.object.isRequired};const ake=()=>(k.useEffect(()=>{const e=document.createElement("style");return e.textContent=`
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    `,document.head.appendChild(e),()=>document.head.removeChild(e)},[]),i.jsx(VEe,{children:i.jsx(zEe,{children:i.jsx(ike,{})})})),ike=()=>{const{cartItems:e,clearCart:t,getTotals:r}=u2(),[n,a]=k.useState(""),[s,o]=k.useState(""),[l,u]=k.useState(!1),[A,f]=k.useState(!1),[h,p]=k.useState(null),[g,v]=k.useState(null),[x,b]=k.useState(null),[w,B]=k.useState(!1),[j,_]=k.useState(null),[N,O]=k.useState(null);k.useEffect(()=>{if(j&&j._id){const ie=localStorage.getItem("token")||localStorage.getItem("authToken"),z=du(Cr,{auth:{token:ie}});return O(z),z.emit("subscribeToOrder",j._id),z.on("paymentVerified",W=>{W.orderId===j._id&&(_(L=>({...L,status:"payment_verified"})),alert("Payment verified! Your order is being processed."))}),z.on("paymentRejected",W=>{W.orderId===j._id&&(_(L=>({...L,status:"cancelled"})),alert(`Payment rejected: ${W.reason}`))}),()=>{z.close()}}},[j]);const T=()=>r(),P=async()=>{const ie=T(),z={items:e.map(W=>({name:W.name,price:W.price,quantity:W.quantity,selectedSize:W.selectedSize,availableSizes:W.availableSizes||["base"],pricing:W.pricing||{base:W.price}})),totals:{subtotal:ie.subtotal,total:ie.total},orderType:"self_checkout",fulfillmentType:h};h==="dine_in"?(z.paymentMethod="pending",z.status="pending"):(z.paymentMethod="e-wallet",z.status="pending_payment",z.paymentDetails={eWalletProvider:g});try{const W=await fetch(`${Cr}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!W.ok)throw new Error("Failed to create order");const L=await W.json(),q=L.data._id;if(a(L.data.receiptNumber),h!=="dine_in"&&x){const G=await fetch(`${Cr}/api/orders/${q}/upload-proof`,{method:"POST",body:x});if(!G.ok)console.error("Failed to upload proof, but order was created");else{const Z=await G.json();if(Z.success){_(Z.data),u(!0);return}}}_(L.data),u(!0)}catch(W){console.error("Order submission error:",W),alert("Failed to submit order. Please try again.")}},U=async()=>{if(e.length===0){alert("Please add items to your order");return}if(!A){f(!0);return}if(h==="dine_in"){await P(),t();return}if(!x){alert("Please upload proof of payment before submitting");return}await P(),t()},D=ie=>{p(ie)},F=async ie=>{v(ie),ie==="paymongo"&&await R()},R=async()=>{var ie;try{console.log("Initiating PayMongo checkout");const z=T(),W={items:e.map(we=>({name:we.name,price:we.price,quantity:we.quantity,selectedSize:we.selectedSize,availableSizes:we.availableSizes||["base"],pricing:we.pricing||{base:we.price},modifiers:we.modifiers||[],pwdSeniorDiscount:we.pwdSeniorDiscount||{applied:!1,discountedQuantity:0,discountAmount:0,vatExempt:!1}})),totals:{subtotal:z.subtotal,discount:z.discount||0,vatExemption:0,total:z.total,cashReceived:0,change:0},customerName:"",orderType:"self_checkout",fulfillmentType:h,paymentMethod:"paymongo",status:"pending_payment",paymentGateway:{provider:"paymongo",status:"pending"}},L=await fetch(`${Cr}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(!L.ok)throw new Error("Failed to create order");const q=await L.json(),G=q.data._id,Z=q.data.receiptNumber;console.log("Order created successfully:",{orderId:G,receiptNumber:Z});const te=await fetch(`${Cr}/api/paymongo/create-checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderId:G,amount:Math.round(T().total*100),description:`Ring & Wings Order #${Z}`})});if(console.log("PayMongo checkout response status:",te.status),!te.ok){const we=await te.text();throw console.error("PayMongo checkout error details:",we),new Error(`Failed to create checkout session: ${we}`)}const fe=await te.json();if(console.log("PayMongo checkout result:",fe),fe.success&&((ie=fe.data)!=null&&ie.checkout_url))_(q),window.location.href=fe.data.checkout_url;else throw new Error(fe.message||"Failed to create checkout session")}catch(z){console.error("PayMongo checkout error:",z),alert(`Payment setup failed: ${z.message}. Please try again or contact support.`),v(null)}},Q=async ie=>{b(ie)},H=()=>{alert("Your order has expired. Please create a new order."),J()},J=()=>{f(!1),p(null),v(null),b(null),B(!1),_(null),u(!1),a("")},Y=A?l?"confirmation":h?h==="dine_in"?"readyToSubmit":g?g&&g.startsWith("paymongo-")?"paymongoCheckout":w?x?"readyToSubmit":"uploadProof":"viewPaymentDetails":"selectPayment":"selectType":"menu",ee=()=>{var ie;if(Y==="menu")return null;if(Y==="confirmation")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:h==="dine_in"?"Order Submitted!":"Order Awaiting Verification"}),i.jsxs("p",{style:Tn.orderNumber,children:["Order Number: ",i.jsx("strong",{children:n})]}),h==="dine_in"?i.jsxs("div",{style:Tn.successMessage,children:[i.jsx("p",{children:"Please proceed to the counter for payment"}),i.jsx("button",{onClick:J,style:Tn.newOrderButton,children:"Start New Order"})]}):i.jsxs("div",{style:Tn.verificationFlow,children:[j&&((ie=j.proofOfPayment)==null?void 0:ie.expiresAt)&&i.jsx(tke,{expiresAt:j.proofOfPayment.expiresAt,onTimeout:H,orderStatus:j.status}),i.jsx("p",{style:Tn.verificationNote,children:"Your payment is being verified by our staff. You will be notified once verification is complete."}),i.jsx("button",{onClick:J,style:Tn.newOrderButton,children:"Start New Order"})]})]})});if(Y==="selectType")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Select Order Type"}),i.jsx(JEe,{onSelect:D})]})});if(h!=="dine_in"){if(Y==="selectPayment")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Select Payment Method"}),i.jsx(b7,{selectedMethod:g,onSelect:F,orderTotal:T().total}),i.jsx("button",{onClick:()=>p(null),style:Tn.backButton,children:" Back to Order Type"})]})});if(Y==="paymongoCheckout")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Processing Payment"}),i.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[i.jsx("div",{style:Tn.spinner}),i.jsx("p",{style:{marginTop:"20px",color:"#666"},children:"Redirecting to secure payment page..."}),i.jsx("p",{style:{fontSize:"14px",color:"#999",marginTop:"10px"},children:"If you are not redirected automatically, please try again."}),i.jsx("button",{onClick:()=>{v(null),setCurrentStep("selectPayment")},style:Tn.backButton,children:" Back to Payment Methods"})]})]})});if(Y==="viewPaymentDetails")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Make Your Payment"}),i.jsx("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"},children:i.jsx("p",{style:{margin:0,color:"#856404",fontSize:"14px"},children:"Please complete your payment before proceeding. You will need to upload proof in the next step."})}),i.jsx(b7,{selectedMethod:g,onSelect:F,orderTotal:T().total}),i.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[i.jsx("button",{onClick:()=>{v(null),B(!1)},style:Tn.backButton,children:" Change Payment Method"}),i.jsx("button",{onClick:()=>B(!0),style:{...Tn.submitButton,flex:1,backgroundColor:le.colors.primary,color:"white",padding:"15px 30px",fontSize:"16px",fontWeight:"bold",border:"none",borderRadius:"8px",cursor:"pointer"},children:"I've Made Payment - Continue to Upload Proof "})]})]})});if(Y==="uploadProof")return i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Upload Proof of Payment"}),i.jsx(eke,{paymentMethod:g,orderTotal:T().total,onProofSubmit:Q}),i.jsx("button",{onClick:()=>B(!1),style:Tn.backButton,children:" Back to Payment Details"})]})})}return Y==="readyToSubmit"?i.jsx("div",{style:Tn.overlay,children:i.jsxs("div",{style:Tn.flowContainer,children:[i.jsx("h2",{style:Tn.flowTitle,children:"Ready to Submit Order"}),i.jsxs("div",{style:Tn.readyMessage,children:[i.jsxs("p",{children:["Order Type: ",i.jsx("strong",{children:h==="dine_in"?"Dine-In":h==="takeout"?"Takeout":"Delivery"})]}),h!=="dine_in"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Payment Method: ",i.jsx("strong",{children:g==="gcash"?"GCash":"PayMaya"})]}),i.jsxs("p",{children:["Proof Uploaded: ",i.jsx("strong",{children:"Yes"})]})]}),i.jsxs("p",{children:["Total: ",i.jsxs("strong",{children:["",T().total]})]})]}),i.jsx("button",{onClick:U,style:Tn.submitButton,children:"Submit Order"}),i.jsx("button",{onClick:()=>h==="dine_in"?p(null):b(null),style:Tn.backButton,children:" Back"})]})}):null};return i.jsxs(i.Fragment,{children:[i.jsx(XEe,{searchTerm:s,onSearchChange:o,orderNumber:n,orderSubmitted:l,onProcessOrder:U}),ee()]})},Tn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(46, 3, 4, 0.95)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,padding:"20px",overflowY:"auto"},flowContainer:{backgroundColor:Wa.background,borderRadius:"16px",padding:"32px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto"},flowTitle:{fontSize:"28px",fontWeight:"700",color:Wa.primary,marginBottom:"24px",textAlign:"center"},orderNumber:{fontSize:"18px",color:Wa.secondary,textAlign:"center",marginBottom:"24px"},successMessage:{textAlign:"center",padding:"24px",backgroundColor:"#E8F5E9",borderRadius:"12px",marginBottom:"24px"},verificationFlow:{textAlign:"center"},verificationNote:{fontSize:"16px",color:Wa.secondary,marginBottom:"24px",padding:"16px",backgroundColor:"#FFF3E0",borderRadius:"8px",border:`1px solid ${Wa.accent}`},readyMessage:{padding:"24px",backgroundColor:"#E8F5E9",borderRadius:"12px",marginBottom:"24px"},submitButton:{width:"100%",padding:"16px",backgroundColor:Wa.accent,color:"#fff",fontSize:"18px",fontWeight:"600",border:"none",borderRadius:"12px",cursor:"pointer",marginBottom:"12px",transition:"all 0.3s ease"},backButton:{width:"100%",padding:"12px",backgroundColor:Wa.muted,color:"#fff",fontSize:"16px",fontWeight:"500",border:"none",borderRadius:"8px",cursor:"pointer",transition:"all 0.3s ease"},newOrderButton:{padding:"16px 32px",backgroundColor:Wa.primary,color:"#fff",fontSize:"16px",fontWeight:"600",border:"none",borderRadius:"12px",cursor:"pointer",marginTop:"16px",transition:"all 0.3s ease"},spinner:{width:"40px",height:"40px",margin:"0 auto",border:"4px solid #f3f3f3",borderTop:"4px solid #2e0304",borderRadius:"50%",animation:"spin 1s linear infinite"}};function sW({staff:e,onClose:t,colors:r}){var A;const[n,a]=k.useState(!1),[s,o]=k.useState(!1);if(!e)return null;const l=f=>{var h;return`#${(h=f.toString().slice(-8).toUpperCase().match(/.{1,4}/g))==null?void 0:h.join("-")}`},u=f=>{var h;return((h=f==null?void 0:f.match(/.{1,4}/g))==null?void 0:h.join("-"))||"N/A"};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 backdrop-blur-sm",children:i.jsxs("div",{className:"relative w-full max-w-3xl",children:[i.jsxs("div",{className:"relative rounded-xl overflow-hidden transform transition-transform duration-300 hover:rotate-1 hover:scale-105",style:{backgroundColor:r.background,border:`4px solid ${r.primary}`,boxShadow:"0 20px 40px rgba(0,0,0,0.25)",minHeight:"240px"},children:[i.jsxs("div",{className:"flex flex-col md:flex-row",children:[i.jsxs("div",{className:"w-full md:w-1/3 relative p-6",style:{backgroundColor:r.accent+"15",borderRight:`3px solid ${r.primary}`},children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-transparent",style:{backgroundImage:`linear-gradient(135deg, ${r.accent} 0%, transparent 30%)`,mixBlendMode:"multiply"}}),"              ",i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-full aspect-square rounded-lg overflow-hidden mb-4",style:{border:`3px solid ${r.primary}`},children:i.jsx(Tm,{imagePath:e.profilePicture,alt:`${e.name}'s photo`,size:"100%",className:"w-full h-full"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Employee ID"}),i.jsx("div",{className:"font-mono text-lg font-bold break-all px-2",style:{color:r.primary},children:l(e._id)})]})]}),i.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-16 rounded-full overflow-hidden transform rotate-12",style:{background:`radial-gradient(circle at 30% 30%, ${r.accent}, ${r.background})`,border:`2px solid ${r.primary}`},children:i.jsx("div",{className:"absolute inset-0 bg-noise opacity-30"})})]}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"text-xs uppercase tracking-widest",style:{color:r.muted},children:"Ring & Wing"}),i.jsx("h2",{className:"text-2xl font-bold mt-1",style:{color:r.primary},children:"Staff Identification Card"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Full Name"}),i.jsx("div",{className:"text-xl font-semibold",style:{color:r.primary},children:e.name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Position"}),i.jsx("div",{className:"text-lg font-medium",style:{color:r.secondary},children:e.position})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Daily Rate"}),i.jsxs("div",{className:"text-md font-semibold",style:{color:r.primary},children:["",(A=e.dailyRate)==null?void 0:A.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Status"}),i.jsx("div",{className:"text-sm px-2 py-1 rounded-full inline-block",style:{backgroundColor:r.accent+"20",color:r.primary},children:e.status})]}),e.email&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Email"}),i.jsx("div",{className:"text-md",style:{color:r.primary},children:e.email})]}),e.phone&&i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"Phone"}),i.jsx("div",{className:"text-md",style:{color:r.primary},children:e.phone})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("button",{onClick:()=>a(!n),className:"w-full flex justify-between items-center p-2 hover:bg-gray-50 rounded",style:{color:r.primary},children:[i.jsx("span",{children:"Government Identification Numbers"}),i.jsx(dA,{className:`transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"SSS Number"}),i.jsx("div",{className:"font-mono",style:{color:r.primary},children:u(e.sssNumber)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"TIN Number"}),i.jsx("div",{className:"font-mono",style:{color:r.primary},children:e.tinNumber})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-1",style:{color:r.muted},children:"PhilHealth"}),i.jsx("div",{className:"font-mono",style:{color:r.primary},children:e.philHealthNumber})]})]})]}),i.jsx("div",{className:"border-t pt-4",style:{borderColor:r.muted+"30"},children:i.jsxs("div",{className:"flex justify-between items-end",children:[i.jsxs("div",{className:"w-48",children:[i.jsx("div",{className:"text-xs uppercase tracking-widest mb-2",style:{color:r.muted},children:"Signature"}),i.jsxs("div",{className:"h-12 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-repeat opacity-20",style:{backgroundImage:"linear-gradient(45deg, transparent 50%, #00000010 50%)",backgroundSize:"4px 4px"}}),i.jsx("div",{className:"relative font-signature text-2xl",style:{color:r.primary},children:e.name.split(" ")[0]})]})]}),i.jsx("div",{className:"w-48 h-16 bg-contain bg-center bg-no-repeat",style:{backgroundImage:`url("data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`<svg viewBox="0 0 100 40" xmlns="http://www.w3.org/2000/svg">
                          ${Array.from({length:30}).map((f,h)=>`
                            <rect x="${h*3}" y="0" width="${Math.random()>.3?2:4}" height="40" fill="${r.primary}"/>
                          `).join("")}
                        </svg>`)}")`}})]})})]})]}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{backgroundImage:`
                repeating-linear-gradient(
                  45deg,
                  transparent,
                  transparent 10px,
                  ${r.accent}20 10px,
                  ${r.accent}20 20px
                )
              `}})]}),i.jsx("button",{onClick:t,className:"absolute -top-8 -right-8 p-2 rounded-full hover:bg-opacity-20 transition-colors",style:{backgroundColor:r.primary+"20",color:r.background},children:i.jsx(wi,{className:"text-2xl"})})]})})}const ske=({timeLogs:e,colors:t})=>{const r=o=>new Date(o).toLocaleString("en-PH",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),n=(o,l)=>{if(!o||!l)return"-";const u=new Date(l)-new Date(o),A=Math.floor(u/(1e3*60*60)),f=Math.floor(u%(1e3*60*60)/(1e3*60));return`${A}h ${f}m`},a=e.reduce((o,l)=>{const u=new Date(l.timestamp).toLocaleDateString("en-PH",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o[u]||(o[u]=[]),o[u].push(l),o},{}),s=o=>{const l=[...o].sort((f,h)=>new Date(f.timestamp)-new Date(h.timestamp)),u=[];let A=null;for(const f of l)f.type==="clockIn"?A=f:f.type==="clockOut"&&A&&(u.push({clockIn:A,clockOut:f,duration:n(A.timestamp,f.timestamp)}),A=null);return u};return i.jsxs("div",{className:"space-y-4",children:[Object.entries(a).map(([o,l])=>{const u=s(l);return i.jsxs("div",{className:"border rounded-lg overflow-hidden",style:{borderColor:t.muted},children:[i.jsx("div",{className:"p-3",style:{backgroundColor:t.accent+"10"},children:i.jsx("h3",{className:"font-medium",style:{color:t.primary},children:o})}),i.jsx("div",{className:"p-3",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left text-sm py-1",style:{color:t.muted},children:"Time In"}),i.jsx("th",{className:"text-left text-sm py-1",style:{color:t.muted},children:"Time Out"}),i.jsx("th",{className:"text-left text-sm py-1",style:{color:t.muted},children:"Duration"})]})}),i.jsx("tbody",{children:u.length>0?u.map((A,f)=>i.jsxs("tr",{className:"text-sm",children:[i.jsx("td",{className:"py-1",style:{color:t.primary},children:r(A.clockIn.timestamp)}),i.jsx("td",{className:"py-1",style:{color:t.primary},children:r(A.clockOut.timestamp)}),i.jsx("td",{className:"py-1",style:{color:t.secondary},children:A.duration})]},f)):i.jsx("tr",{children:i.jsx("td",{colSpan:"3",className:"text-center py-2",style:{color:t.muted},children:"No complete clock-in/out pairs found for this day"})})})]})})]},o)}),e.length===0&&i.jsx("div",{className:"text-center py-6",style:{color:t.muted},children:"No time logs found for this period"})]})},oke=({colors:e,onScheduleSelect:t})=>{const[r,n]=k.useState([]),[a,s]=k.useState(!1),[o,l]=k.useState(null),[u,A]=k.useState({name:"",type:"semi-monthly",payoutDays:[],cutoffDays:[],description:"",overtimeMultiplier:1.25,regularHoursPerDay:8,workDaysPerWeek:6});k.useEffect(()=>{f()},[]);const f=async()=>{var w;try{const B=localStorage.getItem("authToken"),j=await vr.get("/api/payroll-schedules",{headers:{Authorization:`Bearer ${B}`}});(w=j.data)!=null&&w.success&&n(j.data.data)}catch(B){console.error("Error fetching schedules:",B),rr.error("Failed to fetch payroll schedules")}},h=async w=>{var B,j,_;w.preventDefault();try{const O={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}};let T;o?T=await vr.put(`/api/payroll-schedules/${o._id}`,u,O):T=await vr.post("/api/payroll-schedules",u,O),(B=T.data)!=null&&B.success&&(rr.success(o?"Schedule updated successfully":"New schedule created successfully"),f(),g())}catch(N){console.error("Error saving schedule:",N),rr.error(((_=(j=N.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to save schedule")}},p=async w=>{var B,j,_;if(window.confirm("Are you sure you want to delete this schedule?"))try{const N=localStorage.getItem("authToken");(B=(await vr.delete(`/api/payroll-schedules/${w}`,{headers:{Authorization:`Bearer ${N}`}})).data)!=null&&B.success&&(rr.success("Schedule deleted successfully"),f())}catch(N){console.error("Error deleting schedule:",N),rr.error(((_=(j=N.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to delete schedule")}},g=()=>{A({name:"",type:"semi-monthly",payoutDays:[],cutoffDays:[],description:"",overtimeMultiplier:1.25,regularHoursPerDay:8,workDaysPerWeek:6}),l(null),s(!1)},v=w=>{l(w),A({name:w.name,type:w.type,payoutDays:w.payoutDays,cutoffDays:w.cutoffDays,description:w.description,overtimeMultiplier:w.overtimeMultiplier,regularHoursPerDay:w.regularHoursPerDay,workDaysPerWeek:w.workDaysPerWeek}),s(!0)},x=w=>{const B=w.split(",").map(j=>parseInt(j.trim())).filter(j=>!isNaN(j));A({...u,payoutDays:B})},b=w=>{const B=w.split(",").map(j=>parseInt(j.trim())).filter(j=>!isNaN(j));A({...u,cutoffDays:B})};return i.jsxs("div",{className:"rounded-lg p-4 shadow-sm",style:{backgroundColor:e.background},children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold",style:{color:e.primary},children:[i.jsx(vc,{className:"inline mr-2"}),"Payroll Schedules"]}),i.jsxs("button",{onClick:()=>s(!0),className:"px-3 py-1 rounded text-sm font-medium flex items-center",style:{backgroundColor:e.accent,color:"white"},children:[i.jsx(J9,{className:"mr-1"}),"Add Schedule"]})]}),i.jsx("div",{className:"space-y-2 mb-4",children:r.map(w=>i.jsxs("div",{className:"p-3 rounded flex justify-between items-center",style:{backgroundColor:e.background,border:`1px solid ${e.muted}`,cursor:"pointer"},onClick:()=>t(w),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:w.name}),i.jsxs("p",{className:"text-sm",style:{color:e.muted},children:[w.type," - Payout: ",w.payoutDays.join(", ")]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:B=>{B.stopPropagation(),v(w)},className:"p-1 rounded",style:{color:e.secondary},children:i.jsx(Jae,{size:16})}),i.jsx("button",{onClick:B=>{B.stopPropagation(),p(w._id)},className:"p-1 rounded",style:{color:e.accent},children:i.jsx(Py,{size:16})})]})]},w._id))}),a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:e.primary},children:o?"Edit Schedule":"Add New Schedule"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),i.jsx("input",{type:"text",value:u.name,onChange:w=>A({...u,name:w.target.value}),className:"w-full p-2 border rounded",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Type"}),i.jsxs("select",{value:u.type,onChange:w=>A({...u,type:w.target.value}),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"monthly",children:"Monthly"}),i.jsx("option",{value:"semi-monthly",children:"Semi-monthly"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"bi-weekly",children:"Bi-weekly"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payout Days (comma-separated)"}),i.jsx("input",{type:"text",value:u.payoutDays.join(", "),onChange:w=>x(w.target.value),className:"w-full p-2 border rounded",placeholder:"e.g., 15, 30",required:!0}),i.jsxs("p",{className:"text-xs mt-1",style:{color:e.muted},children:["For monthly: day of month (1-31)",i.jsx("br",{}),"For semi-monthly: two days (e.g., 15, 30)",i.jsx("br",{}),"For weekly/bi-weekly: day of week (0-6, Sunday-Saturday)"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cutoff Days (comma-separated)"}),i.jsx("input",{type:"text",value:u.cutoffDays.join(", "),onChange:w=>b(w.target.value),className:"w-full p-2 border rounded",placeholder:"e.g., 14, 29",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),i.jsx("textarea",{value:u.description,onChange:w=>A({...u,description:w.target.value}),className:"w-full p-2 border rounded",rows:"2"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"OT Multiplier"}),i.jsx("input",{type:"number",value:u.overtimeMultiplier,onChange:w=>A({...u,overtimeMultiplier:parseFloat(w.target.value)}),className:"w-full p-2 border rounded",min:"1",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hours/Day"}),i.jsx("input",{type:"number",value:u.regularHoursPerDay,onChange:w=>A({...u,regularHoursPerDay:parseInt(w.target.value)}),className:"w-full p-2 border rounded",min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Days/Week"}),i.jsx("input",{type:"number",value:u.workDaysPerWeek,onChange:w=>A({...u,workDaysPerWeek:parseInt(w.target.value)}),className:"w-full p-2 border rounded",min:"1",max:"7"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 rounded",style:{backgroundColor:e.muted+"20",color:e.muted},children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 rounded text-white",style:{backgroundColor:e.accent},children:o?"Update":"Save"})]})]})]})})]})},lke=({onBack:e,colors:t})=>{const[r,n]=k.useState("summary"),[a,s]=k.useState({startDate:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[o,l]=k.useState([]),[u,A]=k.useState(!1),[f,h]=k.useState([]),[p,g]=k.useState("all");k.useEffect(()=>{v(),x()},[]);const v=async()=>{try{const T=localStorage.getItem("authToken"),P=await vr.get("/api/staff",{headers:{Authorization:`Bearer ${T}`}});h(P.data.data||[])}catch(T){console.error("Error fetching staff:",T)}},x=async()=>{A(!0);try{const T=localStorage.getItem("authToken"),P=new URLSearchParams({startDate:a.startDate,endDate:a.endDate}),U=await vr.get(`/api/payroll?${P}`,{headers:{Authorization:`Bearer ${T}`}});l(U.data.data||[])}catch(T){console.error("Error fetching payroll data:",T),rr.error("Failed to fetch payroll data")}finally{A(!1)}},b=(T,P)=>{s(U=>({...U,[T]:P}))},w=()=>{x()},B=()=>{let T=o;return p!=="all"&&(T=T.filter(P=>P.staffId&&P.staffId._id===p)),T},j=()=>{const T=B(),P=T.reduce((R,Q)=>R+(Q.grossPay||Q.netPay||0),0),U=T.reduce((R,Q)=>R+(Q.netPay||0),0),D=T.reduce((R,Q)=>{var H,J;return R+(((H=Q.deductions)==null?void 0:H.late)||0)+(((J=Q.deductions)==null?void 0:J.absence)||0)},0),F=new Set(T.map(R=>R.staffId&&R.staffId._id).filter(R=>R)).size;return{totalGrossPay:P,totalNetPay:U,totalDeductions:D,totalEmployees:F,totalRecords:T.length}},_=()=>{const T=B(),P=j();return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:t.secondary+"10"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm",style:{color:t.muted},children:"Total Employees"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:t.secondary},children:P.totalEmployees})]}),i.jsx(Ly,{className:"text-2xl",style:{color:t.secondary}})]})}),i.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:t.accent+"10"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm",style:{color:t.muted},children:"Total Gross Pay"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:t.accent},children:["",P.totalGrossPay.toFixed(2)]})]}),i.jsx(wc,{className:"text-2xl",style:{color:t.accent}})]})}),i.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:t.primary+"10"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm",style:{color:t.muted},children:"Total Net Pay"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:t.primary},children:["",P.totalNetPay.toFixed(2)]})]}),i.jsx(Gae,{className:"text-2xl",style:{color:t.primary}})]})}),i.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:t.muted+"10"},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm",style:{color:t.muted},children:"Total Deductions"}),i.jsxs("p",{className:"text-2xl font-bold",style:{color:t.muted},children:["",P.totalDeductions.toFixed(2)]})]}),i.jsx(fw,{className:"text-2xl",style:{color:t.muted}})]})})]}),i.jsxs("div",{className:"rounded-lg overflow-hidden",style:{backgroundColor:t.background},children:[i.jsxs("div",{className:"p-4 border-b",style:{borderColor:t.muted+"20"},children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:t.primary},children:"Payroll Summary Report"}),i.jsxs("p",{className:"text-sm",style:{color:t.muted},children:[a.startDate," to ",a.endDate]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{style:{backgroundColor:t.muted+"10"},children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 text-sm font-medium",style:{color:t.primary},children:"Employee"}),i.jsx("th",{className:"text-left p-3 text-sm font-medium",style:{color:t.primary},children:"Position"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",style:{color:t.primary},children:"Basic Pay"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",style:{color:t.primary},children:"Overtime"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",style:{color:t.primary},children:"Bonuses"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",style:{color:t.primary},children:"Deductions"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",style:{color:t.primary},children:"Net Pay"}),i.jsx("th",{className:"text-center p-3 text-sm font-medium",style:{color:t.primary},children:"Period"})]})}),i.jsx("tbody",{children:T.map((U,D)=>{var F,R,Q,H,J,V,Y,ee,ie;return i.jsxs("tr",{className:"border-b",style:{borderColor:t.muted+"20"},children:["                    ",i.jsx("td",{className:"p-3",children:i.jsx("div",{children:i.jsx("p",{className:"font-medium",style:{color:t.primary},children:((F=U.staffId)==null?void 0:F.name)||"N/A"})})}),i.jsx("td",{className:"p-3",style:{color:t.muted},children:((R=U.staffId)==null?void 0:R.position)||"N/A"}),i.jsxs("td",{className:"p-3 text-right",style:{color:t.primary},children:["",((Q=U.basicPay)==null?void 0:Q.toFixed(2))||"0.00"]}),i.jsxs("td",{className:"p-3 text-right",style:{color:t.primary},children:["",((H=U.overtimePay)==null?void 0:H.toFixed(2))||"0.00"]}),i.jsxs("td",{className:"p-3 text-right",style:{color:t.secondary},children:["",((U.holidayPay||0)+(U.thirteenthMonthPay||0)+(((J=U.bonuses)==null?void 0:J.performance)||0)+(((V=U.bonuses)==null?void 0:V.other)||0)).toFixed(2)]}),i.jsxs("td",{className:"p-3 text-right",style:{color:t.accent},children:["",((((Y=U.deductions)==null?void 0:Y.late)||0)+(((ee=U.deductions)==null?void 0:ee.absence)||0)).toFixed(2)]}),i.jsxs("td",{className:"p-3 text-right font-semibold",style:{color:t.primary},children:["",((ie=U.netPay)==null?void 0:ie.toFixed(2))||"0.00"]}),i.jsx("td",{className:"p-3 text-center text-sm",style:{color:t.muted},children:new Date(U.payrollPeriod).toLocaleDateString("en-PH",{month:"short",year:"numeric"})})]},U._id)})})]})})]})]})},N=()=>{const T=B();return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"rounded-lg",style:{backgroundColor:t.background},children:[i.jsx("div",{className:"p-4 border-b",style:{borderColor:t.muted+"20"},children:i.jsx("h3",{className:"text-lg font-semibold",style:{color:t.primary},children:"Detailed Payroll Report"})}),i.jsx("div",{className:"p-4 space-y-4",children:T.map(P=>{var U,D,F,R,Q,H,J,V,Y;return i.jsxs("div",{className:"p-4 rounded-lg border",style:{borderColor:t.muted+"20"},children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:["                  ",i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",style:{color:t.primary},children:((U=P.staffId)==null?void 0:U.name)||"N/A"}),i.jsx("p",{className:"text-sm",style:{color:t.muted},children:((D=P.staffId)==null?void 0:D.position)||"N/A"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",style:{color:t.secondary},children:["",(F=P.netPay)==null?void 0:F.toFixed(2)]}),i.jsx("p",{className:"text-sm",style:{color:t.muted},children:new Date(P.payrollPeriod).toLocaleDateString("en-PH")})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Basic Pay"}),i.jsxs("p",{className:"font-medium",style:{color:t.primary},children:["",((R=P.basicPay)==null?void 0:R.toFixed(2))||"0.00"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Overtime"}),i.jsxs("p",{className:"font-medium",style:{color:t.primary},children:["",((Q=P.overtimePay)==null?void 0:Q.toFixed(2))||"0.00"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Hours Worked"}),i.jsxs("p",{className:"font-medium",style:{color:t.primary},children:[((H=P.totalHoursWorked)==null?void 0:H.toFixed(1))||"0.0","h"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"OT Hours"}),i.jsxs("p",{className:"font-medium",style:{color:t.primary},children:[((J=P.overtimeHours)==null?void 0:J.toFixed(1))||"0.0","h"]})]})]}),(P.holidayPay>0||P.thirteenthMonthPay>0||P.bonuses&&(P.bonuses.performance>0||P.bonuses.other>0))&&i.jsxs("div",{className:"mt-3 pt-3 border-t",style:{borderColor:t.muted+"20"},children:[i.jsx("p",{className:"text-xs font-medium mb-2",style:{color:t.secondary},children:"Bonuses & Benefits"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[P.holidayPay>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Holiday Pay"}),i.jsxs("p",{className:"font-medium",style:{color:t.secondary},children:["",P.holidayPay.toFixed(2)]})]}),P.thirteenthMonthPay>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"13th Month"}),i.jsxs("p",{className:"font-medium",style:{color:t.secondary},children:["",P.thirteenthMonthPay.toFixed(2)]})]}),((V=P.bonuses)==null?void 0:V.performance)>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Performance"}),i.jsxs("p",{className:"font-medium",style:{color:t.secondary},children:["",P.bonuses.performance.toFixed(2)]})]}),((Y=P.bonuses)==null?void 0:Y.other)>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs",style:{color:t.muted},children:"Other Bonus"}),i.jsxs("p",{className:"font-medium",style:{color:t.secondary},children:["",P.bonuses.other.toFixed(2)]})]})]})]})]},P._id)})})]})})},O=()=>{const T=B(),P=["Employee Name","Position","Period","Basic Pay","Overtime Pay","Holiday Pay","13th Month Pay","Performance Bonus","Other Bonus","Late Deductions","Absence Deductions","Net Pay"],U=T.map(H=>{var J,V,Y,ee,ie,z;return[((J=H.staffId)==null?void 0:J.name)||"N/A",((V=H.staffId)==null?void 0:V.position)||"N/A",new Date(H.payrollPeriod).toLocaleDateString("en-PH"),H.basicPay||0,H.overtimePay||0,H.holidayPay||0,H.thirteenthMonthPay||0,((Y=H.bonuses)==null?void 0:Y.performance)||0,((ee=H.bonuses)==null?void 0:ee.other)||0,((ie=H.deductions)==null?void 0:ie.late)||0,((z=H.deductions)==null?void 0:z.absence)||0,H.netPay||0]}),D=[P,...U].map(H=>H.map(J=>`"${J}"`).join(",")).join(`
`),F=new Blob([D],{type:"text/csv"}),R=window.URL.createObjectURL(F),Q=document.createElement("a");Q.href=R,Q.download=`payroll-report-${a.startDate}-to-${a.endDate}.csv`,Q.click(),rr.success("Report exported successfully")};return i.jsx("div",{className:"min-h-screen p-4",style:{backgroundColor:t.background},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:e,className:"mr-4 p-2 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:t.muted+"20"},children:i.jsx(W9,{className:"text-xl",style:{color:t.primary}})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold",style:{color:t.primary},children:[i.jsx(jd,{className:"inline mr-3"}),"Payroll Reports"]}),i.jsx("p",{className:"text-sm mt-1",style:{color:t.muted},children:"Generate and export payroll reports for your restaurant"})]})]}),i.jsxs("button",{onClick:O,className:"flex items-center px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:t.secondary,color:t.background},children:[i.jsx(Oy,{className:"mr-2"}),"Export CSV"]})]}),i.jsxs("div",{className:"p-4 rounded-lg mb-6",style:{backgroundColor:t.secondary+"10"},children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(fp,{className:"mr-2",style:{color:t.secondary}}),i.jsx("h3",{className:"font-semibold",style:{color:t.secondary},children:"Report Filters"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:t.primary},children:"Report Type"}),i.jsxs("select",{value:r,onChange:T=>n(T.target.value),className:"w-full p-2 rounded border focus:ring-2 focus:outline-none",style:{borderColor:t.muted+"60"},children:[i.jsx("option",{value:"summary",children:"Summary Report"}),i.jsx("option",{value:"detailed",children:"Detailed Report"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:t.primary},children:"Start Date"}),i.jsx("input",{type:"date",value:a.startDate,onChange:T=>b("startDate",T.target.value),className:"w-full p-2 rounded border focus:ring-2 focus:outline-none",style:{borderColor:t.muted+"60"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:t.primary},children:"End Date"}),i.jsx("input",{type:"date",value:a.endDate,onChange:T=>b("endDate",T.target.value),className:"w-full p-2 rounded border focus:ring-2 focus:outline-none",style:{borderColor:t.muted+"60"}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:t.primary},children:"Employee"}),i.jsxs("select",{value:p,onChange:T=>g(T.target.value),className:"w-full p-2 rounded border focus:ring-2 focus:outline-none",style:{borderColor:t.muted+"60"},children:[i.jsx("option",{value:"all",children:"All Employees"}),f.map(T=>i.jsx("option",{value:T._id,children:T.name},T._id))]})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("button",{onClick:w,className:"px-4 py-2 rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:t.accent,color:t.background},disabled:u,children:[i.jsx(vc,{className:"inline mr-2"}),u?"Loading...":"Apply Filters"]})})]}),u?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:t.accent}}),i.jsx("p",{className:"mt-4",style:{color:t.muted},children:"Loading payroll data..."})]}):i.jsx("div",{children:r==="summary"?_():N()})]})})},cke=()=>{var Oe,Ke,Me,bt,Jt,Vt,Be,Re,Ue,Qe,Ve,yt,Ht;Ud();const e={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"},[t,r]=k.useState(window.innerWidth);k.useEffect(()=>{const ze=()=>{r(window.innerWidth)};return window.addEventListener("resize",ze),()=>window.removeEventListener("resize",ze)},[]);const n=()=>t<768?"0":t>=1920?"8rem":"5rem",a=()=>{const ze=new Date;return`${ze.getFullYear()}-${(ze.getMonth()+1).toString().padStart(2,"0")}`},[s,o]=k.useState([]),[l,u]=k.useState(null),[A,f]=k.useState(a()),[h,p]=k.useState({totalHoursWorked:"0",overtimeHours:"0"}),[g,v]=k.useState({lateMinutes:0,absences:0}),[x,b]=k.useState([]),[w,B]=k.useState(!1),[j,_]=k.useState(!0),[N,O]=k.useState([]),[T,P]=k.useState(null),[U,D]=k.useState(!1),[F,R]=k.useState(!1),[Q,H]=k.useState(null),[J,V]=k.useState(!1),[Y,ee]=k.useState(null),[ie,z]=k.useState(null),[W,L]=k.useState(!1),[q,G]=k.useState(!0),[Z,te]=k.useState(!1),[fe,we]=k.useState({performance:0,other:0}),[he,ce]=k.useState(!1),xe=async()=>{var ze,Ge;try{const Rt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},{data:sr}=await vr.get("/api/staff?populate=payrollScheduleId",Rt);if(!Array.isArray(sr))throw new Error("Invalid staff data format");const pt=sr.filter(gt=>!["Terminated","Resigned","Suspended"].includes(gt.status)).map(gt=>({...gt,dailyRate:Number(gt.dailyRate)||0,allowances:Number(gt.allowances)||0}));if(o(pt),l){const gt=pt.find(et=>et._id===l._id);gt&&(u(gt),gt.payrollScheduleId&&H(gt.payrollScheduleId))}}catch(St){console.error("Error fetching employees:",St),rr.error(((Ge=(ze=St.response)==null?void 0:ze.data)==null?void 0:Ge.message)||"Failed to fetch staff data")}finally{_(!1)}};k.useEffect(()=>{xe()},[]),k.useEffect(()=>{(async()=>{var Ge,St;if(l)try{const sr={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},{data:Ye}=await vr.get(`/api/payroll/staff/${l._id}`,sr);b(Array.isArray(Ye.data)?Ye.data:[])}catch(Rt){console.error("Error fetching payment history:",Rt),rr.error(((St=(Ge=Rt.response)==null?void 0:Ge.data)==null?void 0:St.message)||"Failed to fetch payment history")}})()},[l]);const ge=async(ze,Ge,St)=>{var Rt,sr,Ye,pt;try{const gt=new URLSearchParams({startDate:new Date(Ge).toISOString(),endDate:new Date(St).toISOString()}),ft={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},ut=await vr.get(`/api/time-logs/staff/${ze}?${gt}`,ft);if(!((Rt=ut.data)!=null&&Rt.success))throw new Error("Failed to fetch time logs");const tr=ut.data.data||[];O(tr);const Kt=await vr.get(`/api/time-logs/staff/${ze}/hours?${gt}`,ft);if(!((sr=Kt.data)!=null&&sr.success))throw new Error("Failed to calculate working hours");const Ct=Kt.data.data;P(Ct),p({totalHoursWorked:Ct.totalHours.toString(),overtimeHours:Ct.overtimeHours.toString()})}catch(gt){console.error("Error fetching time logs and hours:",gt),rr.error(((pt=(Ye=gt.response)==null?void 0:Ye.data)==null?void 0:pt.message)||"Failed to fetch time logs"),O([]),P(null),p({totalHoursWorked:"0",overtimeHours:"0"})}},Pe=()=>{var Vr;if(!l)return{netPay:0};const ze=Number(l.dailyRate)||0,Ge=Number(l.allowances)||0,St=h.totalHoursWorked?Number(h.totalHoursWorked):0,Rt=h.overtimeHours?Number(h.overtimeHours):0,sr=St>0?St:T?Number(T.totalHours):0,Ye=Rt>0?Rt:T?Number(T.overtimeHours):0,pt=Math.max(0,sr-Ye),gt=ze/8,et=((Vr=l.payrollScheduleId)==null?void 0:Vr.overtimeMultiplier)||1.25,ft=pt*gt,ut=Ye*(gt*et),tr=q&&Y&&Number(Y.totalHolidayPay)||0,Kt=Z&&ie&&Number(ie.calculation.amount)||0,Ct=Number(fe.performance)||0,$r=Number(fe.other)||0,qr=tr+Kt+Ct+$r,lr=Number(g.lateMinutes)||0,cr=Number(g.absences)||0,Zt=lr*(gt/60),mr=cr*ze,on=Zt+mr,Ur=ft+ut+Ge+qr-on;return{netPay:isNaN(Ur)?0:Number(Ur.toFixed(2)),regularPay:ft,overtimePay:ut,holidayPay:tr,thirteenthMonthPay:Kt,performanceBonus:Ct,otherBonus:$r,totalBonuses:qr,lateDeduction:Zt,absenceDeduction:mr,totalDeductions:on,allowances:Ge,dailyRate:ze,regularHours:pt,overtimeHours:Ye,totalHours:sr}},ke=async()=>{var ze,Ge;if(!(!l||!A))try{const{netPay:St,regularPay:Rt,overtimePay:sr,holidayPay:Ye,thirteenthMonthPay:pt,performanceBonus:gt,otherBonus:et,lateDeduction:ft,absenceDeduction:ut,regularHours:tr,overtimeHours:Kt,totalHours:Ct}=Pe(),qr={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},{data:lr}=await vr.post("/api/payroll/create-with-bonuses",{staffId:l._id,payrollPeriod:new Date(A),basicPay:Rt,overtimePay:sr,totalHoursWorked:Ct,overtimeHours:Kt,allowances:l.allowances,holidayPay:q?Ye:0,thirteenthMonthPay:Z?pt:0,bonuses:{holiday:q?Ye:0,performance:gt,other:et},holidaysWorked:q&&(Y!=null&&Y.holidaysInPeriod)?Y.holidaysInPeriod.map(cr=>({date:cr.date,name:cr.name,type:cr.type,multiplier:cr.multiplier,pay:cr.pay||0})):[],deductions:{late:ft,absence:ut},netPay:St,timeLogs:N.map(cr=>cr._id)},qr);if(lr!=null&&lr.success)b([...x,lr.data]),rr.success("Payroll generated successfully"),v({lateMinutes:0,absences:0});else throw new Error("Failed to save payroll")}catch(St){console.error("Payroll submission error:",St),rr.error(((Ge=(ze=St.response)==null?void 0:ze.data)==null?void 0:Ge.message)||"Failed to generate payroll")}},se=async()=>{var ze,Ge,St;if(!l||!A){rr.error("Please select an employee and payroll period first");return}try{if(!window.confirm("This will create sample time log data for testing purposes. Continue?"))return;_(!0);const Rt=new Date(A);Rt.setDate(1);const sr=new Date(A);sr.setMonth(sr.getMonth()+1,0);const pt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},gt=await vr.post("/api/time-logs/generate-test-data",{staffId:l._id,startDate:Rt.toISOString(),endDate:sr.toISOString(),daysToGenerate:21,hoursPerDay:8,includeOvertimeInSomeDays:!0},pt);if((ze=gt.data)!=null&&ze.success)rr.success(`Generated ${gt.data.count} test time logs`),ge(l._id,Rt,sr);else throw new Error("Failed to generate test data")}catch(Rt){console.error("Error generating test data:",Rt),rr.error(((St=(Ge=Rt.response)==null?void 0:Ge.data)==null?void 0:St.message)||"Failed to generate test data")}finally{_(!1)}},Et=ze=>{const Ge={year:"numeric",month:"long"};return new Date(ze).toLocaleDateString("en-PH",Ge)},Qt=ze=>new Date(ze).toLocaleDateString("en-PH"),It=()=>{R(!F),U&&!F&&D(!1)},nt=ze=>{H(ze),V(!1),l&&ze&&ye(l._id,ze._id),rr.success(`Payroll schedule "${ze.name}" selected`)},ye=async(ze,Ge)=>{var St,Rt;try{const Ye={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}};await vr.put(`/api/staff/${ze}`,{payrollScheduleId:Ge},Ye),xe()}catch(sr){console.error("Error updating employee schedule:",sr),rr.error(((Rt=(St=sr.response)==null?void 0:St.data)==null?void 0:Rt.message)||"Failed to update employee schedule")}},re=async(ze,Ge,St)=>{var Rt;try{const Ye={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},pt=await vr.post("/api/payroll/calculate-holiday-pay",{staffId:ze,startDate:Ge.toISOString(),endDate:St.toISOString()},Ye);(Rt=pt.data)!=null&&Rt.success&&ee(pt.data.data)}catch(sr){console.error("Error fetching holiday data:",sr),ee(null)}},_e=async(ze,Ge)=>{var St;try{const sr={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},Ye=await vr.post("/api/payroll/calculate-13th-month",{staffId:ze,year:Ge},sr);(St=Ye.data)!=null&&St.success&&(z(Ye.data.data),Ye.data.data.calculation.isPayoutPeriod&&te(!0))}catch(Rt){console.error("Error fetching 13th month data:",Rt),z(null)}};return k.useEffect(()=>{if(l&&A){const ze=new Date(A);ze.setDate(1);const Ge=new Date(A);Ge.setMonth(Ge.getMonth()+1,0),ge(l._id,ze,Ge),re(l._id,ze,Ge);const St=new Date(A).getFullYear();_e(l._id,St)}},[l,A]),i.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:e.background},children:[i.jsx("div",{className:"flex-1 transition-all duration-300",style:{marginLeft:n(),paddingTop:t<768?"4rem":"0"},children:i.jsx("div",{className:"p-6 md:p-8 pt-24 md:pt-8",children:he?i.jsx(lke,{onBack:()=>ce(!1),colors:e}):i.jsxs(i.Fragment,{children:[i.jsxs("h1",{className:"text-3xl font-bold mb-6",style:{color:e.primary},children:[i.jsx(wc,{className:"inline mr-2"}),"Payroll Management"]}),j?i.jsx("div",{className:"text-center",style:{color:e.primary},children:"Loading payroll data..."}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 flex flex-col gap-6",children:[i.jsxs("div",{className:"rounded-lg p-4 shadow-sm",style:{backgroundColor:e.primary},children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",style:{color:e.background},children:[i.jsx(_l,{className:"inline mr-2"}),"Employees"]}),i.jsx("div",{className:"space-y-2",children:s.map(ze=>i.jsxs("div",{onClick:()=>u(ze),className:`p-3 rounded cursor-pointer transition-colors ${(l==null?void 0:l._id)===ze._id?"ring-2 ring-opacity-50":"hover:ring-2 hover:ring-opacity-30"}`,style:{backgroundColor:e.background,color:e.primary,ringColor:e.accent},children:["                        ",i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tm,{imagePath:ze.profilePicture,alt:`${ze.name}'s photo`,size:40,className:"border rounded-sm"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ze.name}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:ze.position})]})]})]},ze._id))})]}),l&&i.jsxs("div",{className:"rounded-lg p-4 shadow-sm",style:{border:`1px solid ${e.muted}`},children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",style:{color:e.primary},children:[i.jsx(Es,{className:"inline mr-2"}),"Time Log History"]}),i.jsx("div",{className:"overflow-y-auto max-h-96",style:{scrollbarWidth:"thin"},children:i.jsx(ske,{timeLogs:N,colors:e})})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("div",{className:"rounded-lg p-6 shadow-sm mb-6",style:{border:`1px solid ${e.muted}`},children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold",style:{color:e.primary},children:[i.jsx(vc,{className:"inline mr-2"}),"Payroll Period"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>ce(!0),className:"px-3 py-1 rounded text-sm font-medium flex items-center",style:{backgroundColor:e.accent,color:"white",fontSize:"0.75rem"},title:"View payroll reports",children:[i.jsx(jd,{className:"mr-1"}),"Reports"]}),i.jsxs("button",{onClick:()=>V(!0),className:"px-3 py-1 rounded text-sm font-medium flex items-center",style:{backgroundColor:e.secondary,color:"white",fontSize:"0.75rem"},title:"Manage payroll schedules",children:[i.jsx(vc,{className:"mr-1"}),"Manage Schedules"]}),i.jsxs("button",{onClick:se,className:"px-3 py-1 rounded text-sm font-medium flex items-center hidden",style:{backgroundColor:"#666",color:"white",fontSize:"0.75rem"},title:"Generate test time log data for the selected period",children:[i.jsx(BEe,{className:"mr-1"}),"Generate Test Data"]})]})]}),i.jsx("input",{type:"month",value:A,onChange:ze=>f(ze.target.value),className:"w-full p-2 rounded border mb-4",style:{borderColor:e.muted},required:!0}),l&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-opacity-10 p-4 rounded mb-4",style:{backgroundColor:e.primary+"15"},children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("h3",{className:"font-medium",style:{color:e.primary},children:[i.jsx(vc,{className:"inline mr-2"}),"Payroll Schedule"]}),l.payrollScheduleId&&i.jsx("button",{onClick:()=>V(!0),className:"text-xs px-2 py-1 rounded",style:{backgroundColor:e.secondary+"20",color:e.secondary},children:"Change Schedule"})]}),l.payrollScheduleId?i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium",style:{color:e.secondary},children:l.payrollScheduleId.name||"Schedule information not available"}),l.payrollScheduleId.type&&i.jsxs("p",{style:{color:e.muted},children:["Type: ",l.payrollScheduleId.type.charAt(0).toUpperCase()+l.payrollScheduleId.type.slice(1)," payment"]})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm italic",style:{color:e.muted},children:"No schedule assigned"}),i.jsx("button",{onClick:()=>V(!0),className:"text-xs px-2 py-1 rounded",style:{backgroundColor:e.primary,color:"white"},children:"Assign Schedule"})]})]}),T&&i.jsxs("div",{className:"bg-opacity-10 p-4 rounded mb-6",style:{backgroundColor:e.secondary+"15"},children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("h3",{className:"font-medium",style:{color:e.primary},children:[i.jsx(Es,{className:"inline mr-2"}),"Working Hours Summary"]}),i.jsxs("button",{onClick:It,className:"px-3 py-1 rounded text-sm font-medium flex items-center",style:{backgroundColor:F?e.accent:e.primary+"50",color:F?"white":e.primary},title:F?"View mode":"Edit mode",children:[i.jsx(C3,{className:"mr-1"}),F?"View Mode":"Edit Mode"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:e.primary+"15"},children:[i.jsx("p",{className:"text-sm",style:{color:e.muted},children:"Regular Hours"}),i.jsx("p",{className:"text-xl font-medium",style:{color:e.primary},children:T.regularHours.toFixed(1)})]}),i.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:e.accent+"15"},children:[i.jsx("p",{className:"text-sm",style:{color:e.muted},children:"Overtime Hours"}),i.jsx("p",{className:"text-xl font-medium",style:{color:e.accent},children:T.overtimeHours.toFixed(1)})]}),i.jsxs("div",{className:"p-2 rounded",style:{backgroundColor:e.secondary+"15"},children:[i.jsx("p",{className:"text-sm",style:{color:e.muted},children:"Total Hours"}),i.jsx("p",{className:"text-xl font-medium",style:{color:e.secondary},children:T.totalHours.toFixed(1)})]})]}),i.jsxs("p",{className:"text-xs mt-2 text-center",style:{color:e.muted},children:["Hours calculated from ",T.logs," time log entries for ",Et(A)]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:e.muted+"10"},children:[i.jsxs("h3",{className:"font-medium mb-3",style:{color:e.secondary},children:[i.jsx(Es,{className:"inline mr-2"}),"Manual Hours Adjustment"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Total Hours:"}),F?i.jsx("input",{type:"number",value:h.totalHoursWorked,onChange:ze=>p({...h,totalHoursWorked:ze.target.value}),className:"w-24 p-1 text-right border rounded",style:{borderColor:e.muted},min:"0",placeholder:T?T.totalHours.toString():"0"}):i.jsx("span",{className:"font-medium",style:{color:e.primary},children:T?T.totalHours.toFixed(2):"0.00"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Overtime Hours:"}),F?i.jsx("input",{type:"number",value:h.overtimeHours,onChange:ze=>p({...h,overtimeHours:ze.target.value}),className:"w-24 p-1 text-right border rounded",style:{borderColor:e.muted},min:"0",placeholder:T?T.overtimeHours.toString():"0"}):i.jsx("span",{className:"font-medium",style:{color:e.accent},children:T?T.overtimeHours.toFixed(2):"0.00"})]}),F&&i.jsx("p",{className:"text-xs italic",style:{color:e.accent},children:"Only adjust these values if time logs are incomplete or require manual correction"})]})]}),i.jsxs("div",{className:"p-3 rounded",style:{backgroundColor:e.muted+"10"},children:[i.jsxs("h3",{className:"font-medium mb-3",style:{color:e.secondary},children:[i.jsx(jd,{className:"inline mr-2"}),"Deductions"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Late Minutes:"}),F?i.jsx("input",{type:"number",value:g.lateMinutes,onChange:ze=>v({...g,lateMinutes:Number(ze.target.value)}),className:"w-24 p-1 text-right border rounded",style:{borderColor:e.muted},min:"0"}):i.jsx("span",{className:"font-medium",style:{color:g.lateMinutes>0?e.accent:e.primary},children:g.lateMinutes})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{children:"Absences:"}),F?i.jsx("input",{type:"number",value:g.absences,onChange:ze=>v({...g,absences:Number(ze.target.value)}),className:"w-24 p-1 text-right border rounded",style:{borderColor:e.muted},min:"0"}):i.jsx("span",{className:"font-medium",style:{color:g.absences>0?e.accent:e.primary},children:g.absences}),"                            "]})]})]})]}),i.jsxs("div",{className:"p-3 rounded mb-4",style:{backgroundColor:e.secondary+"10"},children:[i.jsxs("h3",{className:"font-medium mb-3",style:{color:e.secondary},children:[i.jsx(tie,{className:"inline mr-2"}),"Bonuses & Holiday Pay"]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"includeHolidayPay",checked:q,onChange:ze=>G(ze.target.checked),className:"mr-2"}),i.jsx("label",{htmlFor:"includeHolidayPay",className:"font-medium",children:"Include Holiday Pay"})]}),Y&&i.jsx("button",{onClick:()=>L(!W),className:"text-sm px-2 py-1 rounded",style:{backgroundColor:e.accent+"20",color:e.accent},children:W?"Hide Details":"Show Details"})]}),Y&&i.jsxs("div",{className:"text-sm",style:{color:e.muted},children:["Found ",((Oe=Y.holidaysInPeriod)==null?void 0:Oe.length)||0," holidays in period",q&&i.jsxs("span",{className:"ml-2 font-medium",style:{color:e.secondary},children:["(",((Ke=Y.totalHolidayPay)==null?void 0:Ke.toFixed(2))||"0.00",")"]})]}),W&&(Y==null?void 0:Y.holidaysInPeriod)&&i.jsxs("div",{className:"mt-2 p-2 rounded",style:{backgroundColor:e.background},children:[i.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:e.primary},children:"Holiday Details:"}),Y.holidaysInPeriod.map((ze,Ge)=>i.jsxs("div",{className:"text-xs mb-1 flex justify-between",children:[i.jsxs("span",{children:[ze.name," (",new Date(ze.date).toLocaleDateString(),")"]}),i.jsxs("span",{style:{color:e.accent},children:[ze.multiplier,"x - ",(ze.pay||0).toFixed(2)]})]},Ge))]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"include13thMonth",checked:Z,onChange:ze=>te(ze.target.checked),className:"mr-2"}),i.jsx("label",{htmlFor:"include13thMonth",className:"font-medium",children:"Include 13th Month Pay"})]}),(ie==null?void 0:ie.calculation.isPayoutPeriod)&&i.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:e.accent+"20",color:e.accent},children:"Payout Period"})]}),ie&&i.jsxs("div",{className:"text-sm",style:{color:e.muted},children:["Annual Basic: ",((Me=ie.calculation.annualBasicSalary)==null?void 0:Me.toFixed(2))||"0.00",Z&&i.jsxs("span",{className:"ml-2 font-medium",style:{color:e.secondary},children:["(",((bt=ie.calculation.amount)==null?void 0:bt.toFixed(2))||"0.00",")"]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-sm font-medium",style:{color:e.primary},children:[i.jsx(uie,{className:"inline mr-1"}),"Additional Bonuses"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",style:{color:e.muted},children:"Performance Bonus:"}),i.jsx("input",{type:"number",value:fe.performance,onChange:ze=>we({...fe,performance:Number(ze.target.value)||0}),className:"w-full p-1 mt-1 border rounded text-right",style:{borderColor:e.muted},min:"0",placeholder:"0.00"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm",style:{color:e.muted},children:"Other Bonus:"}),i.jsx("input",{type:"number",value:fe.other,onChange:ze=>we({...fe,other:Number(ze.target.value)||0}),className:"w-full p-1 mt-1 border rounded text-right",style:{borderColor:e.muted},min:"0",placeholder:"0.00"})]})]})]})]}),"                      ",i.jsxs("div",{className:"bg-opacity-10 p-4 rounded mb-4",style:{backgroundColor:e.accent+"15"},children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{children:"Daily Rate:"}),i.jsxs("span",{children:["",(Jt=l.dailyRate)==null?void 0:Jt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{children:"Regular Hours Pay:"}),i.jsxs("span",{children:["",(Vt=Pe().regularPay)==null?void 0:Vt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{children:"Overtime Pay:"}),i.jsxs("span",{children:["",(Be=Pe().overtimePay)==null?void 0:Be.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{children:"Allowances:"}),i.jsxs("span",{children:["",(Re=l.allowances)==null?void 0:Re.toFixed(2)]})]}),(Pe().holidayPay>0||Pe().thirteenthMonthPay>0||Pe().performanceBonus>0||Pe().otherBonus>0)&&i.jsxs(i.Fragment,{children:[i.jsx("hr",{className:"my-2",style:{borderColor:e.muted+"30"}}),Pe().holidayPay>0&&i.jsxs("div",{className:"flex justify-between items-center mb-2",style:{color:e.secondary},children:[i.jsx("span",{children:"Holiday Pay:"}),i.jsxs("span",{children:["",(Ue=Pe().holidayPay)==null?void 0:Ue.toFixed(2)]})]}),Pe().thirteenthMonthPay>0&&i.jsxs("div",{className:"flex justify-between items-center mb-2",style:{color:e.secondary},children:[i.jsx("span",{children:"13th Month Pay:"}),i.jsxs("span",{children:["",(Qe=Pe().thirteenthMonthPay)==null?void 0:Qe.toFixed(2)]})]}),Pe().performanceBonus>0&&i.jsxs("div",{className:"flex justify-between items-center mb-2",style:{color:e.secondary},children:[i.jsx("span",{children:"Performance Bonus:"}),i.jsxs("span",{children:["",(Ve=Pe().performanceBonus)==null?void 0:Ve.toFixed(2)]})]}),Pe().otherBonus>0&&i.jsxs("div",{className:"flex justify-between items-center mb-2",style:{color:e.secondary},children:[i.jsx("span",{children:"Other Bonus:"}),i.jsxs("span",{children:["",(yt=Pe().otherBonus)==null?void 0:yt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2 font-medium",style:{color:e.secondary},children:[i.jsx("span",{children:"Total Bonuses:"}),i.jsxs("span",{children:["",(Ht=Pe().totalBonuses)==null?void 0:Ht.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",style:{color:e.accent},children:[i.jsx("span",{children:"Deductions:"}),i.jsxs("span",{children:["- ",(Pe().lateDeduction+Pe().absenceDeduction).toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center font-semibold pt-2",children:[i.jsx("span",{style:{color:e.secondary},children:"Net Pay:"}),i.jsxs("span",{style:{color:e.secondary},children:["",Pe().netPay.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("button",{onClick:ke,className:"w-full py-2 rounded font-semibold transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:e.accent,color:e.background},disabled:!A,children:[i.jsx(Fy,{className:"inline mr-2"}),"Generate Payslip"]}),i.jsxs("button",{onClick:()=>B(!0),className:"w-full py-2 rounded font-semibold transition-opacity hover:opacity-90",style:{backgroundColor:e.primary,color:e.background},children:[i.jsx(_l,{className:"inline mr-2"}),"View Work ID"]})]})]})]}),i.jsxs("div",{className:"rounded-lg p-6 shadow-sm",style:{border:`1px solid ${e.muted}`},children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",style:{color:e.primary},children:"Payment History"}),i.jsx("div",{className:"space-y-2",children:x.length>0?x.map(ze=>{var Ge,St;return i.jsxs("div",{className:"p-3 rounded flex justify-between items-center",style:{backgroundColor:e.background,border:`1px solid ${e.muted}`},children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(Ge=ze.staffId)==null?void 0:Ge.name}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:Et(ze.payrollPeriod)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold",style:{color:e.secondary},children:["",(St=ze.netPay)==null?void 0:St.toFixed(2)]}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:Qt(ze.createdAt)})]})]},ze._id)}):i.jsx("div",{className:"text-center py-4",style:{color:e.muted},children:"No payment history available"})}),"                "]})]})]})]})})}),w&&l&&i.jsx(sW,{staff:l,onClose:()=>B(!1),colors:e}),J&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-11/12 md:w-3/4 lg:w-2/3 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold",style:{color:e.primary},children:[i.jsx(vc,{className:"inline mr-2"}),"Payroll Schedule Management"]}),i.jsx("button",{onClick:()=>V(!1),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx(oke,{colors:e,onScheduleSelect:nt})]})}),i.jsx("style",{children:`
        input[type='number']::-webkit-inner-spin-button,
        input[type='number']::-webkit-outer-spin-button {
          -webkit-appearance: none;
          margin: 0;
        }
        
        /* Custom scrollbar styles */
        .overflow-y-auto::-webkit-scrollbar {
          width: 6px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-track {
          background: ${e.muted+"20"};
          border-radius: 4px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb {
          background: ${e.primary+"40"};
          border-radius: 4px;
        }
        
        .overflow-y-auto::-webkit-scrollbar-thumb:hover {
          background: ${e.primary+"60"};
        }
        `})]})},uke=({isOpen:e,onClose:t,staff:r,colors:n,onTerminate:a})=>{const[s,o]=k.useState({terminationReason:"",terminationNotes:"",finalWorkDate:new Date().toISOString().split("T")[0],isEligibleForRehire:!0}),[l,u]=k.useState(!1),A=["Resignation - Personal Reasons","Resignation - Better Opportunity","Resignation - Relocation","Termination - Performance Issues","Termination - Misconduct","Termination - Attendance Issues","Termination - Policy Violation","Termination - Redundancy","Contract Ended","Mutual Agreement","Other"],f=async p=>{if(p.preventDefault(),!s.terminationReason){alert("Please select a termination reason");return}u(!0);try{await a(r._id,s),t(),o({terminationReason:"",terminationNotes:"",finalWorkDate:new Date().toISOString().split("T")[0],isEligibleForRehire:!0})}catch(g){console.error("Error terminating staff:",g)}finally{u(!1)}},h=p=>{const{name:g,value:v,type:x,checked:b}=p.target;o(w=>({...w,[g]:x==="checkbox"?b:v}))};return e?i.jsx(Ss,{children:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs(nr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b",style:{borderColor:n.muted+"30"},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full",style:{backgroundColor:n.accent+"20"},children:i.jsx(p4,{style:{color:n.accent},size:20})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold",style:{color:n.primary},children:"Process Staff Departure"}),i.jsx("p",{className:"text-sm",style:{color:n.muted},children:r==null?void 0:r.name})]})]}),i.jsx("button",{onClick:t,className:"p-1 rounded hover:bg-gray-100",disabled:l,children:i.jsx(wi,{size:20})})]}),i.jsxs("form",{onSubmit:f,className:"p-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:n.primary},children:[i.jsx(jd,{className:"inline mr-1"}),"Reason for Departure *"]}),i.jsxs("select",{name:"terminationReason",value:s.terminationReason,onChange:h,className:"w-full p-3 border rounded-lg",style:{borderColor:n.muted},required:!0,children:[i.jsx("option",{value:"",children:"Select a reason..."}),A.map(p=>i.jsx("option",{value:p,children:p},p))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:n.primary},children:[i.jsx(vc,{className:"inline mr-1"}),"Final Work Date"]}),i.jsx("input",{type:"date",name:"finalWorkDate",value:s.finalWorkDate,onChange:h,className:"w-full p-3 border rounded-lg",style:{borderColor:n.muted},max:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:n.primary},children:[i.jsx(jd,{className:"inline mr-1"}),"Additional Notes"]}),i.jsx("textarea",{name:"terminationNotes",value:s.terminationNotes,onChange:h,placeholder:"Optional: Additional details about the departure...",className:"w-full p-3 border rounded-lg resize-none",style:{borderColor:n.muted},rows:"3",maxLength:"500"}),i.jsxs("div",{className:"text-xs text-right mt-1",style:{color:n.muted},children:[s.terminationNotes.length,"/500"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("input",{type:"checkbox",name:"isEligibleForRehire",id:"isEligibleForRehire",checked:s.isEligibleForRehire,onChange:h,className:"w-4 h-4",style:{accentColor:n.primary}}),i.jsx("label",{htmlFor:"isEligibleForRehire",className:"text-sm",style:{color:n.primary},children:"Eligible for future rehire"})]}),i.jsx("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:n.accent+"10",borderLeftColor:n.accent},children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(p4,{style:{color:n.accent},className:"flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",style:{color:n.accent},children:"Important Notice"}),i.jsx("p",{className:"text-xs mt-1",style:{color:n.muted},children:"This action will deactivate the staff member's account and prevent access to the system. All employment records and history will be preserved. The staff member can be reactivated later if needed."})]})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(Br,{type:"button",onClick:t,variant:"ghost",disabled:l,children:"Cancel"}),i.jsx(Br,{type:"submit",variant:"accent",disabled:l||!s.terminationReason,children:l?"Processing...":"Process Departure"})]})]})]})})}):null},Ake=()=>{Ud();const[e,t]=k.useState(window.innerWidth),[r,n]=k.useState([]),[a,s]=k.useState(!0),[o,l]=k.useState(!1),[u,A]=k.useState(null),[f,h]=k.useState(!1),[p,g]=k.useState(!1),[v,x]=k.useState(!1),[b,w]=k.useState({}),[B,j]=k.useState(!1),[_,N]=k.useState(null),[O,T]=k.useState("Active"),[P,U]=k.useState(""),[D,F]=k.useState(1),[R]=k.useState(12),Q=["Active","On Leave","Inactive"],H=["All","Active","On Leave","Inactive","Terminated","Resigned","Suspended"],J=["Cashier","Inventory Staff","Shift Manager","General Manager","Admin","Barista","Chef","Server","Cook"],[V,Y]=k.useState({name:"",position:"",profilePicture:"",phone:"",dailyRate:"",status:"Active",sssNumber:"",tinNumber:"",philHealthNumber:"",pinCode:"0000",username:"",email:"",password:"",confirmPassword:""});k.useEffect(()=>{(async()=>{var Oe,Ke;try{s(!0);const Me=new Promise((Qe,Ve)=>setTimeout(()=>Ve(new Error("Request timed out")),1e4)),bt=localStorage.getItem("authToken");console.log("Using auth token:",bt?"Found token":"No token");const Jt={headers:{Authorization:bt?`Bearer ${bt}`:""},withCredentials:!0},Vt=vr.get("/api/staff",Jt),Be=await Promise.race([Vt,Me]);let Re=Array.isArray(Be.data)?Be.data:[];console.log("Raw staff data:",Re);const Ue=Re.map(Qe=>{const Ve=Qe.userId||{};return{_id:Qe._id||`temp-${Date.now()}-${Math.random()}`,name:Qe.name||"",position:Qe.position||"",email:Qe.email||Ve.email||"",username:Qe.username||Ve.username||"",userId:Qe.userId||null,phone:Qe.phone||"",dailyRate:Qe.dailyRate||0,status:Qe.status||"Active",password:"",pinCode:Qe.pinCode?String(Qe.pinCode):"0000",profilePicture:Qe.profilePicture||"",sssNumber:Qe.sssNumber||"",tinNumber:Qe.tinNumber||"",philHealthNumber:Qe.philHealthNumber||"",terminationInfo:Qe.terminationInfo||null,reactivationInfo:Qe.reactivationInfo||null}});console.log("Normalized staff data:",Ue),n(Ue)}catch(Me){console.error("Error fetching staff:",Me),rr.error(((Ke=(Oe=Me.response)==null?void 0:Oe.data)==null?void 0:Ke.message)||"Failed to fetch staff data"),n([])}finally{s(!1)}})();const _e=()=>{t(window.innerWidth),window.innerWidth>=768&&setIsSidebarOpen(!0)};return window.addEventListener("resize",_e),()=>window.removeEventListener("resize",_e)},[]);const ee=re=>{const _e=re.target.files[0];if(_e){if(_e.size>2*1024*1024){rr.error("Image too large. Maximum size is 2MB.");return}const Oe=new FileReader;Oe.onloadend=()=>{Y(Ke=>({...Ke,profilePicture:Oe.result})),console.log("Image uploaded successfully as base64")},Oe.onerror=()=>{rr.error("Failed to read the image file.")},Oe.readAsDataURL(_e)}},ie=re=>{const{name:_e,value:Oe}=re.target;if(["phone","sssNumber","tinNumber","philHealthNumber"].includes(_e)){const Ke=Oe.replace(/\D/g,"");Y(Me=>({...Me,[_e]:Ke}));return}Y(Ke=>({...Ke,[_e]:Oe}))},z=(re,_e=null)=>!r.find(Ke=>Ke.pinCode===re&&(!_e||Ke._id!==_e)),W=()=>{const re={};return V.username.trim()?V.username.includes(" ")&&(re.username="Username cannot contain spaces"):re.username="Username is required",V.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V.email)||(re.email="Invalid email format"):re.email="Email is required",V.password.trim()?V.password.length<8&&(re.password="Password must be at least 8 characters"):re.password="Password is required",V.confirmPassword.trim()?V.password!==V.confirmPassword&&(re.confirmPassword="Passwords do not match"):re.confirmPassword="Please confirm your password",V.pinCode.trim()?/^\d{4,6}$/.test(V.pinCode)?z(V.pinCode,f?u==null?void 0:u._id:null)||(re.pinCode="PIN code already in use by another staff member"):re.pinCode="PIN must be 4-6 digits":re.pinCode="PIN code is required",V.name.trim()||(re.name="Name is required"),V.position||(re.position="Position is required"),V.phone.trim()||(re.phone="Phone number is required"),/^0\d{10}$/.test(V.phone)||(re.phone="Invalid phone number format (e.g., 09123456789)"),V.dailyRate||(re.dailyRate="Daily rate is required"),Object.values(re).forEach(_e=>{rr.error(_e)}),w(re),Object.keys(re).length===0},L=()=>{const re={};return V.pinCode.trim()?/^\d{4,6}$/.test(V.pinCode)?z(V.pinCode,f?u==null?void 0:u._id:null)||(re.pinCode="PIN code already in use by another staff member"):re.pinCode="PIN must be 4-6 digits":re.pinCode="PIN code is required",V.name.trim()||(re.name="Name is required"),V.position||(re.position="Position is required"),V.phone.trim()||(re.phone="Phone number is required"),/^0\d{10}$/.test(V.phone)||(re.phone="Invalid phone number format (e.g., 09123456789)"),V.dailyRate||(re.dailyRate="Daily rate is required"),Object.values(re).forEach(_e=>{rr.error(_e)}),w({...b,...re}),Object.keys(re).length===0},q=()=>{const re={};return V.username.trim()?V.username.includes(" ")&&(re.username="Username cannot contain spaces"):re.username="Username is required",V.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V.email)||(re.email="Invalid email format"):re.email="Email is required",!f&&!V.password.trim()?re.password="Password is required":V.password.trim()&&V.password.length<8&&(re.password="Password must be at least 8 characters"),V.password.trim()&&!V.confirmPassword.trim()?re.confirmPassword="Please confirm your password":V.password.trim()&&V.password!==V.confirmPassword&&(re.confirmPassword="Passwords do not match"),Object.values(re).forEach(_e=>{rr.error(_e)}),w({...b,...re}),Object.keys(re).length===0},G=async()=>{var re,_e;if(W())try{const Oe={...V,username:V.username.toLowerCase(),email:V.email.toLowerCase()},Ke=localStorage.getItem("authToken"),Me={headers:{Authorization:Ke?`Bearer ${Ke}`:"","Content-Type":"application/json"},withCredentials:!0};console.log("Sending staff creation request");const bt=await vr.post("/api/staff",Oe,Me);n([...r,bt.data]),nt(),rr.success("Staff member added successfully")}catch(Oe){console.error("Error adding staff:",Oe);const Ke=((_e=(re=Oe.response)==null?void 0:re.data)==null?void 0:_e.message)||Oe.message||"Failed to add staff member";rr.error(Ke)}},Z=re=>{var Me,bt,Jt,Vt;h(!0),A(re);const _e=((Me=re.userId)==null?void 0:Me.email)||re.email||"",Oe=((bt=re.userId)==null?void 0:bt.username)||re.username||"";console.log("Loading staff member:",{id:re._id,name:re.name,username:Oe,email:_e,pinCode:re.pinCode||"0000"});const Ke=re.pinCode?String(re.pinCode):"0000";Y({...re,username:Oe,email:_e,password:"",phone:((Jt=re.phone)==null?void 0:Jt.replace("+63","0"))||"",dailyRate:((Vt=re.dailyRate)==null?void 0:Vt.toString())||"",pinCode:Ke,name:re.name||"",position:re.position||"",profilePicture:re.profilePicture||"",status:re.status||"Active",sssNumber:re.sssNumber||"",tinNumber:re.tinNumber||"",philHealthNumber:re.philHealthNumber||""})},te=async()=>{var re,_e;try{if(!W())return;console.log("Saving staff with PIN code:",V.pinCode);const Oe=V.pinCode?String(V.pinCode):"0000",Ke={username:V.username,email:V.email,password:V.password,name:V.name,position:V.position,profilePicture:V.profilePicture,phone:V.phone,dailyRate:V.dailyRate,status:V.status,sssNumber:V.sssNumber||"",tinNumber:V.tinNumber||"",philHealthNumber:V.philHealthNumber||"",pinCode:Oe};console.log("Sending payload with PIN code:",Ke.pinCode);const bt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},Jt=await vr.put(`/api/staff/${u._id}`,Ke,bt);console.log("Server response after update:",Jt.data);const Vt={...Jt.data,pinCode:Jt.data.pinCode||Oe};n(r.map(Be=>Be._id===u._id?Vt:Be)),nt(),h(!1),rr.success("Staff member updated successfully")}catch(Oe){console.error("Error saving staff:",Oe),rr.error(((_e=(re=Oe.response)==null?void 0:re.data)==null?void 0:_e.message)||"Failed to update staff member")}},fe=async()=>{var re,_e;try{if(!L())return;const Oe=V.pinCode?String(V.pinCode):"0000",Ke={name:V.name,position:V.position,profilePicture:V.profilePicture,phone:V.phone,dailyRate:V.dailyRate,status:V.status,sssNumber:V.sssNumber||"",tinNumber:V.tinNumber||"",philHealthNumber:V.philHealthNumber||"",pinCode:Oe,staffOnly:!0};console.log("Sending staff-only update with payload:",Ke);const bt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},Jt=await vr.put(`/api/staff/${u._id}`,Ke,bt);console.log("Server response after staff update:",Jt.data);const Vt={...u,...Jt.data,pinCode:Jt.data.pinCode||Oe};n(r.map(Be=>Be._id===u._id?Vt:Be)),nt(),h(!1),rr.success("Staff information updated successfully")}catch(Oe){console.error("Error saving staff information:",Oe),rr.error(((_e=(re=Oe.response)==null?void 0:re.data)==null?void 0:_e.message)||"Failed to update staff information")}},we=async()=>{var re,_e;try{if(!q())return;const Oe={username:V.username.toLowerCase(),email:V.email.toLowerCase(),password:V.password,accountOnly:!0};console.log("Sending account-only update with payload:",Oe);const Me={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},bt=await vr.put(`/api/staff/${u._id}`,Oe,Me);console.log("Server response after account update:",bt.data);const Jt={...u,username:bt.data.username||Oe.username,email:bt.data.email||Oe.email};n(r.map(Vt=>Vt._id===u._id?Jt:Vt)),nt(),h(!1),rr.success("Account information updated successfully")}catch(Oe){console.error("Error saving account information:",Oe),rr.error(((_e=(re=Oe.response)==null?void 0:re.data)==null?void 0:_e.message)||"Failed to update account information")}},he=async(re,_e)=>{var Oe,Ke,Me;try{const Jt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},Vt=await vr.put(`/api/staff/${re}/terminate`,_e,Jt);if((Oe=Vt.data)!=null&&Oe.success){const Be=Vt.data.data;n(Re=>Re.map(Ue=>{var Qe,Ve;return Ue._id===re?{...Ue,status:Be.status,terminationInfo:Be.terminationInfo,email:Ue.email||((Qe=Be.userId)==null?void 0:Qe.email)||"",username:Ue.username||((Ve=Be.userId)==null?void 0:Ve.username)||""}:Ue})),rr.success("Staff termination processed successfully")}}catch(bt){throw console.error("Error terminating staff:",bt),rr.error(((Me=(Ke=bt.response)==null?void 0:Ke.data)==null?void 0:Me.message)||"Failed to process staff termination"),bt}},ce=async re=>{var _e,Oe,Ke;if(window.confirm("Are you sure you want to reactivate this staff member?"))try{const bt={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},Jt=prompt("Enter reactivation notes (optional):")||"Staff member rehired",Vt=await vr.put(`/api/staff/${re}/reactivate`,{reactivationNotes:Jt},bt);if((_e=Vt.data)!=null&&_e.success){const Be=Vt.data.data;n(Re=>Re.map(Ue=>{var Qe,Ve;return Ue._id===re?{...Ue,status:Be.status,reactivationInfo:Be.reactivationInfo,email:Ue.email||((Qe=Be.userId)==null?void 0:Qe.email)||"",username:Ue.username||((Ve=Be.userId)==null?void 0:Ve.username)||""}:Ue})),rr.success("Staff member reactivated successfully")}}catch(Me){console.error("Error reactivating staff:",Me),rr.error(((Ke=(Oe=Me.response)==null?void 0:Oe.data)==null?void 0:Ke.message)||"Failed to reactivate staff member")}},xe=re=>{N(re),j(!0)},ge=r.filter(re=>{var Ke,Me,bt,Jt;const _e=O==="All"||re.status===O,Oe=!P||((Ke=re.name)==null?void 0:Ke.toLowerCase().includes(P.toLowerCase()))||((Me=re.position)==null?void 0:Me.toLowerCase().includes(P.toLowerCase()))||((bt=re.email)==null?void 0:bt.toLowerCase().includes(P.toLowerCase()))||((Jt=re.username)==null?void 0:Jt.toLowerCase().includes(P.toLowerCase()));return _e&&Oe}),Pe=Math.ceil(ge.length/R),ke=(D-1)*R,se=ke+R,Et=ge.slice(ke,se);k.useEffect(()=>{F(1)},[O,P]);const Qt=({className:re=""})=>{if(Pe<=1)return null;const _e=()=>{const Oe=[];if(Pe<=5)for(let Me=1;Me<=Pe;Me++)Oe.push(Me);else if(D<=3){for(let Me=1;Me<=4;Me++)Oe.push(Me);Oe.push("..."),Oe.push(Pe)}else if(D>=Pe-2){Oe.push(1),Oe.push("...");for(let Me=Pe-3;Me<=Pe;Me++)Oe.push(Me)}else{Oe.push(1),Oe.push("...");for(let Me=D-1;Me<=D+1;Me++)Oe.push(Me);Oe.push("..."),Oe.push(Pe)}return Oe};return i.jsxs("div",{className:`flex items-center justify-center gap-2 ${re}`,children:[i.jsx("button",{onClick:()=>F(Oe=>Math.max(1,Oe-1)),disabled:D===1,className:"px-3 py-1 rounded text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:D===1?Ze.muted+"40":Ze.accent,color:D===1?Ze.muted:Ze.background},children:""}),_e().map((Oe,Ke)=>Oe==="..."?i.jsx("span",{className:"px-2 text-sm",style:{color:Ze.muted},children:"..."},Ke):i.jsx("button",{onClick:()=>F(Oe),className:"px-3 py-1 rounded text-sm font-medium",style:{backgroundColor:D===Oe?Ze.accent:Ze.background,color:D===Oe?Ze.background:Ze.primary,border:`1px solid ${D===Oe?Ze.accent:Ze.muted}`},children:Oe},Oe)),i.jsx("button",{onClick:()=>F(Oe=>Math.min(Pe,Oe+1)),disabled:D===Pe,className:"px-3 py-1 rounded text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:D===Pe?Ze.muted+"40":Ze.accent,color:D===Pe?Ze.muted:Ze.background},children:""})]})},It=re=>{switch(re){case"Active":return Ze.accent;case"On Leave":return"#f59e0b";case"Inactive":return Ze.muted;case"Terminated":return"#ef4444";case"Resigned":return"#8b5cf6";case"Suspended":return"#f97316";default:return Ze.muted}},nt=()=>{Y({name:"",position:"",profilePicture:"",phone:"",dailyRate:"",status:"Active",sssNumber:"",tinNumber:"",philHealthNumber:"",pinCode:"0000",username:"",email:"",password:""}),h(!1),g(!1),x(!1),w({})},ye={hidden:{opacity:0},visible:{opacity:1,transition:{type:"tween",duration:.2}},hover:{scale:1.01,transition:{type:"tween",duration:.1}},tap:{scale:.99}};return i.jsxs("div",{className:"flex min-h-screen",style:{backgroundColor:Ze.background},children:[i.jsx("div",{className:"flex-1 transition-all duration-300",style:{marginLeft:e<768?"0":e>=1920?"8rem":"5rem",paddingTop:e<768?"4rem":"0"},children:i.jsxs("div",{className:"p-6 md:p-8",children:[i.jsxs("h1",{className:"text-3xl font-bold mb-6",style:{color:Ze.primary},children:[i.jsx(_l,{className:"inline mr-2"}),"Staff Management"]}),a?i.jsxs("div",{className:"text-center",style:{color:Ze.primary},children:[i.jsx("div",{className:"mb-2",children:i.jsx(_l,{size:24})}),i.jsx("p",{children:"Loading staff members..."})]}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:["              ",i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"rounded-lg p-4 shadow-sm",style:{backgroundColor:Ze.primary},children:[i.jsxs("div",{className:"flex flex-col gap-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center gap-3",children:[i.jsxs("h2",{className:"text-xl font-semibold flex-shrink-0",style:{color:Ze.background},children:[i.jsx(_l,{className:"inline mr-2"}),"Staff Members (",ge.length,")"]}),i.jsxs("div",{className:"relative flex-1 max-w-xs",children:[i.jsx("input",{type:"text",placeholder:"Search staff...",value:P,onChange:re=>U(re.target.value),className:"w-full px-3 py-1.5 pr-8 text-xs rounded border focus:outline-none focus:ring-1 focus:ring-orange-400",style:{borderColor:Ze.muted,backgroundColor:Ze.background,color:Ze.primary}}),P&&i.jsx("button",{onClick:()=>U(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-xs",style:{color:Ze.muted},title:"Clear search",children:""})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-1 text-xs",children:[H.map(re=>{const _e=r.filter(Oe=>re==="All"||Oe.status===re).length;return i.jsxs("button",{onClick:()=>T(re),className:"px-2 py-0.5 rounded text-xs font-medium transition-all duration-200 whitespace-nowrap",style:{backgroundColor:O===re?Ze.accent:Ze.background,color:O===re?Ze.background:Ze.primary,border:`1px solid ${O===re?Ze.accent:Ze.muted}`,fontSize:"11px"},children:[re," (",_e,")"]},re)}),(O!=="Active"||P)&&i.jsx("button",{onClick:()=>{T("Active"),U("")},className:"px-2 py-0.5 rounded text-xs underline",style:{color:Ze.background,fontSize:"11px"},children:"Reset"})]}),i.jsxs("div",{className:"text-xs",style:{color:Ze.background+"CC"},children:["Showing ",Et.length," of ",ge.length," staff members",Pe>1&&`  Page ${D} of ${Pe}`]})]}),i.jsx("div",{className:"space-y-2 staff-list-scrollbar",style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden"},children:ge.length===0?i.jsx("div",{className:"text-center py-8",style:{color:Ze.background},children:O==="All"?"No staff members found. Add your first employee!":`No ${O.toLowerCase()} staff members found.`}):i.jsx(Ss,{children:Et.map(re=>{var _e;return i.jsxs(nr.div,{className:"p-3 rounded flex justify-between items-center",style:{backgroundColor:Ze.background,color:Ze.primary,border:`1px solid ${Ze.muted}`},variants:ye,whileHover:"hover",whileTap:"tap",initial:"hidden",animate:"visible",exit:{opacity:0,x:-10},layout:!0,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tm,{imagePath:re.profilePicture,alt:`${re.name}'s photo`,size:40,className:"border rounded-sm overflow-hidden"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:re.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm",style:{color:Ze.muted},children:re.position}),i.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium",style:{backgroundColor:It(re.status)+"20",color:It(re.status),fontSize:"10px",fontWeight:"600"},children:re.status})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Br,{onClick:()=>{A(re),l(!0)},variant:"ghost",size:"sm",title:"View Work ID",children:i.jsx(_l,{})}),i.jsx(Br,{onClick:()=>Z(re),variant:"ghost",size:"sm",title:"Edit Staff",children:i.jsx(C3,{})}),re.status==="Active"||re.status==="On Leave"||re.status==="Inactive"?i.jsx(Br,{onClick:()=>xe(re),variant:"ghost",size:"sm",title:"Terminate Staff",style:{color:"#ef4444"},children:i.jsx(mie,{})}):(re.status==="Terminated"||re.status==="Resigned")&&((_e=re.terminationInfo)!=null&&_e.isEligibleForRehire)?i.jsx(Br,{onClick:()=>ce(re._id),variant:"ghost",size:"sm",title:"Reactivate Staff",style:{color:Ze.accent},children:i.jsx(hie,{})}):null]})]},re._id||`staff-${Math.random()}`)})})}),i.jsx(Qt,{className:"mt-4"})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(nr.div,{className:"rounded-lg p-4 shadow-sm relative",style:{border:`1px solid ${Ze.muted}`},initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:20,delay:.2},children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs(nr.h2,{className:"text-xl font-semibold",style:{color:Ze.primary},layout:!0,children:[i.jsx(J9,{className:"inline mr-2"}),i.jsx(Ss,{mode:"wait",initial:!1,children:i.jsx(nr.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:f?"Edit Staff Member":"Add New Staff"},f?"edit":"add")})]}),i.jsxs("div",{className:"relative z-20",children:[i.jsxs(Br,{onClick:()=>g(!p),variant:"ghost",size:"sm",className:"flex items-center gap-1 text-xs",children:[i.jsx("span",{className:"font-medium",children:"Government Details"}),i.jsx(dA,{style:{transform:p?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s"}})]}),i.jsx(Ss,{children:p&&i.jsxs(nr.div,{className:"absolute right-0 mt-1 w-72 bg-white rounded shadow-lg z-30 border p-3",style:{borderColor:Ze.muted},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:.2},children:[i.jsx("h4",{className:"text-sm font-semibold mb-2 pb-1 border-b",style:{color:Ze.primary,borderColor:Ze.muted+"50"},children:"Optional Government Details"}),i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.muted},children:"SSS Number"}),i.jsx("input",{type:"text",name:"sssNumber",placeholder:"SSS Number",value:V.sssNumber,onChange:ie,className:"p-1.5 rounded border w-full text-sm",style:{borderColor:Ze.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.muted},children:"TIN Number"}),i.jsx("input",{type:"text",name:"tinNumber",placeholder:"TIN Number",value:V.tinNumber,onChange:ie,className:"p-1.5 rounded border w-full text-sm",style:{borderColor:Ze.muted}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.muted},children:"PhilHealth Number"}),i.jsx("input",{type:"text",name:"philHealthNumber",placeholder:"PhilHealth Number",value:V.philHealthNumber,onChange:ie,className:"p-1.5 rounded border w-full text-sm",style:{borderColor:Ze.muted}})]})]})]})})]})]}),"                  ",i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4",children:[i.jsx("div",{className:"md:col-span-3",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative group mb-3",children:[i.jsxs(nr.div,{className:"relative",children:[i.jsx(Tm,{imagePath:V.profilePicture,alt:"Staff profile",size:120,className:"border-2 border-dashed rounded-sm cursor-pointer shadow-sm"}),"                            ",i.jsx(nr.label,{htmlFor:"profileUpload",className:"absolute inset-0 flex items-center justify-center cursor-pointer hover:bg-black hover:bg-opacity-20 rounded-sm transition-all",whileHover:{borderColor:Ze.accent},children:V.profilePicture&&i.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[i.jsx(Ob,{size:18,style:{color:"white"}}),i.jsx("span",{className:"text-xs mt-1",style:{color:"white"},children:"Change"})]})})]}),i.jsx("input",{id:"profileUpload",type:"file",accept:"image/jpeg,image/png,image/gif,image/webp",onChange:ee,className:"hidden"}),V.profilePicture&&!V.profilePicture.startsWith("data:")&&i.jsx("button",{onClick:()=>Y(re=>({...re,profilePicture:""})),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 text-xs",title:"Remove image",children:i.jsx(fie,{size:10})})]}),i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"PIN Code"}),i.jsx("input",{type:"text",name:"pinCode",placeholder:"4-6 digits",value:V.pinCode,onChange:ie,className:"p-2 rounded border w-full text-sm text-center font-medium",style:{borderColor:b.pinCode?Ze.accent:Ze.muted},maxLength:6}),b.pinCode&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.pinCode})]})]})}),i.jsxs("div",{className:"md:col-span-5",children:[i.jsx("h3",{className:"text-sm font-semibold border-b pb-1 mb-3",style:{color:Ze.primary,borderColor:Ze.muted+"40"},children:"Staff Information"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Full Name"}),i.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:V.name,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.name?Ze.accent:Ze.muted}}),b.name&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Position"}),i.jsxs("select",{name:"position",value:V.position,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.position?Ze.accent:Ze.muted},children:[i.jsx("option",{value:"",children:"Select Position"}),J.map(re=>i.jsx("option",{value:re,children:re},re))]}),b.position&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.position})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",placeholder:"09123456789",value:V.phone,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.phone?Ze.accent:Ze.muted}}),b.phone&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.phone})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Daily Rate"}),i.jsx("input",{type:"number",name:"dailyRate",placeholder:"Daily Rate",value:V.dailyRate,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.dailyRate?Ze.accent:Ze.muted}}),b.dailyRate&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.dailyRate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Status"}),i.jsxs("select",{name:"status",value:V.status,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.status?Ze.accent:Ze.muted},disabled:V.status==="Terminated"||V.status==="Resigned"||V.status==="Suspended",children:[Q.map(re=>i.jsx("option",{value:re,children:re},re)),!Q.includes(V.status)&&i.jsx("option",{value:V.status,children:V.status})]}),(V.status==="Terminated"||V.status==="Resigned"||V.status==="Suspended")&&i.jsx("div",{className:"text-xs mt-1",style:{color:Ze.muted},children:"Status cannot be changed. Use reactivation for terminated/resigned staff."})]})]})]}),i.jsxs("div",{className:"md:col-span-4 md:border-l md:pl-4",style:{borderColor:Ze.muted+"30"},children:[i.jsx("h3",{className:"text-sm font-semibold border-b pb-1 mb-3",style:{color:Ze.primary,borderColor:Ze.muted+"30"},children:"Account Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Username"}),i.jsx("input",{type:"text",name:"username",placeholder:"Username",value:V.username,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.username?Ze.accent:Ze.muted}}),b.username&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.username})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium mb-1",style:{color:Ze.primary},children:"Email"}),i.jsx("input",{type:"email",name:"email",placeholder:"email@example.com",value:V.email,onChange:ie,className:"p-2 rounded border w-full text-sm",style:{borderColor:b.email?Ze.accent:Ze.muted}}),b.email&&i.jsx("div",{className:"text-xs text-red-500 mt-1",children:b.email})]}),i.jsx("div",{children:i.jsx(g4,{label:`Password ${f?"(leave empty to keep current)":""}`,placeholder:f?"Leave empty to keep current":"Min. 8 characters",value:V.password,onChange:re=>ie({target:{name:"password",value:re.target.value}}),className:"p-2 rounded border w-full text-sm",style:{borderColor:b.password?Ze.accent:Ze.muted},required:!f,error:b.password,useCustomStyling:!0})}),(V.password||!f)&&i.jsx("div",{children:i.jsx(g4,{label:"Confirm Password",placeholder:"Re-enter password",value:V.confirmPassword,onChange:re=>ie({target:{name:"confirmPassword",value:re.target.value}}),className:"p-2 rounded border w-full text-sm",style:{borderColor:b.confirmPassword?Ze.accent:Ze.muted},required:!f||V.password,error:b.confirmPassword,useCustomStyling:!0})})]})]}),"                  "]}),"                  ",i.jsx("div",{className:"mt-4 pt-3 border-t flex justify-end",style:{borderColor:Ze.muted+"30"},children:i.jsxs("div",{className:"flex flex-wrap gap-2 justify-end",children:[f&&i.jsx(Br,{onClick:nt,variant:"secondary",size:"sm",children:"Cancel"}),f?i.jsxs(i.Fragment,{children:[i.jsxs(Br,{onClick:()=>fe(),variant:"secondary",size:"sm",children:[i.jsx(rb,{className:"inline mr-1",size:12}),"Update Staff Only"]}),i.jsxs(Br,{onClick:()=>we(),variant:"accent",size:"sm",children:[i.jsx(_l,{className:"inline mr-1",size:12}),"Update Account Only"]}),i.jsxs(Br,{onClick:te,variant:"primary",size:"sm",children:[i.jsx(rb,{className:"inline mr-1",size:12}),"Update Both"]})]}):i.jsxs(Br,{onClick:G,variant:"primary",size:"sm",children:[i.jsx(rb,{className:"inline mr-1",size:14}),"Add Staff Member"]})]})}),p&&i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1)})]})})]})]})}),"      ",i.jsx(Ss,{children:o&&u&&i.jsx(sW,{staff:u,isOpen:o,onClose:()=>l(!1),colors:Ze})}),i.jsx(Ss,{children:B&&_&&i.jsx(uke,{isOpen:B,onClose:()=>{j(!1),N(null)},staff:_,colors:Ze,onTerminate:he})})]})};var wb={exports:{}},dke=wb.exports,w7;function fke(){return w7||(w7=1,function(e,t){(function(n,a){e.exports=a(B0())})(dke,function(r){return function(n){var a={};function s(o){if(a[o])return a[o].exports;var l=a[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=n,s.c=a,s.d=function(o,l,u){s.o(o,l)||Object.defineProperty(o,l,{enumerable:!0,get:u})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,l){if(l&1&&(o=s(o)),l&8||l&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),l&2&&typeof o!="string")for(var A in o)s.d(u,A,(function(f){return o[f]}).bind(null,A));return u},s.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(l,"a",l),l},s.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,a,s){s.r(a);var o=s("react"),l=function(){var p=function(g,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,b){x.__proto__=b}||function(x,b){for(var w in b)b.hasOwnProperty(w)&&(x[w]=b[w])},p(g,v)};return function(g,v){p(g,v);function x(){this.constructor=g}g.prototype=v===null?Object.create(v):(x.prototype=v.prototype,new x)}}(),u=function(){return u=Object.assign||function(p){for(var g,v=1,x=arguments.length;v<x;v++){g=arguments[v];for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(p[b]=g[b])}return p},u.apply(this,arguments)},A=function(p,g){var v={};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&g.indexOf(x)<0&&(v[x]=p[x]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,x=Object.getOwnPropertySymbols(p);b<x.length;b++)g.indexOf(x[b])<0&&Object.prototype.propertyIsEnumerable.call(p,x[b])&&(v[x[b]]=p[x[b]]);return v};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(g){var v=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return v?new Promise(function(x,b){v.call(navigator,g,x,b)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function f(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var h=function(p){l(g,p);function g(v){var x=p.call(this,v)||this;return x.canvas=null,x.ctx=null,x.requestUserMediaId=0,x.unmounted=!1,x.state={hasUserMedia:!1},x}return g.prototype.componentDidMount=function(){var v=this,x=v.state,b=v.props;if(this.unmounted=!1,!f()){b.onUserMediaError("getUserMedia not supported");return}x.hasUserMedia||this.requestUserMedia(),b.children&&typeof b.children!="function"&&console.warn("children must be a function")},g.prototype.componentDidUpdate=function(v){var x=this.props;if(!f()){x.onUserMediaError("getUserMedia not supported");return}var b=JSON.stringify(v.audioConstraints)!==JSON.stringify(x.audioConstraints),w=JSON.stringify(v.videoConstraints)!==JSON.stringify(x.videoConstraints),B=v.minScreenshotWidth!==x.minScreenshotWidth,j=v.minScreenshotHeight!==x.minScreenshotHeight;(w||B||j)&&(this.canvas=null,this.ctx=null),(b||w)&&(this.stopAndCleanup(),this.requestUserMedia())},g.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},g.stopMediaStream=function(v){v&&(v.getVideoTracks&&v.getAudioTracks?(v.getVideoTracks().map(function(x){v.removeTrack(x),x.stop()}),v.getAudioTracks().map(function(x){v.removeTrack(x),x.stop()})):v.stop())},g.prototype.stopAndCleanup=function(){var v=this.state;v.hasUserMedia&&(g.stopMediaStream(this.stream),v.src&&window.URL.revokeObjectURL(v.src))},g.prototype.getScreenshot=function(v){var x=this,b=x.state,w=x.props;if(!b.hasUserMedia)return null;var B=this.getCanvas(v);return B&&B.toDataURL(w.screenshotFormat,w.screenshotQuality)},g.prototype.getCanvas=function(v){var x=this,b=x.state,w=x.props;if(!this.video||!b.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var B=this.video.videoWidth,j=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var _=B/j;B=w.minScreenshotWidth||this.video.clientWidth,j=B/_,w.minScreenshotHeight&&j<w.minScreenshotHeight&&(j=w.minScreenshotHeight,B=j*_)}this.canvas=document.createElement("canvas"),this.canvas.width=(v==null?void 0:v.width)||B,this.canvas.height=(v==null?void 0:v.height)||j,this.ctx=this.canvas.getContext("2d")}var N=this,O=N.ctx,T=N.canvas;return O&&T&&(T.width=(v==null?void 0:v.width)||T.width,T.height=(v==null?void 0:v.height)||T.height,w.mirrored&&(O.translate(T.width,0),O.scale(-1,1)),O.imageSmoothingEnabled=w.imageSmoothing,O.drawImage(this.video,0,0,(v==null?void 0:v.width)||T.width,(v==null?void 0:v.height)||T.height),w.mirrored&&(O.scale(-1,1),O.translate(-T.width,0))),T},g.prototype.requestUserMedia=function(){var v=this,x=this.props,b=function(j,_){var N={video:typeof _<"u"?_:!0};x.audio&&(N.audio=typeof j<"u"?j:!0),v.requestUserMediaId++;var O=v.requestUserMediaId;navigator.mediaDevices.getUserMedia(N).then(function(T){v.unmounted||O!==v.requestUserMediaId?g.stopMediaStream(T):v.handleUserMedia(null,T)}).catch(function(T){v.handleUserMedia(T)})};if("mediaDevices"in navigator)b(x.audioConstraints,x.videoConstraints);else{var w=function(j){return{optional:[{sourceId:j}]}},B=function(j){var _=j.deviceId;return typeof _=="string"?_:Array.isArray(_)&&_.length>0?_[0]:typeof _=="object"&&_.ideal?_.ideal:null};MediaStreamTrack.getSources(function(j){var _=null,N=null;j.forEach(function(P){P.kind==="audio"?_=P.id:P.kind==="video"&&(N=P.id)});var O=B(x.audioConstraints);O&&(_=O);var T=B(x.videoConstraints);T&&(N=T),b(w(_),w(N))})}},g.prototype.handleUserMedia=function(v,x){var b=this.props;if(v||!x){this.setState({hasUserMedia:!1}),b.onUserMediaError(v);return}this.stream=x;try{this.video&&(this.video.srcObject=x),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(x)})}b.onUserMedia(x)},g.prototype.render=function(){var v=this,x=this,b=x.state,w=x.props,B=w.audio;w.forceScreenshotSourceSize;var j=w.disablePictureInPicture;w.onUserMedia,w.onUserMediaError,w.screenshotFormat,w.screenshotQuality,w.minScreenshotWidth,w.minScreenshotHeight,w.audioConstraints,w.videoConstraints,w.imageSmoothing;var _=w.mirrored,N=w.style,O=N===void 0?{}:N,T=w.children,P=A(w,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),U=_?u(u({},O),{transform:(O.transform||"")+" scaleX(-1)"}):O,D={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",u({autoPlay:!0,disablePictureInPicture:j,src:b.src,muted:!B,playsInline:!0,ref:function(F){v.video=F},style:U},P)),T&&T(D))},g.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},g}(o.Component);a.default=h},react:function(n,a){n.exports=r}}).default})}(wb)),wb.exports}var hke=fke();const mke=ta(hke),pke=()=>{Ud();const e={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"},[t,r]=k.useState(window.innerWidth),[n,a]=k.useState([]),[s,o]=k.useState(null),[l,u]=k.useState(!0),[A,f]=k.useState(""),[h,p]=k.useState(null),[g,v]=k.useState(""),[x,b]=k.useState(!1),[w,B]=k.useState(""),[j,_]=k.useState(null),[N,O]=k.useState(!1),[T,P]=k.useState(null),U=k.useRef(null);k.useEffect(()=>{const Z=()=>{r(window.innerWidth)};return window.addEventListener("resize",Z),Z(),()=>window.removeEventListener("resize",Z)},[]);const D=()=>t<768?"0":t>=1920?"8rem":"5rem";k.useEffect(()=>{F();const Z=setInterval(F,6e4);return()=>clearInterval(Z)},[]);const F=()=>{const Z=new Date,te=Z.getHours()%12||12,fe=String(Z.getMinutes()).padStart(2,"0"),we=Z.getHours()>=12?"PM":"AM";v(`${te}:${fe} ${we}`)};k.useEffect(()=>{(async()=>{try{const te=await vr.get("/api/staff/time-clock"),fe=Array.isArray(te.data)?te.data:te.data.data?te.data.data:[];a(fe)}catch(te){console.error("Error fetching staff:",te),rr.error("Failed to fetch staff data")}finally{u(!1)}})()},[]),k.useEffect(()=>{s?R(s._id):p(null)},[s]);const R=async Z=>{var te;try{const fe=new Date;fe.setHours(0,0,0,0);const we=new URLSearchParams({startDate:fe.toISOString(),endDate:new Date().toISOString()}).toString(),he=localStorage.getItem("authToken"),ce={headers:{Authorization:he?`Bearer ${he}`:""}},{data:xe}=await vr.get(`/api/time-logs/staff/${Z}?${we}`,ce);if(((te=xe==null?void 0:xe.data)==null?void 0:te.length)>0){const ge=ie(xe.data[0].timestamp||xe.data[0].createdAt);p({...xe.data[0],formattedTimestamp:ge})}else p(null)}catch(fe){console.error("Error fetching time logs:",fe),p(null)}},Q=k.useCallback(()=>{var te;const Z=(te=U.current)==null?void 0:te.getScreenshot();P(Z)},[U]),H=Z=>{if(!(s!=null&&s._id)){rr.error("Please select a staff member first");return}_(Z),b(!0),B(""),O(!1),P(null)},J=()=>{if(w.length<4){rr.error("Please enter a valid PIN");return}if(s.pinCode!==w){rr.error("Invalid PIN code"),B("");return}O(!0)},V=()=>{O(!1),P(null)},Y=()=>{b(!1),O(!1),P(null),B("")},ee=async()=>{var Z,te;if(!(s!=null&&s._id)||!T){rr.error("Please select a staff member and take a photo");return}u(!0);try{const fe=await fetch(T).then(se=>se.blob()),we=`${s._id}-${Date.now()}.jpg`,he=new File([fe],we,{type:"image/jpeg"}),ce=new FormData;ce.append("staffId",s._id),ce.append("pinCode",w),ce.append("photo",he);const xe=localStorage.getItem("authToken"),ge={headers:{"Content-Type":"multipart/form-data",Authorization:xe?`Bearer ${xe}`:""}},{data:Pe}=await vr.post(`/api/time-logs/${j==="in"?"clock-in":"clock-out"}`,ce,ge);if(!Pe.success)throw new Error(`Failed to clock ${j}`);const ke=ie(Pe.data.timestamp||Pe.data.createdAt);p({...Pe.data,formattedTimestamp:ke}),Y(),rr.dismiss(`clock-${j}-${s._id}`),rr.success(`${s.name} clocked ${j} successfully`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,toastId:`clock-${j}-${s._id}`}),F(),R(s._id)}catch(fe){console.error("Time logging error:",fe),rr.error(((te=(Z=fe.response)==null?void 0:Z.data)==null?void 0:te.message)||fe.message)}finally{u(!1)}},ie=Z=>{if(!Z)return"N/A";try{const te=new Date(Z);return isNaN(te.getTime())?(console.error("Invalid date string received:",Z),new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})):te.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch(te){return console.error("Date formatting error:",te,"for date string:",Z),"Invalid Date"}},z=A?n.filter(Z=>Z.name.toLowerCase().includes(A.toLowerCase())||Z.position.toLowerCase().includes(A.toLowerCase())):n,W=h&&h.type==="clockIn",L={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0}},q={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:300,damping:20}}},G={rest:{scale:1},hover:{scale:1.05},tap:{scale:.95}};return i.jsx("div",{className:"flex min-h-screen",style:{backgroundColor:e.background},children:i.jsx(nr.div,{className:"flex-1 transition-all duration-300",initial:{opacity:0},animate:{opacity:1},style:{marginLeft:D(),paddingTop:t<768?"4rem":"0"},children:i.jsxs("div",{className:"p-6 md:p-8 pt-24 md:pt-8",children:[i.jsxs(nr.h1,{className:"text-3xl font-bold mb-6",style:{color:e.primary},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:300,damping:15},children:[i.jsx(Es,{className:"inline mr-2"}),"Time Clock System"]}),i.jsx(Ss,{mode:"wait",children:s&&x&&N?i.jsx(nr.div,{className:"max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsx("div",{className:"rounded-lg shadow-sm p-6",style:{border:`1px solid ${e.muted}`},children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:V,className:"text-sm flex items-center mr-4",style:{color:e.primary},children:[i.jsx(W9,{className:"mr-1"})," Back"]}),i.jsxs("h3",{className:"text-lg font-semibold",style:{color:e.primary},children:["Take Photo for Clock ",j==="in"?"In":"Out"]})]}),T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative overflow-hidden rounded border",style:{height:"400px",borderColor:e.muted},children:i.jsx("img",{src:T,alt:"Captured",className:"absolute inset-0 w-full h-full object-cover"})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>P(null),className:"flex-1 py-2 border rounded",style:{borderColor:e.muted,color:e.primary},children:[i.jsx(wi,{className:"inline mr-2"}),"Retake"]}),i.jsxs("button",{onClick:ee,className:"flex-1 py-2 rounded font-medium",style:{backgroundColor:e.primary,color:e.background},children:[i.jsx(gd,{className:"inline mr-2"}),"Confirm & ",j==="in"?"Clock In":"Clock Out"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"relative overflow-hidden rounded border",style:{height:"400px",borderColor:e.muted},children:i.jsx(mke,{audio:!1,ref:U,screenshotFormat:"image/jpeg",width:"100%",height:"100%",videoConstraints:{facingMode:"user",aspectRatio:1},className:"absolute inset-0 w-full h-full object-cover"})}),i.jsxs("button",{onClick:Q,className:"w-full py-3 rounded-lg font-medium transition-opacity hover:opacity-90",style:{backgroundColor:e.accent,color:e.background},children:[i.jsx(Ob,{className:"inline mr-2"}),"Capture Photo"]})]}),i.jsx("button",{onClick:Y,className:"w-full py-2 border rounded mt-3",style:{borderColor:e.muted,color:e.primary},children:"Cancel"})]})})},"camera-view"):i.jsxs(nr.div,{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",variants:L,initial:"hidden",animate:"visible",exit:"exit",children:[i.jsx(nr.div,{className:"md:col-span-1 lg:col-span-2",variants:q,children:i.jsxs("div",{className:"rounded-lg p-4 shadow-sm",style:{backgroundColor:e.primary},children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",style:{color:e.background},children:[i.jsx(_l,{className:"inline mr-2"}),"Staff Members"]}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("input",{type:"text",placeholder:"Search staff...",value:A,onChange:Z=>f(Z.target.value),className:"w-full p-2 pl-9 rounded border",style:{borderColor:e.background,backgroundColor:"rgba(255,255,255,0.15)",color:e.background,caretColor:e.background}}),i.jsx(_m,{className:"absolute left-3 top-3",style:{color:e.background}})]}),i.jsx("div",{className:"space-y-2 max-h-[60vh] md:max-h-[70vh] overflow-y-auto pr-2",children:i.jsx(Ss,{children:l?i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6",style:{color:e.background},children:"Loading staff..."},"loading"):z.length===0?i.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-6",style:{color:e.background},children:"No staff members found"},"no-staff"):z.map((Z,te)=>i.jsxs(nr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:te*.05,type:"spring",stiffness:300,damping:25},onClick:()=>{o(Z),Y()},whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-3 rounded cursor-pointer transition-colors ${(s==null?void 0:s._id)===Z._id?"ring-2 ring-opacity-50":"hover:ring-2 hover:ring-opacity-30"}`,style:{backgroundColor:e.background,color:e.primary,ringColor:e.accent},children:["                              ",i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Tm,{imagePath:Z.profilePicture,alt:`${Z.name}'s photo`,size:40,className:"border rounded-full"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:Z.name}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:Z.position})]})]})]},Z._id))})})]})}),i.jsx(nr.div,{className:"md:col-span-2 lg:col-span-3",variants:q,children:i.jsxs("div",{className:"rounded-lg shadow-sm p-6",style:{border:`1px solid ${e.muted}`},children:[i.jsx("div",{className:"mb-6",children:i.jsxs("h2",{className:"text-2xl font-bold",style:{color:e.primary},children:[i.jsx(Es,{className:"inline-block mr-2"}),"Time Clock"]})}),i.jsx(Ss,{mode:"wait",children:s?x&&!N?i.jsxs(nr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-center",style:{color:e.primary},children:["Enter PIN to ",j==="in"?"Clock In":"Clock Out"]}),i.jsx("p",{className:"text-sm text-center",style:{color:e.muted},children:"Please enter your security PIN for verification"}),i.jsx("div",{className:"flex justify-center my-4",children:i.jsx(nr.input,{type:"password",className:"w-full max-w-xs p-3 text-center text-2xl tracking-widest border rounded",value:w,onChange:Z=>{const te=Z.target.value.replace(/\D/g,"").slice(0,6);B(te)},placeholder:"   ",maxLength:6,autoFocus:!0,style:{borderColor:e.muted},animate:{boxShadow:w.length>=4?`0 0 0 2px ${e.accent}30`:"none"}})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(nr.button,{variants:G,whileHover:"hover",whileTap:"tap",onClick:Y,className:"flex-1 py-2 border rounded",style:{borderColor:e.muted,color:e.primary},children:"Cancel"}),i.jsx(nr.button,{variants:G,whileHover:"hover",whileTap:"tap",onClick:J,className:"flex-1 py-2 rounded font-medium",disabled:!w||w.length<4,style:{backgroundColor:e.primary,color:e.background,opacity:!w||w.length<4?.5:1},children:"Continue"})]})]},"pin-entry"):x?null:i.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[i.jsxs(nr.div,{className:"mb-6",initial:{y:10,opacity:0},animate:{y:0,opacity:1},children:[i.jsx("p",{className:"text-lg font-medium",style:{color:e.primary},children:s.name}),i.jsx("p",{className:"text-sm",style:{color:e.muted},children:s.position})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(nr.div,{className:"p-4 rounded text-center",style:{backgroundColor:e.primary+"10"},initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},children:[i.jsx("p",{className:"text-sm font-medium mb-1",style:{color:e.muted},children:"Current Time"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:e.primary},children:g})]}),i.jsxs(nr.div,{className:"p-4 rounded flex flex-col items-center justify-center gap-2",style:{backgroundColor:W?e.accent+"20":e.secondary+"10"},initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:[i.jsx("div",{className:"flex items-center justify-center gap-2",children:W?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),i.jsx("p",{className:"text-sm font-medium",style:{color:e.accent},children:"Currently clocked in"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),i.jsx("p",{className:"text-sm font-medium",style:{color:e.secondary},children:h?"Clocked out":"Not clocked in today"})]})}),W&&h&&i.jsxs("div",{className:"w-full text-center mt-2 pt-2 border-t",style:{borderColor:e.accent+"50"},children:[i.jsx("p",{className:"text-xs",style:{color:e.muted},children:"Clocked in at:"}),i.jsx("p",{className:"text-sm font-medium",style:{color:e.accent},children:h.formattedTimestamp||ie(h.timestamp||h.createdAt)})]})]}),i.jsxs(nr.div,{className:"grid grid-cols-2 gap-4",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[i.jsx(nr.button,{onClick:()=>H("in"),disabled:l||W,className:"py-3 px-6 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:e.accent,color:e.background},whileHover:{scale:1.03},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:10},children:"Clock In"}),i.jsx(nr.button,{onClick:()=>H("out"),disabled:l||!W,className:"py-3 px-6 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:e.secondary,color:e.background},whileHover:{scale:1.03},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:10},children:"Clock Out"})]}),i.jsxs(nr.div,{className:"mt-4 pt-4 border-t",style:{borderColor:e.muted},initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[i.jsxs("h3",{className:"text-base font-medium mb-3 flex items-center gap-1",style:{color:e.primary},children:[i.jsx(Es,{size:16}),"Recent Activity"]}),i.jsx(Ss,{children:h?i.jsx(nr.div,{className:"p-3 rounded",style:{backgroundColor:e.muted+"10"},initial:{y:10,opacity:0},animate:{y:0,opacity:1},layout:!0,children:i.jsxs("div",{className:"flex gap-3",children:[h.photo&&i.jsx(nr.div,{className:"flex-shrink-0",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},children:i.jsx(nr.img,{src:`${Cr}/public/${h.photo}`,alt:"",className:"h-16 w-16 object-cover rounded",onError:Z=>{Z.target.src="https://via.placeholder.com/80x80?text=No+Image"},whileHover:{scale:1.1}})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${h.type==="clockIn"?"bg-green-500 animate-pulse":"bg-orange-500"}`}),i.jsx("span",{className:"font-medium",style:{color:h.type==="clockIn"?e.accent:e.secondary},children:h.type==="clockIn"?"Clock In":"Clock Out"})]}),i.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:e.primary+"10",color:e.primary},children:new Date(h.timestamp||h.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("span",{style:{color:e.muted},children:h.type==="clockIn"?"Currently working":"Shift completed"}),h.totalHours!==void 0&&i.jsxs("span",{className:"font-medium",style:{color:e.secondary},children:["Duration: ",typeof h.totalHours=="number"?`${Math.floor(h.totalHours)}h ${Math.round(h.totalHours%1*60)}m`:h.totalHours]})]})]})]})}):i.jsx(nr.div,{className:"p-3 text-center rounded",style:{backgroundColor:e.muted+"10"},initial:{opacity:0},animate:{opacity:1},children:i.jsx("p",{className:"text-xs",style:{color:e.muted},children:"No time logs recorded today"})})})]})]})]},"staff-interface"):i.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-8",children:[i.jsx(_l,{size:48,className:"mx-auto mb-2 opacity-30"}),i.jsx("p",{className:"text-lg",style:{color:e.muted},children:"Select a staff member to view time clock"})]},"no-selection")})]})})]},"main-view")})]})})})},Hr={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20"},gke=()=>{var T,P,U;const[e,t]=k.useState("daily"),[r,n]=k.useState(null),[a,s]=k.useState([]),[o,l]=k.useState([]),[u,A]=k.useState(!0),[f,h]=k.useState(null),p=k.useRef(null),g=X0.useReactToPrint({content:()=>p.current,documentTitle:`Revenue Report - ${e.charAt(0).toUpperCase()+e.slice(1)} - ${new Date().toLocaleDateString()}`}),v=()=>{try{ZG(r,e)}catch(D){console.error("Error generating PDF:",D),alert("Failed to generate PDF. Please try again.")}},x=async()=>{if(!p.current||!r){alert("Report data not available. Please wait for data to load.");return}try{const D=p.current,F={display:D.style.display,position:D.style.position,left:D.style.left,top:D.style.top,zIndex:D.style.zIndex,width:D.style.width,height:D.style.height,visibility:D.style.visibility,opacity:D.style.opacity};D.style.display="block",D.style.position="absolute",D.style.left="0px",D.style.top="0px",D.style.zIndex="9999",D.style.width="800px",D.style.height="auto",D.style.visibility="visible",D.style.opacity="1",D.style.backgroundColor="white",D.offsetHeight,await new Promise(Z=>setTimeout(Z,3e3));const R=D.scrollHeight;if(console.log("Element dimensions before capture:",D.offsetWidth,"x",R),R===0)throw new Error("Element has no height - content may not be rendering properly");const Q=await x0(D,{scale:2,useCORS:!0,allowTaint:!1,backgroundColor:"#ffffff",logging:!0,width:800,height:R,scrollX:0,scrollY:0,foreignObjectRendering:!1,imageTimeout:3e4,onclone:Z=>{Z.querySelectorAll("svg").forEach(we=>{we.style.backgroundColor="white",we.style.overflow="visible",we.setAttribute("xmlns","http://www.w3.org/2000/svg"),we.querySelectorAll("text, tspan").forEach(xe=>{xe.style.fill="#000000",xe.style.fontSize="12px",xe.setAttribute("fill","#000000")}),we.querySelectorAll("path, rect, circle, line").forEach(xe=>{xe.style.opacity==="0"&&(xe.style.opacity="1")})}),Z.querySelectorAll("*").forEach(we=>{(we.style.color==="transparent"||we.style.opacity==="0")&&(we.style.color="#000000",we.style.opacity="1")})}});if(Object.keys(F).forEach(Z=>{D.style[Z]=F[Z]}),console.log("Canvas dimensions after capture:",Q?`${Q.width}x${Q.height}`:"null"),!Q||Q.width===0||Q.height===0)throw new Error("Failed to capture content. Canvas is empty or invalid.");const H=Q.getContext("2d");if(!H)throw new Error("Failed to get canvas context.");const J=H.getImageData(0,0,Math.min(Q.width,100),Math.min(Q.height,100));Array.from(J.data).some((Z,te)=>te%4===3?!1:Z!==255&&Z!==0)||console.warn("Canvas appears to be mostly blank, but proceeding with PDF generation");const Y=new Fr("p","mm","a4");let ee;try{if(ee=Q.toDataURL("image/jpeg",.95),!ee||ee==="data:,"||ee.length<1e3)throw new Error("Generated image data is invalid or too small.")}catch(Z){throw console.error("Canvas conversion error:",Z),new Error("Failed to convert canvas to image. The content may be too complex.")}const ie=210,z=297,W=Q.height*ie/Q.width;let L=W,q=0;try{if(W<=z)Y.addImage(ee,"JPEG",0,q,ie,W);else for(Y.addImage(ee,"JPEG",0,q,ie,W),L-=z;L>=0;)q=L-W,Y.addPage(),Y.addImage(ee,"JPEG",0,q,ie,W),L-=z}catch(Z){throw console.error("PDF creation error:",Z),new Error("Failed to create PDF. The image may be corrupted or too large.")}const G=`Revenue_Report_With_Charts_${e.charAt(0).toUpperCase()+e.slice(1)}_${new Date().toISOString().split("T")[0]}.pdf`;try{Y.save(G)}catch(Z){throw console.error("PDF save error:",Z),new Error("Failed to save PDF file. Please check your browser permissions.")}}catch(D){if(console.error("Error generating PDF with charts:",D),D.message.includes("Canvas is empty")||D.message.includes("invalid")){console.log("Attempting fallback PDF generation...");try{await b();return}catch(F){console.error("Fallback method also failed:",F)}}alert(`Failed to generate PDF with charts: ${D.message}. Please try the regular PDF download instead.`)}},b=async()=>{const D=p.current;if(!D)return;D.style.display="block",D.style.position="relative",D.style.width="800px",D.style.backgroundColor="white",await new Promise(R=>setTimeout(R,2e3));const F=await x0(D,{scale:1,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",logging:!1,width:800,height:D.scrollHeight});if(D.style.display="none",F&&F.width>0&&F.height>0){const R=new Fr("p","mm","a4"),Q=F.toDataURL("image/png",.8),H=210,J=F.height*H/F.width;R.addImage(Q,"PNG",0,0,H,J);const V=`Revenue_Report_Charts_Fallback_${e}_${new Date().toISOString().split("T")[0]}.pdf`;R.save(V)}else throw new Error("Fallback method also failed to capture content")};if(k.useEffect(()=>{(async()=>{try{A(!0);const R=await(await fetch(`http://localhost:5000/api/revenue/${e}`)).json();if(R.success)n(R.data);else throw new Error(R.error||"Failed to fetch revenue data")}catch(F){h(F.message)}finally{A(!1)}})()},[e]),k.useEffect(()=>{const D=async()=>{try{const Q=await(await fetch("http://localhost:5000/api/revenue/historical/monthly")).json();Q.success&&s(Q.data)}catch(R){console.error("Failed to fetch monthly historical data:",R),s([])}},F=async()=>{try{const Q=await(await fetch("http://localhost:5000/api/revenue/top-items/all-time")).json();Q.success&&l(Q.data.topItems)}catch(R){console.error("Error fetching all-time top items:",R)}};D(),F()},[]),u)return i.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."});if(f)return i.jsxs("div",{className:"text-red-600",children:["Error: ",f]});const w=D=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(D),B=()=>r!=null&&r.hourlyDistribution?Array.from({length:24},(D,F)=>({hour:F.toString().padStart(2,"0")+":00",revenue:r.hourlyDistribution[F]||0})):[],j=()=>a,_=()=>r!=null&&r.revenueBySource?Object.entries(r.revenueBySource).map(([D,F])=>({name:D==="self_checkout"?"Self Checkout":D==="chatbot"?"Chatbot":D==="pos"?"POS":D,value:F,percentage:(F/r.summary.totalRevenue*100).toFixed(1)})):[],N=[Hr.accent,Hr.secondary,Hr.primary,"#60a5fa","#34d399","#fbbf24"],O=({title:D,value:F,icon:R,trend:Q,trendValue:H,className:J=""})=>i.jsxs("div",{className:`bg-white rounded-lg border p-4 ${J}`,style:{borderColor:Hr.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:Hr.activeBg},children:i.jsx(R,{className:"w-4 h-4",style:{color:Hr.accent}})}),i.jsx("span",{className:"text-sm font-medium",style:{color:Hr.muted},children:D})]}),Q&&i.jsxs("div",{className:"flex items-center gap-1",children:[Q==="up"?i.jsx(Lb,{className:"w-3 h-3",style:{color:Hr.success}}):i.jsx(j3,{className:"w-3 h-3",style:{color:Hr.error}}),i.jsxs("span",{className:"text-xs font-medium",style:{color:Q==="up"?Hr.success:Hr.error},children:[H,"%"]})]})]}),i.jsx("div",{className:"text-2xl font-bold",style:{color:Hr.primary},children:F})]});return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"flex gap-2",children:["daily","weekly","monthly"].map(D=>i.jsx("button",{onClick:()=>t(D),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e===D?"text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,style:e===D?{backgroundColor:Hr.accent}:{},children:D.charAt(0).toUpperCase()+D.slice(1)},D))}),"        ",r&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:Hr.accent},title:"Download PDF Report (Text-based)",children:[i.jsx(Oy,{className:"w-4 h-4"}),"Download PDF"]}),i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:Hr.primary},title:"Download PDF with Charts",children:[i.jsx(jd,{className:"w-4 h-4"}),"PDF + Charts"]}),i.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:Hr.secondary},title:"Print Report",children:[i.jsx(Fy,{className:"w-4 h-4"}),"Print"]})]})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:["            ",i.jsx(O,{title:"Total Revenue",value:w(r.summary.totalRevenue),icon:wc,trend:"up",trendValue:"12.5"}),i.jsx(O,{title:"Orders",value:r.summary.orderCount,icon:B3,trend:"up",trendValue:"8.2"}),i.jsx(O,{title:"Items Sold",value:r.summary.itemsSold,icon:Ly,trend:"down",trendValue:"2.1"}),i.jsx(O,{title:"Avg Order",value:w(r.summary.averageOrderValue),icon:Es,trend:"up",trendValue:"5.7"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e==="daily"&&i.jsxs("div",{className:"bg-white rounded-lg border p-6",style:{borderColor:Hr.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:Hr.primary},children:"Hourly Revenue"}),i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Today's Performance"})]}),i.jsx("div",{className:"h-64",children:i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(r1e,{data:B(),children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:Hr.accent,stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:Hr.accent,stopOpacity:0})]})}),i.jsx(If,{strokeDasharray:"3 3",stroke:Hr.muted+"30"}),i.jsx(Ao,{dataKey:"hour",tick:{fontSize:12},stroke:Hr.muted}),i.jsx(rl,{tickFormatter:D=>w(D).replace("PHP",""),tick:{fontSize:12},stroke:Hr.muted}),i.jsx(Fi,{formatter:D=>[w(D),"Revenue"],contentStyle:{backgroundColor:Hr.background,border:`1px solid ${Hr.muted}40`,borderRadius:"8px"}}),i.jsx(Ld,{type:"monotone",dataKey:"revenue",stroke:Hr.accent,strokeWidth:2,fill:"url(#revenueGradient)"})]})})})]}),"            ",i.jsxs("div",{className:"bg-white rounded-lg border p-6",style:{borderColor:Hr.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:Hr.primary},children:"Monthly Revenue Trend"}),i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Last 12 Months"})]}),i.jsx("div",{className:"h-64",children:i.jsx(Ul,{width:"100%",height:"100%",children:i.jsxs(OV,{data:j(),children:[i.jsx(If,{strokeDasharray:"3 3",stroke:Hr.muted+"30"}),i.jsx(Ao,{dataKey:"month",tick:{fontSize:12},stroke:Hr.muted}),i.jsx(rl,{tickFormatter:D=>w(D).replace("PHP",""),tick:{fontSize:12},stroke:Hr.muted}),i.jsx(Fi,{formatter:(D,F)=>[F==="revenue"?w(D):D,F==="revenue"?"Revenue":"Orders"],labelFormatter:D=>`Month: ${D}`,contentStyle:{backgroundColor:Hr.background,border:`1px solid ${Hr.muted}40`,borderRadius:"8px"}}),i.jsx(wp,{type:"monotone",dataKey:"revenue",stroke:Hr.accent,strokeWidth:3,dot:{fill:Hr.accent,strokeWidth:2,r:4},activeDot:{r:6,stroke:Hr.accent,strokeWidth:2,fill:Hr.background}})]})})}),"              ",i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Avg Monthly"}),i.jsx("div",{className:"text-lg font-semibold",style:{color:Hr.primary},children:a.length>0?w(a.reduce((D,F)=>D+F.revenue,0)/a.length):w(0)})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Growth Trend"}),i.jsxs("div",{className:"text-lg font-semibold flex items-center justify-center gap-1",style:{color:Hr.accent},children:[i.jsx(Lb,{className:"w-4 h-4"}),a.length>=2?`${(((((T=a[a.length-1])==null?void 0:T.revenue)||0)-(((P=a[a.length-2])==null?void 0:P.revenue)||0))/(((U=a[a.length-2])==null?void 0:U.revenue)||1)*100).toFixed(1)}%`:"+0.0%"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border p-6",style:{borderColor:Hr.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:Hr.primary},children:"Order Sources"}),i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Channel Performance"})]}),i.jsx("div",{className:"space-y-3",children:_().map((D,F)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:N[F%N.length]}}),i.jsx("span",{className:"text-sm font-medium",style:{color:Hr.primary},children:D.name})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-bold",style:{color:Hr.primary},children:w(D.value)}),i.jsxs("div",{className:"text-xs",style:{color:Hr.muted},children:[D.percentage,"%"]})]})]},D.name))}),i.jsx("div",{className:"space-y-2 mt-4",children:_().map((D,F)=>i.jsx("div",{className:"w-full",children:i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:i.jsx("div",{className:"h-2 rounded-full transition-all duration-1000",style:{width:`${D.percentage}%`,backgroundColor:N[F%N.length]}})})},D.name))})]}),i.jsxs("div",{className:"bg-white rounded-lg border p-6",style:{borderColor:Hr.muted+"20"},children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",style:{color:Hr.primary},children:"Top Items"}),i.jsx("div",{className:"text-sm",style:{color:Hr.muted},children:"Best Sellers"})]}),i.jsxs("div",{className:"space-y-3",children:[r.topItems.slice(0,5).map((D,F)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",style:{backgroundColor:F<3?Hr.accent:Hr.muted},children:F+1}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",style:{color:Hr.primary},children:D.name}),i.jsxs("div",{className:"text-xs",style:{color:Hr.muted},children:[D.quantity," sold"]})]})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-bold text-sm",style:{color:Hr.primary},children:w(D.revenue)})})]},D.name)),"              "]})]})]})]}),"        ",i.jsx("div",{style:{position:"fixed",left:"-9999px",top:"0px",zIndex:"-1000",width:"800px",backgroundColor:"white",overflow:"hidden"},children:r&&i.jsx(eT,{ref:p,revenueData:r,selectedPeriod:e,reportDate:new Date})})]})},yke=()=>{const[e,t]=k.useState([]),[r,n]=k.useState(!0),[a,s]=k.useState(null),[o,l]=k.useState("all"),[u,A]=k.useState(""),[f,h]=k.useState(null),[p,g]=k.useState(!1),[v,x]=k.useState("all"),b=k.useRef(null),w=X0.useReactToPrint({content:()=>b.current});k.useEffect(()=>{(async()=>{try{n(!0);const P=await fetch("http://localhost:5000/api/orders");if(!P.ok)throw new Error("Failed to fetch orders");const U=await P.json();if(!U.success)throw new Error(U.message||"Error fetching orders");t(U.data.map(D=>({...D,createdAt:new Date(D.createdAt),completedAt:D.completedAt?new Date(D.completedAt):null})))}catch(P){s(P.message)}finally{n(!1)}})()},[]);const B=e.filter(T=>{const P=new Date(T.createdAt),U=new Date;U.setHours(0,0,0,0);const D=new Date;D.setDate(D.getDate()-7),D.setHours(0,0,0,0);const F=new Date;F.setMonth(F.getMonth()-1),F.setHours(0,0,0,0);let R=!0;o==="today"?R=P>=U:o==="week"?R=P>=D:o==="month"&&(R=P>=F);const Q=v==="all"||T.paymentMethod===v,H=u===""||T.receiptNumber.toLowerCase().includes(u.toLowerCase())||T.items.some(J=>J.name.toLowerCase().includes(u.toLowerCase()))||T.customerName&&T.customerName.toLowerCase().includes(u.toLowerCase());return R&&Q&&H}).sort((T,P)=>P.createdAt-T.createdAt),j=T=>new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(T),_=T=>T?T.toLocaleDateString("en-PH",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",N=T=>{h(T),setTimeout(()=>{w()},100)},O=T=>{const P=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),U=URL.createObjectURL(P),D=document.createElement("a");D.href=U,D.download=`receipt-${T.receiptNumber}.json`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(U)};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading..."}):a?i.jsxs("div",{className:"text-red-600",children:["Error: ",a]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>g(!p),className:"px-4 py-2 rounded-lg flex items-center gap-2 bg-gray-100 text-gray-700",children:[i.jsx(fp,{}),"Filter by Date",i.jsx(dA,{})]}),p&&i.jsx("div",{className:"absolute top-full mt-1 bg-white border rounded-lg shadow-lg z-10 w-48",children:i.jsx("div",{className:"p-2 space-y-1",children:["all","today","week","month"].map(T=>i.jsx("button",{onClick:()=>{l(T),g(!1)},className:`px-3 py-2 rounded-lg w-full text-left ${o===T?"bg-orange-500 text-white":"hover:bg-gray-100"}`,children:T==="all"?"All Time":T==="today"?"Today":T==="week"?"This Week":"This Month"},T))})})]}),i.jsxs("div",{className:"flex gap-2",children:["          ",i.jsxs("select",{value:v,onChange:T=>x(T.target.value),className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 border-none",children:[i.jsx("option",{value:"all",children:"All Payment Methods"}),i.jsx("option",{value:"cash",children:"Cash"}),i.jsx("option",{value:"e-wallet",children:"E-Wallet"})]})]}),i.jsxs("div",{className:"flex-1 relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(_m,{className:"text-gray-400"})}),i.jsx("input",{type:"text",value:u,onChange:T=>A(T.target.value),placeholder:"Search by receipt number, item, or customer name...",className:"pl-10 px-4 py-2 rounded-lg bg-gray-100 w-full"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsxs("thead",{children:["              ",i.jsxs("tr",{style:{backgroundColor:le.colors.activeBg},children:[i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Receipt #"}),"                ",i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Date"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Customer"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Items"}),i.jsx("th",{className:"text-right p-4",style:{color:le.colors.primary},children:"Total"}),i.jsx("th",{className:"text-left p-4",style:{color:le.colors.primary},children:"Payment"}),i.jsx("th",{className:"text-center p-4",style:{color:le.colors.primary},children:"Actions"})]})]}),i.jsxs("tbody",{children:["              ",B.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"text-center p-8",style:{color:le.colors.muted},children:"No receipts found matching your filters."})}):B.map(T=>i.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",style:{borderColor:le.colors.muted+"20"},onClick:()=>h(T),children:[i.jsx("td",{className:"p-4",style:{color:le.colors.primary},children:T.receiptNumber}),i.jsx("td",{className:"p-4",style:{color:le.colors.secondary},children:_(T.createdAt)}),i.jsx("td",{className:"p-4",style:{color:le.colors.primary},children:T.customerName||i.jsx("span",{style:{color:le.colors.muted,fontStyle:"italic"},children:"No name"})}),i.jsxs("td",{className:"p-4",style:{color:le.colors.primary},children:[T.items.length," ",T.items.length===1?"item":"items",i.jsxs("span",{className:"block text-xs",style:{color:le.colors.muted},children:[T.items.map(P=>P.name).slice(0,2).join(", "),T.items.length>2?", ...":""]})]}),"                    ",i.jsx("td",{className:"p-4 text-right",style:{color:le.colors.primary},children:j(T.totals.total)}),i.jsx("td",{className:"p-4 capitalize",style:{color:le.colors.secondary},children:T.paymentMethod}),i.jsx("td",{className:"p-4",children:i.jsxs("div",{className:"flex justify-center gap-2",children:[i.jsx("button",{onClick:P=>{P.stopPropagation(),N(T)},className:"p-2 rounded-full hover:bg-gray-100",title:"Print Receipt",children:i.jsx(Fy,{style:{color:le.colors.primary}})}),i.jsx("button",{onClick:P=>{P.stopPropagation(),O(T)},className:"p-2 rounded-full hover:bg-gray-100",title:"Download Receipt Data",children:i.jsx(Oy,{style:{color:le.colors.accent}})})]})})]},T._id))]})]})})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold",style:{color:le.colors.primary},children:["Receipt #",f.receiptNumber]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:w,className:"p-2 rounded-full hover:bg-gray-100",title:"Print Receipt",children:i.jsx(Fy,{style:{color:le.colors.primary}})}),i.jsx("button",{onClick:()=>O(f),className:"p-2 rounded-full hover:bg-gray-100",title:"Download Receipt Data",children:i.jsx(Oy,{style:{color:le.colors.accent}})}),i.jsx("button",{onClick:()=>h(null),className:"p-2 rounded-full hover:bg-gray-100",children:""})]})]}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsx(C0,{ref:b,order:{items:f.items,receiptNumber:f.receiptNumber,customerName:f.customerName},totals:{...f.totals,customerName:f.customerName},paymentMethod:f.paymentMethod})}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 rounded-lg font-medium",style:{backgroundColor:le.colors.accent,color:"white"},children:"Close"})})]})})}),i.jsx("div",{className:"hidden",children:f&&i.jsx(C0,{ref:b,order:{items:f.items,receiptNumber:f.receiptNumber,customerName:f.customerName},totals:{...f.totals,customerName:f.customerName},paymentMethod:f.paymentMethod})})]})},C7=()=>{Ud();const[e,t]=k.useState("revenue"),r=()=>e==="revenue"?"Revenue Reports":"Receipt History";return i.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 ml-0 md:ml-20 pt-16 md:pt-4 transition-all duration-300",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-primary",children:r()}),i.jsxs("div",{className:"flex mt-4 md:mt-0",children:[i.jsx("button",{onClick:()=>t("revenue"),className:`px-6 py-2 rounded-tl-lg rounded-bl-lg font-medium ${e==="revenue"?`bg-${le.colors.primary} text-white`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:e==="revenue"?{backgroundColor:le.colors.primary}:{},children:"Revenue"}),i.jsx("button",{onClick:()=>t("receipts"),className:`px-6 py-2 rounded-tr-lg rounded-br-lg font-medium ${e==="receipts"?`bg-${le.colors.primary} text-white`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,style:e==="receipts"?{backgroundColor:le.colors.primary}:{},children:"Receipts"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow",children:e==="revenue"?i.jsx(gke,{}):i.jsx(yke,{})})]})})},vke=({staffId:e,onClose:t})=>{const[r,n]=k.useState(null),[a,s]=k.useState(!0),[o,l]=k.useState(null),[u,A]=k.useState(null),[f,h]=k.useState(""),p={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"};k.useEffect(()=>{g();const B=setInterval(g,6e4);return()=>clearInterval(B)},[]);const g=()=>{const B=new Date,j=B.getHours()%12||12,_=String(B.getMinutes()).padStart(2,"0"),N=B.getHours()>=12?"PM":"AM";h(`${j}:${_} ${N}`)};k.useEffect(()=>{e&&(async()=>{var j,_;try{const N=e.includes("user")?`/api/staff/${e}`:`/api/staff/user/${e}`;console.log("Fetching staff data from:",N);const T={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},P=await vr.get(N,T),U=P.data.data||P.data;n(U),await v(U._id),l(null)}catch(N){console.error("Staff fetching error:",N),l(((_=(j=N.response)==null?void 0:j.data)==null?void 0:_.message)||"Failed to fetch staff data")}finally{s(!1)}})()},[e]);const v=async B=>{var j;try{const _=new Date;_.setHours(0,0,0,0);const N=new URLSearchParams({startDate:_.toISOString(),endDate:new Date().toISOString()}).toString(),T={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},{data:P}=await vr.get(`/api/time-logs/staff/${B}?${N}`,T);if(((j=P==null?void 0:P.data)==null?void 0:j.length)>0){const U=b(P.data[0].timestamp||P.data[0].createdAt);A({...P.data[0],formattedTimestamp:U})}else A(null)}catch(_){console.error("Error fetching time logs:",_)}},x=async B=>{var j,_;if(!(r!=null&&r._id)){rr.error("Staff data not available");return}s(!0);try{const O={headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}},{data:T}=await vr.post(`/api/time-logs/${B==="in"?"clock-in":"clock-out"}`,{userId:r.userId},O);if(!T.success)throw new Error(`Failed to clock ${B}`);const P=b(T.data.timestamp||T.data.createdAt);A({...T.data,formattedTimestamp:P}),await v(r._id),rr.success(`Clock ${B} recorded successfully`),g()}catch(N){console.error("Time logging error:",N),rr.error(((_=(j=N.response)==null?void 0:j.data)==null?void 0:_.message)||N.message)}finally{s(!1)}},b=B=>{if(!B)return"N/A";try{const j=new Date(B);return isNaN(j.getTime())?(console.error("Invalid date string received:",B),new Date().toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})):j.toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch(j){return console.error("Date formatting error:",j,"for date string:",B),"Invalid Date"}},w=u&&u.type==="clockIn";return i.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[i.jsx(Uk,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),i.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md m-4",style:{border:`1px solid ${p.muted}`},children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold",style:{color:p.primary},children:[i.jsx(Es,{className:"inline-block mr-2"}),"Time Clock"]}),i.jsx("button",{onClick:t,className:"p-1 hover:opacity-70",style:{color:p.muted},children:i.jsx(wi,{size:24})})]}),a&&i.jsx("div",{className:"text-center py-6",children:i.jsx("div",{className:"animate-pulse text-lg",style:{color:p.muted},children:"Processing..."})}),o&&i.jsxs("div",{className:"text-center py-4",children:[i.jsx(km,{size:40,className:"mx-auto mb-2 text-red-500"}),i.jsx("p",{className:"text-red-600 mb-4",children:o}),i.jsx("button",{onClick:t,className:"px-4 py-2 rounded",style:{backgroundColor:p.primary,color:p.background},children:"Close"})]}),!a&&!o&&r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-lg font-medium",style:{color:p.primary},children:r.name}),i.jsx("p",{className:"text-sm",style:{color:p.muted},children:r.position})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 rounded text-center",style:{backgroundColor:p.primary+"10"},children:[i.jsx("p",{className:"text-sm font-medium mb-1",style:{color:p.muted},children:"Current Time"}),i.jsx("p",{className:"text-2xl font-bold",style:{color:p.primary},children:f})]}),i.jsxs("div",{className:"p-4 rounded flex flex-col items-center justify-center gap-2",style:{backgroundColor:w?p.accent+"20":p.secondary+"10"},children:[i.jsx("div",{className:"flex items-center justify-center gap-2",children:w?i.jsxs(i.Fragment,{children:[i.jsx(_y,{size:20,style:{color:p.accent}}),i.jsx("p",{className:"text-sm font-medium",style:{color:p.accent},children:"You are currently clocked in"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Es,{size:20,style:{color:p.secondary}}),i.jsx("p",{className:"text-sm font-medium",style:{color:p.secondary},children:u?"You are clocked out":"Not clocked in today"})]})}),w&&u&&i.jsxs("div",{className:"w-full text-center mt-2 pt-2 border-t",style:{borderColor:p.accent+"50"},children:[i.jsx("p",{className:"text-xs",style:{color:p.muted},children:"Clocked in at:"}),i.jsx("p",{className:"text-sm font-medium",style:{color:p.accent},children:u.formattedTimestamp||b(u.timestamp||u.createdAt)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("button",{onClick:()=>x("in"),disabled:a||w,className:"py-3 px-6 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:p.accent,color:p.background},children:"Clock In"}),i.jsx("button",{onClick:()=>x("out"),disabled:a||!w,className:"py-3 px-6 rounded-lg font-medium transition-opacity hover:opacity-90 disabled:opacity-50",style:{backgroundColor:p.secondary,color:p.background},children:"Clock Out"})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t",style:{borderColor:p.muted},children:[i.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-1",style:{color:p.primary},children:[i.jsx(G9,{size:14}),"Recent Activity"]}),u?i.jsx("div",{className:"p-3 rounded text-sm",style:{backgroundColor:p.muted+"15"},children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{style:{color:p.secondary},children:u.type==="clockIn"?"Clock In":"Clock Out"}),i.jsx("span",{style:{color:p.muted},children:u.formattedTimestamp||b(u.timestamp||u.createdAt)})]})}):i.jsx("p",{className:"text-sm text-center",style:{color:p.muted},children:"No recent activity"})]})]})]})]})})]})},Mg={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b"},xke=()=>{const e=Jf(),t=r=>{e(r)};return i.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:Mg.background},children:[i.jsxs("div",{className:"text-center py-6 px-4",style:{backgroundColor:Mg.primary},children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx(e$,{size:28,className:"mr-3 text-white"}),i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mobile Services"})]}),i.jsx("p",{className:"text-gray-200 text-sm",children:"Choose your service"})]}),i.jsx("div",{className:"flex-1 px-4 py-8",children:i.jsxs("div",{className:"max-w-sm mx-auto space-y-6",children:[i.jsx("div",{onClick:()=>t("/self-checkout"),className:"rounded-2xl shadow-lg cursor-pointer transform active:scale-95 transition-all duration-200 overflow-hidden",style:{backgroundColor:Mg.accent},children:i.jsxs("div",{className:"p-6 text-center text-white",children:[i.jsx("div",{className:"mb-4",children:i.jsx(Aie,{size:48,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Self Checkout"}),i.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Order by yourself, no waiting"}),i.jsx("div",{className:"text-xs opacity-80",children:"Browse  Order  Pay  Go"})]})}),i.jsx("div",{onClick:()=>t("/chatbot"),className:"rounded-2xl shadow-lg cursor-pointer transform active:scale-95 transition-all duration-200 overflow-hidden",style:{backgroundColor:Mg.secondary},children:i.jsxs("div",{className:"p-6 text-center text-white",children:[i.jsx("div",{className:"mb-4",children:i.jsx(sie,{size:48,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-bold mb-2",children:"AI Assistant"}),i.jsx("p",{className:"text-sm opacity-90 mb-4",children:"Chat for help & recommendations"}),i.jsx("div",{className:"text-xs opacity-80",children:"Ask  Get Help  Order  Done"})]})})]})}),i.jsx("div",{className:"text-center py-4 px-4",children:i.jsx("p",{className:"text-xs",style:{color:Mg.muted},children:"Tap any service to get started"})})]})},bke=()=>(Ud(),i.jsx("div",{className:"min-h-screen p-4 sm:p-6 lg:p-8 ml-0 md:ml-20 pt-16 md:pt-4 transition-all duration-300",style:{backgroundColor:Ze.background},children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",style:{color:le.colors.primary},children:"Payment Verification"}),i.jsx("p",{className:"text-sm mt-2",style:{color:le.colors.muted},children:"Verify GCash and PayMaya payment proofs for takeout and delivery orders"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow",children:i.jsx(VV,{})})]})})),J1="http://localhost:5000",wke=12e4;console.log("API URL configured as:",J1);const oW=vr.create({baseURL:J1,timeout:3e4,headers:{"Content-Type":"application/json"}});oW.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));oW.interceptors.response.use(e=>e,e=>{var t,r;return e.response&&e.response.status===401&&(r=(t=e.response.data)==null?void 0:t.message)!=null&&r.includes("expired")?(localStorage.removeItem("authToken"),localStorage.removeItem("userData"),window.location.href="/login",Promise.reject(new Error("Your session has expired. Please log in again."))):Promise.reject(e)});const Cke=async()=>{var e;try{console.log("Checking API health with URL:",`${J1}/api/health`);const t=await vr.get(`${J1}/api/health`,{timeout:5e3,headers:{"Content-Type":"application/json"}});return console.log("Health check response:",t.data),((e=t.data)==null?void 0:e.status)==="ok"}catch(t){return console.error("API health check failed:",t.message),!1}},Bke=e=>{let t=!0,r=0;const n=3,a=async()=>{const o=await Cke();t&&!o?(r++,r>=n&&(e(!1),t=!1,console.log(`Server marked as unhealthy after ${r} consecutive failures`))):!t&&o?(e(!0),t=!0,r=0,console.log("Server connection restored")):o&&(r=0)};a();const s=setInterval(a,wke);return()=>clearInterval(s)},jke=k.createContext(),lW=({children:e})=>{const[t,r]=k.useState(!1),[n,a]=k.useState(""),[s,o]=k.useState("ring"),[l,u]=k.useState("lg"),A=k.useCallback((v="",x="ring",b="lg")=>{a(v),o(x),u(b),r(!0)},[]),f=k.useCallback(()=>{r(!1),setTimeout(()=>{a("")},300)},[]),h=k.useCallback(v=>{a(v)},[]),p=k.useCallback(async(v,x="Loading...",b="ring")=>{A(x,b);try{return await v()}finally{f()}},[A,f]),g={loading:t,loadingMessage:n,showLoading:A,hideLoading:f,updateLoadingMessage:h,withLoading:p};return i.jsxs(jke.Provider,{value:g,children:[e,i.jsx(Ss,{children:t&&i.jsx(I0,{fullScreen:!0,overlay:!0,message:n,variant:s,size:l})})]})};lW.propTypes={children:ar.node.isRequired};const Cr="http://localhost:5000",mc={CONNECTED:"connected",DISCONNECTED:"disconnected",RECONNECTING:"reconnecting"},Ske=({status:e})=>{if(e===mc.CONNECTED)return null;const t={[mc.DISCONNECTED]:"bg-red-500",[mc.RECONNECTING]:"bg-yellow-500"},r={[mc.DISCONNECTED]:"Disconnected from server",[mc.RECONNECTING]:"Reconnecting..."};return i.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-2 rounded-lg text-white ${t[e]}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx("span",{className:"inline-block w-2 h-2 mr-2 rounded-full bg-white animate-pulse"}),r[e]]})})},cW=({children:e})=>{const t=localStorage.getItem("authToken");Jf();const[r,n]=k.useState(mc.CONNECTED),[a,s]=k.useState(0),[o,l]=k.useState(!0),[u,A]=k.useState(!1);return k.useEffect(()=>{(async()=>{if(!t){l(!1);return}try{const h=await vr.get(`${Cr}/api/health/protected`,{headers:{Authorization:`Bearer ${t}`}});h.data&&h.data.success?A(!0):(localStorage.removeItem("authToken"),localStorage.removeItem("userData"))}catch(h){console.error("Token validation failed:",h),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}finally{l(!1)}})()},[t]),k.useEffect(()=>{const h=Bke(p=>{p?r!==mc.CONNECTED&&(rr.success("Connection restored!"),n(mc.CONNECTED),s(0)):r===mc.CONNECTED?(rr.error("Connection lost. Attempting to reconnect..."),n(mc.RECONNECTING)):(s(g=>g+1),a>=5&&(n(mc.DISCONNECTED),rr.error("Server unreachable. Please check your connection.")))});return()=>{h()}},[r,a]),k.useEffect(()=>{const f=setInterval(()=>{},9e5);return()=>clearInterval(f)},[]),o?i.jsx(s$,{message:"Verifying authentication...",showLogo:!1,variant:"minimal"}):!t||!u?i.jsx(am,{to:"/login",replace:!0}):i.jsxs(i.Fragment,{children:[e,i.jsx(Ske,{status:r})]})},cc=({requiredPositions:e,children:t})=>{const r=JSON.parse(localStorage.getItem("userData")||'{"position":"cashier"}'),n=(r==null?void 0:r.position)||"cashier";return e&&!e.includes(n)?(rr.error("You don't have permission to access this feature"),n==="cashier"?i.jsx(am,{to:"/pos",replace:!0}):n==="inventory"?i.jsx(am,{to:"/inventory",replace:!0}):["shift_manager","general_manager","admin"].includes(n)?i.jsx(am,{to:"/dashboard",replace:!0}):i.jsx(am,{to:"/pos",replace:!0})):i.jsx(i.Fragment,{children:t})},Nke=()=>{const[e,t]=k.useState(!1),[r,n]=k.useState(null),[a,s]=k.useState(!1),{isMobile:o,above:l}=aT();k.useEffect(()=>{const f=localStorage.getItem("userData");f&&n(JSON.parse(f))},[]);const u=(f,h)=>{s(f)},A=()=>o?"0":l("tablet")?"6rem":"4rem";return i.jsx(cW,{children:i.jsxs("div",{className:"flex min-h-screen",children:[i.jsx(P4e,{colors:Zg,onTimeClockClick:()=>t(!0),onSidebarToggle:u}),"        ",i.jsxs("div",{className:"flex-1 transition-all duration-300 ease-in-out",style:{marginLeft:A()},children:[e&&i.jsx(vke,{onClose:()=>t(!1)}),i.jsx(fX,{}),i.jsx(Uk,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})]})})},Zg={primary:"#2e0304",background:"#fefdfd",accent:"#f1670f",secondary:"#853619",muted:"#ac9c9b",activeBg:"#f1670f20",activeBorder:"#f1670f",hoverBg:"#f1670f10"};function Eke(){return i.jsx(lW,{children:i.jsx(MX,{children:i.jsxs(mX,{children:[i.jsx(_i,{path:"/",element:i.jsx(M6,{})}),i.jsx(_i,{path:"/login",element:i.jsx(M6,{})}),i.jsx(_i,{path:"/mobile",element:i.jsx(xke,{})}),i.jsx(_i,{path:"/self-checkout",element:i.jsx(ake,{})}),i.jsx(_i,{path:"/chatbot",element:i.jsx(cW,{children:i.jsx(uwe,{})})}),i.jsxs(_i,{element:i.jsx(Nke,{}),children:["          ",i.jsx(_i,{path:"/dashboard",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(rwe,{colors:Zg})})}),i.jsx(_i,{path:"/pos",element:i.jsx(cc,{requiredPositions:["cashier","shift_manager","general_manager","admin"],children:i.jsx(UEe,{})})}),i.jsx(_i,{path:"/orders",element:i.jsx(cc,{requiredPositions:["cashier","shift_manager","general_manager","admin"],children:i.jsx(O4e,{})})}),i.jsx(_i,{path:"/payment-verification",element:i.jsx(cc,{requiredPositions:["cashier","shift_manager","general_manager","admin"],children:i.jsx(bke,{})})}),i.jsx(_i,{path:"/timeclock",element:i.jsx(pke,{})}),i.jsx(_i,{path:"/inventory",element:i.jsx(cc,{requiredPositions:["inventory","shift_manager","general_manager","admin"],children:i.jsx(T4e,{})})}),i.jsx(_i,{path:"/menu",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(uEe,{colors:Zg})})}),i.jsx(_i,{path:"/employees",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(Ake,{colors:Zg})})}),i.jsx(_i,{path:"/payroll",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(cke,{})})}),i.jsx(_i,{path:"/expenses",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(dEe,{colors:Zg})})}),i.jsx(_i,{path:"/revenue-reports",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(C7,{})})}),i.jsx(_i,{path:"/reports",element:i.jsx(cc,{requiredPositions:["shift_manager","general_manager","admin"],children:i.jsx(C7,{})})})]}),i.jsx(_i,{path:"*",element:i.jsx(am,{to:"/login"})})]})})})}wY.createRoot(document.getElementById("root")).render(i.jsx(Eke,{}));export{oa as _,cd as c,ta as g};
